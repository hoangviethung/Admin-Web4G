"use strict";var previewNode=document.querySelector("#template-preview"),previewTemplate=previewNode.innerHTML;previewNode.parentNode.removeChild(previewNode);var myDropzone=new Dropzone(".upload-file",{url:"http://192.168.1.106/file-upload",previewTemplate:previewTemplate,parallelUploads:100,uploadMultiple:!0,previewsContainer:".upload-file #list-image-preview",clickable:".upload-file .upload-image-wrapper"});myDropzone.on("sendingmultiple",(function(e,t,o){o.append("folder","/Upload/Banner")})),myDropzone.on("successmultiple",(function(e,t){var o=Array.from(document.querySelectorAll("#list-image-preview .file-item")),l=document.getElementById("list-image");o.forEach((function(e,o){e.querySelector(".name").innerHTML=t[o].name,e.querySelector(".url").value=t[o].url,e.querySelector(".btn-delete").setAttribute("onclick","deleteImage(this,'".concat(t[o].url,"')")),e.querySelector(".btn-copy-url").addEventListener("click",(function(){var t=e.querySelector(".btn-copy-url").previousSibling;t.select(),t.focus(),t.setSelectionRange(0,99999),document.execCommand("copy")})),e.classList.remove("dz-processing","dz-image-preview","dz-success","dz-complete"),l.append(e)}))}));var btnCopy=Array.from(document.querySelectorAll(".file-item .btn-copy-url"));function deleteImage(e,t){$.ajax({url:"http://192.168.1.106/delete-image",data:{url:t},type:"post",beforeSend:function(){$(e).attr("disabled","disabled")},success:function(t){200===t.Code?$(e).parents(".file-item").remove():console.log(t.Message)},complete:function(){$(e).removeAttr("disabled")}})}function uploadFile(){var e=document.querySelector("#template");if(e){var t=e.parentNode.innerHTML;o.parentNode.removeChild(e);var l=new Dropzone(".upload-file",{url:"/upload",thumbnailWidth:80,thumbnailHeight:80,parallelUploads:20,previewTemplate:t,autoQueue:!1,previewsContainer:"#previews",clickable:".fileinput-button"});i.on("addedfile",(function(e){e.previewElement.querySelector(".start").onclick=function(){l.enqueueFile(e)}})),l.on("totaluploadprogress",(function(e){document.querySelector("#total-progress .progress-bar").style.width=e+"%"})),l.on("sending",(function(e){document.querySelector("#total-progress").style.opacity="1",e.previewElement.querySelector(".start").setAttribute("disabled","disabled")})),l.on("queuecomplete",(function(e){document.querySelector("#total-progress").style.opacity="0"})),document.querySelector("#actions .start").onclick=function(){l.enqueueFiles(i.getFilesWithStatus(Dropzone.ADDED))},document.querySelector("#actions .cancel").onclick=function(){l.removeAllFiles(!0)}}}btnCopy.forEach((function(e){e.addEventListener("click",(function(){var t=e.previousSibling;t.select(),t.focus(),t.setSelectionRange(0,99999),document.execCommand("copy")}))})),document.addEventListener("DOMContentLoaded",(function(){uploadFile()}));
//# sourceMappingURL=drop-zone.min.js.map
