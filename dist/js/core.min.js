function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(j,e){"use strict";function g(e){return null!=e&&e===e.window}var t=[],S=j.document,r=Object.getPrototypeOf,a=t.slice,m=t.concat,l=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,s=v.toString,c=s.call(Object),y={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},u={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||S).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var d="3.4.1",k=function(e,t){return new k.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function h(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!b(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:d,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||b(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,s[t]=k.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},k.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&s.call(n)===c)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(h(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(h(Object(e))?k.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!=s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(h(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return m.apply([],s)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){function d(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function i(){C()}var e,h,w,o,s,p,f,g,x,l,c,C,j,a,S,m,u,v,y,k="sizzle"+ +new Date,b=n.document,O=0,r=0,_=le(),T=le(),E=le(),P=le(),D=function(e,t){return e===t&&(c=!0),0},A={}.hasOwnProperty,t=[],M=t.pop,L=t.push,N=t.push,I=t.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},$="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",V="\\["+R+"*("+z+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+R+"*\\]",H=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",B=new RegExp(R+"+","g"),U=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),q=new RegExp("^"+R+"*,"+R+"*"),W=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),G=new RegExp(R+"|>"),Y=new RegExp(H),K=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+$+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=ye(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(t=I.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){N={apply:t.length?function(e,t){L.apply(e,I.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(t,e,n,r){var i,o,s,a,l,c,u,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!r&&((e?e.ownerDocument||e:b)!==j&&C(e),e=e||j,S)){if(11!==f&&(l=te.exec(t)))if(i=l[1]){if(9===f){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(d&&(s=d.getElementById(i))&&y(e,s)&&s.id===i)return n.push(s),n}else{if(l[2])return N.apply(n,e.getElementsByTagName(t)),n;if((i=l[3])&&h.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(i)),n}if(h.qsa&&!P[t+" "]&&(!m||!m.test(t))&&(1!==f||"object"!==e.nodeName.toLowerCase())){if(u=t,d=e,1===f&&G.test(t)){for((a=e.getAttribute("id"))?a=a.replace(ie,oe):e.setAttribute("id",a=k),o=(c=p(t)).length;o--;)c[o]="#"+a+" "+ve(c[o]);u=c.join(","),d=ne.test(t)&&ge(e.parentNode)||e}try{return N.apply(n,d.querySelectorAll(u)),n}catch(e){P(t,!0)}finally{a===k&&e.removeAttribute("id")}}}return g(t.replace(U,"$1"),e,n,r)}function le(){var n=[];function r(e,t){return n.push(e+" ")>w.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function ce(e){return e[k]=!0,e}function ue(e){var t=j.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&se(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pe(s){return ce(function(o){return o=+o,ce(function(e,t){for(var n,r=s([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=ae.support={},s=ae.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},C=ae.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:b;return r!==j&&9===r.nodeType&&r.documentElement&&(a=(j=r).documentElement,S=!s(j),b!==j&&(n=j.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),h.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=ue(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=ee.test(j.getElementsByClassName),h.getById=ue(function(e){return a.appendChild(e).id=k,!j.getElementsByName||!j.getElementsByName(k).length}),h.getById?(w.filter.ID=function(e){var t=e.replace(re,d);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var n=e.replace(re,d);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},u=[],m=[],(h.qsa=ee.test(j.querySelectorAll))&&(ue(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+$+")"),e.querySelectorAll("[id~="+k+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||m.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=j.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(h.matchesSelector=ee.test(v=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){h.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),u.push("!=",H)}),m=m.length&&new RegExp(m.join("|")),u=u.length&&new RegExp(u.join("|")),t=ee.test(a.compareDocumentPosition),y=t||ee.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===j||e.ownerDocument===b&&y(b,e)?-1:t===j||t.ownerDocument===b&&y(b,t)?1:l?F(l,e)-F(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e===j?-1:t===j?1:i?-1:o?1:l?F(l,e)-F(l,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?fe(s[r],a[r]):s[r]===b?-1:a[r]===b?1:0}),j},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==j&&C(e),h.matchesSelector&&S&&!P[t+" "]&&(!u||!u.test(t))&&(!m||!m.test(t)))try{var n=v.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){P(t,!0)}return 0<ae(t,j,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!==j&&C(e),y(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==j&&C(e);var n=w.attrHandle[t.toLowerCase()],r=n&&A.call(w.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==r?r:h.attributes||!S?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ae.escape=function(e){return(e+"").replace(ie,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!h.detectDuplicates,l=!h.sortStable&&e.slice(0),e.sort(D),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return l=null,e},o=ae.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(w=ae.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,d),e[3]=(e[3]||e[4]||e[5]||"").replace(re,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=ae.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,e,t,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,s,a,l,c=v!=y?"nextSibling":"previousSibling",u=e.parentNode,d=b&&e.nodeName.toLowerCase(),f=!n&&!b,h=!1;if(u){if(v){for(;c;){for(s=e;s=s[c];)if(b?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&f){for(h=(a=(r=(i=(o=(s=u)[k]||(s[k]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===O&&r[1])&&r[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(h=a=0)||l.pop();)if(1===s.nodeType&&++h&&s===e){i[p]=[O,a,h];break}}else if(f&&(h=a=(r=(i=(o=(s=e)[k]||(s[k]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===O&&r[1]),!1===h)for(;(s=++a&&s&&s[c]||(h=a=0)||l.pop())&&((b?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++h||(f&&((i=(o=s[k]||(s[k]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[O,h]),s!==e)););return(h-=m)===g||h%g==0&&0<=h/g}}},PSEUDO:function(e,o){var t,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return s[k]?s(o):1<s.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=s(e,o),i=r.length;i--;)e[n=F(e,r[i])]=!(t[n]=r[i])}):function(e){return s(e,0,t)}):s}},pseudos:{not:ce(function(e){var r=[],i=[],a=f(e.replace(U,"$1"));return a[k]?ce(function(e,t,n,r){for(var i,o=a(e,null,r,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,t,n){return r[0]=e,a(r,null,n,i),r[0]=null,!i.pop()}}),has:ce(function(t){return function(e){return 0<ae(t,e).length}}),contains:ce(function(t){return t=t.replace(re,d),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:ce(function(n){return K.test(n||"")||ae.error("unsupported lang: "+n),n=n.replace(re,d).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(a,e,t){var l=e.dir,c=e.next,u=c||l,d=t&&"parentNode"===u,f=r++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||d)return a(e,t,n);return!1}:function(e,t,n){var r,i,o,s=[O,f];if(n){for(;e=e[l];)if((1===e.nodeType||d)&&a(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||d)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[l]||e;else{if((r=i[u])&&r[0]===O&&r[1]===f)return s[2]=r[2];if((i[u]=s)[2]=a(e,t,n))return!0}return!1}}function be(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function we(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function xe(h,p,g,m,v,e){return m&&!m[k]&&(m=xe(m)),v&&!v[k]&&(v=xe(v,e)),ce(function(e,t,n,r){var i,o,s,a=[],l=[],c=t.length,u=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!h||!e&&p?u:we(u,a,h,n,r),f=g?v||(e?h:c||m)?[]:t:d;if(g&&g(d,f,n,r),m)for(i=we(f,l),m(i,[],n,r),o=i.length;o--;)(s=i[o])&&(f[l[o]]=!(d[l[o]]=s));if(e){if(v||h){if(v){for(i=[],o=f.length;o--;)(s=f[o])&&i.push(d[o]=s);v(null,f=[],i,r)}for(o=f.length;o--;)(s=f[o])&&-1<(i=v?F(e,s):a[o])&&(e[i]=!(t[i]=s))}}else f=we(f===t?f.splice(c,f.length):f),v?v(null,t,f,r):N.apply(t,f)})}function Ce(m,v){function e(e,t,n,r,i){var o,s,a,l=0,c="0",u=e&&[],d=[],f=x,h=e||b&&w.find.TAG("*",i),p=O+=null==f?1:Math.random()||.1,g=h.length;for(i&&(x=t===j||t||i);c!==g&&null!=(o=h[c]);c++){if(b&&o){for(s=0,t||o.ownerDocument===j||(C(o),n=!S);a=m[s++];)if(a(o,t||j,n)){r.push(o);break}i&&(O=p)}y&&((o=!a&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(s=0;a=v[s++];)a(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=M.call(r));d=we(d)}N.apply(r,d),i&&!e&&0<d.length&&1<l+v.length&&ae.uniqueSort(r)}return i&&(O=p,x=f),u}var y=0<v.length,b=0<m.length;return y?ce(e):e}return me.prototype=w.filters=w.pseudos,w.setFilters=new me,p=ae.tokenize=function(e,t){var n,r,i,o,s,a,l,c=T[e+" "];if(c)return t?0:c.slice(0);for(s=e,a=[],l=w.preFilter;s;){for(o in n&&!(r=q.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(i=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(U," ")}),s=s.slice(n.length)),w.filter)!(r=X[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):T(e,a).slice(0)},f=ae.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){for(n=(t=t||p(e)).length;n--;)(o=function e(t){for(var i,n,r,o=t.length,s=w.relative[t[0].type],a=s||w.relative[" "],l=s?1:0,c=ye(function(e){return e===i},a,!0),u=ye(function(e){return-1<F(i,e)},a,!0),d=[function(e,t,n){var r=!s&&(n||t!==x)||((i=t).nodeType?c:u)(e,t,n);return i=null,r}];l<o;l++)if(n=w.relative[t[l].type])d=[ye(be(d),n)];else{if((n=w.filter[t[l].type].apply(null,t[l].matches))[k]){for(r=++l;r<o&&!w.relative[t[r].type];r++);return xe(1<l&&be(d),1<l&&ve(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(U,"$1"),n,l<r&&e(t.slice(l,r)),r<o&&e(t=t.slice(r)),r<o&&ve(t))}d.push(n)}return be(d)}(t[n]))[k]?r.push(o):i.push(o);(o=E(e,Ce(i,r))).selector=e}return o},g=ae.select=function(e,t,n,r){var i,o,s,a,l,c="function"==typeof e&&e,u=!r&&p(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&S&&w.relative[o[1].type]){if(!(t=(w.find.ID(s.matches[0].replace(re,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=X.needsContext.test(e)?0:o.length;i--&&(s=o[i],!w.relative[a=s.type]);)if((l=w.find[a])&&(r=l(s.matches[0].replace(re,d),ne.test(o[0].type)&&ge(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&ve(o)))return N.apply(n,r),n;break}}return(c||f(e,u))(r,t,!S,n,!t||ne.test(e)&&ge(t.parentNode)||t),n},h.sortStable=k.split("").sort(D).join("")===k,h.detectDuplicates=!!c,C(),h.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(j.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de($,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ae}(j);k.find=p,k.expr=p.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=p.uniqueSort,k.text=p.getText,k.isXMLDoc=p.isXML,k.contains=p.contains,k.escapeSelector=p.escape;function C(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r}function O(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var _=k.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(e,n,r){return b(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&_.test(e)?k(e):e||[],!1).length}});var D,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:A.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),E.test(r[1])&&k.isPlainObject(t))for(r in t)b(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=S.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=k.fn,D=k(S);var M=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&k(e);if(!_.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return O((e.parentNode||{}).firstChild,e)},children:function(e){return O(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(T(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(L[r]||k.uniqueSort(n),M.test(r)&&n.reverse()),this.pushStack(n)}});var I=/[^\x20\t\r\n\f]+/g;function F(e){return e}function $(e){throw e}function R(e,t,n,r){var i;try{e&&b(i=e.promise)?i.call(e).done(t).fail(n):e&&b(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(I)||[],function(e,t){n[t]=!0}),n):k.extend({},r);function i(){for(a=a||r.once,s=o=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&r.stopOnFalse&&(u=l.length,t=!1);r.memory||(t=!1),o=!1,a&&(l=t?[]:"")}var o,t,s,a,l=[],c=[],u=-1,d={add:function(){return l&&(t&&!o&&(u=l.length-1,c.push(t)),function n(e){k.each(e,function(e,t){b(t)?r.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!o&&i()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<k.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return a=c=[],t||o||(l=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),o||i()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=b(i[t[4]])&&i[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var l=0;function c(i,o,s,a){return function(){function e(){var e,t;if(!(i<l)){if((e=s.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?a?t.call(e,c(l,o,F,a),c(l,o,$,a)):(l++,t.call(e,c(l,o,F,a),c(l,o,$,a),c(l,o,F,o.notifyWith))):(s!==F&&(n=void 0,r=[e]),(a||o.resolveWith)(n,r))}}var n=this,r=arguments,t=a?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),l<=i+1&&(s!==$&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),j.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(c(0,e,b(r)?r:F,e.notifyWith)),o[1][3].add(c(0,e,b(t)?t:F)),o[2][3].add(c(0,e,b(n)?n:$))}).promise()},promise:function(e){return null!=e?k.extend(e,s):s}},a={};return k.each(o,function(e,t){var n=t[2],r=t[5];s[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){i[t]=this,o[t]=1<arguments.length?a.call(arguments):e,--n||s.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=a.call(arguments),s=k.Deferred();if(n<=1&&(R(e,s.done(t(r)).resolve,s.reject,!n),"pending"===s.state()||b(o[r]&&o[r].then)))return s.then();for(;r--;)R(o[r],t(r),s.reject);return s.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){j.console&&j.console.warn&&e&&z.test(e.name)&&j.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){j.setTimeout(function(){throw e})};var V=k.Deferred();function H(){S.removeEventListener("DOMContentLoaded",H),j.removeEventListener("load",H),k.ready()}k.fn.ready=function(e){return V.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||V.resolveWith(S,[k])}}),k.ready.then=V.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?j.setTimeout(k.ready):(S.addEventListener("DOMContentLoaded",H),j.addEventListener("load",H));var B=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===x(n))for(a in i=!0,n)B(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,b(r)||(s=!0),c&&(t=s?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(k(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},U=/^-ms-/,q=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function G(e){return e.replace(U,"ms-").replace(q,W)}function Y(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function K(){this.expando=k.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(I)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!k.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var X=new K,Q=new K,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:Z.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Q.hasData(e)||X.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;return o&&void 0===e?void 0!==(t=Q.get(o,n))||void 0!==(t=ee(o,n))?t:void 0:void this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=Q.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&0===(r=s[t].name).indexOf("data-")&&(r=G(r.slice(5)),ee(o,r,i[r]));X.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:k.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||o.resolveWith(s,[s])}var r,i=1,o=k.Deferred(),s=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=X.get(s[a],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=S.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},se={composed:!0};ie.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});function ae(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i}var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")};function ce(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=a(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&ne.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)k.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var ue={};function de(e,t){for(var n,r,i,o,s,a,l,c=[],u=0,d=e.length;u<d;u++)(r=e[u]).style&&(n=r.style.display,t?("none"===n&&(c[u]=X.get(r,"display")||null,c[u]||(r.style.display="")),""===r.style.display&&le(r)&&(c[u]=(l=s=o=void 0,s=(i=r).ownerDocument,a=i.nodeName,(l=ue[a])||(o=s.body.appendChild(s.createElement(a)),l=k.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),ue[a]=l)))):"none"!==n&&(c[u]="none",X.set(r,"display",n)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}k.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){le(this)?k(this).show():k(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&T(e,t)?k.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var ye,be,we=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,s,a,l,c,u,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===x(o))k.merge(f,o.nodeType?[o]:o);else if(we.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(he.exec(o)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,s.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;k.merge(f,s.childNodes),(s=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",h=0;o=f[h++];)if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(c=oe(o),s=me(d.appendChild(o),"script"),c&&ve(s),n)for(u=0;o=s[u++];)pe.test(o.type||"")&&n.push(o);return d}ye=S.createDocumentFragment().appendChild(S.createElement("div")),(be=S.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ye.appendChild(be),y.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var Ce=/^key/,je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Oe(){return!1}function _e(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Oe;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return k().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function Ee(e,i,o){o?(X.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=X.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),X.set(this,i,r),t=o(this,i),this[i](),r!==(n=X.get(this,i))||t?X.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(X.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,i)&&k.event.add(e,i,ke)}k.event={global:{},add:function(t,e,n,r,i){var o,s,a,l,c,u,d,f,h,p,g,m=X.get(t);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(I)||[""]).length;c--;)h=g=(a=Se.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),h&&(d=k.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=k.event.special[h]||{},u=k.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=l[h])||((f=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,r,p,s)||t.addEventListener&&t.addEventListener(h,s)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),k.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,d,f,h,p,g,m=X.hasData(e)&&X.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(I)||[""]).length;c--;)if(h=g=(a=Se.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),h){for(d=k.event.special[h]||{},f=l[h=(r?d.delegateType:d.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)u=f[o],!i&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||k.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)k.event.remove(e,h+t[c],n,r,!0);k.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=k.event.fix(e),l=new Array(arguments.length),c=(X.get(this,"events")||{})[a.type]||[],u=k.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=k.event.handlers.call(this,a,c),t=0;(i=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?-1<k(i,this).index(c):k.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Ee(t,"click",ke),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&T(t,"input")&&X.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ce.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return Ee(this,e,_e),!1},trigger:function(){return Ee(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each(function(){k.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,s,a,l,c;if(1===t.nodeType){if(X.hasData(e)&&(o=X.access(e),s=X.set(t,o),c=o.events))for(i in delete s.handle,s.events={},c)for(n=0,r=c[i].length;n<r;n++)k.event.add(t,i,c[i][n]);Q.hasData(e)&&(a=Q.access(e),l=k.extend({},a),Q.set(t,l))}}function $e(n,r,i,o){r=m.apply([],r);var e,t,s,a,l,c,u=0,d=n.length,f=d-1,h=r[0],p=b(h);if(p||1<d&&"string"==typeof h&&!y.checkClone&&Ae.test(h))return n.each(function(e){var t=n.eq(e);p&&(r[0]=h.call(this,e,t.html())),$e(t,r,i,o)});if(d&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(a=(s=k.map(me(e,"script"),Ne)).length;u<d;u++)l=e,u!==f&&(l=k.clone(l,!0,!0),a&&k.merge(s,me(l,"script"))),i.call(n[u],l,u);if(a)for(c=s[s.length-1].ownerDocument,k.map(s,Ie),u=0;u<a;u++)l=s[u],pe.test(l.type||"")&&!X.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):w(l.textContent.replace(Me,""),l,c))}return n}function Re(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(me(r)),r.parentNode&&(n&&oe(r)&&ve(me(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a,l,c,u=e.cloneNode(!0),d=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(s=me(u),r=0,i=(o=me(e)).length;r<i;r++)a=o[r],l=s[r],"input"===(c=l.nodeName.toLowerCase())&&fe.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||me(e),s=s||me(u),r=0,i=o.length;r<i;r++)Fe(o[r],s[r]);else Fe(e,u);return 0<(s=me(u,"script")).length&&ve(s,!d&&me(e,"script")),u},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return B(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Le(this,e)).insertBefore(e,t.firstChild)})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!ge[(he.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(me(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[s](t),l.apply(n,t.get());return this.pushStack(n)}});var ze,Ve,He,Be,Ue,qe,We,Ge=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=j),t.getComputedStyle(e)},Ke=new RegExp(re.join("|"),"i");function Xe(){var e;We&&(qe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",We.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(qe).appendChild(We),e=j.getComputedStyle(We),ze="1%"!==e.top,Ue=12===Qe(e.marginLeft),We.style.right="60%",Be=36===Qe(e.right),Ve=36===Qe(e.width),We.style.position="absolute",He=12===Qe(We.offsetWidth/3),ie.removeChild(qe),We=null)}function Qe(e){return Math.round(parseFloat(e))}function Ze(e,t,n){var r,i,o,s,a=e.style;return(n=n||Ye(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||oe(e)||(s=k.style(e,t)),!y.pixelBoxStyles()&&Ge.test(s)&&Ke.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}qe=S.createElement("div"),(We=S.createElement("div")).style&&(We.style.backgroundClip="content-box",We.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===We.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return Xe(),Ve},pixelBoxStyles:function(){return Xe(),Be},pixelPosition:function(){return Xe(),ze},reliableMarginLeft:function(){return Xe(),Ue},scrollboxSize:function(){return Xe(),He}}));var et=["Webkit","Moz","ms"],tt=S.createElement("div").style,nt={};function rt(e){var t=k.cssProps[e]||nt[e];return t||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,ot=/^--/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=k.css(e,n+re[s],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+re[s],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+re[s]+"Width",!0,i))):(l+=k.css(e,"padding"+re[s],!0,i),"padding"!==n?l+=k.css(e,"border"+re[s]+"Width",!0,i):a+=k.css(e,"border"+re[s]+"Width",!0,i));return!r&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function ut(e,t,n){var r=Ye(e),i=(!y.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,s=Ze(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(s)){if(!n)return s;s="auto"}return(!y.boxSizingReliable()&&i||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ct(e,t,n||(i?"border":"content"),o,r,s)+"px"}function dt(e,t,n,r,i){return new dt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=G(t),l=ot.test(t),c=e.style;if(l||(t=rt(a)),s=k.cssHooks[t]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=ce(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(k.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=G(t);return ot.test(t)||(t=rt(a)),(s=k.cssHooks[t]||k.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Ze(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,l){k.cssHooks[l]={get:function(e,t,n){if(t)return!it.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,l,n):ae(e,st,function(){return ut(e,l,n)})},set:function(e,t,n){var r,i=Ye(e),o=!y.scrollboxSize()&&"absolute"===i.position,s=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,i),a=n?ct(e,l,n,s,i):0;return s&&o&&(a-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(i[l])-ct(e,l,"border",!1,i)-.5)),a&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[l]=t,t=k.css(e,l)),lt(0,t,a)}}}),k.cssHooks.marginLeft=Je(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=lt)}),k.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Ye(e),i=t.length;s<i;s++)o[t[s]]=k.css(e,t[s],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),(k.Tween=dt).prototype={constructor:dt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=dt.propHooks[this.prop];return e&&e.get?e.get(this):dt.propHooks._default.get(this)},run:function(e){var t,n=dt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):dt.propHooks._default.set(this),this}},dt.prototype.init.prototype=dt.prototype,dt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},dt.propHooks.scrollTop=dt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=dt.prototype.init,k.fx.step={};var ft,ht,pt,gt,mt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;function yt(){ht&&(!1===S.hidden&&j.requestAnimationFrame?j.requestAnimationFrame(yt):j.setTimeout(yt,k.fx.interval),k.fx.tick())}function bt(){return j.setTimeout(function(){ft=void 0}),ft=Date.now()}function wt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function xt(e,t,n){for(var r,i=(Ct.tweeners[t]||[]).concat(Ct.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function Ct(o,e,t){var n,s,r=0,i=Ct.prefilters.length,a=k.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=ft||bt(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return a.notifyWith(o,[c,n,t]),n<1&&i?t:(i||a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:ft||bt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)c.tweens[t].run(1);return e?(a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c,e])):a.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=G(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=k.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);r<i;r++)if(n=Ct.prefilters[r].call(c,o,u,c.opts))return b(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(u,xt,c),b(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(Ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=b(e)?(t=e,["*"]):e.match(I)).length;r<i;r++)n=e[r],Ct.tweeners[n]=Ct.tweeners[n]||[],Ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u,d="width"in t||"height"in t,f=this,h={},p=e.style,g=e.nodeType&&le(e),m=X.get(e,"fxshow");for(r in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()})})),t)if(i=t[r],mt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}h[r]=m&&m[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(h))for(r in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=X.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=k.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(f.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&de([e],!0),f.done(function(){for(r in g||de([e]),X.remove(e,"fxshow"),h)k.style(e,r,h[r])})),l=xt(g?m[r]:0,r,f),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?Ct.prefilters.unshift(e):Ct.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=Ct(this,k.extend({},t),s);(o||X.get(this,"finish"))&&e.stop(!0)}var o=k.isEmptyObject(t),s=k.speed(e,n,r);return i.finish=i,o||!1===s.queue?this.each(i):this.queue(s.queue,i)},stop:function(i,e,o){function s(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=X.get(this);if(t)r[t]&&r[t].stop&&s(r[t]);else for(t in r)r[t]&&r[t].stop&&vt.test(t)&&s(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=X.get(this),n=t[s+"queue"],r=t[s+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===s&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(wt(r,!0),e,t,n)}}),k.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(ft=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),ft=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ht||(ht=!0,yt())},k.fx.stop=function(){ht=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=j.setTimeout(e,r);t.stop=function(){j.clearTimeout(n)}})},pt=S.createElement("input"),gt=S.createElement("select").appendChild(S.createElement("option")),pt.type="checkbox",y.checkOn=""!==pt.value,y.optSelected=gt.selected,(pt=S.createElement("input")).value="t",pt.type="radio",y.radioValue="t"===pt.value;var jt,St=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return B(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?jt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(I);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),jt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var s=St[t]||k.find.attr;St[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=St[o],St[o]=r,r=null!=s(e,t,n)?o:null,St[o]=i),r}});var kt=/^(?:input|select|textarea|button)$/i,Ot=/^(?:a|area)$/i;function _t(e){return(e.match(I)||[]).join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}k.fn.extend({prop:function(e,t){return B(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,l=0;if(b(t))return this.each(function(e){k(this).addClass(t.call(this,e,Tt(this)))});if((e=Et(t)).length)for(;n=this[l++];)if(i=Tt(n),r=1===n.nodeType&&" "+_t(i)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=_t(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,l=0;if(b(t))return this.each(function(e){k(this).removeClass(t.call(this,e,Tt(this)))});if(!arguments.length)return this.attr("class","");if((e=Et(t)).length)for(;n=this[l++];)if(i=Tt(n),r=1===n.nodeType&&" "+_t(i)+" "){for(s=0;o=e[s++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(a=_t(r))&&n.setAttribute("class",a)}return this},toggleClass:function(i,t){var o=typeof i,s="string"==o||Array.isArray(i);return"boolean"==typeof t&&s?t?this.addClass(i):this.removeClass(i):b(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,Tt(this),t),t)}):this.each(function(){var e,t,n,r;if(s)for(t=0,n=k(this),r=Et(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=o||((e=Tt(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==i&&X.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+_t(Tt(t))+" ").indexOf(r))return!0;return!1}});var Pt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=b(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Pt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:_t(k.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type,s=o?null:[],a=o?i+1:r.length,l=i<0?a:o?i:0;l<a;l++)if(((n=r[l]).selected||l===i)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=k(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),s=i.length;s--;)((r=i[s]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in j;function Dt(e){e.stopPropagation()}var At=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(e,t,n,r){var i,o,s,a,l,c,u,d=[n||S],f=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[],p=u=o=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!At.test(f+k.event.triggered)&&(-1<f.indexOf(".")&&(f=(h=f.split(".")).shift(),h.sort()),a=f.indexOf(":")<0&&"on"+f,(e=e[k.expando]?e:new k.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!g(n)){for(s=c.delegateType||f,At.test(s+f)||(p=p.parentNode);p;p=p.parentNode)d.push(p),o=p;o===(n.ownerDocument||S)&&d.push(o.defaultView||o.parentWindow||j)}for(i=0;(p=d[i++])&&!e.isPropagationStopped();)u=p,e.type=1<i?s:c.bindType||f,(l=(X.get(p,"events")||{})[e.type]&&X.get(p,"handle"))&&l.apply(p,t),(l=a&&p[a])&&l.apply&&Y(p)&&(e.result=l.apply(p,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!Y(n)||a&&b(n[f])&&!g(n)&&((o=n[a])&&(n[a]=null),k.event.triggered=f,e.isPropagationStopped()&&u.addEventListener(f,Dt),n[f](),e.isPropagationStopped()&&u.removeEventListener(f,Dt),k.event.triggered=void 0,o&&(n[a]=o)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){k.event.simulate(r,e.target,k.event.fix(e))}k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=X.access(e,r);t||e.addEventListener(n,i,!0),X.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=X.access(e,r)-1;t?X.access(e,r,t):(e.removeEventListener(n,i,!0),X.remove(e,r))}}});var Mt=j.location,Lt=Date.now(),Nt=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new j.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var It=/\[\]$/,Ft=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;k.param=function(e,t){function n(e,t){var n=b(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var r,i=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,i,o){var t;if(Array.isArray(e))k.each(e,function(e,t){i||It.test(r)?o(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,o)});else if(i||"object"!==x(e))o(r,e);else for(t in e)n(r+"["+t+"]",e[t],i,o)}(r,e[r],t,n);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Rt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Ft,"\r\n")}}):{name:t.name,value:n.replace(Ft,"\r\n")}}).get()}});var zt=/%20/g,Vt=/#.*$/,Ht=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,qt=/^\/\//,Wt={},Gt={},Yt="*/".concat("*"),Kt=S.createElement("a");function Xt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(I)||[];if(b(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Qt(t,i,o,s){var a={},l=t===Gt;function c(e){var r;return a[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,s);return"string"!=typeof n||l||a[n]?l?!(r=n):void 0:(i.dataTypes.unshift(n),c(n),!1)}),r}return c(i.dataTypes[0])||!a["*"]&&c("*")}function Zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&k.extend(!0,e,r),e}Kt.href=Mt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,k.ajaxSettings),t):Zt(k.ajaxSettings,e)},ajaxPrefilter:Xt(Wt),ajaxTransport:Xt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,d,f,n,h,r,p,g,i,o,m=k.ajaxSetup({},t),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?k(v):k.event,b=k.Deferred(),w=k.Callbacks("once memory"),x=m.statusCode||{},s={},a={},l="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=Bt.exec(f);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return p?f:null},setRequestHeader:function(e,t){return null==p&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==p&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||l;return u&&u.abort(t),c(0,t),this}};if(b.promise(C),m.url=((e||m.url||Mt.href)+"").replace(qt,Mt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(I)||[""],null==m.crossDomain){r=S.createElement("a");try{r.href=m.url,r.href,m.crossDomain=Kt.protocol+"//"+Kt.host!=r.protocol+"//"+r.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=k.param(m.data,m.traditional)),Qt(Wt,m,t,C),p)return C;for(i in(g=k.event&&m.global)&&0==k.active++&&k.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ut.test(m.type),d=m.url.replace(Vt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(zt,"+")):(o=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(Nt.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Ht,"$1"),o=(Nt.test(d)?"&":"?")+"_="+Lt+++o),m.url=d+o),m.ifModified&&(k.lastModified[d]&&C.setRequestHeader("If-Modified-Since",k.lastModified[d]),k.etag[d]&&C.setRequestHeader("If-None-Match",k.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Yt+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(v,C,m)||p))return C.abort();if(l="abort",w.add(m.complete),C.done(m.success),C.fail(m.error),u=Qt(Gt,m,t,C)){if(C.readyState=1,g&&y.trigger("ajaxSend",[C,m]),p)return C;m.async&&0<m.timeout&&(h=j.setTimeout(function(){C.abort("timeout")},m.timeout));try{p=!1,u.send(s,c)}catch(e){if(p)throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,n,r){var i,o,s,a,l,c=t;p||(p=!0,h&&j.clearTimeout(h),u=void 0,f=r||"",C.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s=s||i}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(m,C,n)),a=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(m,a,C,i),i?(m.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(k.lastModified[d]=l),(l=C.getResponseHeader("etag"))&&(k.etag[d]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=a.state,o=a.data,i=!(s=a.error))):(s=c,!e&&c||(c="error",e<0&&(e=0))),C.status=e,C.statusText=(t||c)+"",i?b.resolveWith(v,[o,c,C]):b.rejectWith(v,[C,c,s]),C.statusCode(x),x=void 0,g&&y.trigger(i?"ajaxSuccess":"ajaxError",[C,m,i?o:s]),w.fireWith(v,[C,c]),g&&(y.trigger("ajaxComplete",[C,m]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return b(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=b(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new j.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},en=k.ajaxSettings.xhr();y.cors=!!en&&"withCredentials"in en,y.ajax=en=!!en,k.ajaxTransport(function(i){var o,s;if(y.cors||en&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Jt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&j.setTimeout(function(){o&&s()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(r[0])},abort:function(){i&&i()}}});var tn,nn=[],rn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nn.pop()||k.expando+"_"+Lt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,s=!1!==e.jsonp&&(rn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(rn,"$1"+r):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=j[r],j[r]=function(){o=arguments},n.always(function(){void 0===i?k(j).removeProp(r):j[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,nn.push(r)),o&&b(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((tn=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(r)):t=S),o=!n&&[],(i=E.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return-1<a&&(r=_t(e.slice(a)),e=e.slice(0,a)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<s.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=k.css(e,"position"),u=k(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=k.css(e,"top"),l=k.css(e,"left"),i=("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(r=u.position()).top,r.left):(s=parseFloat(o)||0,parseFloat(l)||0),b(t)&&(t=t.call(e,n,k.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+i),"using"in t?t.using.call(e,d):u.css(d)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ie})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return B(this,function(e,t,n){var r;return g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Je(y.pixelPosition,function(e,t){if(t)return t=Ze(e,n),Ge.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(s,a){k.each({padding:"inner"+s,content:a,"":"outer"+s},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return g(e)?0===o.indexOf("outer")?e["inner"+s]:e.document.documentElement["client"+s]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+s],r["scroll"+s],e.body["offset"+s],r["offset"+s],r["client"+s])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},a,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=T,k.isFunction=b,k.isWindow=g,k.camelCase=G,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var on=j.jQuery,sn=j.$;return k.noConflict=function(e){return j.$===k&&(j.$=sn),e&&j.jQuery===k&&(j.jQuery=on),k},e||(j.jQuery=j.$=k),k}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t((e=e||self).bootstrap={},e.jQuery)}(this,function(e,p){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n,r;t=i,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;var n="transitionend";function i(e){var t=this,n=!1;return p(this).one(g.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||g.triggerTransitionEnd(t)},e),this}var g={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t,n=e.getAttribute("data-target");n&&"#"!==n||(n=(t=e.getAttribute("href"))&&"#"!==t?t.trim():"");try{return document.querySelector(n)?n:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=p(e).css("transition-duration"),n=p(e).css("transition-delay"),r=parseFloat(t),i=parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){p(e).trigger(n)},supportsTransitionEnd:function(){return Boolean(n)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r],o=t[r],s=o&&g.isElement(o)?"element":null==(a=o)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(s))throw new Error(e.toUpperCase()+': Option "'+r+'" provided type "'+s+'" but expected type "'+i+'".')}var a},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?g.findShadowRoot(e.parentNode):null;var t=e.getRootNode();return t instanceof ShadowRoot?t:null},jQueryDetection:function(){if(void 0===p)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=p.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};g.jQueryDetection(),p.fn.emulateTransitionEnd=i,p.event.special[g.TRANSITION_END]={bindType:n,delegateType:n,handle:function(e){if(p(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var o="alert",a="bs.alert",c=p.fn[o],u=function(){function r(e){this._element=e}var e=r.prototype;return e.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},e.dispose=function(){p.removeData(this._element,a),this._element=null},e._getRootElement=function(e){var t=g.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n=n||p(e).closest(".alert")[0]},e._triggerCloseEvent=function(e){var t=p.Event("close.bs.alert");return p(e).trigger(t),t},e._removeElement=function(t){var e,n=this;p(t).removeClass("show"),p(t).hasClass("fade")?(e=g.getTransitionDurationFromElement(t),p(t).one(g.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(e)):this._destroyElement(t)},e._destroyElement=function(e){p(e).detach().trigger("closed.bs.alert").remove()},r._jQueryInterface=function(n){return this.each(function(){var e=p(this),t=e.data(a);t||(t=new r(this),e.data(a,t)),"close"===n&&t[n](this)})},r._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},s(r,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),r}();p(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',u._handleDismiss(new u)),p.fn[o]=u._jQueryInterface,p.fn[o].Constructor=u,p.fn[o].noConflict=function(){return p.fn[o]=c,u._jQueryInterface};var d="button",f="bs.button",h=p.fn[d],m="active",v='[data-toggle^="button"]',y='input:not([type="hidden"])',b=function(){function n(e){this._element=e}var e=n.prototype;return e.toggle=function(){var e,t,n=!0,r=!0,i=p(this._element).closest('[data-toggle="buttons"]')[0];!i||(e=this._element.querySelector(y))&&("radio"===e.type&&(e.checked&&this._element.classList.contains(m)?n=!1:(t=i.querySelector(".active"))&&p(t).removeClass(m)),n&&("checkbox"!==e.type&&"radio"!==e.type||(e.checked=!this._element.classList.contains(m)),p(e).trigger("change")),e.focus(),r=!1),this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(r&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(m)),n&&p(this._element).toggleClass(m))},e.dispose=function(){p.removeData(this._element,f),this._element=null},n._jQueryInterface=function(t){return this.each(function(){var e=p(this).data(f);e||(e=new n(this),p(this).data(f,e)),"toggle"===t&&e[t]()})},s(n,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),n}();p(document).on("click.bs.button.data-api",v,function(e){var t=e.target,n=t;if(p(t).hasClass("btn")||(t=p(t).closest(".btn")[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var r=t.querySelector(y);if(r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void e.preventDefault();"LABEL"===n.tagName&&r&&"checkbox"===r.type&&e.preventDefault(),b._jQueryInterface.call(p(t),"toggle")}}).on("focus.bs.button.data-api blur.bs.button.data-api",v,function(e){var t=p(e.target).closest(".btn")[0];p(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),p(window).on("load.bs.button.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,n=e.length;t<n;t++){var r=e[t],i=r.querySelector(y);i.checked||i.hasAttribute("checked")?r.classList.add(m):r.classList.remove(m)}for(var o=0,s=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<s;o++){var a=e[o];"true"===a.getAttribute("aria-pressed")?a.classList.add(m):a.classList.remove(m)}}),p.fn[d]=b._jQueryInterface,p.fn[d].Constructor=b,p.fn[d].noConflict=function(){return p.fn[d]=h,b._jQueryInterface};var w="carousel",x="bs.carousel",C="."+x,j=p.fn[w],S={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},k={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},O="next",_="prev",T="slid"+C,E="active",P=".active.carousel-item",D={TOUCH:"touch",PEN:"pen"},A=function(){function o(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=o.prototype;return e.next=function(){this._isSliding||this._slide(O)},e.nextWhenVisible=function(){!document.hidden&&p(this._element).is(":visible")&&"hidden"!==p(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(_)},e.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(g.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(e){var t=this;this._activeElement=this._element.querySelector(P);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)p(this._element).one(T,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();var r=n<e?O:_;this._slide(r,this._items[e])}},e.dispose=function(){p(this._element).off(C),p.removeData(this._element,x),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(e){return e=l(l({},S),e),g.typeCheckConfig(w,e,k),e},e._handleSwipe=function(){var e,t=Math.abs(this.touchDeltaX);t<=40||(e=t/this.touchDeltaX,(this.touchDeltaX=0)<e&&this.prev(),e<0&&this.next())},e._addEventListeners=function(){var t=this;this._config.keyboard&&p(this._element).on("keydown.bs.carousel",function(e){return t._keydown(e)}),"hover"===this._config.pause&&p(this._element).on("mouseenter.bs.carousel",function(e){return t.pause(e)}).on("mouseleave.bs.carousel",function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var e,t,n=this;this._touchSupported&&(e=function(e){n._pointerEvent&&D[e.originalEvent.pointerType.toUpperCase()]?n.touchStartX=e.originalEvent.clientX:n._pointerEvent||(n.touchStartX=e.originalEvent.touches[0].clientX)},t=function(e){n._pointerEvent&&D[e.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=e.originalEvent.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(e){return n.cycle(e)},500+n._config.interval))},p(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(e){return e.preventDefault()}),this._pointerEvent?(p(this._element).on("pointerdown.bs.carousel",e),p(this._element).on("pointerup.bs.carousel",t),this._element.classList.add("pointer-event")):(p(this._element).on("touchstart.bs.carousel",e),p(this._element).on("touchmove.bs.carousel",function(e){var t;(t=e).originalEvent.touches&&1<t.originalEvent.touches.length?n.touchDeltaX=0:n.touchDeltaX=t.originalEvent.touches[0].clientX-n.touchStartX}),p(this._element).on("touchend.bs.carousel",t)))},e._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},e._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},e._getItemByDirection=function(e,t){var n=e===O,r=e===_,i=this._getItemIndex(t),o=this._items.length-1;if((r&&0===i||n&&i===o)&&!this._config.wrap)return t;var s=(i+(e===_?-1:1))%this._items.length;return-1==s?this._items[this._items.length-1]:this._items[s]},e._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),r=this._getItemIndex(this._element.querySelector(P)),i=p.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:r,to:n});return p(this._element).trigger(i),i},e._setActiveIndicatorElement=function(e){var t,n;this._indicatorsElement&&(t=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),p(t).removeClass(E),(n=this._indicatorsElement.children[this._getItemIndex(e)])&&p(n).addClass(E))},e._slide=function(e,t){var n,r,i,o,s,a=this,l=this._element.querySelector(P),c=this._getItemIndex(l),u=t||l&&this._getItemByDirection(e,l),d=this._getItemIndex(u),f=Boolean(this._interval),h=e===O?(n="carousel-item-left",r="carousel-item-next","left"):(n="carousel-item-right",r="carousel-item-prev","right");u&&p(u).hasClass(E)?this._isSliding=!1:this._triggerSlideEvent(u,h).isDefaultPrevented()||l&&u&&(this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(u),i=p.Event(T,{relatedTarget:u,direction:h,from:c,to:d}),p(this._element).hasClass("slide")?(p(u).addClass(r),g.reflow(u),p(l).addClass(n),p(u).addClass(n),(o=parseInt(u.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=o):this._config.interval=this._config.defaultInterval||this._config.interval,s=g.getTransitionDurationFromElement(l),p(l).one(g.TRANSITION_END,function(){p(u).removeClass(n+" "+r).addClass(E),p(l).removeClass(E+" "+r+" "+n),a._isSliding=!1,setTimeout(function(){return p(a._element).trigger(i)},0)}).emulateTransitionEnd(s)):(p(l).removeClass(E),p(u).addClass(E),this._isSliding=!1,p(this._element).trigger(i)),f&&this.cycle())},o._jQueryInterface=function(r){return this.each(function(){var e=p(this).data(x),t=l(l({},S),p(this).data());"object"==typeof r&&(t=l(l({},t),r));var n="string"==typeof r?r:t.slide;if(e||(e=new o(this,t),p(this).data(x,e)),"number"==typeof r)e.to(r);else if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}else t.interval&&t.ride&&(e.pause(),e.cycle())})},o._dataApiClickHandler=function(e){var t,n,r,i=g.getSelectorFromElement(this);!i||(t=p(i)[0])&&p(t).hasClass("carousel")&&(n=l(l({},p(t).data()),p(this).data()),(r=this.getAttribute("data-slide-to"))&&(n.interval=!1),o._jQueryInterface.call(p(t),n),r&&p(t).data(x).to(r),e.preventDefault())},s(o,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return S}}]),o}();p(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",A._dataApiClickHandler),p(window).on("load.bs.carousel.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,n=e.length;t<n;t++){var r=p(e[t]);A._jQueryInterface.call(r,r.data())}}),p.fn[w]=A._jQueryInterface,p.fn[w].Constructor=A,p.fn[w].noConflict=function(){return p.fn[w]=j,A._jQueryInterface};var M="collapse",L="bs.collapse",N=p.fn[M],I={toggle:!0,parent:""},F={toggle:"boolean",parent:"(string|element)"},$="show",R="collapse",z="collapsing",V="collapsed",H='[data-toggle="collapse"]',B=function(){function a(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(H)),r=0,i=n.length;r<i;r++){var o=n[r],s=g.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&0<a.length&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=a.prototype;return e.toggle=function(){p(this._element).hasClass($)?this.hide():this.show()},e.show=function(){var e,t,n,r,i,o,s=this;this._isTransitioning||p(this._element).hasClass($)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return"string"==typeof s._config.parent?e.getAttribute("data-parent")===s._config.parent:e.classList.contains(R)})).length&&(e=null),e&&(t=p(e).not(this._selector).data(L))&&t._isTransitioning||(n=p.Event("show.bs.collapse"),p(this._element).trigger(n),n.isDefaultPrevented()||(e&&(a._jQueryInterface.call(p(e).not(this._selector),"hide"),t||p(e).data(L,null)),r=this._getDimension(),p(this._element).removeClass(R).addClass(z),this._element.style[r]=0,this._triggerArray.length&&p(this._triggerArray).removeClass(V).attr("aria-expanded",!0),this.setTransitioning(!0),i="scroll"+(r[0].toUpperCase()+r.slice(1)),o=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,function(){p(s._element).removeClass(z).addClass(R+" "+$),s._element.style[r]="",s.setTransitioning(!1),p(s._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(o),this._element.style[r]=this._element[i]+"px")))},e.hide=function(){var e=this;if(!this._isTransitioning&&p(this._element).hasClass($)){var t=p.Event("hide.bs.collapse");if(p(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",g.reflow(this._element),p(this._element).addClass(z).removeClass(R+" "+$);var r=this._triggerArray.length;if(0<r)for(var i=0;i<r;i++){var o=this._triggerArray[i],s=g.getSelectorFromElement(o);null!==s&&(p([].slice.call(document.querySelectorAll(s))).hasClass($)||p(o).addClass(V).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[n]="";var a=g.getTransitionDurationFromElement(this._element);p(this._element).one(g.TRANSITION_END,function(){e.setTransitioning(!1),p(e._element).removeClass(z).addClass(R).trigger("hidden.bs.collapse")}).emulateTransitionEnd(a)}}},e.setTransitioning=function(e){this._isTransitioning=e},e.dispose=function(){p.removeData(this._element,L),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(e){return(e=l(l({},I),e)).toggle=Boolean(e.toggle),g.typeCheckConfig(M,e,F),e},e._getDimension=function(){return p(this._element).hasClass("width")?"width":"height"},e._getParent=function(){var e,n=this;g.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var t='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(e.querySelectorAll(t));return p(r).each(function(e,t){n._addAriaAndCollapsedClass(a._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function(e,t){var n=p(e).hasClass($);t.length&&p(t).toggleClass(V,!n).attr("aria-expanded",n)},a._getTargetFromElement=function(e){var t=g.getSelectorFromElement(e);return t?document.querySelector(t):null},a._jQueryInterface=function(r){return this.each(function(){var e=p(this),t=e.data(L),n=l(l(l({},I),e.data()),"object"==typeof r&&r?r:{});if(!t&&n.toggle&&"string"==typeof r&&/show|hide/.test(r)&&(n.toggle=!1),t||(t=new a(this,n),e.data(L,t)),"string"==typeof r){if(void 0===t[r])throw new TypeError('No method named "'+r+'"');t[r]()}})},s(a,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return I}}]),a}();p(document).on("click.bs.collapse.data-api",H,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=p(this),t=g.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(t));p(r).each(function(){var e=p(this),t=e.data(L)?"toggle":n.data();B._jQueryInterface.call(e,t)})}),p.fn[M]=B._jQueryInterface,p.fn[M].Constructor=B,p.fn[M].noConflict=function(){return p.fn[M]=N,B._jQueryInterface};var U="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,q=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(U&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}();var W=U&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},q))}};function G(e){return e&&"[object Function]"==={}.toString.call(e)}function Y(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function K(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function X(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Y(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:X(K(e))}function Q(e){return e&&e.referenceNode?e.referenceNode:e}var Z=U&&!(!window.MSInputMethodContext||!document.documentMode),J=U&&/MSIE 10/.test(navigator.userAgent);function ee(e){return 11===e?Z:10!==e&&Z||J}function te(e){if(!e)return document.documentElement;for(var t=ee(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Y(n,"position")?te(n):n:e?e.ownerDocument.documentElement:document.documentElement}function ne(e){return null!==e.parentNode?ne(e.parentNode):e}function re(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(i))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&te(s.firstElementChild)!==s?te(l):l;var c=ne(e);return c.host?re(c.host,t):re(e,ne(t).host)}function ie(e,t){var n="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"!==r&&"HTML"!==r)return e[n];var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[n]}function oe(e,t){var n="x"===t?"Left":"Top",r="Left"==n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function se(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ee(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function ae(e){var t=e.body,n=e.documentElement,r=ee(10)&&getComputedStyle(n);return{height:se("Height",t,n,r),width:se("Width",t,n,r)}}var le=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ce=function(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),e};function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function he(e){return fe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function pe(e){var t,n,r={};try{ee(10)?(r=e.getBoundingClientRect(),t=ie(e,"top"),n=ie(e,"left"),r.top+=t,r.left+=n,r.bottom+=t,r.right+=n):r=e.getBoundingClientRect()}catch(e){}var i,o={left:r.left,top:r.top,width:r.right-r.left,height:r.bottom-r.top},s="HTML"===e.nodeName?ae(e.ownerDocument):{},a=s.width||e.clientWidth||o.width,l=s.height||e.clientHeight||o.height,c=e.offsetWidth-a,u=e.offsetHeight-l;return(c||u)&&(c-=oe(i=Y(e),"x"),u-=oe(i,"y"),o.width-=c,o.height-=u),he(o)}function ge(e,t,n){var r=2<arguments.length&&void 0!==n&&n,i=ee(10),o="HTML"===t.nodeName,s=pe(e),a=pe(t),l=X(e),c=Y(t),u=parseFloat(c.borderTopWidth,10),d=parseFloat(c.borderLeftWidth,10);r&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f,h,p=he({top:s.top-a.top-u,left:s.left-a.left-d,width:s.width,height:s.height});return p.marginTop=0,p.marginLeft=0,!i&&o&&(f=parseFloat(c.marginTop,10),h=parseFloat(c.marginLeft,10),p.top-=u-f,p.bottom-=u-f,p.left-=d-h,p.right-=d-h,p.marginTop=f,p.marginLeft=h),(i&&!r?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=function(e,t,n){var r=2<arguments.length&&void 0!==n&&n,i=ie(t,"top"),o=ie(t,"left"),s=r?-1:1;return e.top+=i*s,e.bottom+=i*s,e.left+=o*s,e.right+=o*s,e}(p,t)),p}function me(e){if(!e||!e.parentElement||ee())return document.documentElement;for(var t=e.parentElement;t&&"none"===Y(t,"transform");)t=t.parentElement;return t||document.documentElement}function ve(e,t,n,r,i){var o,s,a,l,c,u=4<arguments.length&&void 0!==i&&i,d={top:0,left:0},f=u?me(e):re(e,Q(t));"viewport"===r?d=function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=e.ownerDocument.documentElement,i=ge(e,r),o=Math.max(r.clientWidth,window.innerWidth||0),s=Math.max(r.clientHeight,window.innerHeight||0),a=n?0:ie(r),l=n?0:ie(r,"left");return he({top:a-i.top+i.marginTop,left:l-i.left+i.marginLeft,width:o,height:s})}(f,u):(o=void 0,"scrollParent"===r?"BODY"===(o=X(K(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===r?e.ownerDocument.documentElement:r,s=ge(o,f,u),"HTML"!==o.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===Y(t,"position"))return!0;var r=K(t);return!!r&&e(r)}(f)?d=s:(l=(a=ae(e.ownerDocument)).height,c=a.width,d.top+=s.top-s.marginTop,d.bottom=l+s.top,d.left+=s.left-s.marginLeft,d.right=c+s.left));var h="number"==typeof(n=n||0);return d.left+=h?n:n.left||0,d.top+=h?n:n.top||0,d.right-=h?n:n.right||0,d.bottom-=h?n:n.bottom||0,d}function ye(e,t,r,n,i,o){var s=5<arguments.length&&void 0!==o?o:0;if(-1===e.indexOf("auto"))return e;var a=ve(r,n,s,i),l={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(l).map(function(e){return fe({key:e},l[e],{area:(t=l[e]).width*t.height});var t}).sort(function(e,t){return t.area-e.area}),u=c.filter(function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight}),d=0<u.length?u[0].key:c[0].key,f=e.split("-")[1];return d+(f?"-"+f:"")}function be(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:null;return ge(n,i?me(t):re(t,Q(n)),i)}function we(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function xe(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function Ce(e,t,n){n=n.split("-")[0];var r=we(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=t[s]+t[l]/2-r[l]/2,i[a]=n===a?t[a]-r[c]:t[xe(a)],i}function je(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Se(e,n,t){return(void 0===t?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=je(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&G(t)&&(n.offsets.popper=he(n.offsets.popper),n.offsets.reference=he(n.offsets.reference),n=t(n,e))}),n}function ke(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function Oe(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function _e(e){var t=e.ownerDocument;return t?t.defaultView:window}function Te(e,t,n,r){n.updateBound=r,_e(e).addEventListener("resize",n.updateBound,{passive:!0});var i=X(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(n,r,{passive:!0}),o||e(X(s.parentNode),n,r,i),i.push(s)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Ee(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,_e(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Pe(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function De(n,r){Object.keys(r).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&Pe(r[e])&&(t="px"),n.style[e]=r[e]+t})}function Ae(e,t){function n(e){return e}var r=e.offsets,i=r.popper,o=r.reference,s=Math.round,a=Math.floor,l=s(o.width),c=s(i.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?u||d||l%2==c%2?s:a:n,h=t?s:n;return{left:f(l%2==1&&c%2==1&&!d&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:f(i.right)}}var Me=U&&/Firefox/i.test(navigator.userAgent);function Le(e,t,n){var r,i,o=je(e,function(e){return e.name===t}),s=!!o&&e.some(function(e){return e.name===n&&e.enabled&&e.order<o.order});return s||(r="`"+t+"`",i="`"+n+"`",console.warn(i+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")),s}var Ne=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ie=Ne.slice(3);function Fe(e,t){var n=1<arguments.length&&void 0!==t&&t,r=Ie.indexOf(e),i=Ie.slice(r+1).concat(Ie.slice(0,r));return n?i.reverse():i}var $e="flip",Re="clockwise",ze="counterclockwise";function Ve(e,i,o,t){var s=[0,0],a=-1!==["right","left"].indexOf(t),n=e.split(/(\+|\-)/).map(function(e){return e.trim()}),r=n.indexOf(je(n,function(e){return-1!==e.search(/,|\s/)}));n[r]&&-1===n[r].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/;return(-1!==r?[n.slice(0,r).concat([n[r].split(l)[0]]),[n[r].split(l)[1]].concat(n.slice(r+1))]:[n]).map(function(e,t){var n=(1===t?!a:a)?"height":"width",r=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0!==s.indexOf("%"))return"vh"!==s&&"vw"!==s?o:("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}return he(a)[t]/100*o}(e,n,i,o)})}).forEach(function(n,r){n.forEach(function(e,t){Pe(e)&&(s[r]+=e*("-"===n[t-1]?-1:1))})}),s}var He={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,n,r,i,o,s,a,l=e.placement,c=l.split("-")[0],u=l.split("-")[1];return u&&(n=(t=e.offsets).reference,r=t.popper,s=(i=-1!==["bottom","top"].indexOf(c))?"width":"height",a={start:de({},o=i?"left":"top",n[o]),end:de({},o,n[o]+n[s]-r[s])},e.offsets.popper=fe({},r,a[u])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0,l=Pe(+n)?[+n,0]:Ve(n,o,s,a);return"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,r){var t=r.boundariesElement||te(e.instance.popper);e.instance.reference===t&&(t=te(t));var n=Oe("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[n];i.top="",i.left="",i[n]="";var l=ve(e.instance.popper,e.instance.reference,r.padding,t,e.positionFixed);i.top=o,i.left=s,i[n]=a,r.boundaries=l;var c=r.priority,u=e.offsets.popper,d={primary:function(e){var t=u[e];return u[e]<l[e]&&!r.escapeWithReference&&(t=Math.max(u[e],l[e])),de({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=u[t];return u[e]>l[e]&&!r.escapeWithReference&&(n=Math.min(u[t],l[e]-("right"===e?u.width:u.height))),de({},t,n)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=fe({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Le(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),f=l?"left":"top",h=l?"bottom":"right",p=we(r)[c];a[h]-p<s[d]&&(e.offsets.popper[d]-=s[d]-(a[h]-p)),a[d]+p>s[h]&&(e.offsets.popper[d]+=a[d]+p-s[h]),e.offsets.popper=he(e.offsets.popper);var g=a[d]+a[c]/2-p/2,m=Y(e.instance.popper),v=parseFloat(m["margin"+u],10),y=parseFloat(m["border"+u+"Width"],10),b=g-e.offsets.popper[d]-v-y,b=Math.max(Math.min(s[c]-p,b),0);return e.arrowElement=r,e.offsets.arrow=(de(n={},d,Math.round(b)),de(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(m,v){if(ke(m.instance.modifiers,"inner"))return m;if(m.flipped&&m.placement===m.originalPlacement)return m;var y=ve(m.instance.popper,m.instance.reference,v.padding,v.boundariesElement,m.positionFixed),b=m.placement.split("-")[0],w=xe(b),x=m.placement.split("-")[1]||"",C=[];switch(v.behavior){case $e:C=[b,w];break;case Re:C=Fe(b);break;case ze:C=Fe(b,!0);break;default:C=v.behavior}return C.forEach(function(e,t){if(b!==e||C.length===t+1)return m;b=m.placement.split("-")[0],w=xe(b);var n,r=m.offsets.popper,i=m.offsets.reference,o=Math.floor,s="left"===b&&o(r.right)>o(i.left)||"right"===b&&o(r.left)<o(i.right)||"top"===b&&o(r.bottom)>o(i.top)||"bottom"===b&&o(r.top)<o(i.bottom),a=o(r.left)<o(y.left),l=o(r.right)>o(y.right),c=o(r.top)<o(y.top),u=o(r.bottom)>o(y.bottom),d="left"===b&&a||"right"===b&&l||"top"===b&&c||"bottom"===b&&u,f=-1!==["top","bottom"].indexOf(b),h=!!v.flipVariations&&(f&&"start"===x&&a||f&&"end"===x&&l||!f&&"start"===x&&c||!f&&"end"===x&&u),p=!!v.flipVariationsByContent&&(f&&"start"===x&&l||f&&"end"===x&&a||!f&&"start"===x&&u||!f&&"end"===x&&c),g=h||p;(s||d||g)&&(m.flipped=!0,(s||d)&&(b=C[t+1]),g&&(x="end"===(n=x)?"start":"start"===n?"end":n),m.placement=b+(x?"-"+x:""),m.offsets.popper=fe({},m.offsets.popper,Ce(m.instance.popper,m.offsets.reference,m.placement)),m=Se(m.instance.modifiers,m,"flip"))}),m},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=xe(t),e.offsets.popper=he(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Le(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=je(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=je(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,l=void 0!==o?o:t.gpuAcceleration,c=te(e.instance.popper),u=pe(c),d={position:i.position},f=Ae(e,window.devicePixelRatio<2||!Me),h="bottom"===n?"top":"bottom",p="right"===r?"left":"right",g=Oe("transform"),m=void 0,v=void 0,v="bottom"==h?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-u.height+f.bottom:f.top,m="right"==p?"HTML"===c.nodeName?-c.clientWidth+f.right:-u.width+f.right:f.left;l&&g?(d[g]="translate3d("+m+"px, "+v+"px, 0)",d[h]=0,d[p]=0,d.willChange="transform"):(s="bottom"==h?-1:1,a="right"==p?-1:1,d[h]=v*s,d[p]=m*a,d.willChange=h+", "+p);var y={"x-placement":e.placement};return e.attributes=fe({},y,e.attributes),e.styles=fe({},d,e.styles),e.arrowStyles=fe({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return De(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&De(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=be(i,t,e,n.positionFixed),s=ye(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),De(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Be=(ce(Ue,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=be(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=ye(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Ce(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Se(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,ke(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Oe("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=Te(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return Ee.call(this)}}]),Ue);function Ue(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};le(this,Ue),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=W(this.update.bind(this)),this.options=fe({},Ue.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(fe({},Ue.Defaults.modifiers,r.modifiers)).forEach(function(e){n.options.modifiers[e]=fe({},Ue.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return fe({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&G(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}Be.Utils=("undefined"!=typeof window?window:global).PopperUtils,Be.placements=Ne,Be.Defaults=He;var qe="dropdown",We="bs.dropdown",Ge="."+We,Ye=".data-api",Ke=p.fn[qe],Xe=new RegExp("38|40|27"),Qe="hide"+Ge,Ze="hidden"+Ge,Je="click"+Ge+Ye,et="keydown"+Ge+Ye,tt="disabled",nt="show",rt="dropdown-menu-right",it='[data-toggle="dropdown"]',ot=".dropdown-menu",st={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},at={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},lt=function(){function c(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=c.prototype;return e.toggle=function(){var e;this._element.disabled||p(this._element).hasClass(tt)||(e=p(this._menu).hasClass(nt),c._clearMenus(),e||this.show(!0))},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||p(this._element).hasClass(tt)||p(this._menu).hasClass(nt))){var t={relatedTarget:this._element},n=p.Event("show.bs.dropdown",t),r=c._getParentFromElement(this._element);if(p(r).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===Be)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var i=this._element;"parent"===this._config.reference?i=r:g.isElement(this._config.reference)&&(i=this._config.reference,void 0!==this._config.reference.jquery&&(i=this._config.reference[0])),"scrollParent"!==this._config.boundary&&p(r).addClass("position-static"),this._popper=new Be(i,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===p(r).closest(".navbar-nav").length&&p(document.body).children().on("mouseover",null,p.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),p(this._menu).toggleClass(nt),p(r).toggleClass(nt).trigger(p.Event("shown.bs.dropdown",t))}}},e.hide=function(){var e,t,n;this._element.disabled||p(this._element).hasClass(tt)||!p(this._menu).hasClass(nt)||(e={relatedTarget:this._element},t=p.Event(Qe,e),n=c._getParentFromElement(this._element),p(n).trigger(t),t.isDefaultPrevented()||(this._popper&&this._popper.destroy(),p(this._menu).toggleClass(nt),p(n).toggleClass(nt).trigger(p.Event(Ze,e))))},e.dispose=function(){p.removeData(this._element,We),p(this._element).off(Ge),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;p(this._element).on("click.bs.dropdown",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(e){return e=l(l(l({},this.constructor.Default),p(this._element).data()),e),g.typeCheckConfig(qe,e,this.constructor.DefaultType),e},e._getMenuElement=function(){var e;return this._menu||(e=c._getParentFromElement(this._element))&&(this._menu=e.querySelector(ot)),this._menu},e._getPlacement=function(){var e=p(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=p(this._menu).hasClass(rt)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":p(this._menu).hasClass(rt)&&(t="bottom-end"),t},e._detectNavbar=function(){return 0<p(this._element).closest(".navbar").length},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=l(l({},e.offsets),t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),l(l({},e),this._config.popperConfig)},c._jQueryInterface=function(t){return this.each(function(){var e=p(this).data(We);if(e||(e=new c(this,"object"==typeof t?t:null),p(this).data(We,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},c._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(it)),n=0,r=t.length;n<r;n++){var i,o,s=c._getParentFromElement(t[n]),a=p(t[n]).data(We),l={relatedTarget:t[n]};e&&"click"===e.type&&(l.clickEvent=e),a&&(i=a._menu,p(s).hasClass(nt)&&(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&p.contains(s,e.target)||(o=p.Event(Qe,l),p(s).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&p(document.body).children().off("mouseover",null,p.noop),t[n].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),p(i).removeClass(nt),p(s).removeClass(nt).trigger(p.Event(Ze,l))))))}},c._getParentFromElement=function(e){var t,n=g.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},c._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||p(e.target).closest(ot).length)):Xe.test(e.which))&&!this.disabled&&!p(this).hasClass(tt)){var t=c._getParentFromElement(this),n=p(t).hasClass(nt);if(n||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!n||n&&(27===e.which||32===e.which))return 27===e.which&&p(t.querySelector(it)).trigger("focus"),void p(this).trigger("click");var r,i=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(e){return p(e).is(":visible")});0!==i.length&&(r=i.indexOf(e.target),38===e.which&&0<r&&r--,40===e.which&&r<i.length-1&&r++,r<0&&(r=0),i[r].focus())}}},s(c,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return st}},{key:"DefaultType",get:function(){return at}}]),c}();p(document).on(et,it,lt._dataApiKeydownHandler).on(et,ot,lt._dataApiKeydownHandler).on(Je+" keyup.bs.dropdown.data-api",lt._clearMenus).on(Je,it,function(e){e.preventDefault(),e.stopPropagation(),lt._jQueryInterface.call(p(this),"toggle")}).on(Je,".dropdown form",function(e){e.stopPropagation()}),p.fn[qe]=lt._jQueryInterface,p.fn[qe].Constructor=lt,p.fn[qe].noConflict=function(){return p.fn[qe]=Ke,lt._jQueryInterface};var ct="modal",ut="bs.modal",dt="."+ut,ft=p.fn[ct],ht={backdrop:!0,keyboard:!0,focus:!0,show:!0},pt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},gt="hidden"+dt,mt="show"+dt,vt="focusin"+dt,yt="resize"+dt,bt="click.dismiss"+dt,wt="keydown.dismiss"+dt,xt="mousedown.dismiss"+dt,Ct="modal-open",jt="fade",St="show",kt="modal-static",Ot=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_t=".sticky-top",Tt=function(){function i(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=i.prototype;return e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e.show=function(e){var t,n=this;this._isShown||this._isTransitioning||(p(this._element).hasClass(jt)&&(this._isTransitioning=!0),t=p.Event(mt,{relatedTarget:e}),p(this._element).trigger(t),this._isShown||t.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),p(this._element).on(bt,'[data-dismiss="modal"]',function(e){return n.hide(e)}),p(this._dialog).on(xt,function(){p(n._element).one("mouseup.dismiss.bs.modal",function(e){p(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)})))},e.hide=function(e){var t,n,r,i=this;e&&e.preventDefault(),this._isShown&&!this._isTransitioning&&(t=p.Event("hide.bs.modal"),p(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented()&&(this._isShown=!1,(n=p(this._element).hasClass(jt))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),p(document).off(vt),p(this._element).removeClass(St),p(this._element).off(bt),p(this._dialog).off(xt),n?(r=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,function(e){return i._hideModal(e)}).emulateTransitionEnd(r)):this._hideModal()))},e.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return p(e).off(dt)}),p(document).off(vt),p.removeData(this._element,ut),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(e){return e=l(l({},ht),e),g.typeCheckConfig(ct,e,pt),e},e._triggerBackdropTransition=function(){var e=this;if("static"===this._config.backdrop){var t=p.Event("hidePrevented.bs.modal");if(p(this._element).trigger(t),t.defaultPrevented)return;this._element.classList.add(kt);var n=g.getTransitionDurationFromElement(this._element);p(this._element).one(g.TRANSITION_END,function(){e._element.classList.remove(kt)}).emulateTransitionEnd(n),this._element.focus()}else this.hide()},e._showElement=function(e){var t=this,n=p(this._element).hasClass(jt),r=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),p(this._dialog).hasClass("modal-dialog-scrollable")&&r?r.scrollTop=0:this._element.scrollTop=0,n&&g.reflow(this._element),p(this._element).addClass(St),this._config.focus&&this._enforceFocus();function i(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,p(t._element).trigger(s)}var o,s=p.Event("shown.bs.modal",{relatedTarget:e});n?(o=g.getTransitionDurationFromElement(this._dialog),p(this._dialog).one(g.TRANSITION_END,i).emulateTransitionEnd(o)):i()},e._enforceFocus=function(){var t=this;p(document).off(vt).on(vt,function(e){document!==e.target&&t._element!==e.target&&0===p(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown?p(this._element).on(wt,function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()}):this._isShown||p(this._element).off(wt)},e._setResizeEvent=function(){var t=this;this._isShown?p(window).on(yt,function(e){return t.handleUpdate(e)}):p(window).off(yt)},e._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){p(document.body).removeClass(Ct),e._resetAdjustments(),e._resetScrollbar(),p(e._element).trigger(gt)})},e._removeBackdrop=function(){this._backdrop&&(p(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(e){var t,n,r=this,i=p(this._element).hasClass(jt)?jt:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),p(this._backdrop).appendTo(document.body),p(this._element).on(bt,function(e){r._ignoreBackdropClick?r._ignoreBackdropClick=!1:e.target===e.currentTarget&&r._triggerBackdropTransition()}),i&&g.reflow(this._backdrop),p(this._backdrop).addClass(St),!e)return;if(!i)return void e();var o=g.getTransitionDurationFromElement(this._backdrop);p(this._backdrop).one(g.TRANSITION_END,e).emulateTransitionEnd(o)}else{!this._isShown&&this._backdrop?(p(this._backdrop).removeClass(St),t=function(){r._removeBackdrop(),e&&e()},p(this._element).hasClass(jt)?(n=g.getTransitionDurationFromElement(this._backdrop),p(this._backdrop).one(g.TRANSITION_END,t).emulateTransitionEnd(n)):t()):e&&e()}},e._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var e,t,n,r,i=this;this._isBodyOverflowing&&(e=[].slice.call(document.querySelectorAll(Ot)),t=[].slice.call(document.querySelectorAll(_t)),p(e).each(function(e,t){var n=t.style.paddingRight,r=p(t).css("padding-right");p(t).data("padding-right",n).css("padding-right",parseFloat(r)+i._scrollbarWidth+"px")}),p(t).each(function(e,t){var n=t.style.marginRight,r=p(t).css("margin-right");p(t).data("margin-right",n).css("margin-right",parseFloat(r)-i._scrollbarWidth+"px")}),n=document.body.style.paddingRight,r=p(document.body).css("padding-right"),p(document.body).data("padding-right",n).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")),p(document.body).addClass(Ct)},e._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Ot));p(e).each(function(e,t){var n=p(t).data("padding-right");p(t).removeData("padding-right"),t.style.paddingRight=n||""});var t=[].slice.call(document.querySelectorAll(_t));p(t).each(function(e,t){var n=p(t).data("margin-right");void 0!==n&&p(t).css("margin-right",n).removeData("margin-right")});var n=p(document.body).data("padding-right");p(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},i._jQueryInterface=function(n,r){return this.each(function(){var e=p(this).data(ut),t=l(l(l({},ht),p(this).data()),"object"==typeof n&&n?n:{});if(e||(e=new i(this,t),p(this).data(ut,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](r)}else t.show&&e.show(r)})},s(i,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return ht}}]),i}();p(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t,n=this,r=g.getSelectorFromElement(this);r&&(t=document.querySelector(r));var i=p(t).data(ut)?"toggle":l(l({},p(t).data()),p(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var o=p(t).one(mt,function(e){e.isDefaultPrevented()||o.one(gt,function(){p(n).is(":visible")&&n.focus()})});Tt._jQueryInterface.call(p(t),i,this)}),p.fn[ct]=Tt._jQueryInterface,p.fn[ct].Constructor=Tt,p.fn[ct].noConflict=function(){return p.fn[ct]=ft,Tt._jQueryInterface};var Et=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Pt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Dt=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,At=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Mt(e,o,t){if(0===e.length)return e;if(t&&"function"==typeof t)return t(e);for(var n=(new window.DOMParser).parseFromString(e,"text/html"),s=Object.keys(o),a=[].slice.call(n.body.querySelectorAll("*")),r=function(e){var t=a[e],n=t.nodeName.toLowerCase();if(-1===s.indexOf(t.nodeName.toLowerCase()))return t.parentNode.removeChild(t),"continue";var r=[].slice.call(t.attributes),i=[].concat(o["*"]||[],o[n]||[]);r.forEach(function(e){!function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Et.indexOf(n)||Boolean(e.nodeValue.match(Dt)||e.nodeValue.match(At));for(var r=t.filter(function(e){return e instanceof RegExp}),i=0,o=r.length;i<o;i++)if(n.match(r[i]))return 1}(e,i)&&t.removeAttribute(e.nodeName)})},i=0,l=a.length;i<l;i++)r(i);return n.body.innerHTML}var Lt="tooltip",Nt="bs.tooltip",It="."+Nt,Ft=p.fn[Lt],$t="bs-tooltip",Rt=new RegExp("(^|\\s)"+$t+"\\S+","g"),zt=["sanitize","whiteList","sanitizeFn"],Vt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Ht={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Bt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:Pt,popperConfig:null},Ut="show",qt={HIDE:"hide"+It,HIDDEN:"hidden"+It,SHOW:"show"+It,SHOWN:"shown"+It,INSERTED:"inserted"+It,CLICK:"click"+It,FOCUSIN:"focusin"+It,FOCUSOUT:"focusout"+It,MOUSEENTER:"mouseenter"+It,MOUSELEAVE:"mouseleave"+It},Wt="fade",Gt="show",Yt="hover",Kt="focus",Xt=function(){function r(e,t){if(void 0===Be)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var e=r.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=p(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),p(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(p(this.getTipElement()).hasClass(Gt))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),p.removeData(this.element,this.constructor.DATA_KEY),p(this.element).off(this.constructor.EVENT_KEY),p(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&p(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===p(this.element).css("display"))throw new Error("Please use show on visible elements");var e=p.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){p(this.element).trigger(e);var n=g.findShadowRoot(this.element),r=p.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!r)return;var i=this.getTipElement(),o=g.getUID(this.constructor.NAME);i.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&p(i).addClass(Wt);var s="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);var l=this._getContainer();p(i).data(this.constructor.DATA_KEY,this),p.contains(this.element.ownerDocument.documentElement,this.tip)||p(i).appendTo(l),p(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Be(this.element,i,this._getPopperConfig(a)),p(i).addClass(Gt),"ontouchstart"in document.documentElement&&p(document.body).children().on("mouseover",null,p.noop);var c,u=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,p(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};p(this.tip).hasClass(Wt)?(c=g.getTransitionDurationFromElement(this.tip),p(this.tip).one(g.TRANSITION_END,u).emulateTransitionEnd(c)):u()}},e.hide=function(e){function t(){r._hoverState!==Ut&&i.parentNode&&i.parentNode.removeChild(i),r._cleanTipClass(),r.element.removeAttribute("aria-describedby"),p(r.element).trigger(r.constructor.Event.HIDDEN),null!==r._popper&&r._popper.destroy(),e&&e()}var n,r=this,i=this.getTipElement(),o=p.Event(this.constructor.Event.HIDE);p(this.element).trigger(o),o.isDefaultPrevented()||(p(i).removeClass(Gt),"ontouchstart"in document.documentElement&&p(document.body).children().off("mouseover",null,p.noop),this._activeTrigger.click=!1,this._activeTrigger[Kt]=!1,this._activeTrigger[Yt]=!1,p(this.tip).hasClass(Wt)?(n=g.getTransitionDurationFromElement(i),p(i).one(g.TRANSITION_END,t).emulateTransitionEnd(n)):t(),this._hoverState="")},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(e){p(this.getTipElement()).addClass($t+"-"+e)},e.getTipElement=function(){return this.tip=this.tip||p(this.config.template)[0],this.tip},e.setContent=function(){var e=this.getTipElement();this.setElementContent(p(e.querySelectorAll(".tooltip-inner")),this.getTitle()),p(e).removeClass(Wt+" "+Gt)},e.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Mt(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?p(t).parent().is(e)||e.empty().append(t):e.text(p(t).text())},e.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},e._getPopperConfig=function(e){var t=this;return l(l({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=l(l({},e.offsets),t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:g.isElement(this.config.container)?p(this.config.container):p(document).find(this.config.container)},e._getAttachment=function(e){return Ht[e.toUpperCase()]},e._setListeners=function(){var r=this;this.config.trigger.split(" ").forEach(function(e){var t,n;"click"===e?p(r.element).on(r.constructor.Event.CLICK,r.config.selector,function(e){return r.toggle(e)}):"manual"!==e&&(t=e===Yt?r.constructor.Event.MOUSEENTER:r.constructor.Event.FOCUSIN,n=e===Yt?r.constructor.Event.MOUSELEAVE:r.constructor.Event.FOCUSOUT,p(r.element).on(t,r.config.selector,function(e){return r._enter(e)}).on(n,r.config.selector,function(e){return r._leave(e)}))}),this._hideModalHandler=function(){r.element&&r.hide()},p(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l(l({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==e||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||p(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),p(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?Kt:Yt]=!0),p(t.getTipElement()).hasClass(Gt)||t._hoverState===Ut?t._hoverState=Ut:(clearTimeout(t._timeout),t._hoverState=Ut,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===Ut&&t.show()},t.config.delay.show):t.show())},e._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||p(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),p(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?Kt:Yt]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},e._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},e._getConfig=function(e){var t=p(this.element).data();return Object.keys(t).forEach(function(e){-1!==zt.indexOf(e)&&delete t[e]}),"number"==typeof(e=l(l(l({},this.constructor.Default),t),"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),g.typeCheckConfig(Lt,e,this.constructor.DefaultType),e.sanitize&&(e.template=Mt(e.template,e.whiteList,e.sanitizeFn)),e},e._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},e._cleanTipClass=function(){var e=p(this.getTipElement()),t=e.attr("class").match(Rt);null!==t&&t.length&&e.removeClass(t.join(""))},e._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},e._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(p(e).removeClass(Wt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},r._jQueryInterface=function(n){return this.each(function(){var e=p(this).data(Nt),t="object"==typeof n&&n;if((e||!/dispose|hide/.test(n))&&(e||(e=new r(this,t),p(this).data(Nt,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},s(r,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return Bt}},{key:"NAME",get:function(){return Lt}},{key:"DATA_KEY",get:function(){return Nt}},{key:"Event",get:function(){return qt}},{key:"EVENT_KEY",get:function(){return It}},{key:"DefaultType",get:function(){return Vt}}]),r}();p.fn[Lt]=Xt._jQueryInterface,p.fn[Lt].Constructor=Xt,p.fn[Lt].noConflict=function(){return p.fn[Lt]=Ft,Xt._jQueryInterface};var Qt="popover",Zt="bs.popover",Jt="."+Zt,en=p.fn[Qt],tn="bs-popover",nn=new RegExp("(^|\\s)"+tn+"\\S+","g"),rn=l(l({},Xt.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),on=l(l({},Xt.DefaultType),{},{content:"(string|element|function)"}),sn={HIDE:"hide"+Jt,HIDDEN:"hidden"+Jt,SHOW:"show"+Jt,SHOWN:"shown"+Jt,INSERTED:"inserted"+Jt,CLICK:"click"+Jt,FOCUSIN:"focusin"+Jt,FOCUSOUT:"focusout"+Jt,MOUSEENTER:"mouseenter"+Jt,MOUSELEAVE:"mouseleave"+Jt},an=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.isWithContent=function(){return this.getTitle()||this._getContent()},i.addAttachmentClass=function(e){p(this.getTipElement()).addClass(tn+"-"+e)},i.getTipElement=function(){return this.tip=this.tip||p(this.config.template)[0],this.tip},i.setContent=function(){var e=p(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},i._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},i._cleanTipClass=function(){var e=p(this.getTipElement()),t=e.attr("class").match(nn);null!==t&&0<t.length&&e.removeClass(t.join(""))},r._jQueryInterface=function(n){return this.each(function(){var e=p(this).data(Zt),t="object"==typeof n?n:null;if((e||!/dispose|hide/.test(n))&&(e||(e=new r(this,t),p(this).data(Zt,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},s(r,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return rn}},{key:"NAME",get:function(){return Qt}},{key:"DATA_KEY",get:function(){return Zt}},{key:"Event",get:function(){return sn}},{key:"EVENT_KEY",get:function(){return Jt}},{key:"DefaultType",get:function(){return on}}]),r}(Xt);p.fn[Qt]=an._jQueryInterface,p.fn[Qt].Constructor=an,p.fn[Qt].noConflict=function(){return p.fn[Qt]=en,an._jQueryInterface};var ln="scrollspy",cn="bs.scrollspy",un="."+cn,dn=p.fn[ln],fn={offset:10,method:"auto",target:""},hn={offset:"number",method:"string",target:"(string|element)"},pn="active",gn=".nav, .list-group",mn=".nav-link",vn=".list-group-item",yn="position",bn=function(){function n(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+mn+","+this._config.target+" "+vn+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,p(this._scrollElement).on("scroll.bs.scrollspy",function(e){return n._process(e)}),this.refresh(),this._process()}var e=n.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":yn,i="auto"===this._config.method?e:this._config.method,o=i===yn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var t,n=g.getSelectorFromElement(e);if(n&&(t=document.querySelector(n)),t){var r=t.getBoundingClientRect();if(r.width||r.height)return[p(t)[i]().top+o,n]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){p.removeData(this._element,cn),p(this._scrollElement).off(un),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(e){var t;return"string"!=typeof(e=l(l({},fn),"object"==typeof e&&e?e:{})).target&&g.isElement(e.target)&&((t=p(e.target).attr("id"))||(t=g.getUID(ln),p(e.target).attr("id",t)),e.target="#"+t),g.typeCheckConfig(ln,e,hn),e},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),n=p([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass(pn),n.addClass(pn)):(n.addClass(pn),n.parents(gn).prev(mn+", "+vn).addClass(pn),n.parents(gn).prev(".nav-item").children(mn).addClass(pn)),p(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains(pn)}).forEach(function(e){return e.classList.remove(pn)})},n._jQueryInterface=function(t){return this.each(function(){var e=p(this).data(cn);if(e||(e=new n(this,"object"==typeof t&&t),p(this).data(cn,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return fn}}]),n}();p(window).on("load.bs.scrollspy.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var n=p(e[t]);bn._jQueryInterface.call(n,n.data())}}),p.fn[ln]=bn._jQueryInterface,p.fn[ln].Constructor=bn,p.fn[ln].noConflict=function(){return p.fn[ln]=dn,bn._jQueryInterface};var wn="bs.tab",xn=p.fn.tab,Cn="active",jn=".active",Sn="> li > .active",kn=function(){function r(e){this._element=e}var e=r.prototype;return e.show=function(){var e,t,n,r,i,o,s,a,l=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&p(this._element).hasClass(Cn)||p(this._element).hasClass("disabled")||(t=p(this._element).closest(".nav, .list-group")[0],n=g.getSelectorFromElement(this._element),t&&(r="UL"===t.nodeName||"OL"===t.nodeName?Sn:jn,i=(i=p.makeArray(p(t).find(r)))[i.length-1]),o=p.Event("hide.bs.tab",{relatedTarget:this._element}),s=p.Event("show.bs.tab",{relatedTarget:i}),i&&p(i).trigger(o),p(this._element).trigger(s),s.isDefaultPrevented()||o.isDefaultPrevented()||(n&&(e=document.querySelector(n)),this._activate(this._element,t),a=function(){var e=p.Event("hidden.bs.tab",{relatedTarget:l._element}),t=p.Event("shown.bs.tab",{relatedTarget:i});p(i).trigger(e),p(l._element).trigger(t)},e?this._activate(e,e.parentNode,a):a()))},e.dispose=function(){p.removeData(this._element,wn),this._element=null},e._activate=function(e,t,n){function r(){return o._transitionComplete(e,s,n)}var i,o=this,s=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?p(t).children(jn):p(t).find(Sn))[0],a=n&&s&&p(s).hasClass("fade");s&&a?(i=g.getTransitionDurationFromElement(s),p(s).removeClass("show").one(g.TRANSITION_END,r).emulateTransitionEnd(i)):r()},e._transitionComplete=function(e,t,n){var r,i,o;t&&(p(t).removeClass(Cn),(r=p(t.parentNode).find("> .dropdown-menu .active")[0])&&p(r).removeClass(Cn),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)),p(e).addClass(Cn),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),g.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&p(e.parentNode).hasClass("dropdown-menu")&&((i=p(e).closest(".dropdown")[0])&&(o=[].slice.call(i.querySelectorAll(".dropdown-toggle")),p(o).addClass(Cn)),e.setAttribute("aria-expanded",!0)),n&&n()},r._jQueryInterface=function(n){return this.each(function(){var e=p(this),t=e.data(wn);if(t||(t=new r(this),e.data(wn,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},s(r,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),r}();p(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),kn._jQueryInterface.call(p(this),"show")}),p.fn.tab=kn._jQueryInterface,p.fn.tab.Constructor=kn,p.fn.tab.noConflict=function(){return p.fn.tab=xn,kn._jQueryInterface};var On="toast",_n="bs.toast",Tn="."+_n,En=p.fn[On],Pn="click.dismiss"+Tn,Dn="show",An="showing",Mn={animation:"boolean",autohide:"boolean",delay:"number"},Ln={animation:!0,autohide:!0,delay:500},Nn=function(){function r(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var e=r.prototype;return e.show=function(){var e,t,n=this,r=p.Event("show.bs.toast");p(this._element).trigger(r),r.isDefaultPrevented()||(this._config.animation&&this._element.classList.add("fade"),e=function(){n._element.classList.remove(An),n._element.classList.add(Dn),p(n._element).trigger("shown.bs.toast"),n._config.autohide&&(n._timeout=setTimeout(function(){n.hide()},n._config.delay))},this._element.classList.remove("hide"),g.reflow(this._element),this._element.classList.add(An),this._config.animation?(t=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,e).emulateTransitionEnd(t)):e())},e.hide=function(){var e;this._element.classList.contains(Dn)&&(e=p.Event("hide.bs.toast"),p(this._element).trigger(e),e.isDefaultPrevented()||this._close())},e.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Dn)&&this._element.classList.remove(Dn),p(this._element).off(Pn),p.removeData(this._element,_n),this._element=null,this._config=null},e._getConfig=function(e){return e=l(l(l({},Ln),p(this._element).data()),"object"==typeof e&&e?e:{}),g.typeCheckConfig(On,e,this.constructor.DefaultType),e},e._setListeners=function(){var e=this;p(this._element).on(Pn,'[data-dismiss="toast"]',function(){return e.hide()})},e._close=function(){function e(){n._element.classList.add("hide"),p(n._element).trigger("hidden.bs.toast")}var t,n=this;this._element.classList.remove(Dn),this._config.animation?(t=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,e).emulateTransitionEnd(t)):e()},r._jQueryInterface=function(n){return this.each(function(){var e=p(this),t=e.data(_n);if(t||(t=new r(this,"object"==typeof n&&n),e.data(_n,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](this)}})},s(r,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"DefaultType",get:function(){return Mn}},{key:"Default",get:function(){return Ln}}]),r}();p.fn[On]=Nn._jQueryInterface,p.fn[On].Constructor=Nn,p.fn[On].noConflict=function(){return p.fn[On]=En,Nn._jQueryInterface},e.Alert=u,e.Button=b,e.Carousel=A,e.Collapse=B,e.Dropdown=lt,e.Modal=Tt,e.Popover=an,e.Scrollspy=bn,e.Tab=kn,e.Toast=Nn,e.Tooltip=Xt,e.Util=g,Object.defineProperty(e,"__esModule",{value:!0})}),function(l,d,g,m){"use strict";var e,i,o,s,f,t,c,h,u,r,n,a,p,v;function y(e,t){var n,r,i,o=[],s=0;e&&e.isDefaultPrevented()||(e.preventDefault(),t=t||{},e&&e.data&&(t=u(e.data.options,t)),n=t.$target||g(e.currentTarget).trigger("blur"),(i=g.fancybox.getInstance())&&i.$trigger&&i.$trigger.is(n)||(o=t.selector?g(t.selector):(r=n.attr("data-fancybox")||"")?(o=e.data?e.data.items:[]).length?o.filter('[data-fancybox="'+r+'"]'):g('[data-fancybox="'+r+'"]'):[n],(s=g(o).index(n))<0&&(s=0),(i=g.fancybox.open(o,t,s)).$trigger=n))}l.console=l.console||{info:function(e){}},g&&(g.fn.fancybox?console.info("fancyBox already initialized"):(e={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:g.noop,beforeLoad:g.noop,afterLoad:g.noop,beforeShow:g.noop,afterShow:g.noop,beforeClose:g.noop,afterClose:g.noop,onActivate:g.noop,onDeactivate:g.noop,clickContent:function(e,t){return"image"===e.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(e,t){return"image"===e.type&&"toggleControls"},clickSlide:function(e,t){return"image"===e.type?"toggleControls":"close"},dblclickContent:function(e,t){return"image"===e.type&&"zoom"},dblclickSlide:function(e,t){return"image"===e.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},i=g(l),o=g(d),s=0,f=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(e){return l.setTimeout(e,1e3/60)},t=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(e){l.clearTimeout(e)},c=function(){var e,t=d.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==m)return n[e];return"transitionend"}(),h=function(e){return e&&e.length&&e[0].offsetHeight},u=function(e,t){var n=g.extend(!0,{},e,t);return g.each(t,function(e,t){g.isArray(t)&&(n[e]=t)}),n},r=function(e,t,n){var r=this;r.opts=u({index:n},g.fancybox.defaults),g.isPlainObject(t)&&(r.opts=u(r.opts,t)),g.fancybox.isMobile&&(r.opts=u(r.opts,r.opts.mobile)),r.id=r.opts.id||++s,r.currIndex=parseInt(r.opts.index,10)||0,r.prevIndex=null,r.prevPos=null,r.currPos=0,r.firstRun=!0,r.group=[],r.slides={},r.addContent(e),r.group.length&&r.init()},g.extend(r.prototype,{init:function(){var t,n,r=this,i=r.group[r.currIndex].opts;i.closeExisting&&g.fancybox.close(!0),g("body").addClass("fancybox-active"),!g.fancybox.getInstance()&&!1!==i.hideScrollbar&&!g.fancybox.isMobile&&d.body.scrollHeight>l.innerHeight&&(g("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-d.documentElement.clientWidth)+"px;}</style>"),g("body").addClass("compensate-for-scrollbar")),n="",g.each(i.buttons,function(e,t){n+=i.btnTpl[t]||""}),t=g(r.translate(r,i.baseTpl.replace("{{buttons}}",n).replace("{{arrows}}",i.btnTpl.arrowLeft+i.btnTpl.arrowRight))).attr("id","fancybox-container-"+r.id).addClass(i.baseClass).data("FancyBox",r).appendTo(i.parentEl),r.$refs={container:t},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(e){r.$refs[e]=t.find(".fancybox-"+e)}),r.trigger("onInit"),r.activate(),r.jumpTo(r.currIndex)},translate:function(e,t){var n=e.opts.i18n[e.opts.lang]||e.opts.i18n.en;return t.replace(/\{\{(\w+)\}\}/g,function(e,t){return n[t]===m?e:n[t]})},addContent:function(e){var t,c=this,n=g.makeArray(e);g.each(n,function(e,t){var n,r,i,o,s,a={},l={};g.isPlainObject(t)?l=(a=t).opts||t:"object"===g.type(t)&&g(t).length?(l=(n=g(t)).data()||{},(l=g.extend(!0,{},l,l.options)).$orig=n,a.src=c.opts.src||l.src||n.attr("href"),a.type||a.src||(a.type="inline",a.src=t)):a={type:"html",src:t+""},a.opts=g.extend(!0,{},c.opts,l),g.isArray(l.buttons)&&(a.opts.buttons=l.buttons),g.fancybox.isMobile&&a.opts.mobile&&(a.opts=u(a.opts,a.opts.mobile)),r=a.type||a.opts.type,o=a.src||"",!r&&o&&((i=o.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(r="video",a.opts.video.format||(a.opts.video.format="video/"+("ogv"===i[1]?"ogg":i[1]))):o.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?r="image":o.match(/\.(pdf)((\?|#).*)?$/i)?(r="iframe",a=g.extend(!0,a,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===o.charAt(0)&&(r="inline")),r?a.type=r:c.trigger("objectNeedsType",a),a.contentType||(a.contentType=-1<g.inArray(a.type,["html","inline","ajax"])?"html":a.type),a.index=c.group.length,"auto"==a.opts.smallBtn&&(a.opts.smallBtn=-1<g.inArray(a.type,["html","inline","ajax"])),"auto"===a.opts.toolbar&&(a.opts.toolbar=!a.opts.smallBtn),a.$thumb=a.opts.$thumb||null,a.opts.$trigger&&a.index===c.opts.index&&(a.$thumb=a.opts.$trigger.find("img:first"),a.$thumb.length&&(a.opts.$orig=a.opts.$trigger)),a.$thumb&&a.$thumb.length||!a.opts.$orig||(a.$thumb=a.opts.$orig.find("img:first")),a.$thumb&&!a.$thumb.length&&(a.$thumb=null),a.thumb=a.opts.thumb||(a.$thumb?a.$thumb[0].src:null),"function"===g.type(a.opts.caption)&&(a.opts.caption=a.opts.caption.apply(t,[c,a])),"function"===g.type(c.opts.caption)&&(a.opts.caption=c.opts.caption.apply(t,[c,a])),a.opts.caption instanceof g||(a.opts.caption=a.opts.caption===m?"":a.opts.caption+""),"ajax"===a.type&&1<(s=o.split(/\s+/,2)).length&&(a.src=s.shift(),a.opts.filter=s.shift()),a.opts.modal&&(a.opts=g.extend(!0,a.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),c.group.push(a)}),Object.keys(c.slides).length&&(c.updateControls(),(t=c.Thumbs)&&t.isActive&&(t.create(),t.focus()))},addEvents:function(){var r=this;r.removeEvents(),r.$refs.container.on("click.fb-close","[data-fancybox-close]",function(e){e.stopPropagation(),e.preventDefault(),r.close(e)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(e){e.stopPropagation(),e.preventDefault(),r.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(e){e.stopPropagation(),e.preventDefault(),r.next()}).on("click.fb","[data-fancybox-zoom]",function(e){r[r.isScaledDown()?"scaleToActual":"scaleToFit"]()}),i.on("orientationchange.fb resize.fb",function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?(r.requestId&&t(r.requestId),r.requestId=f(function(){r.update(e)})):(r.current&&"iframe"===r.current.type&&r.$refs.stage.hide(),setTimeout(function(){r.$refs.stage.show(),r.update(e)},g.fancybox.isMobile?600:250))}),o.on("keydown.fb",function(e){var t=(g.fancybox?g.fancybox.getInstance():null).current,n=e.keyCode||e.which;if(9!=n){if(!(!t.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||g(e.target).is("input,textarea,video,audio,select")))return 8===n||27===n?(e.preventDefault(),void r.close(e)):37===n||38===n?(e.preventDefault(),void r.previous()):39===n||40===n?(e.preventDefault(),void r.next()):void r.trigger("afterKeydown",e,n)}else t.opts.trapFocus&&r.focus(e)}),r.group[r.currIndex].opts.idleTime&&(r.idleSecondsCounter=0,o.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(e){r.idleSecondsCounter=0,r.isIdle&&r.showControls(),r.isIdle=!1}),r.idleInterval=l.setInterval(function(){r.idleSecondsCounter++,r.idleSecondsCounter>=r.group[r.currIndex].opts.idleTime&&!r.isDragging&&(r.isIdle=!0,r.idleSecondsCounter=0,r.hideControls())},1e3))},removeEvents:function(){i.off("orientationchange.fb resize.fb"),o.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(e){return this.jumpTo(this.currPos-1,e)},next:function(e){return this.jumpTo(this.currPos+1,e)},jumpTo:function(e,r){var t,n,i,o,s,a,l,c,u,d=this,f=d.group.length;if(!(d.isDragging||d.isClosing||d.isAnimating&&d.firstRun)){if(e=parseInt(e,10),!(i=d.current?d.current.opts.loop:d.opts.loop)&&(e<0||f<=e))return!1;if(t=d.firstRun=!Object.keys(d.slides).length,s=d.current,d.prevIndex=d.currIndex,d.prevPos=d.currPos,o=d.createSlide(e),1<f&&((i||o.index<f-1)&&d.createSlide(e+1),(i||0<o.index)&&d.createSlide(e-1)),d.current=o,d.currIndex=o.index,d.currPos=o.pos,d.trigger("beforeShow",t),d.updateControls(),o.forcedDuration=m,g.isNumeric(r)?o.forcedDuration=r:r=o.opts[t?"animationDuration":"transitionDuration"],r=parseInt(r,10),n=d.isMoved(o),o.$slide.addClass("fancybox-slide--current"),t)return o.opts.animationEffect&&r&&d.$refs.container.css("transition-duration",r+"ms"),d.$refs.container.addClass("fancybox-is-open").trigger("focus"),d.loadSlide(o),void d.preload("image");a=g.fancybox.getTranslate(s.$slide),l=g.fancybox.getTranslate(d.$refs.stage),g.each(d.slides,function(e,t){g.fancybox.stop(t.$slide,!0)}),s.pos!==o.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),n?(u=a.left-(s.pos*a.width+s.pos*s.opts.gutter),g.each(d.slides,function(e,t){t.$slide.removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var n=t.pos*a.width+t.pos*t.opts.gutter;g.fancybox.setTranslate(t.$slide,{top:0,left:n-l.left+u}),t.pos!==o.pos&&t.$slide.addClass("fancybox-slide--"+(t.pos>o.pos?"next":"previous")),h(t.$slide),g.fancybox.animate(t.$slide,{top:0,left:(t.pos-o.pos)*a.width+(t.pos-o.pos)*t.opts.gutter},r,function(){t.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),t.pos===d.currPos&&d.complete()})})):r&&o.opts.transitionEffect&&(c="fancybox-animated fancybox-fx-"+o.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>o.pos?"next":"previous")),g.fancybox.animate(s.$slide,c,r,function(){s.$slide.removeClass(c).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),o.isLoaded?d.revealContent(o):d.loadSlide(o),d.preload("image")}},createSlide:function(e){var t,n=this,r=e%n.group.length;return r=r<0?n.group.length+r:r,!n.slides[e]&&n.group[r]&&(t=g('<div class="fancybox-slide"></div>').appendTo(n.$refs.stage),n.slides[e]=g.extend(!0,{},n.group[r],{pos:e,$slide:t,isLoaded:!1}),n.updateSlide(n.slides[e])),n.slides[e]},scaleToActual:function(e,t,n){var r,i,o,s,a,l=this,c=l.current,u=c.$content,d=g.fancybox.getTranslate(c.$slide).width,f=g.fancybox.getTranslate(c.$slide).height,h=c.width,p=c.height;l.isAnimating||l.isMoved()||!u||"image"!=c.type||!c.isLoaded||c.hasError||(l.isAnimating=!0,g.fancybox.stop(u),e=e===m?.5*d:e,t=t===m?.5*f:t,(r=g.fancybox.getTranslate(u)).top-=g.fancybox.getTranslate(c.$slide).top,r.left-=g.fancybox.getTranslate(c.$slide).left,s=h/r.width,a=p/r.height,i=.5*d-.5*h,o=.5*f-.5*p,d<h&&(0<(i=r.left*s-(e*s-e))&&(i=0),i<d-h&&(i=d-h)),f<p&&(0<(o=r.top*a-(t*a-t))&&(o=0),o<f-p&&(o=f-p)),l.updateCursor(h,p),g.fancybox.animate(u,{top:o,left:i,scaleX:s,scaleY:a},n||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(e){var t,n=this,r=n.current,i=r.$content;n.isAnimating||n.isMoved()||!i||"image"!=r.type||!r.isLoaded||r.hasError||(n.isAnimating=!0,g.fancybox.stop(i),t=n.getFitPos(r),n.updateCursor(t.width,t.height),g.fancybox.animate(i,{top:t.top,left:t.left,scaleX:t.width/i.width(),scaleY:t.height/i.height()},e||366,function(){n.isAnimating=!1}))},getFitPos:function(e){var t,n,r,i,o=e.$content,s=e.$slide,a=e.width||e.opts.width,l=e.height||e.opts.height,c={};return!!(e.isLoaded&&o&&o.length)&&(t=g.fancybox.getTranslate(this.$refs.stage).width,n=g.fancybox.getTranslate(this.$refs.stage).height,t-=parseFloat(s.css("paddingLeft"))+parseFloat(s.css("paddingRight"))+parseFloat(o.css("marginLeft"))+parseFloat(o.css("marginRight")),n-=parseFloat(s.css("paddingTop"))+parseFloat(s.css("paddingBottom"))+parseFloat(o.css("marginTop"))+parseFloat(o.css("marginBottom")),a&&l||(a=t,l=n),t-.5<(a*=r=Math.min(1,t/a,n/l))&&(a=t),n-.5<(l*=r)&&(l=n),"image"===e.type?(c.top=Math.floor(.5*(n-l))+parseFloat(s.css("paddingTop")),c.left=Math.floor(.5*(t-a))+parseFloat(s.css("paddingLeft"))):"video"===e.contentType&&(a/(i=e.opts.width&&e.opts.height?a/l:e.opts.ratio||16/9)<l?l=a/i:l*i<a&&(a=l*i)),c.width=a,c.height=l,c)},update:function(n){var r=this;g.each(r.slides,function(e,t){r.updateSlide(t,n)})},updateSlide:function(e,t){var n=this,r=e&&e.$content,i=e.width||e.opts.width,o=e.height||e.opts.height,s=e.$slide;n.adjustCaption(e),r&&(i||o||"video"===e.contentType)&&!e.hasError&&(g.fancybox.stop(r),g.fancybox.setTranslate(r,n.getFitPos(e)),e.pos===n.currPos&&(n.isAnimating=!1,n.updateCursor())),n.adjustLayout(e),s.length&&(s.trigger("refresh"),e.pos===n.currPos&&n.$refs.toolbar.add(n.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",s.get(0).scrollHeight>s.get(0).clientHeight)),n.trigger("onUpdate",e,t)},centerSlide:function(e){var t=this,n=t.current,r=n.$slide;!t.isClosing&&n&&(r.siblings().css({transform:"",opacity:""}),r.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),g.fancybox.animate(r,{top:0,left:0,opacity:1},e===m?0:e,function(){r.css({transform:"",opacity:""}),n.isComplete||t.complete()},!1))},isMoved:function(e){var t,n,r=e||this.current;return!!r&&(n=g.fancybox.getTranslate(this.$refs.stage),t=g.fancybox.getTranslate(r.$slide),!r.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(t.top-n.top)||.5<Math.abs(t.left-n.left)))},updateCursor:function(e,t){var n,r,i=this.current,o=this.$refs.container;i&&!this.isClosing&&this.Guestures&&(o.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),r=!!(n=this.canPan(e,t))||this.isZoomable(),o.toggleClass("fancybox-is-zoomable",r),g("[data-fancybox-zoom]").prop("disabled",!r),n?o.addClass("fancybox-can-pan"):r&&("zoom"===i.opts.clickContent||g.isFunction(i.opts.clickContent)&&"zoom"==i.opts.clickContent(i))?o.addClass("fancybox-can-zoomIn"):i.opts.touch&&(i.opts.touch.vertical||1<this.group.length)&&"video"!==i.contentType&&o.addClass("fancybox-can-swipe"))},isZoomable:function(){var e,t=this.current;if(t&&!this.isClosing&&"image"===t.type&&!t.hasError){if(!t.isLoaded)return!0;if((e=this.getFitPos(t))&&(t.width>e.width||t.height>e.height))return!0}return!1},isScaledDown:function(e,t){var n=!1,r=this.current,i=r.$content;return e!==m&&t!==m?n=e<r.width&&t<r.height:i&&(n=(n=g.fancybox.getTranslate(i)).width<r.width&&n.height<r.height),n},canPan:function(e,t){var n=this.current,r=null,i=!1;return"image"===n.type&&(n.isComplete||e&&t)&&!n.hasError&&(i=this.getFitPos(n),e!==m&&t!==m?r={width:e,height:t}:n.isComplete&&(r=g.fancybox.getTranslate(n.$content)),r&&i&&(i=1.5<Math.abs(r.width-i.width)||1.5<Math.abs(r.height-i.height))),i},loadSlide:function(n){var e,t,r,i=this;if(!n.isLoading&&!n.isLoaded){if(!(n.isLoading=!0)===i.trigger("beforeLoad",n))return n.isLoading=!1;switch(e=n.type,(t=n.$slide).off("refresh").trigger("onReset").addClass(n.opts.slideClass),e){case"image":i.setImage(n);break;case"iframe":i.setIframe(n);break;case"html":i.setContent(n,n.src||n.content);break;case"video":i.setContent(n,n.opts.video.tpl.replace(/\{\{src\}\}/gi,n.src).replace("{{format}}",n.opts.videoFormat||n.opts.video.format||"").replace("{{poster}}",n.thumb||""));break;case"inline":g(n.src).length?i.setContent(n,g(n.src)):i.setError(n);break;case"ajax":i.showLoading(n),r=g.ajax(g.extend({},n.opts.ajax.settings,{url:n.src,success:function(e,t){"success"===t&&i.setContent(n,e)},error:function(e,t){e&&"abort"!==t&&i.setError(n)}})),t.one("onReset",function(){r.abort()});break;default:i.setError(n)}return!0}},setImage:function(t){var e,n=this;setTimeout(function(){var e=t.$image;n.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||n.showLoading(t)},50),n.checkSrcset(t),t.$content=g('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,(e=d.createElement("img")).onerror=function(){g(this).remove(),t.$ghost=null},e.onload=function(){n.afterLoad(t)},t.$ghost=g(e).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),n.setBigImage(t)},checkSrcset:function(e){var t,n,r,i,o=e.opts.srcset||e.opts.image.srcset;if(o){r=l.devicePixelRatio||1,i=l.innerWidth*r,(n=o.split(",").map(function(e){var r={};return e.trim().split(/\s+/).forEach(function(e,t){var n=parseInt(e.substring(0,e.length-1),10);if(0===t)return r.url=e;n&&(r.value=n,r.postfix=e[e.length-1])}),r})).sort(function(e,t){return e.value-t.value});for(var s=0;s<n.length;s++){var a=n[s];if("w"===a.postfix&&a.value>=i||"x"===a.postfix&&a.value>=r){t=a;break}}!t&&n.length&&(t=n[n.length-1]),t&&(e.src=t.url,e.width&&e.height&&"w"==t.postfix&&(e.height=e.width/e.height*t.value,e.width=t.value),e.opts.srcset=o)}},setBigImage:function(t){var n=this,e=d.createElement("img"),r=g(e);t.$image=r.one("error",function(){n.setError(t)}).one("load",function(){var e;t.$ghost||(n.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),n.afterLoad(t)),n.isClosing||(t.opts.srcset&&((e=t.opts.sizes)&&"auto"!==e||(e=(1<t.width/t.height&&1<i.width()/i.height()?"100":Math.round(t.width/t.height*100))+"vw"),r.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!n.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),n.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(e.complete||"complete"==e.readyState)&&r.naturalWidth&&r.naturalHeight?r.trigger("load"):e.error&&r.trigger("error")},resolveImageSlideSize:function(e,t,n){var r=parseInt(e.opts.width,10),i=parseInt(e.opts.height,10);e.width=t,e.height=n,0<r&&(e.width=r,e.height=Math.floor(r*n/t)),0<i&&(e.width=Math.floor(i*t/n),e.height=i)},setIframe:function(i){var o,t=this,s=i.opts.iframe,a=i.$slide;i.$content=g('<div class="fancybox-content'+(s.preload?" fancybox-is-hidden":"")+'"></div>').css(s.css).appendTo(a),a.addClass("fancybox-slide--"+i.contentType),i.$iframe=o=g(s.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(s.attr).appendTo(i.$content),s.preload?(t.showLoading(i),o.on("load.fb error.fb",function(e){this.isReady=1,i.$slide.trigger("refresh"),t.afterLoad(i)}),a.on("refresh.fb",function(){var e,t=i.$content,n=s.css.width,r=s.css.height;if(1===o[0].isReady){try{e=o.contents().find("body")}catch(e){}e&&e.length&&e.children().length&&(a.css("overflow","visible"),t.css({width:"100%","max-width":"100%",height:"9999px"}),n===m&&(n=Math.ceil(Math.max(e[0].clientWidth,e.outerWidth(!0)))),t.css("width",n||"").css("max-width",""),r===m&&(r=Math.ceil(Math.max(e[0].clientHeight,e.outerHeight(!0)))),t.css("height",r||""),a.css("overflow","auto")),t.removeClass("fancybox-is-hidden")}})):t.afterLoad(i),o.attr("src",i.src),a.one("onReset",function(){try{g(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(e){}g(this).off("refresh.fb").empty(),i.isLoaded=!1,i.isRevealed=!1})},setContent:function(e,t){var n;this.isClosing||(this.hideLoading(e),e.$content&&g.fancybox.stop(e.$content),e.$slide.empty(),(n=t)&&n.hasOwnProperty&&n instanceof g&&t.parent().length?((t.hasClass("fancybox-content")||t.parent().hasClass("fancybox-content"))&&t.parents(".fancybox-slide").trigger("onReset"),e.$placeholder=g("<div>").hide().insertAfter(t),t.css("display","inline-block")):e.hasError||("string"===g.type(t)&&(t=g("<div>").append(g.trim(t)).contents()),e.opts.filter&&(t=g("<div>").html(t).find(e.opts.filter))),e.$slide.one("onReset",function(){g(this).find("video,audio").trigger("pause"),e.$placeholder&&(e.$placeholder.after(t.removeClass("fancybox-content").hide()).remove(),e.$placeholder=null),e.$smallBtn&&(e.$smallBtn.remove(),e.$smallBtn=null),e.hasError||(g(this).empty(),e.isLoaded=!1,e.isRevealed=!1)}),g(t).appendTo(e.$slide),g(t).is("video,audio")&&(g(t).addClass("fancybox-video"),g(t).wrap("<div></div>"),e.contentType="video",e.opts.width=e.opts.width||g(t).attr("width"),e.opts.height=e.opts.height||g(t).attr("height")),e.$content=e.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),e.$content.siblings().hide(),e.$content.length||(e.$content=e.$slide.wrapInner("<div></div>").children().first()),e.$content.addClass("fancybox-content"),e.$slide.addClass("fancybox-slide--"+e.contentType),this.afterLoad(e))},setError:function(e){e.hasError=!0,e.$slide.trigger("onReset").removeClass("fancybox-slide--"+e.contentType).addClass("fancybox-slide--error"),e.contentType="html",this.setContent(e,this.translate(e,e.opts.errorTpl)),e.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(e){(e=e||this.current)&&!e.$spinner&&(e.$spinner=g(this.translate(this,this.opts.spinnerTpl)).appendTo(e.$slide).hide().fadeIn("fast"))},hideLoading:function(e){(e=e||this.current)&&e.$spinner&&(e.$spinner.stop().remove(),delete e.$spinner)},afterLoad:function(e){this.isClosing||(e.isLoading=!1,e.isLoaded=!0,this.trigger("afterLoad",e),this.hideLoading(e),!e.opts.smallBtn||e.$smallBtn&&e.$smallBtn.length||(e.$smallBtn=g(this.translate(e,e.opts.btnTpl.smallBtn)).appendTo(e.$content)),e.opts.protect&&e.$content&&!e.hasError&&(e.$content.on("contextmenu.fb",function(e){return 2==e.button&&e.preventDefault(),!0}),"image"===e.type&&g('<div class="fancybox-spaceball"></div>').appendTo(e.$content)),this.adjustCaption(e),this.adjustLayout(e),e.pos===this.currPos&&this.updateCursor(),this.revealContent(e))},adjustCaption:function(e){var t,n=e||this.current,r=n.opts.caption,i=n.opts.preventCaptionOverlap,o=this.$refs.caption,s=!1;o.toggleClass("fancybox-caption--separate",i),i&&r&&r.length&&(n.pos!==this.currPos?((t=o.clone().appendTo(o.parent())).children().eq(0).empty().html(r),s=t.outerHeight(!0),t.empty().remove()):this.$caption&&(s=this.$caption.outerHeight(!0)),n.$slide.css("padding-bottom",s||""))},adjustLayout:function(e){var t,n,r,i,o=e||this.current;o.isLoaded&&!0!==o.opts.disableLayoutFix&&(o.$content.css("margin-bottom",""),o.$content.outerHeight()>o.$slide.height()+.5&&(r=o.$slide[0].style["padding-bottom"],i=o.$slide.css("padding-bottom"),0<parseFloat(i)&&(t=o.$slide[0].scrollHeight,o.$slide.css("padding-bottom",0),Math.abs(t-o.$slide[0].scrollHeight)<1&&(n=i),o.$slide.css("padding-bottom",r))),o.$content.css("margin-bottom",n))},revealContent:function(e){var t,n,r,i,o=this,s=e.$slide,a=!1,l=!1,c=o.isMoved(e),u=e.isRevealed;return e.isRevealed=!0,t=e.opts[o.firstRun?"animationEffect":"transitionEffect"],r=e.opts[o.firstRun?"animationDuration":"transitionDuration"],r=parseInt(e.forcedDuration===m?r:e.forcedDuration,10),!c&&e.pos===o.currPos&&r||(t=!1),"zoom"===t&&(e.pos===o.currPos&&r&&"image"===e.type&&!e.hasError&&(l=o.getThumbPos(e))?a=o.getFitPos(e):t="fade"),"zoom"===t?(o.isAnimating=!0,a.scaleX=a.width/l.width,a.scaleY=a.height/l.height,"auto"==(i=e.opts.zoomOpacity)&&(i=.1<Math.abs(e.width/e.height-l.width/l.height)),i&&(l.opacity=.1,a.opacity=1),g.fancybox.setTranslate(e.$content.removeClass("fancybox-is-hidden"),l),h(e.$content),void g.fancybox.animate(e.$content,a,r,function(){o.isAnimating=!1,o.complete()})):(o.updateSlide(e),t?(g.fancybox.stop(s),n="fancybox-slide--"+(e.pos>=o.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+t,s.addClass(n).removeClass("fancybox-slide--current"),e.$content.removeClass("fancybox-is-hidden"),h(s),"image"!==e.type&&e.$content.hide().show(0),void g.fancybox.animate(s,"fancybox-slide--current",r,function(){s.removeClass(n).css({transform:"",opacity:""}),e.pos===o.currPos&&o.complete()},!0)):(e.$content.removeClass("fancybox-is-hidden"),u||!c||"image"!==e.type||e.hasError||e.$content.hide().fadeIn("fast"),void(e.pos===o.currPos&&o.complete())))},getThumbPos:function(e){var t,n,r,i,o,s,a,l,c,u=e.$thumb;return!!(u&&(a=u[0])&&a.ownerDocument===d&&(g(".fancybox-container").css("pointer-events","none"),l={x:a.getBoundingClientRect().left+a.offsetWidth/2,y:a.getBoundingClientRect().top+a.offsetHeight/2},c=d.elementFromPoint(l.x,l.y)===a,g(".fancybox-container").css("pointer-events",""),c))&&(n=g.fancybox.getTranslate(u),r=parseFloat(u.css("border-top-width")||0),i=parseFloat(u.css("border-right-width")||0),o=parseFloat(u.css("border-bottom-width")||0),s=parseFloat(u.css("border-left-width")||0),t={top:n.top+r,left:n.left+s,width:n.width-i-s,height:n.height-r-o,scaleX:1,scaleY:1},0<n.width&&0<n.height&&t)},complete:function(){var e,n=this,t=n.current,r={};!n.isMoved()&&t.isLoaded&&(t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),n.preload("inline"),h(t.$slide),t.$slide.addClass("fancybox-slide--complete"),g.each(n.slides,function(e,t){t.pos>=n.currPos-1&&t.pos<=n.currPos+1?r[t.pos]=t:t&&(g.fancybox.stop(t.$slide),t.$slide.off().remove())}),n.slides=r),n.isAnimating=!1,n.updateCursor(),n.trigger("afterShow"),t.opts.video.autoStart&&t.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),n.next()}),t.opts.autoFocus&&"html"===t.contentType&&((e=t.$content.find("input[autofocus]:enabled:visible:first")).length?e.trigger("focus"):n.focus(null,!0)),t.$slide.scrollTop(0).scrollLeft(0))},preload:function(e){var t,n;this.group.length<2||(n=this.slides[this.currPos+1],(t=this.slides[this.currPos-1])&&t.type===e&&this.loadSlide(t),n&&n.type===e&&this.loadSlide(n))},focus:function(e,t){var n,r,i=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");this.isClosing||((n=(n=!e&&this.current&&this.current.isComplete?this.current.$slide.find("*:visible"+(t?":not(.fancybox-close-small)":"")):this.$refs.container.find("*:visible")).filter(i).filter(function(){return"hidden"!==g(this).css("visibility")&&!g(this).hasClass("disabled")})).length?(r=n.index(d.activeElement),e&&e.shiftKey?(r<0||0==r)&&(e.preventDefault(),n.eq(n.length-1).trigger("focus")):(r<0||r==n.length-1)&&(e&&e.preventDefault(),n.eq(0).trigger("focus"))):this.$refs.container.trigger("focus"))},activate:function(){var t=this;g(".fancybox-container").each(function(){var e=g(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(e,t){function n(){u.cleanUp(e)}var r,i,o,s,a,l,c,u=this,d=u.current;return!u.isClosing&&(!(u.isClosing=!0)===u.trigger("beforeClose",e)?(u.isClosing=!1,f(function(){u.update()}),!1):(u.removeEvents(),o=d.$content,r=d.opts.animationEffect,i=g.isNumeric(t)?t:r?d.opts.animationDuration:0,d.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==e?g.fancybox.stop(d.$slide):r=!1,d.$slide.siblings().trigger("onReset").remove(),i&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",i+"ms"),u.hideLoading(d),u.hideControls(!0),u.updateCursor(),"zoom"!==r||o&&i&&"image"===d.type&&!u.isMoved()&&!d.hasError&&(c=u.getThumbPos(d))||(r="fade"),"zoom"===r?(g.fancybox.stop(o),l={top:(s=g.fancybox.getTranslate(o)).top,left:s.left,scaleX:s.width/c.width,scaleY:s.height/c.height,width:c.width,height:c.height},"auto"==(a=d.opts.zoomOpacity)&&(a=.1<Math.abs(d.width/d.height-c.width/c.height)),a&&(c.opacity=0),g.fancybox.setTranslate(o,l),h(o),g.fancybox.animate(o,c,i,n)):r&&i?g.fancybox.animate(d.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+r,i,n):!0===e?setTimeout(n,i):n(),!0))},cleanUp:function(e){var t,n,r,i=this.current.opts.$orig;this.current.$slide.trigger("onReset"),this.$refs.container.empty().remove(),this.trigger("afterClose",e),this.current.opts.backFocus&&(i&&i.length&&i.is(":visible")||(i=this.$trigger),i&&i.length&&(n=l.scrollX,r=l.scrollY,i.trigger("focus"),g("html, body").scrollTop(r).scrollLeft(n))),this.current=null,(t=g.fancybox.getInstance())?t.activate():(g("body").removeClass("fancybox-active compensate-for-scrollbar"),g("#fancybox-style-noscroll").remove())},trigger:function(e,t){var n,r=Array.prototype.slice.call(arguments,1),i=t&&t.opts?t:this.current;if(i?r.unshift(i):i=this,r.unshift(this),g.isFunction(i.opts[e])&&(n=i.opts[e].apply(i,r)),!1===n)return n;"afterClose"!==e&&this.$refs?this.$refs.container.trigger(e+".fb",r):o.trigger(e+".fb",r)},updateControls:function(){var e=this,t=e.current,n=t.index,r=e.$refs.container,i=e.$refs.caption,o=t.opts.caption;t.$slide.trigger("refresh"),o&&o.length?(e.$caption=i).children().eq(0).html(o):e.$caption=null,e.hasHiddenControls||e.isIdle||e.showControls(),r.find("[data-fancybox-count]").html(e.group.length),r.find("[data-fancybox-index]").html(n+1),r.find("[data-fancybox-prev]").prop("disabled",!t.opts.loop&&n<=0),r.find("[data-fancybox-next]").prop("disabled",!t.opts.loop&&n>=e.group.length-1),"image"===t.type?r.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",t.opts.image.src||t.src).show():t.opts.toolbar&&r.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),g(d.activeElement).is(":hidden,[disabled]")&&e.$refs.container.trigger("focus")},hideControls:function(e){var t=["infobar","toolbar","nav"];!e&&this.current.opts.preventCaptionOverlap||t.push("caption"),this.$refs.container.removeClass(t.map(function(e){return"fancybox-show-"+e}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var e=this.current?this.current.opts:this.opts,t=this.$refs.container;this.hasHiddenControls=!1,this.idleSecondsCounter=0,t.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<this.group.length)).toggleClass("fancybox-show-caption",!!this.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&1<this.group.length)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),g.fancybox={version:"3.5.7",defaults:e,getInstance:function(e){var t=g('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return t instanceof r&&("string"===g.type(e)?t[e].apply(t,n):"function"===g.type(e)&&e.apply(t,n),t)},open:function(e,t,n){return new r(e,t,n)},close:function(e){var t=this.getInstance();t&&(t.close(),!0===e&&this.close(e))},destroy:function(){this.close(!0),o.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(n=d.createElement("div"),l.getComputedStyle&&l.getComputedStyle(n)&&l.getComputedStyle(n).getPropertyValue("transform")&&!(d.documentMode&&d.documentMode<11)),getTranslate:function(e){var t;return!(!e||!e.length)&&{top:(t=e[0].getBoundingClientRect()).top||0,left:t.left||0,width:t.width,height:t.height,opacity:parseFloat(e.css("opacity"))}},setTranslate:function(e,t){var n="",r={};if(e&&t)return t.left===m&&t.top===m||(n=(t.left===m?e.position().left:t.left)+"px, "+(t.top===m?e.position().top:t.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),t.scaleX!==m&&t.scaleY!==m?n+=" scale("+t.scaleX+", "+t.scaleY+")":t.scaleX!==m&&(n+=" scaleX("+t.scaleX+")"),n.length&&(r.transform=n),t.opacity!==m&&(r.opacity=t.opacity),t.width!==m&&(r.width=t.width),t.height!==m&&(r.height=t.height),e.css(r)},animate:function(t,n,r,i,o){var s,a=this;g.isFunction(r)&&(i=r,r=null),a.stop(t),s=a.getTranslate(t),t.on(c,function(e){e&&e.originalEvent&&(!t.is(e.originalEvent.target)||"z-index"==e.originalEvent.propertyName)||(a.stop(t),g.isNumeric(r)&&t.css("transition-duration",""),g.isPlainObject(n)?n.scaleX!==m&&n.scaleY!==m&&a.setTranslate(t,{top:n.top,left:n.left,width:s.width*n.scaleX,height:s.height*n.scaleY,scaleX:1,scaleY:1}):!0!==o&&t.removeClass(n),g.isFunction(i)&&i(e))}),g.isNumeric(r)&&t.css("transition-duration",r+"ms"),g.isPlainObject(n)?(n.scaleX!==m&&n.scaleY!==m&&(delete n.width,delete n.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),g.fancybox.setTranslate(t,n)):t.addClass(n),t.data("timer",setTimeout(function(){t.trigger(c)},r+33))},stop:function(e,t){e&&e.length&&(clearTimeout(e.data("timer")),t&&e.trigger(c),e.off(c).css("transition-duration",""),e.parent().removeClass("fancybox-is-scaling"))}},g.fn.fancybox=function(e){var t;return(t=(e=e||{}).selector||!1)?g("body").off("click.fb-start",t).on("click.fb-start",t,{options:e},y):this.off("click.fb-start").on("click.fb-start",{items:this,options:e},y),this},o.on("click.fb-start","[data-fancybox]",y),o.on("click.fb-start","[data-fancybox-trigger]",function(e){g('[data-fancybox="'+g(this).attr("data-fancybox-trigger")+'"]').eq(g(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:g(this)})}),a=".fancybox-button",p="fancybox-focus",v=null,o.on("mousedown mouseup focus blur",a,function(e){switch(e.type){case"mousedown":v=g(this);break;case"mouseup":v=null;break;case"focusin":g(a).removeClass(p),g(this).is(v)||g(this).is("[disabled]")||g(this).addClass(p);break;case"focusout":g(a).removeClass(p)}})))}(window,document,jQuery),function(h){"use strict";function p(n,e,t){if(n)return t=t||"","object"===h.type(t)&&(t=h.param(t,!0)),h.each(e,function(e,t){n=n.replace("$"+e,t||"")}),t.length&&(n+=(0<n.indexOf("?")?"&":"?")+t),n}var r={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/?ll="+(e[9]?e[9]+"&z="+Math.floor(e[10])+(e[12]?e[12].replace(/^\//,"&"):""):e[12]+"").replace(/\?/,"&")+"&output="+(e[12]&&0<e[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/maps?q="+e[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};h(document).on("objectNeedsType.fb",function(e,t,i){var o,s,a,l,c,u,d=i.src||"",f=!1,n=h.extend(!0,{},r,i.opts.media);h.each(n,function(e,t){if(s=d.match(t.matcher)){if(f=t.type,u=e,c={},t.paramPlace&&s[t.paramPlace]){"?"==(l=s[t.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var n=0;n<l.length;++n){var r=l[n].split("=",2);2==r.length&&(c[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")))}}return a=h.extend(!0,{},t.params,i.opts[e],c),d="function"===h.type(t.url)?t.url.call(this,s,a,i):p(t.url,s,a),o="function"===h.type(t.thumb)?t.thumb.call(this,s,a,i):p(t.thumb,s),"youtube"===e?d=d.replace(/&t=((\d+)m)?(\d+)s/,function(e,t,n,r){return"&start="+((n?60*parseInt(n,10):0)+parseInt(r,10))}):"vimeo"===e&&(d=d.replace("&%23","#")),!1}}),f?(i.opts.thumb||i.opts.$thumb&&i.opts.$thumb.length||(i.opts.thumb=o),"iframe"===f&&(i.opts=h.extend(!0,i.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),h.extend(i,{type:f,src:d,origSrc:i.src,contentSource:u,contentType:"image"===f?"image":"gmap_place"==u||"gmap_search"==u?"map":"video"})):d&&(i.type=i.opts.defaultType)});var i={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(e){var t,n=this;this[e].loaded?setTimeout(function(){n.done(e)}):this[e].loading||(this[e].loading=!0,(t=document.createElement("script")).type="text/javascript",t.src=this[e].src,"youtube"===e?window.onYouTubeIframeAPIReady=function(){n[e].loaded=!0,n.done(e)}:t.onload=function(){n[e].loaded=!0,n.done(e)},document.body.appendChild(t))},done:function(e){var t,n;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(t=h.fancybox.getInstance())&&(n=t.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?new YT.Player(n.attr("id"),{events:{onStateChange:function(e){0==e.data&&t.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(n).on("ended",function(){t.next()}))}};h(document).on({"afterShow.fb":function(e,t,n){1<t.group.length&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&i.load(n.contentSource)}})}(jQuery),function(g,l,m){"use strict";function u(e){var t=[];for(var n in e=(e=e.originalEvent||e||g.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[n].pageX?t.push({x:e[n].pageX,y:e[n].pageY}):e[n].clientX&&t.push({x:e[n].clientX,y:e[n].clientY});return t}function v(e,t,n){return t&&e?"x"===n?e.x-t.x:"y"===n?e.y-t.y:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function c(e){if(e.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||m.isFunction(e.get(0).onclick)||e.data("selectable"))return 1;for(var t=0,n=e[0].attributes,r=n.length;t<r;t++)if("data-fancybox-"===n[t].nodeName.substr(0,14))return 1}function d(e){for(var t,n,r,i,o,s=!1;t=e.get(0),0,n=g.getComputedStyle(t)["overflow-y"],r=g.getComputedStyle(t)["overflow-x"],i=("scroll"===n||"auto"===n)&&t.scrollHeight>t.clientHeight,o=("scroll"===r||"auto"===r)&&t.scrollWidth>t.clientWidth,!(s=i||o)&&(e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body"););return s}function n(e){this.instance=e,this.$bg=e.$refs.bg,this.$stage=e.$refs.stage,this.$container=e.$refs.container,this.destroy(),this.$container.on("touchstart.fb.touch mousedown.fb.touch",m.proxy(this,"ontouchstart"))}var y=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||function(e){return g.setTimeout(e,1e3/60)},b=g.cancelAnimationFrame||g.webkitCancelAnimationFrame||g.mozCancelAnimationFrame||g.oCancelAnimationFrame||function(e){g.clearTimeout(e)};n.prototype.destroy=function(){this.$container.off(".fb.touch"),m(l).off(".fb.touch"),this.requestId&&(b(this.requestId),this.requestId=null),this.tapped&&(clearTimeout(this.tapped),this.tapped=null)},n.prototype.ontouchstart=function(e){var t=this,n=m(e.target),r=t.instance,i=r.current,o=i.$slide,s=i.$content,a="touchstart"==e.type;if(a&&t.$container.off("mousedown.fb.touch"),(!e.originalEvent||2!=e.originalEvent.button)&&o.length&&n.length&&!c(n)&&!c(n.parent())&&(n.is("img")||!(e.originalEvent.clientX>n[0].clientWidth+n.offset().left))){if(!i||r.isAnimating||i.$slide.hasClass("fancybox-animated"))return e.stopPropagation(),void e.preventDefault();t.realPoints=t.startPoints=u(e),t.startPoints.length&&(i.touch&&e.stopPropagation(),t.startEvent=e,t.canTap=!0,t.$target=n,t.$content=s,t.opts=i.opts.touch,t.isPanning=!1,t.isSwiping=!1,t.isZooming=!1,t.isScrolling=!1,t.canPan=r.canPan(),t.startTime=(new Date).getTime(),t.distanceX=t.distanceY=t.distance=0,t.canvasWidth=Math.round(o[0].clientWidth),t.canvasHeight=Math.round(o[0].clientHeight),t.contentLastPos=null,t.contentStartPos=m.fancybox.getTranslate(t.$content)||{top:0,left:0},t.sliderStartPos=m.fancybox.getTranslate(o),t.stagePos=m.fancybox.getTranslate(r.$refs.stage),t.sliderStartPos.top-=t.stagePos.top,t.sliderStartPos.left-=t.stagePos.left,t.contentStartPos.top-=t.stagePos.top,t.contentStartPos.left-=t.stagePos.left,m(l).off(".fb.touch").on(a?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",m.proxy(t,"ontouchend")).on(a?"touchmove.fb.touch":"mousemove.fb.touch",m.proxy(t,"ontouchmove")),m.fancybox.isMobile&&l.addEventListener("scroll",t.onscroll,!0),((t.opts||t.canPan)&&(n.is(t.$stage)||t.$stage.find(n).length)||(n.is(".fancybox-image")&&e.preventDefault(),m.fancybox.isMobile&&n.parents(".fancybox-caption").length))&&(t.isScrollable=d(n)||d(n.parent()),m.fancybox.isMobile&&t.isScrollable||e.preventDefault(),1!==t.startPoints.length&&!i.hasError||(t.canPan?(m.fancybox.stop(t.$content),t.isPanning=!0):t.isSwiping=!0,t.$container.addClass("fancybox-is-grabbing")),2===t.startPoints.length&&"image"===i.type&&(i.isLoaded||i.$ghost)&&(t.canTap=!1,t.isSwiping=!1,t.isPanning=!1,t.isZooming=!0,m.fancybox.stop(t.$content),t.centerPointStartX=.5*(t.startPoints[0].x+t.startPoints[1].x)-m(g).scrollLeft(),t.centerPointStartY=.5*(t.startPoints[0].y+t.startPoints[1].y)-m(g).scrollTop(),t.percentageOfImageAtPinchPointX=(t.centerPointStartX-t.contentStartPos.left)/t.contentStartPos.width,t.percentageOfImageAtPinchPointY=(t.centerPointStartY-t.contentStartPos.top)/t.contentStartPos.height,t.startDistanceBetweenFingers=v(t.startPoints[0],t.startPoints[1]))))}},n.prototype.onscroll=function(e){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},n.prototype.ontouchmove=function(e){var t=this;void 0===e.originalEvent.buttons||0!==e.originalEvent.buttons?t.isScrolling?t.canTap=!1:(t.newPoints=u(e),(t.opts||t.canPan)&&t.newPoints.length&&t.newPoints.length&&(t.isSwiping&&!0===t.isSwiping||e.preventDefault(),t.distanceX=v(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=v(t.newPoints[0],t.startPoints[0],"y"),t.distance=v(t.newPoints[0],t.startPoints[0]),0<t.distance&&(t.isSwiping?t.onSwipe(e):t.isPanning?t.onPan():t.isZooming&&t.onZoom()))):t.ontouchend(e)},n.prototype.onSwipe=function(e){var t,i=this,o=i.instance,n=i.isSwiping,r=i.sliderStartPos.left||0;if(!0!==n)"x"==n&&(0<i.distanceX&&(i.instance.group.length<2||0===i.instance.current.index&&!i.instance.current.opts.loop)?r+=Math.pow(i.distanceX,.8):i.distanceX<0&&(i.instance.group.length<2||i.instance.current.index===i.instance.group.length-1&&!i.instance.current.opts.loop)?r-=Math.pow(-i.distanceX,.8):r+=i.distanceX),i.sliderLastPos={top:"x"==n?0:i.sliderStartPos.top+i.distanceY,left:r},i.requestId&&(b(i.requestId),i.requestId=null),i.requestId=y(function(){i.sliderLastPos&&(m.each(i.instance.slides,function(e,t){var n=t.pos-i.instance.currPos;m.fancybox.setTranslate(t.$slide,{top:i.sliderLastPos.top,left:i.sliderLastPos.left+n*i.canvasWidth+n*t.opts.gutter})}),i.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(i.distance)){if(i.canTap=!1,o.group.length<2&&i.opts.vertical?i.isSwiping="y":o.isDragging||!1===i.opts.vertical||"auto"===i.opts.vertical&&800<m(g).width()?i.isSwiping="x":(t=Math.abs(180*Math.atan2(i.distanceY,i.distanceX)/Math.PI),i.isSwiping=45<t&&t<135?"y":"x"),"y"===i.isSwiping&&m.fancybox.isMobile&&i.isScrollable)return void(i.isScrolling=!0);o.isDragging=i.isSwiping,i.startPoints=i.newPoints,m.each(o.slides,function(e,t){var n,r;m.fancybox.stop(t.$slide),n=m.fancybox.getTranslate(t.$slide),r=m.fancybox.getTranslate(o.$refs.stage),t.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),t.pos===o.current.pos&&(i.sliderStartPos.top=n.top-r.top,i.sliderStartPos.left=n.left-r.left),m.fancybox.setTranslate(t.$slide,{top:n.top-r.top,left:n.left-r.left})}),o.SlideShow&&o.SlideShow.isActive&&o.SlideShow.stop()}},n.prototype.onPan=function(){var e=this;v(e.newPoints[0],e.realPoints[0])<(m.fancybox.isMobile?10:5)?e.startPoints=e.newPoints:(e.canTap=!1,e.contentLastPos=e.limitMovement(),e.requestId&&b(e.requestId),e.requestId=y(function(){m.fancybox.setTranslate(e.$content,e.contentLastPos)}))},n.prototype.limitMovement=function(){var e=this.canvasWidth,t=this.canvasHeight,n=this.distanceX,r=this.distanceY,i=this.contentStartPos,o=i.left,s=i.top,a=i.width,l=i.height,c=e<a?o+n:o,u=s+r,d=Math.max(0,.5*e-.5*a),f=Math.max(0,.5*t-.5*l),h=Math.min(e-a,.5*e-.5*a),p=Math.min(t-l,.5*t-.5*l);return 0<n&&d<c&&(c=d-1+Math.pow(-d+o+n,.8)||0),n<0&&c<h&&(c=h+1-Math.pow(h-o-n,.8)||0),0<r&&f<u&&(u=f-1+Math.pow(-f+s+r,.8)||0),r<0&&u<p&&(u=p+1-Math.pow(p-s-r,.8)||0),{top:u,left:c}},n.prototype.limitPosition=function(e,t,n,r){var i=this.canvasWidth,o=this.canvasHeight;return e=i<n?(e=0<e?0:e)<i-n?i-n:e:Math.max(0,i/2-n/2),{top:t=o<r?(t=0<t?0:t)<o-r?o-r:t:Math.max(0,o/2-r/2),left:e}},n.prototype.onZoom=function(){var e=this,t=e.contentStartPos,n=t.width,r=t.height,i=t.left,o=t.top,s=v(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,a=Math.floor(n*s),l=Math.floor(r*s),c=(n-a)*e.percentageOfImageAtPinchPointX,u=(r-l)*e.percentageOfImageAtPinchPointY,d=(e.newPoints[0].x+e.newPoints[1].x)/2-m(g).scrollLeft(),f=(e.newPoints[0].y+e.newPoints[1].y)/2-m(g).scrollTop(),h=d-e.centerPointStartX,p={top:o+(u+(f-e.centerPointStartY)),left:i+(c+h),scaleX:s,scaleY:s};e.canTap=!1,e.newWidth=a,e.newHeight=l,e.contentLastPos=p,e.requestId&&b(e.requestId),e.requestId=y(function(){m.fancybox.setTranslate(e.$content,e.contentLastPos)})},n.prototype.ontouchend=function(e){var t=this,n=t.isSwiping,r=t.isPanning,i=t.isZooming,o=t.isScrolling;if(t.endPoints=u(e),t.dMs=Math.max((new Date).getTime()-t.startTime,1),t.$container.removeClass("fancybox-is-grabbing"),m(l).off(".fb.touch"),l.removeEventListener("scroll",t.onscroll,!0),t.requestId&&(b(t.requestId),t.requestId=null),t.isSwiping=!1,t.isPanning=!1,t.isZooming=!1,t.isScrolling=!1,t.instance.isDragging=!1,t.canTap)return t.onTap(e);t.speed=100,t.velocityX=t.distanceX/t.dMs*.5,t.velocityY=t.distanceY/t.dMs*.5,r?t.endPanning():i?t.endZooming():t.endSwiping(n,o)},n.prototype.endSwiping=function(e,t){var n=this,r=!1,i=n.instance.group.length,o=Math.abs(n.distanceX),s="x"==e&&1<i&&(130<n.dMs&&10<o||50<o);n.sliderLastPos=null,"y"==e&&!t&&50<Math.abs(n.distanceY)?(m.fancybox.animate(n.instance.current.$slide,{top:n.sliderStartPos.top+n.distanceY+150*n.velocityY,opacity:0},200),r=n.instance.close(!0,250)):s&&0<n.distanceX?r=n.instance.previous(300):s&&n.distanceX<0&&(r=n.instance.next(300)),!1!==r||"x"!=e&&"y"!=e||n.instance.centerSlide(200),n.$container.removeClass("fancybox-is-sliding")},n.prototype.endPanning=function(){var e,t,n,r=this;r.contentLastPos&&(t=!1===r.opts.momentum||350<r.dMs?(e=r.contentLastPos.left,r.contentLastPos.top):(e=r.contentLastPos.left+500*r.velocityX,r.contentLastPos.top+500*r.velocityY),(n=r.limitPosition(e,t,r.contentStartPos.width,r.contentStartPos.height)).width=r.contentStartPos.width,n.height=r.contentStartPos.height,m.fancybox.animate(r.$content,n,366))},n.prototype.endZooming=function(){var e,t,n,r,i=this,o=i.instance.current,s=i.newWidth,a=i.newHeight;i.contentLastPos&&(e=i.contentLastPos.left,r={top:t=i.contentLastPos.top,left:e,width:s,height:a,scaleX:1,scaleY:1},m.fancybox.setTranslate(i.$content,r),s<i.canvasWidth&&a<i.canvasHeight?i.instance.scaleToFit(150):s>o.width||a>o.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(n=i.limitPosition(e,t,s,a),m.fancybox.animate(i.$content,n,150)))},n.prototype.onTap=function(n){function e(e){var t=s.opts[e];if(m.isFunction(t)&&(t=t.apply(o,[s,n])),t)switch(t){case"close":o.close(r.startEvent);break;case"toggleControls":o.toggleControls();break;case"next":o.next();break;case"nextOrClose":1<o.group.length?o.next():o.close(r.startEvent);break;case"zoom":"image"==s.type&&(s.isLoaded||s.$ghost)&&(o.canPan()?o.scaleToFit():o.isScaledDown()?o.scaleToActual(l,c):o.group.length<2&&o.close(r.startEvent))}}var t,r=this,i=m(n.target),o=r.instance,s=o.current,a=n&&u(n)||r.startPoints,l=a[0]?a[0].x-m(g).scrollLeft()-r.stagePos.left:0,c=a[0]?a[0].y-m(g).scrollTop()-r.stagePos.top:0;if((!n.originalEvent||2!=n.originalEvent.button)&&(i.is("img")||!(l>i[0].clientWidth+i.offset().left))){if(i.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))t="Outside";else if(i.is(".fancybox-slide"))t="Slide";else{if(!o.current.$content||!o.current.$content.find(i).addBack().filter(i).length)return;t="Content"}if(r.tapped){if(clearTimeout(r.tapped),r.tapped=null,50<Math.abs(l-r.tapX)||50<Math.abs(c-r.tapY))return this;e("dblclick"+t)}else r.tapX=l,r.tapY=c,s.opts["dblclick"+t]&&s.opts["dblclick"+t]!==s.opts["click"+t]?r.tapped=setTimeout(function(){r.tapped=null,o.isAnimating||e("click"+t)},500):e("click"+t);return this}},m(l).on("onActivate.fb",function(e,t){t&&!t.Guestures&&(t.Guestures=new n(t))}).on("beforeClose.fb",function(e,t){t&&t.Guestures&&t.Guestures.destroy()})}(window,document,jQuery),function(s,a){"use strict";a.extend(!0,a.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});function n(e){this.instance=e,this.init()}a.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var e=this,t=e.instance,n=t.group[t.currIndex].opts.slideShow;e.$button=t.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){e.toggle()}),t.group.length<2||!n?e.$button.hide():n.progress&&(e.$progress=a('<div class="fancybox-progress"></div>').appendTo(t.$refs.inner))},set:function(e){var t=this.instance,n=t.current;n&&(!0===e||n.opts.loop||t.currIndex<t.group.length-1)?this.isActive&&"video"!==n.contentType&&(this.$progress&&a.fancybox.animate(this.$progress.show(),{scaleX:1},n.opts.slideShow.speed),this.timer=setTimeout(function(){t.current.opts.loop||t.current.index!=t.group.length-1?t.next():t.jumpTo(0)},n.opts.slideShow.speed)):(this.stop(),t.idleSecondsCounter=0,t.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var e=this.instance.current;e&&(this.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.isActive=!0,e.isComplete&&this.set(!0),this.instance.trigger("onSlideShowChange",!0))},stop:function(){var e=this.instance.current;this.clear(),this.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),this.isActive=!1,this.instance.trigger("onSlideShowChange",!1),this.$progress&&this.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),a(s).on({"onInit.fb":function(e,t){t&&!t.SlideShow&&(t.SlideShow=new n(t))},"beforeShow.fb":function(e,t,n,r){var i=t&&t.SlideShow;r?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(e,t,n){var r=t&&t.SlideShow;r&&r.isActive&&r.set()},"afterKeydown.fb":function(e,t,n,r,i){var o=t&&t.SlideShow;!o||!n.opts.slideShow||80!==i&&32!==i||a(s.activeElement).is("button,a,input")||(r.preventDefault(),o.toggle())},"beforeClose.fb onDeactivate.fb":function(e,t){var n=t&&t.SlideShow;n&&n.stop()}}),a(s).on("visibilitychange",function(){var e=a.fancybox.getInstance(),t=e&&e.SlideShow;t&&t.isActive&&(s.hidden?t.clear():t.set())})}(document,jQuery),function(o,n){"use strict";var r,i=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t={},n=0;n<e.length;n++){var r=e[n];if(r&&r[1]in o){for(var i=0;i<r.length;i++)t[e[0][i]]=r[i];return t}}return!1}();i&&(r={request:function(e){(e=e||o.documentElement)[i.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){o[i.exitFullscreen]()},toggle:function(e){e=e||o.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(o[i.fullscreenElement])},enabled:function(){return Boolean(o[i.fullscreenEnabled])}},n.extend(!0,n.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),n(o).on(i.fullscreenchange,function(){var e=r.isFullscreen(),t=n.fancybox.getInstance();t&&(t.current&&"image"===t.current.type&&t.isAnimating&&(t.isAnimating=!1,t.update(!0,!0,0),t.isComplete||t.complete()),t.trigger("onFullscreenChange",e),t.$refs.container.toggleClass("fancybox-is-fullscreen",e),t.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!e).toggleClass("fancybox-button--fsexit",e))})),n(o).on({"onInit.fb":function(e,t){i?t&&t.group[t.currIndex].opts.fullScreen?(t.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(e){e.stopPropagation(),e.preventDefault(),r.toggle()}),t.opts.fullScreen&&!0===t.opts.fullScreen.autoStart&&r.request(),t.FullScreen=r):t&&t.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():t.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(e,t,n,r,i){t&&t.FullScreen&&70===i&&(r.preventDefault(),t.FullScreen.toggle())},"beforeClose.fb":function(e,t){t&&t.FullScreen&&t.$refs.container.hasClass("fancybox-is-fullscreen")&&r.exit()}})}(document,jQuery),function(e,o){"use strict";var s="fancybox-thumbs",a=s+"-active";o.fancybox.defaults=o.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},o.fancybox.defaults);function r(e){this.init(e)}o.extend(r.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(e){var t=this,n=e.group,r=0;t.instance=e,t.opts=n[e.currIndex].opts.thumbs,(e.Thumbs=t).$button=e.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,o=n.length;i<o&&(n[i].thumb&&r++,!(1<r));i++);1<r&&t.opts?(t.$button.removeAttr("style").on("click",function(){t.toggle()}),t.isActive=!0):t.$button.hide()},create:function(){var n,e=this,t=e.instance,r=e.opts.parentEl,i=[];e.$grid||(e.$grid=o('<div class="'+s+" "+s+"-"+e.opts.axis+'"></div>').appendTo(t.$refs.container.find(r).addBack().filter(r)),e.$grid.on("click","a",function(){t.jumpTo(o(this).attr("data-index"))})),e.$list||(e.$list=o('<div class="'+s+'__list">').appendTo(e.$grid)),o.each(t.group,function(e,t){(n=t.thumb)||"image"!==t.type||(n=t.src),i.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(n&&n.length?' style="background-image:url('+n+')"':'class="fancybox-thumbs-missing"')+"></a>")}),e.$list[0].innerHTML=i.join(""),"x"===e.opts.axis&&e.$list.width(parseInt(e.$grid.css("padding-right"),10)+t.group.length*e.$list.children().eq(0).outerWidth(!0))},focus:function(e){var t,n,r=this.$list,i=this.$grid;this.instance.current&&(n=(t=r.children().removeClass(a).filter('[data-index="'+this.instance.current.index+'"]').addClass(a)).position(),"y"===this.opts.axis&&(n.top<0||n.top>r.height()-t.outerHeight())?r.stop().animate({scrollTop:r.scrollTop()+n.top},e):"x"===this.opts.axis&&(n.left<i.scrollLeft()||n.left>i.scrollLeft()+(i.width()-t.outerWidth()))&&r.parent().stop().animate({scrollLeft:n.left},e))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),o(e).on({"onInit.fb":function(e,t){var n;t&&!t.Thumbs&&(n=new r(t)).isActive&&!0===n.opts.autoStart&&n.show()},"beforeShow.fb":function(e,t,n,r){var i=t&&t.Thumbs;i&&i.isVisible&&i.focus(r?0:250)},"afterKeydown.fb":function(e,t,n,r,i){var o=t&&t.Thumbs;o&&o.isActive&&71===i&&(r.preventDefault(),o.toggle())},"beforeClose.fb":function(e,t){var n=t&&t.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(e,o){"use strict";o.extend(!0,o.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(e,t){return!e.currentHash&&"inline"!==t.type&&"html"!==t.type&&(t.origSrc||t.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),o(e).on("click","[data-fancybox-share]",function(){var e,t,n,r=o.fancybox.getInstance(),i=r.current||null;i&&("function"===o.type(i.opts.share.url)&&(e=i.opts.share.url.apply(i,[r,i])),t=i.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===i.type?encodeURIComponent(i.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(e)).replace(/\{\{url_raw\}\}/g,(n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(e).replace(/[&<>"'`=\/]/g,function(e){return n[e]}))).replace(/\{\{descr\}\}/g,r.$caption?encodeURIComponent(r.$caption.text()):""),o.fancybox.open({src:r.translate(r,t),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(e,t){r.$refs.container.one("beforeClose.fb",function(){e.close(null,0)}),t.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(o,s,i){"use strict";function a(){var e=o.location.hash.substr(1),t=e.split("-"),n=1<t.length&&/^\+?\d+$/.test(t[t.length-1])&&parseInt(t.pop(-1),10)||1;return{hash:e,index:n<1?1:n,gallery:t.join("-")}}function t(e){""!==e.gallery&&i("[data-fancybox='"+i.escapeSelector(e.gallery)+"']").eq(e.index-1).focus().trigger("click.fb-start")}function l(e){var t,n;return!!e&&(""!==(n=(t=e.current?e.current.opts:e.opts).hash||(t.$orig?t.$orig.data("fancybox")||t.$orig.data("fancybox-trigger"):""))&&n)}i.escapeSelector||(i.escapeSelector=function(e){return(e+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e})}),i(function(){!1!==i.fancybox.defaults.hash&&(i(s).on({"onInit.fb":function(e,t){var n,r;!1!==t.group[t.currIndex].opts.hash&&(n=a(),(r=l(t))&&n.gallery&&r==n.gallery&&(t.currIndex=n.index-1))},"beforeShow.fb":function(e,t,n,r){var i;n&&!1!==n.opts.hash&&(i=l(t))&&(t.currentHash=i+(1<t.group.length?"-"+(n.index+1):""),o.location.hash!=="#"+t.currentHash&&(r&&!t.origHash&&(t.origHash=o.location.hash),t.hashTimer&&clearTimeout(t.hashTimer),t.hashTimer=setTimeout(function(){"replaceState"in o.history?(o.history[r?"pushState":"replaceState"]({},s.title,o.location.pathname+o.location.search+"#"+t.currentHash),r&&(t.hasCreatedHistory=!0)):o.location.hash=t.currentHash,t.hashTimer=null},300)))},"beforeClose.fb":function(e,t,n){n&&!1!==n.opts.hash&&(clearTimeout(t.hashTimer),t.currentHash&&t.hasCreatedHistory?o.history.back():t.currentHash&&("replaceState"in o.history?o.history.replaceState({},s.title,o.location.pathname+o.location.search+(t.origHash||"")):o.location.hash=t.origHash),t.currentHash=null)}}),i(o).on("hashchange.fb",function(){var e=a(),r=null;i.each(i(".fancybox-container").get().reverse(),function(e,t){var n=i(t).data("FancyBox");if(n&&n.currentHash)return r=n,!1}),r?r.currentHash===e.gallery+"-"+e.index||1===e.index&&r.currentHash==e.gallery||(r.currentHash=null,r.close()):""!==e.gallery&&t(e)}),setTimeout(function(){i.fancybox.getInstance()||t(a())},50))})}(window,document,jQuery),function(e,t){"use strict";var i=(new Date).getTime();t(e).on({"onInit.fb":function(e,r,t){r.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){var t=r.current,n=(new Date).getTime();r.group.length<2||!1===t.opts.wheel||"auto"===t.opts.wheel&&"image"!==t.type||(e.preventDefault(),e.stopPropagation(),t.$slide.hasClass("fancybox-animated")||(e=e.originalEvent||e,n-i<250||(i=n,r[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]())))})}})}(document,jQuery);var Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=!0,s=!1,a=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.apply(this,r)}}catch(e){s=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw a}}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var r=0;r<n.length;r++){if(n[r]===t){n.splice(r,1);break}}return this}}]),e}(),Dropzone=function(){function O(e,t){var n,r,i;if(_classCallCheck(this,O),(n=_possibleConstructorReturn(this,_getPrototypeOf(O).call(this))).element=e,n.version=O.version,n.defaultOptions.previewTemplate=n.defaultOptions.previewTemplate.replace(/\n*/g,""),n.clickableElements=[],n.listeners=[],n.files=[],"string"==typeof n.element&&(n.element=document.querySelector(n.element)),!n.element||null==n.element.nodeType)throw new Error("Invalid dropzone element.");if(n.element.dropzone)throw new Error("Dropzone already attached.");O.instances.push(_assertThisInitialized(n)),n.element.dropzone=_assertThisInitialized(n);var o=null!=(i=O.optionsForElement(n.element))?i:{};if(n.options=O.extend({},n.defaultOptions,o,null!=t?t:{}),n.options.forceFallback||!O.isBrowserSupported())return _possibleConstructorReturn(n,n.options.fallback.call(_assertThisInitialized(n)));if(null==n.options.url&&(n.options.url=n.element.getAttribute("action")),!n.options.url)throw new Error("No URL provided.");if(n.options.acceptedFiles&&n.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(n.options.uploadMultiple&&n.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return n.options.acceptedMimeTypes&&(n.options.acceptedFiles=n.options.acceptedMimeTypes,delete n.options.acceptedMimeTypes),null!=n.options.renameFilename&&(n.options.renameFile=function(e){return n.options.renameFilename.call(_assertThisInitialized(n),e.name,e)}),n.options.method=n.options.method.toUpperCase(),(r=n.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==n.options.previewsContainer&&(n.options.previewsContainer?n.previewsContainer=O.getElement(n.options.previewsContainer,"previewsContainer"):n.previewsContainer=n.element),n.options.clickable&&(!0===n.options.clickable?n.clickableElements=[n.element]:n.clickableElements=O.getElements(n.options.clickable,"clickable")),n.init(),n}return _inherits(O,Emitter),_createClass(O,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var t=!0,n=!1,r=void 0;try{for(var i,o=this.element.getElementsByTagName("div")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(/(^| )dz-message($| )/.test(s.className)){(e=s).className="dz-message";break}}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}e||(e=O.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var a=e.getElementsByTagName("span")[0];return a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,r){var i={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height;null==t&&null==n?(t=i.srcWidth,n=i.srcHeight):null==t?t=n*o:null==n&&(n=t/o);var s=(t=Math.min(t,i.srcWidth))/(n=Math.min(n,i.srcHeight));if(i.srcWidth>t||i.srcHeight>n)if("crop"===r)s<o?(i.srcHeight=e.height,i.srcWidth=i.srcHeight*s):(i.srcWidth=e.width,i.srcHeight=i.srcWidth/s);else{if("contain"!==r)throw new Error("Unknown resizeMethod '".concat(r,"'"));s<o?n=t/o:t=n*o}return i.srcX=(e.width-i.srcWidth)/2,i.srcY=(e.height-i.srcHeight)/2,i.trgWidth=t,i.trgHeight=n,i},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=O.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var e=!0,r=!1,i=void 0;try{for(var o,s=t.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var a=o.value;a.textContent=t.name}}catch(e){r=!0,i=e}finally{try{e||null==s.return||s.return()}finally{if(r)throw i}}var l=!0,c=!1,u=void 0;try{for(var d,f=t.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(l=(d=f.next()).done);l=!0)(a=d.value).innerHTML=this.filesize(t.size)}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}this.options.addRemoveLinks&&(t._removeLink=O.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),t.previewElement.appendChild(t._removeLink));function h(e){return e.preventDefault(),e.stopPropagation(),t.status===O.UPLOADING?O.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?O.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)}var p=!0,g=!1,m=void 0;try{for(var v,y=t.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){v.value.addEventListener("click",h)}}catch(e){g=!0,m=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw m}}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n=!0,r=!1,i=void 0;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;a.alt=e.name,a.src=t}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var n=!0,r=!1,i=void 0;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.textContent=t}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t){if(e.previewElement){var n=!0,r=!1,i=void 0;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;"PROGRESS"===a.nodeName?a.value=t:a.style.width="".concat(t,"%")}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s){var l=s[a];e[a]=l}}return e}}]),_createClass(O,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(t){return this.files.filter(function(e){return e.status===t}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(O.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(O.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(O.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===O.UPLOADING||e.status===O.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var l=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(O.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function a(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null===l.options.maxFiles||1<l.options.maxFiles)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!==l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!==l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",O.getElement(l.options.hiddenInputContainer,"hiddenInputContainer").appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e=l.hiddenFileInput.files;if(e.length){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;l.addFile(s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}return l.emit("addedfiles",e),a()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var e=!0,t=!1,n=void 0;try{for(var r,i=this.events[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.on(o,this.options[o])}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.on("uploadprogress",function(){return l.updateTotalUploadProgress()}),this.on("removedfile",function(){return l.updateTotalUploadProgress()}),this.on("canceled",function(e){return l.emit("complete",e)}),this.on("complete",function(e){if(0===l.getAddedFiles().length&&0===l.getUploadingFiles().length&&0===l.getQueuedFiles().length)return setTimeout(function(){return l.emit("queuecomplete")},0)});function s(e){return function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e)&&(e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1)}return this.listeners=[{element:this.element,events:{dragstart:function(e){return l.emit("dragstart",e)},dragenter:function(e){return s(e),l.emit("dragenter",e)},dragover:function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",s(e),l.emit("dragover",e)},dragleave:function(e){return l.emit("dragleave",e)},drop:function(e){return s(e),l.drop(e)},dragend:function(e){return l.emit("dragend",e)}}}],this.clickableElements.forEach(function(t){return l.listeners.push({element:t,events:{click:function(e){return t===l.element&&e.target!==l.element&&!O.elementInside(e.target,l.element.querySelector(".dz-message"))||l.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,O.instances.splice(O.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var r=!0,i=!1,o=void 0;try{for(var s,a=this.getActiveFiles()[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;t+=l.upload.bytesSent,n+=l.upload.total}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>".concat(this.options.dictFallbackText,"</p>")),n+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var r=O.createElement(n);return"FORM"!==this.element.tagName?(t=O.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(r):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:r}},{key:"getExistingFallback",value:function(){for(var e=0,t=["div","form"];e<t.length;e++){var n,r=t[e];if(n=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(/(^| )fallback($| )/.test(s.className))return s}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}(this.element.getElementsByTagName(r)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(r){return function(){var e=[];for(var t in r.events){var n=r.events[t];e.push(r.element.addEventListener(t,n,!1))}return e}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(r){return function(){var e=[];for(var t in r.events){var n=r.events[t];e.push(r.element.removeEventListener(t,n,!1))}return e}()})}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(0<e){for(var r=["tb","gb","mb","kb","b"],i=0;i<r.length;i++){var o=r[i];if(Math.pow(this.options.filesizeBase,4-i)/10<=e){t=e/Math.pow(this.options.filesizeBase,4-i),n=o;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t,n=[],r=0;r<e.dataTransfer.files.length;r++)n[r]=e.dataTransfer.files[r];n.length&&((t=e.dataTransfer.items)&&t.length&&null!=t[0].webkitGetAsEntry?this._addFilesFromItems(t):this.handleFiles(n)),this.emit("addedfiles",n)}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:void 0,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;this.addFile(s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"_addFilesFromItems",value:function(l){var c=this;return function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=l[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s,a=i.value;null!=a.webkitGetAsEntry&&(s=a.webkitGetAsEntry())?s.isFile?e.push(c.addFile(a.getAsFile())):s.isDirectory?e.push(c._addFilesFromDirectory(s,s.name)):e.push(void 0):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?e.push(c.addFile(a.getAsFile())):e.push(void 0)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}()}},{key:"_addFilesFromDirectory",value:function(e,l){function t(t){return __guardMethod__(console,"log",function(e){return e.log(t)})}var c=this,n=e.createReader();return function a(){return n.readEntries(function(e){if(0<e.length){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.isFile?s.file(function(e){if(!c.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(l,"/").concat(e.name),c.addFile(e)}):s.isDirectory&&c._addFilesFromDirectory(s,"".concat(l,"/").concat(s.name))}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}a()}return null},t)}()}},{key:"accept",value:function(e,t){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):O.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var n=this;t.upload={uuid:O.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=O.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){e?(t.accepted=!1,n._errorProcessing([t],e)):(t.accepted=!0,n.options.autoQueue&&n.enqueueFile(t)),n._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;this.enqueueFile(s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==O.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=O.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var n=this._thumbnailQueue.shift();return this.createThumbnail(n,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return t.emit("thumbnail",n,e),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===O.UPLOADING&&this.cancelUpload(e),this.files=without(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var t=!0,n=!1,r=void 0;try{for(var i,o=this.files.slice()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.status===O.UPLOADING&&!e||this.removeFile(s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null}},{key:"resizeImage",value:function(i,e,t,n,o){var s=this;return this.createThumbnail(i,e,t,n,!0,function(e,t){if(null==t)return o(i);var n=s.options.resizeMimeType;null==n&&(n=i.type);var r=t.toDataURL(n,s.options.resizeQuality);return"image/jpeg"!==n&&"image/jpg"!==n||(r=ExifRestore.restore(i.dataURL,r)),o(O.dataURItoBlob(r))})}},{key:"createThumbnail",value:function(e,t,n,r,i,o){var s=this,a=new FileReader;a.onload=function(){e.dataURL=a.result,"image/svg+xml"!==e.type?s.createThumbnailFromUrl(e,t,n,r,i,o):null!=o&&o(a.result)},a.readAsDataURL(e)}},{key:"displayExistingFile",value:function(t,e,n,r,i){var o=this,s=!(4<arguments.length&&void 0!==i)||i;this.emit("addedfile",t),this.emit("complete",t),s?(t.dataURL=e,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,function(e){o.emit("thumbnail",t,e),n&&n()},r)):(this.emit("thumbnail",t,e),n&&n())}},{key:"createThumbnailFromUrl",value:function(o,s,a,l,t,c,e){var u=this,d=document.createElement("img");return e&&(d.crossOrigin=e),d.onload=function(){var e=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&t&&(e=function(e){return EXIF.getData(d,function(){return e(EXIF.getTag(this,"Orientation"))})}),e(function(e){o.width=d.width,o.height=d.height;var t=u.options.resize.call(u,o,s,a,l),n=document.createElement("canvas"),r=n.getContext("2d");switch(n.width=t.trgWidth,n.height=t.trgHeight,4<e&&(n.width=t.trgHeight,n.height=t.trgWidth),e){case 2:r.translate(n.width,0),r.scale(-1,1);break;case 3:r.translate(n.width,n.height),r.rotate(Math.PI);break;case 4:r.translate(0,n.height),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-n.width);break;case 7:r.rotate(.5*Math.PI),r.translate(n.height,-n.width),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n.height,0)}drawImageIOSFix(r,d,null!=t.srcX?t.srcX:0,null!=t.srcY?t.srcY:0,t.srcWidth,t.srcHeight,null!=t.trgX?t.trgX:0,null!=t.trgY?t.trgY:0,t.trgWidth,t.trgHeight);var i=n.toDataURL("image/png");if(null!=c)return c(i,n)})},null!=c&&(d.onerror=c),d.src=o.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(e<=t)){var r=this.getQueuedFiles();if(0<r.length){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;n<e;){if(!r.length)return;this.processFile(r.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.processing=!0,s.status=O.UPLOADING,this.emit("processing",s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter(function(e){return e.xhr===t}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===O.UPLOADING){var t=this._getFilesWithXhr(e.xhr),n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.status=O.CANCELED}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}void 0!==e.xhr&&e.xhr.abort();var a=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var f=u.value;this.emit("canceled",f)}}catch(e){l=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw c}}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else e.status!==O.ADDED&&e.status!==O.QUEUED||(e.status=O.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"!=typeof e)return e;for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(l){var c=this;this._transformFiles(l,function(e){var t;if(c.options.chunking&&(t=e[0],l[0].upload.chunked=c.options.chunking&&(c.options.forceChunking||t.size>c.options.chunkSize),l[0].upload.totalChunkCount=Math.ceil(t.size/c.options.chunkSize)),l[0].upload.chunked){var i=l[0],o=e[0];i.upload.chunks=[];function r(){for(var e,t,n,r=0;void 0!==i.upload.chunks[r];)r++;r>=i.upload.totalChunkCount||(e=r*c.options.chunkSize,t=Math.min(e+c.options.chunkSize,i.size),n={name:c._getParamName(0),data:o.webkitSlice?o.webkitSlice(e,t):o.slice(e,t),filename:i.upload.filename,chunkIndex:r},i.upload.chunks[r]={file:i,index:r,dataBlock:n,status:O.UPLOADING,progress:0,retries:0},c._uploadData(l,[n]))}if(i.upload.finishedChunkUpload=function(e){var t=!0;e.status=O.SUCCESS,e.dataBlock=null,e.xhr=null;for(var n=0;n<i.upload.totalChunkCount;n++){if(void 0===i.upload.chunks[n])return r();i.upload.chunks[n].status!==O.SUCCESS&&(t=!1)}t&&c.options.chunksUploaded(i,function(){c._finished(l,"",null)})},c.options.parallelChunkUploads)for(var n=0;n<i.upload.totalChunkCount;n++)r();else r()}else{for(var s=[],a=0;a<l.length;a++)s[a]={name:c._getParamName(a),data:e[a],filename:l[a].upload.filename};c._uploadData(l,s)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(t,e){var n=this,r=new XMLHttpRequest,i=!0,o=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){a.value.xhr=r}}catch(e){o=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=r);var c=this.resolveOption(this.options.method,t),u=this.resolveOption(this.options.url,t);r.open(c,u,!0),r.timeout=this.resolveOption(this.options.timeout,t),r.withCredentials=!!this.options.withCredentials,r.onload=function(e){n._finishedUploading(t,r,e)},r.ontimeout=function(){n._handleUploadError(t,r,"Request timedout after ".concat(n.options.timeout," seconds"))},r.onerror=function(){n._handleUploadError(t,r)},(null!=r.upload?r.upload:r).onprogress=function(e){return n._updateFilesUploadProgress(t,r,e)};var d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var f in this.options.headers&&O.extend(d,this.options.headers),d){var h=d[f];h&&r.setRequestHeader(f,h)}var p=new FormData;if(this.options.params){var g=this.options.params;for(var m in"function"==typeof g&&(g=g.call(this,t,r,t[0].upload.chunked?this._getChunk(t[0],r):null)),g){var v=g[m];p.append(m,v)}}var y=!0,b=!1,w=void 0;try{for(var x,C=t[Symbol.iterator]();!(y=(x=C.next()).done);y=!0){var j=x.value;this.emit("sending",j,r,p)}}catch(e){b=!0,w=e}finally{try{y||null==C.return||C.return()}finally{if(b)throw w}}this.options.uploadMultiple&&this.emit("sendingmultiple",t,r,p),this._addFormElementData(p);for(var S=0;S<e.length;S++){var k=e[S];p.append(k.name,k.data,k.filename)}this.submitRequest(r,p,t)}},{key:"_transformFiles",value:function(n,r){for(var e=this,i=[],o=0,t=0;t<n.length;t++)!function(t){e.options.transformFile.call(e,n[t],function(e){i[t]=e,++o===n.length&&r(i)})}(t)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=!0,n=!1,r=void 0;try{for(var i,o=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,a=s.getAttribute("name"),l=(l=s.getAttribute("type"))&&l.toLowerCase();if(null!=a)if("SELECT"===s.tagName&&s.hasAttribute("multiple")){var c=!0,u=!1,d=void 0;try{for(var f,h=s.options[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var p=f.value;p.selected&&e.append(a,p.value)}}catch(e){u=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw d}}}else(!l||"checkbox"!==l&&"radio"!==l||s.checked)&&e.append(a,s.value)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){if(void 0!==n){if(b=100*n.loaded/n.total,e[0].upload.chunked){var r=e[0],i=this._getChunk(r,t);i.progress=b,i.total=n.total,i.bytesSent=n.loaded;r.upload.progress=0,r.upload.total=0;for(var o=r.upload.bytesSent=0;o<r.upload.totalChunkCount;o++)void 0!==r.upload.chunks[o]&&void 0!==r.upload.chunks[o].progress&&(r.upload.progress+=r.upload.chunks[o].progress,r.upload.total+=r.upload.chunks[o].total,r.upload.bytesSent+=r.upload.chunks[o].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else{var s=!0,a=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;d.upload.progress=b,d.upload.total=n.total,d.upload.bytesSent=n.loaded}}catch(e){a=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(a)throw l}}}var f=!0,h=!1,p=void 0;try{for(var g,m=e[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var v=g.value;this.emit("uploadprogress",v,v.upload.progress,v.upload.bytesSent)}}catch(e){h=!0,p=e}finally{try{f||null==m.return||m.return()}finally{if(h)throw p}}}else{var y=!0,b=100,w=!0,x=!1,C=void 0;try{for(var j,S=e[Symbol.iterator]();!(w=(j=S.next()).done);w=!0){var k=j.value;100===k.upload.progress&&k.upload.bytesSent===k.upload.total||(y=!1),k.upload.progress=b,k.upload.bytesSent=k.upload.total}}catch(e){x=!0,C=e}finally{try{w||null==S.return||S.return()}finally{if(x)throw C}}if(y)return;var O=!0,_=!1,T=void 0;try{for(var E,P=e[Symbol.iterator]();!(O=(E=P.next()).done);O=!0){var D=E.value;this.emit("uploadprogress",D,b,D.upload.bytesSent)}}catch(e){_=!0,T=e}finally{try{O||null==P.return||P.return()}finally{if(_)throw T}}}}},{key:"_finishedUploading",value:function(e,t,n){var r;if(e[0].status!==O.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(r=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(e){n=e,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,r,n):this._handleUploadError(e,t,r)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==O.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],t);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t){e.send(t)}},{key:"_finished",value:function(e,t,n){var r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;l.status=O.SUCCESS,this.emit("success",l,t,n),this.emit("complete",l)}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){var r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;l.status=O.ERROR,this.emit("error",l,t,n),this.emit("complete",l)}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),O}();Dropzone.initClass(),Dropzone.version="5.7.1",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var l,e;return document.querySelectorAll?l=document.querySelectorAll(".dropzone"):(l=[],(e=function(a){return function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=a[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;/(^| )dropzone($| )/.test(s.className)?e.push(l.push(s)):e.push(void 0)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}()})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=l[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;!1!==Dropzone.optionsForElement(s)?e.push(new Dropzone(s)):e.push(void 0)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=!0,n=!1,r=void 0;try{for(var i,o=Dropzone.blacklistedBrowsers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.test(navigator.userAgent)&&(e=!1)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0,s=t.length,a=0<=s;a?o<=s:s<=o;a?o++:o--)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})};var without=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},Dropzone.getElements=function(e,t){var n,r;if(e instanceof Array){r=[];try{var i=!0,o=!1,s=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)n=a.value,r.push(this.getElement(n,t))}catch(e){o=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}}catch(e){r=null}}else if("string"==typeof e){var c=!0,u=!(r=[]),d=void 0;try{for(var f,h=document.querySelectorAll(e)[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)n=f.value,r.push(n)}catch(e){u=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw d}}}else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return r},Dropzone.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n=e.type,r=n.replace(/\/.*$/,""),i=!0,o=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;if("."===(c=c.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(c.toLowerCase(),e.name.length-c.length))return!0}else if(/\/\*$/.test(c)){if(r===c.replace(/\/.*$/,""))return!0}else if(n===c)return!0}}catch(e){o=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var r=n.getContext("2d");r.drawImage(e,0,0);for(var i=r.getImageData(1,0,1,t).data,o=0,s=t,a=t;o<a;){0===i[4*(a-1)+3]?s=a:o=a,a=s+o>>1}var l=a/t;return 0==l?1:l},drawImageIOSFix=function(e,t,n,r,i,o,s,a,l,c){var u=detectVerticalSquash(t);return e.drawImage(t,n,r,i,o,s,a,l,c/u)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,r=void 0,i="",o=void 0,s=void 0,a=void 0,l="",c=0;o=(n=e[c++])>>2,s=(3&n)<<4|(r=e[c++])>>4,a=(15&r)<<2|(i=e[c++])>>6,l=63&i,isNaN(r)?a=l=64:isNaN(i)&&(l=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),o=s=a=l=n=r=i="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,".concat(this.encode64(i))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),s=r.slice(i),a=o;return a=(a=a.concat(t)).concat(s)}},{key:"slice2Segments",value:function(e){for(var t,n,r=0,i=[];;){if(255===e[r]&218===e[r+1])break;if(255===e[r]&216===e[r+1]?r+=2:(t=r+(256*e[r+2]+e[r+3])+2,n=e.slice(r,t),i.push(n),r=t),r>e.length)break}return i}},{key:"decode64",value:function(e){var t=void 0,n=void 0,r="",i=void 0,o=void 0,s="",a=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(i=this.KEY_STR.indexOf(e.charAt(a++)))>>4,n=(15&i)<<4|(o=this.KEY_STR.indexOf(e.charAt(a++)))>>2,r=(3&o)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),l.push(t),64!==o&&l.push(n),64!==s&&l.push(r),i=o=s=t=n=r="",a<e.length;);return l}}]),e}();ExifRestore.initClass();var contentLoaded=function(t,n){function r(e){if("readystatechange"!==e.type||"complete"===o.readyState)return("load"===e.type?t:o)[l](c+e.type,r,!1),!i&&(i=!0)?n.call(t,e.type||e):void 0}var i=!1,e=!0,o=t.document,s=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",l=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on";if("complete"!==o.readyState){if(o.createEventObject&&s.doScroll){try{e=!t.frameElement}catch(e){}e&&!function t(){try{s.doScroll("left")}catch(e){return void setTimeout(t,50)}return r("poll")}()}return o[a](c+"DOMContentLoaded",r,!1),o[a](c+"readystatechange",r,!1),t[a](c+"load",r,!1)}};function __guard__(e,t){return null!=e?t(e):void 0}function __guardMethod__(e,t,n){return null!=e&&"function"==typeof e[t]?n(e,t):void 0}Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(t){var e,n,r,i,h,o,s,p,g,m,v,y,b,a,l,w,c=(t&&t.fn&&t.fn.select2&&t.fn.select2.amd&&(e=t.fn.select2.amd),e&&e.requirejs||(e?r=e:e={},m={},v={},y={},b={},a=Object.prototype.hasOwnProperty,l=[].slice,w=/\.js$/,p=function(e,t){var n,r,i=d(e),o=i[0],s=t[1];return e=i[1],o&&(n=j(o=u(o,s))),o?e=n&&n.normalize?n.normalize(e,(r=s,function(e){return u(e,r)})):u(e,s):(o=(i=d(e=u(e,s)))[0],e=i[1],o&&(n=j(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},g={require:function(e){return C(e)},exports:function(e){var t=m[e];return void 0!==t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:(t=e,function(){return y&&y.config&&y.config[t]||{}})};var t}},o=function(e,t,n,r){var i,o,s,a,l,c,u=[],d=typeof n,f=S(r=r||e);if("undefined"==d||"function"==d){for(t=!t.length&&n.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(o=(a=p(t[l],f)).f))u[l]=g.require(e);else if("exports"===o)u[l]=g.exports(e),c=!0;else if("module"===o)i=u[l]=g.module(e);else if(x(m,o)||x(v,o)||x(b,o))u[l]=j(o);else{if(!a.p)throw new Error(e+" missing "+o);a.p.load(a.n,C(r,!0),function(t){return function(e){m[t]=e}}(o),{}),u[l]=m[o]}s=n?n.apply(m[e],u):void 0,e&&(i&&i.exports!==h&&i.exports!==m[e]?m[e]=i.exports:s===h&&c||(m[e]=s))}else e&&(m[e]=n)},n=r=s=function(e,t,n,r,i){if("string"==typeof e)return g[e]?g[e](t):j(p(e,S(t)).f);if(!e.splice){if((y=e).deps&&s(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=h}return t=t||function(){},"function"==typeof n&&(n=r,r=i),r?o(h,e,t,n):setTimeout(function(){o(h,e,t,n)},4),s},s.config=function(e){return s(e)},n._defined=m,(i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),x(m,e)||x(v,e)||(v[e]=[e,t,n])}).amd={jQuery:!0},e.requirejs=n,e.require=r,e.define=i),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(o){var i={};function c(e){var t=e.prototype,n=[];for(var r in t)"function"==typeof t[r]&&"constructor"!==r&&n.push(r);return n}function e(){this.listeners={}}i.Extend=function(e,t){var n={}.hasOwnProperty;function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i.Decorate=function(r,i){var e=c(i),t=c(r);function o(){var e=Array.prototype.unshift,t=i.prototype.constructor.length,n=r.prototype.constructor;0<t&&(e.call(arguments,r.prototype.constructor),n=i.prototype.constructor),n.apply(this,arguments)}i.displayName=r.displayName,o.prototype=new function(){this.constructor=o};for(var n=0;n<t.length;n++){var s=t[n];o.prototype[s]=r.prototype[s]}for(var a=0;a<e.length;a++){var l=e[a];o.prototype[l]=function(e){var t=function(){};e in o.prototype&&(t=o.prototype[e]);var n=i.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}}(l)}return o},e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},i.Observable=e,i.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(1!==n.length){for(var i=0;i<n.length;i++){var o=n[i];(o=o.substring(0,1).toLowerCase()+o.substring(1))in r||(r[o]={}),i==n.length-1&&(r[o]=e[t]),r=r[o]}delete e[t]}}return e},i.hasScroll=function(e,t){var n=o(t),r=t.style.overflowX,i=t.style.overflowY;return(r!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===r||"scroll"===i||n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth)},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(e,t){var n;"1.7"===o.fn.jquery.substr(0,3)&&(n=o(),o.map(t,function(e){n=n.add(e)}),t=n),e.append(t)},i.__cache={};var n=0;return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++n),t=n.toString())),t},i.StoreData=function(e,t,n){var r=i.GetUniqueElementId(e);i.__cache[r]||(i.__cache[r]={}),i.__cache[r][t]=n},i.GetData=function(e,t){var n=i.GetUniqueElementId(e);return t?i.__cache[n]&&null!=i.__cache[n][t]?i.__cache[n][t]:o(e).data(t):i.__cache[n]},i.RemoveData=function(e){var t=i.GetUniqueElementId(e);null!=i.__cache[t]&&delete i.__cache[t],e.removeAttribute("data-select2-id")},i}),e.define("select2/results",["jquery","./utils"],function(h,p){function r(e,t,n){this.$element=e,this.data=n,this.options=t,r.__super__.constructor.call(this)}return p.Extend(r,p.Observable),r.prototype.render=function(){var e=h('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},r.prototype.clear=function(){this.$results.empty()},r.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);n.append(t(r(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},r.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},r.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],i=this.option(r);t.push(i)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},r.prototype.position=function(e,t){t.find(".select2-results").append(e)},r.prototype.sort=function(e){return this.options.get("sorter")(e)},r.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},r.prototype.setClasses=function(){var t=this;this.data.current(function(e){var r=h.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=h(this),t=p.GetData(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<h.inArray(n,r)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},r.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},r.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},r.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var n={role:"option","aria-selected":"false"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var i in(null!=e.element&&r.call(e.element,":disabled")||null==e.element&&e.disabled)&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n){var o=n[i];t.setAttribute(i,o)}if(e.children){var s=h(t),a=document.createElement("strong");a.className="select2-results__group",h(a),this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var f=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(l),s.append(a),s.append(f)}else this.template(e,t);return p.StoreData(t,"data",e),t},r.prototype.bind=function(t,e){var l=this,n=t.id+"-results";this.$results.attr("id",n),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.hideMessages(),l.showLoading(e)}),t.on("select",function(){t.isOpen()&&(l.setClasses(),l.options.get("scrollAfterSelect")&&l.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(l.setClasses(),l.options.get("scrollAfterSelect")&&l.highlightFirstItem())}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e,t=l.getHighlightedResults();0!==t.length&&(e=p.GetData(t[0],"data"),"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e}))}),t.on("results:previous",function(){var e,t,n,r,i,o=l.getHighlightedResults(),s=l.$results.find("[aria-selected]"),a=s.index(o);a<=0||(e=a-1,0===o.length&&(e=0),(t=s.eq(e)).trigger("mouseenter"),n=l.$results.offset().top,r=t.offset().top,i=l.$results.scrollTop()+(r-n),0===e?l.$results.scrollTop(0):r-n<0&&l.$results.scrollTop(i))}),t.on("results:next",function(){var e,t,n,r,i=l.getHighlightedResults(),o=l.$results.find("[aria-selected]"),s=o.index(i)+1;s>=o.length||((e=o.eq(s)).trigger("mouseenter"),t=l.$results.offset().top+l.$results.outerHeight(!1),n=e.offset().top+e.outerHeight(!1),r=l.$results.scrollTop()+n-t,0===s?l.$results.scrollTop(0):t<n&&l.$results.scrollTop(r))}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-t+e.deltaY,r=0<e.deltaY&&t-e.deltaY<=0,i=e.deltaY<0&&n<=l.$results.height();r?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=h(this),n=p.GetData(this,"data");"true"!==t.attr("aria-selected")?l.trigger("select",{originalEvent:e,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=p.GetData(this,"data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:h(this)})})},r.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},r.prototype.destroy=function(){this.$results.remove()},r.prototype.ensureHighlightVisible=function(){var e,t,n,r,i,o=this.getHighlightedResults();0!==o.length&&(e=this.$results.find("[aria-selected]").index(o),t=this.$results.offset().top,n=o.offset().top,r=this.$results.scrollTop()+(n-t),i=n-t,r-=2*o.outerHeight(!1),e<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(r))},r.prototype.template=function(e,t){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),i=n(e,t);null==i?t.style.display="none":"string"==typeof i?t.innerHTML=r(i):h(t).append(i)},r}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(n,r,i){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return r.Extend(o,r.Observable),o.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=r.GetData(this.$element[0],"old-tabindex")?this._tabindex=r.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),e.attr("aria-disabled","false"),this.$selection=e},o.prototype.bind=function(e,t){var n=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")}),e.on("disable",function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")})},o.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},o.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){this!=t[0]&&r.GetData(this,"element").select2("close")})})},o.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},o.prototype.position=function(e,t){t.find(".selection").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(t,e){var n=this;i.__super__.bind.apply(this,arguments);var r=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){var t,n,r,i;0!==e.length?(t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n),n.empty().append(r),(i=t.title||t.text)?n.attr("title",i):n.removeAttr("title")):this.clear()},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,e,l){function n(e,t){n.__super__.constructor.apply(this,arguments)}return l.Extend(n,e),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(e,t){var r=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){var t,n;r.isDisabled()||(t=i(this).parent(),n=l.GetData(t[0],"data"),r.trigger("unselect",{originalEvent:e,data:n}))})},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},n.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=this.selectionContainer(),o=this.display(r,i);i.append(o);var s=r.title||r.text;s&&i.attr("title",s),l.StoreData(i[0],"data",r),t.push(i)}var a=this.$selection.find(".select2-selection__rendered");l.appendMany(a,t)}},n}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(i,r,a){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var r=a.GetData(n[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var o={data:r};if(this.trigger("clear",o),o.prevented)this.$element.val(i);else{for(var s=0;s<r.length;s++)if(o={data:r[s]},this.trigger("unselect",o),o.prevented)return void this.$element.val(i);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=r.DELETE&&t.which!=r.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){var n,r;e.call(this,t),0<this.$selection.find(".select2-selection__placeholder").length||0===t.length||(n=this.options.get("translations").get("removeAllItems"),r=i('<span class="select2-selection__clear" title="'+n()+'">&times;</span>'),a.StoreData(r[0],"data",t),this.$selection.find(".select2-selection__rendered").prepend(r))},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(r,a,l){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=r('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var n=e.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(e,t,n){var r=this,i=t.id+"-results";e.call(this,t,n),t.on("open",function(){r.$search.attr("aria-controls",i),r.$search.trigger("focus")}),t.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),t.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),t.on("disable",function(){r.$search.prop("disabled",!0)}),t.on("focus",function(e){r.$search.trigger("focus")}),t.on("results:focus",function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){r.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){r._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){var t,n;e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented(),e.which!==l.BACKSPACE||""!==r.$search.val()||0<(t=r.$searchContainer.prev(".select2-selection__choice")).length&&(n=a.GetData(t[0],"data"),r.searchRemoveChoice(n),e.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(e){r.$search.val()&&e.stopPropagation()});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){s?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){var t;s&&"input"===e.type?r.$selection.off("input.search input.searchcheck"):(t=e.which)!=l.SHIFT&&t!=l.CTRL&&t!=l.ALT&&t!=l.TAB&&r.handleSearch(e)})},e.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},e.prototype.handleSearch=function(){var e;this.resizeSearch(),this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},e}),e.define("select2/selection/eventRelay",["jquery"],function(s){function e(){}return e.prototype.bind=function(e,t,n){var r=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];e.call(this,t,n),t.on("*",function(e,t){var n;-1!==s.inArray(e,i)&&(t=t||{},n=s.Event("select2:"+e,{params:t}),r.$element.trigger(n),-1!==s.inArray(e,o)&&(t.prevented=n.isDefaultPrevented()))})},e}),e.define("select2/translation",["jquery","require"],function(t,n){function r(e){this.dict=e||{}}return r.prototype.all=function(){return this.dict},r.prototype.get=function(e){return this.dict[e]},r.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},r._cache={},r.loadPath=function(e){var t;return e in r._cache||(t=n(e),r._cache[e]=t),new r(r._cache[e])},r}),e.define("select2/diacritics",[],function(){return{"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Å":"OE","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Å":"oe","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï","â":"'"}}),e.define("select2/data/base",["../utils"],function(r){function n(e,t){n.__super__.constructor.call(this)}return r.Extend(n,r.Observable),n.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(e,t){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(e,t){var n=e.id+"-result-";return n+=r.generateChars(4),null!=t.id?n+="-"+t.id.toString():n+="-"+r.generateChars(4),n},n}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,a,l){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return a.Extend(n,e),n.prototype.current=function(e){var n=[],r=this;this.$element.find(":selected").each(function(){var e=l(this),t=r.item(e);n.push(t)}),e(n)},n.prototype.select=function(i){var e,o=this;if(i.selected=!0,l(i.element).is("option"))return i.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(e){var t=[];(i=[i]).push.apply(i,e);for(var n=0;n<i.length;n++){var r=i[n].id;-1===l.inArray(r,t)&&t.push(r)}o.$element.val(t),o.$element.trigger("input").trigger("change")}):(e=i.id,this.$element.val(e),this.$element.trigger("input").trigger("change"))},n.prototype.unselect=function(i){var o=this;if(this.$element.prop("multiple")){if(i.selected=!1,l(i.element).is("option"))return i.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].id;r!==i.id&&-1===l.inArray(r,t)&&t.push(r)}o.$element.val(t),o.$element.trigger("input").trigger("change")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){a.RemoveData(this)})},n.prototype.query=function(r,e){var i=[],o=this;this.$element.children().each(function(){var e,t,n=l(this);(n.is("option")||n.is("optgroup"))&&(e=o.item(n),null!==(t=o.matches(r,e))&&i.push(t))}),e({results:i})},n.prototype.addOptions=function(e){a.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=l(t),r=this._normalizeItem(e);return r.element=t,a.StoreData(t,"data",r),n},n.prototype.item=function(e){var t={};if(null!=(t=a.GetData(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),r=[],i=0;i<n.length;i++){var o=l(n[i]),s=this.item(o);r.push(s)}t.children=r}return(t=this._normalizeItem(t)).element=e[0],a.StoreData(e[0],"data",t),t},n.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=l.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),l.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,h,p){function r(e,t){this._dataToConvert=t.get("data")||[],r.__super__.constructor.call(this,e,t)}return h.Extend(r,e),r.prototype.bind=function(e,t){r.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(n){var e=this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(e){for(var t=this,n=this.$element.find("option"),r=n.map(function(){return t.item(p(this)).id}).get(),i=[],o=0;o<e.length;o++){var s,a,l,c,u,d,f=this._normalizeItem(e[o]);0<=p.inArray(f.id,r)?(s=n.filter(function(e){return function(){return p(this).val()==e.id}}(f)),a=this.item(s),l=p.extend(!0,{},f,a),c=this.option(l),s.replaceWith(c)):(u=this.option(f),f.children&&(d=this.convertToOptions(f.children),h.appendMany(u,d)),i.push(u))}return i},r}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,o){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return o.extend({},e,{q:e.term})},transport:function(e,t,n){var r=o.ajax(e);return r.then(t),r.fail(n),r}};return o.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,r){var i=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=o.extend({type:"GET"},this.ajaxOptions);function e(){var e=t.transport(t,function(e){var t=i.processResults(e,n);i.options.get("debug")&&window.console&&console.error&&(t&&t.results&&o.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),r(t)},function(){"status"in e&&(0===e.status||"0"===e.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=e}"function"==typeof t.url&&(t.url=t.url.call(this.$element,n)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define("select2/data/tags",["jquery"],function(u){function e(e,t,n){var r=n.get("tags"),i=n.get("createTag");void 0!==i&&(this.createTag=i);var o=n.get("insertTag");if(void 0!==o&&(this.insertTag=o),e.call(this,t,n),u.isArray(r))for(var s=0;s<r.length;s++){var a=r[s],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(e,c,u){var d=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var r=t.results,i=0;i<r.length;i++){var o=r[i],s=null!=o.children&&!e({results:o.children},!0);if((o.text||"").toUpperCase()===(c.term||"").toUpperCase()||s)return!n&&(t.data=r,void u(t))}if(n)return!0;var a,l=d.createTag(c);null!=l&&((a=d.option(l)).attr("data-select2-tag",!0),d.addOptions([a]),d.insertTag(r,l)),t.results=r,u(t)}):e.call(this,c,u)},e.prototype.createTag=function(e,t){var n=u.trim(t.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||u(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(d){function e(e,t,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var i=this;t.term=t.term||"";var r=this.tokenizer(t,this.options,function(e){var t,n,r=i._normalizeItem(e);i.$element.find("option").filter(function(){return d(this).val()===r.id}).length||((t=i.option(r)).attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([t])),n=r,i.trigger("select",{data:n})});r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),t.term=r.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,r){for(var i=n.get("tokenSeparators")||[],o=t.term,s=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};s<o.length;){var l,c,u=o[s];-1!==d.inArray(u,i)?(l=o.substr(0,s),null!=(c=a(d.extend({},t,{term:l})))?(r(c),o=o.substr(s+1)||"",s=0):s++):s++}return{term:o}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(){r._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var r=this;this._checkIfMaximumSelected(function(){e.call(r,t,n)})},e.prototype._checkIfMaximumSelected=function(e,n){var r=this;this.current(function(e){var t=null!=e?e.length:0;0<r.maximumSelectionLength&&t>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):n&&n()})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(o,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),t.prepend(n),t},t.prototype.bind=function(e,t,n){var r=this,i=t.id+"-results";e.call(this,t,n),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){o(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),t.on("open",function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",i),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),t.on("close",function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")}),t.on("focus",function(){t.isOpen()||r.$search.trigger("focus")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))}),t.on("results:focus",function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")})},t.prototype.handleSearch=function(e){var t;this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),r=t.length-1;0<=r;r--){var i=t[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function e(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("query",function(e){r.lastParams=e,r.loading=!0}),t.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e,t=n.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&(e=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=e+50&&this.loadMore())},e.prototype.loadMore=function(){this.loading=!0;var e=n.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(p,a){function e(e,t,n){this.$dropdownParent=p(n.get("dropdownParent")||document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),r._bindContainerResultHandlers(t)}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=p("<span></span>"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(e,t){var n;this._containerResultsHandlersBound||(n=this,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0)},e.prototype._attachPositioningHandler=function(e,t){var n=this,r="scroll.select2."+t.id,i="resize.select2."+t.id,o="orientationchange.select2."+t.id,s=this.$container.parents().filter(a.hasScroll);s.each(function(){a.StoreData(this,"select2-scroll-position",{x:p(this).scrollLeft(),y:p(this).scrollTop()})}),s.on(r,function(e){var t=a.GetData(this,"select2-scroll-position");p(this).scrollTop(t.y)}),p(window).on(r+" "+i+" "+o,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,r="resize.select2."+t.id,i="orientationchange.select2."+t.id;this.$container.parents().filter(a.hasScroll).off(n),p(window).off(n+" "+r+" "+i)},e.prototype._positionDropdown=function(){var e=p(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=i.top,o.bottom=i.top+o.height;var s=this.$dropdown.outerHeight(!1),a=e.scrollTop(),l=e.scrollTop()+e.height(),c=a<i.top-s,u=l>i.bottom+s,d={left:i.left,top:o.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var h={top:0,left:0};(p.contains(document.body,f[0])||f[0].isConnected)&&(h=f.offset()),d.top-=h.top,d.left-=h.left,t||n||(r="below"),u||!c||t?!c&&u&&t&&(r="below"):r="above",("above"==r||t&&"below"!==r)&&(d.top=o.top-h.top-s),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(d)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,r)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,r=0;r<t.length;r++){var i=t[r];i.children?n+=e(i.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(o){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(e){r._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var r,i=this.getHighlightedResults();i.length<1||null!=(r=o.GetData(i[0],"data")).element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(c,u,d,f,h,p,g,m,v,y,s,t,b,w,x,C,j,S,k,O,_,T,E,P,D,A,M,L,e){function n(){this.reset()}return n.prototype.apply=function(e){var t,n,r,i,o;null==(e=c.extend(!0,{},this.defaults,e)).dataAdapter&&(null!=e.ajax?e.dataAdapter=x:null!=e.data?e.dataAdapter=w:e.dataAdapter=b,0<e.minimumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,S)),0<e.maximumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,k)),0<e.maximumSelectionLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,O)),e.tags&&(e.dataAdapter=y.Decorate(e.dataAdapter,C)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=y.Decorate(e.dataAdapter,j)),null!=e.query&&(t=u(e.amdBase+"compat/query"),e.dataAdapter=y.Decorate(e.dataAdapter,t)),null!=e.initSelection&&(n=u(e.amdBase+"compat/initSelection"),e.dataAdapter=y.Decorate(e.dataAdapter,n))),null==e.resultsAdapter&&(e.resultsAdapter=d,null!=e.ajax&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,P)),null!=e.placeholder&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,E)),e.selectOnClose&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,M))),null==e.dropdownAdapter&&(e.multiple?e.dropdownAdapter=_:(r=y.Decorate(_,T),e.dropdownAdapter=r),0!==e.minimumResultsForSearch&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,A)),e.closeOnSelect&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,L)),null==e.dropdownCssClass&&null==e.dropdownCss&&null==e.adaptDropdownCssClass||(i=u(e.amdBase+"compat/dropdownCss"),e.dropdownAdapter=y.Decorate(e.dropdownAdapter,i)),e.dropdownAdapter=y.Decorate(e.dropdownAdapter,D)),null==e.selectionAdapter&&(e.multiple?e.selectionAdapter=h:e.selectionAdapter=f,null!=e.placeholder&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,p)),e.allowClear&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,g)),e.multiple&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,m)),null==e.containerCssClass&&null==e.containerCss&&null==e.adaptContainerCssClass||(o=u(e.amdBase+"compat/containerCss"),e.selectionAdapter=y.Decorate(e.selectionAdapter,o)),e.selectionAdapter=y.Decorate(e.selectionAdapter,v)),e.language=this._resolveLanguage(e.language),e.language.push("en");for(var s=[],a=0;a<e.language.length;a++){var l=e.language[a];-1===s.indexOf(l)&&s.push(l)}return e.language=s,e.translations=this._processTranslations(e.language,e.debug),e},n.prototype.reset=function(){function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:y.escapeMarkup,language:{},matcher:function e(t,n){if(""===c.trim(t.term))return n;if(n.children&&0<n.children.length){for(var r=c.extend(!0,{},n),i=n.children.length-1;0<=i;i--)null==e(t,n.children[i])&&r.children.splice(i,1);return 0<r.children.length?r:e(t,r)}var o=a(n.text).toUpperCase(),s=a(t.term).toUpperCase();return-1<o.indexOf(s)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.applyFromElement=function(e,t){var n=e.language,r=this.defaults.language,i=t.prop("lang"),o=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(o));return e.language=s,e},n.prototype._resolveLanguage=function(e){if(!e)return[];if(c.isEmptyObject(e))return[];if(c.isPlainObject(e))return[e];for(var t,n=c.isArray(e)?e:[e],r=[],i=0;i<n.length;i++)r.push(n[i]),"string"==typeof n[i]&&0<n[i].indexOf("-")&&(t=n[i].split("-")[0],r.push(t));return r},n.prototype._processTranslations=function(e,t){for(var n=new s,r=0;r<e.length;r++){var i=new s,o=e[r];if("string"==typeof o)try{i=s.loadPath(o)}catch(e){try{o=this.defaults.amdLanguageBase+o,i=s.loadPath(o)}catch(e){t&&window.console&&console.warn&&console.warn('Select2: The language file for "'+o+'" could not be automatically loaded. A fallback will be used instead.')}}else i=c.isPlainObject(o)?new s(o):o;n.extend(i)}return n},n.prototype.set=function(e,t){var n={};n[c.camelCase(e)]=t;var r=y._convertData(n);c.extend(!0,this.defaults,r)},new n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(r,u,i,d){function e(e,t){var n;this.options=e,null!=t&&this.fromElement(t),null!=t&&(this.options=i.applyFromElement(this.options,t)),this.options=i.apply(this.options),t&&t.is("input")&&(n=r(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=d.Decorate(this.options.dataAdapter,n))}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),d.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(e[0],"data",d.GetData(e[0],"select2Tags")),d.StoreData(e[0],"tags",!0)),d.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",d.GetData(e[0],"ajaxUrl")),d.StoreData(e[0],"ajax-Url",d.GetData(e[0],"ajaxUrl")));var n={};function r(e,t){return t.toUpperCase()}for(var i=0;i<e[0].attributes.length;i++){var o,s,a=e[0].attributes[i].name;"data-"==a.substr(0,"data-".length)&&(o=a.substring("data-".length),s=d.GetData(e[0],o),n[o.replace(/-([a-z])/g,r)]=s)}u.fn.jquery&&"1."==u.fn.jquery.substr(0,2)&&e[0].dataset&&(n=u.extend(!0,{},e[0].dataset,n));var l=u.extend(!0,{},d.GetData(e[0]),n),l=d._convertData(l);for(var c in l)-1<u.inArray(c,t)||(u.isPlainObject(this.options[c])?u.extend(this.options[c],l[c]):this.options[c]=l[c]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(o,c,u,r){var d=function(e,t){null!=u.GetData(e[0],"select2")&&u.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new c(t,e),d.__super__.constructor.call(this);var n=e.attr("tabindex")||0;u.StoreData(e[0],"old-tabindex",n),e.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(e,this.options);var i=this.render();this._placeContainer(i);var o=this.options.get("selectionAdapter");this.selection=new o(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,i);var s=this.options.get("dropdownAdapter");this.dropdown=new s(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,i);var a=this.options.get("resultsAdapter");this.results=new a(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),u.StoreData(e[0],"select2",this),e.data("select2",this)};return u.Extend(d,u.Observable),d.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+u.generateChars(2):u.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},d.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},d.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");return null!=r?r:this._resolveWidth(e,"element")}if("element"==t){var i=e.outerWidth(!1);return i<=0?"auto":i+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var o=e.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},d.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},d.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=u.bind(this._syncAttributes,this),this._syncS=u.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},d.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerSelectionEvents=function(){var n=this,r=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===o.inArray(e,r)&&n.trigger(e,t)})},d.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===r.ESC||t===r.TAB||t===r.UP&&e.altKey?(n.close(e),e.preventDefault()):t===r.ENTER?(n.trigger("results:select",{}),e.preventDefault()):t===r.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===r.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===r.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===r.ENTER||t===r.SPACE||t===r.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},d.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},d.prototype._isChangeMutation=function(e,t){var n=!1,r=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++)t.addedNodes[i].selected&&(n=!0);else t.removedNodes&&0<t.removedNodes.length?n=!0:o.isArray(t)&&o.each(t,function(e,t){if(r._isChangeMutation(e,t))return!(n=!0)});else n=!0;return n}},d.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),r=this;n&&this.dataAdapter.current(function(e){r.trigger("selection:update",{data:e})})},d.prototype.trigger=function(e,t){var n=d.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in r){var i=r[e],o={prevented:!1,name:e,args:t};if(n.call(this,i,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},d.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},d.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},d.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},d.prototype.isEnabled=function(){return!this.isDisabled()},d.prototype.isDisabled=function(){return this.options.get("disabled")},d.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},d.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},d.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},d.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},d.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},d.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];o.isArray(t)&&(t=o.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("input").trigger("change")},d.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",u.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),u.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},d.prototype.render=function(){var e=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),u.StoreData(e[0],"element",this.$element),e},d}),e.define("jquery-mousewheel",["jquery"],function(e){return e}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(i,e,o,t,s){var a;return null==i.fn.select2&&(a=["open","close","destroy"],i.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=i.extend(!0,{},t);new o(i(this),e)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var n,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=s.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,r)}),-1<i.inArray(t,a)?this:n}),null==i.fn.select2.defaults&&(i.fn.select2.defaults=t),o}),{define:e.define,require:e.require});function x(e,t){return a.call(e,t)}function u(e,t){var n,r,i,o,s,a,l,c,u,d,f,h=t&&t.split("/"),p=y.map,g=p&&p["*"]||{};if(e){for(s=(e=e.split("/")).length-1,y.nodeIdCompat&&w.test(e[s])&&(e[s]=e[s].replace(w,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),u=0;u<e.length;u++)if("."===(f=e[u]))e.splice(u,1),--u;else if(".."===f){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;0<u&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((h||g)&&p){for(u=(n=e.split("/")).length;0<u;--u){if(r=n.slice(0,u).join("/"),h)for(d=h.length;0<d;--d)if(i=(i=p[h.slice(0,d).join("/")])&&i[r]){o=i,a=u;break}if(o)break;!l&&g&&g[r]&&(l=g[r],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function C(t,n){return function(){var e=l.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),s.apply(h,e.concat([t,n]))}}function j(e){var t;if(x(v,e)&&(t=v[e],delete v[e],b[e]=!0,o.apply(h,t)),!x(m,e)&&!x(b,e))throw new Error("No "+e);return m[e]}function d(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return e?d(e):[]}var f=c.require("jquery.select2");return t.fn.select2.amd=c,f}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(o){var r={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};function n(e,t,n){t={content:{message:"object"==typeof t?t.message:t,title:t.title?t.title:"",icon:t.icon?t.icon:"",url:t.url?t.url:"#",target:t.target?t.target:"-"}};n=o.extend(!0,{},t,n),this.settings=o.extend(!0,{},r,n),this._defaults=r,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},o.extend(n.prototype,{init:function(){var s=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(e,t){var n={};for(var e in"string"==typeof e?n[e]=t:n=e,n)switch(e){case"type":this.$ele.removeClass("alert-"+s.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+s.settings.type),s.settings.type=n[e],this.$ele.addClass("alert-"+n[e]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[e]);break;case"icon":var r=this.$ele.find('[data-notify="icon"]');"class"==s.settings.icon_type.toLowerCase()?r.removeClass(s.settings.content.icon).addClass(n[e]):(r.is("img")||r.find("img"),r.attr("src",n[e]));break;case"progress":var i=s.settings.delay-s.settings.delay*(n[e]/100);this.$ele.data("notify-delay",i),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n[e]).css("width",n[e]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",n[e]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",n[e]);break;default:this.$ele.find('[data-notify="'+e+'"]').html(n[e])}var o=this.$ele.outerHeight()+parseInt(s.settings.spacing)+parseInt(s.settings.offset.y);s.reposition(o)},close:function(){s.close()}}},buildNotify:function(){var e=this.settings.content;this.$ele=o(String.format(this.settings.template,this.settings.type,e.title,e.message,e.url,e.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1}),this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},placement:function(){var n=this,e=this.settings.offset.y,t={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},r=!1,i=this.settings;switch(o('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return e=Math.max(e,parseInt(o(this).css(i.placement.from))+parseInt(o(this).outerHeight())+parseInt(i.spacing))}),1==this.settings.newest_on_top&&(e=this.settings.offset.y),t[this.settings.placement.from]=e+"px",this.settings.placement.align){case"left":case"right":t[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":t.left=0,t.right=0}this.$ele.css(t).addClass(this.settings.animate.enter),o.each(Array("webkit","moz","o","ms",""),function(e,t){n.$ele[0].style[t+"AnimationIterationCount"]=1}),o(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(e=parseInt(e)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(e)),o.isFunction(n.settings.onShow)&&n.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(e){r=!0}).one(this.animations.end,function(e){o.isFunction(n.settings.onShown)&&n.settings.onShown.call(this)}),setTimeout(function(){r||o.isFunction(n.settings.onShown)&&n.settings.onShown.call(this)},600)},bind:function(){var n,r=this;this.$ele.find('[data-notify="dismiss"]').on("click",function(){r.close()}),this.$ele.mouseover(function(e){o(this).data("data-hover","true")}).mouseout(function(e){o(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),0<this.settings.delay&&(r.$ele.data("notify-delay",r.settings.delay),n=setInterval(function(){var e,t=parseInt(r.$ele.data("notify-delay"))-r.settings.timer;("false"===r.$ele.data("data-hover")&&"pause"==r.settings.mouse_over||"pause"!=r.settings.mouse_over)&&(e=(r.settings.delay-t)/r.settings.delay*100,r.$ele.data("notify-delay",t),r.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",e).css("width",e+"%")),t<=-r.settings.timer&&(clearInterval(n),r.close())},r.settings.timer))},close:function(){var t=this,e=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(e),o.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(e){n=!0}).one(this.animations.end,function(e){o(this).remove(),o.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)}),setTimeout(function(){n||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))},600)},reposition:function(e){var t=this,n='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',r=this.$ele.nextAll(n);1==this.settings.newest_on_top&&(r=this.$ele.prevAll(n)),r.each(function(){o(this).css(t.settings.placement.from,e),e=parseInt(e)+parseInt(t.settings.spacing)+o(this).outerHeight()})}}),o.notify=function(e,t){return new n(0,e,t).notify},o.notifyDefaults=function(e){return r=o.extend(!0,{},r,e)},o.notifyClose=function(e){void 0===e||"all"==e?o("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):o('[data-notify-position="'+e+'"]').find('[data-notify="dismiss"]').trigger("click")}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.grapesjs=t():e.grapesjs=t()}(window,function(){return r={},i.m=n={"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(e,t,n){var s=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var n,r=s(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(e,t){e.exports=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),i=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),o=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return r(e)||i(e,t)||o()}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),i=n("./node_modules/@babel/runtime/helpers/iterableToArray.js"),o=n("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return r(e)||i(e)||o()}},"./node_modules/@babel/runtime/helpers/typeof.js":function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},"./node_modules/backbone-undo/Backbone.Undo.js":function(e,t,n){var r,i,o;i=[n("./node_modules/underscore/underscore.js"),n("./node_modules/backbone/backbone.js")],void 0===(o="function"==typeof(r=function(l,e){var c=Array.prototype.slice;function s(e,t,n){return n.length<=4?e.call(t,n[0],n[1],n[2],n[3]):e.apply(t,n)}function r(e,t){return c.call(e,t)}function a(t,e){if(t==null)return false;if(!l.isArray(e)){e=r(arguments,1)}return l.all(e,function(e){return e in t})}var u=function(){var e=false,t=-1;function n(){t++;e=true;l.defer(function(){e=false})}return function(){if(!e){n()}return t}}();function t(){this.registeredObjects=[];this.cidIndexes=[]}function n(e,t,n,r){for(var i=0,o=t.length,s;i<o;i++){s=t[i];if(!s)continue;if(e==="on"){if(!r.objectRegistry.register(s)){continue}}else{if(!r.objectRegistry.unregister(s)){continue}}if(l.isFunction(s[e])){s[e]("all",n,r)}}}function i(e,t){var n=t.type,r=t.undoTypes,i=!r[n]||r[n][e];if(l.isFunction(i)){i(t.object,t.before,t.after,t.options)}}function o(e,t,n,r,i){if(n.isCurrentlyUndoRedoing||e==="undo"&&n.pointer===-1||e==="redo"&&n.pointer===n.length-1){return}n.isCurrentlyUndoRedoing=true;var o,s,a=e==="undo";if(i){s=a&&n.pointer===n.length-1||!a&&n.pointer===-1?l.clone(n.models):c.apply(n.models,a?[0,n.pointer]:[n.pointer,n.length-1])}else{o=n.at(a?n.pointer:n.pointer+1);s=r?n.where({magicFusionIndex:o.get("magicFusionIndex")}):[o]}n.pointer+=(a?-1:1)*s.length;while(o=a?s.pop():s.shift()){o[e]()}n.isCurrentlyUndoRedoing=false;t.trigger(e,t)}function d(e,t){var n=e.condition,r=typeof n;return r==="function"?!!s(n,e,t):r==="boolean"?n:true}function f(e,t,n,r){if(e.track&&!e.isCurrentlyUndoRedoing&&t in r&&d(r[t],n)){var i=s(r[t]["on"],r[t],n),o;if(a(i,"object","before","after")){i.type=t;i.magicFusionIndex=u();i.undoTypes=r;if(e.pointer<e.length-1){var o=e.length-e.pointer-1;while(o--){e.pop()}}e.pointer=e.length;e.add(i);if(e.length>e.maximumStackLength){e.shift();e.pointer--}}}}t.prototype={isRegistered:function(e){return e&&e.cid?this.registeredObjects[e.cid]:l.contains(this.registeredObjects,e)},register:function(e){if(!this.isRegistered(e)){if(e&&e.cid){this.registeredObjects[e.cid]=e;this.cidIndexes.push(e.cid)}else{this.registeredObjects.push(e)}return true}return false},unregister:function(e){if(this.isRegistered(e)){if(e&&e.cid){delete this.registeredObjects[e.cid];this.cidIndexes.splice(l.indexOf(this.cidIndexes,e.cid),1)}else{var t=l.indexOf(this.registeredObjects,e);this.registeredObjects.splice(t,1)}return true}return false},get:function(){return l.map(this.cidIndexes,function(e){return this.registeredObjects[e]},this).concat(this.registeredObjects)}};var h={add:{undo:function(e,t,n,r){e.remove(n,r)},redo:function(e,t,n,r){if(r.index){r.at=r.index}e.add(n,r)},on:function(e,t,n){return{object:t,before:undefined,after:e,options:l.clone(n)}}},remove:{undo:function(e,t,n,r){if("index"in r){r.at=r.index}e.add(t,r)},redo:function(e,t,n,r){e.remove(t,r)},on:function(e,t,n){return{object:t,before:e,after:undefined,options:l.clone(n)}}},change:{undo:function(e,t,n,r){if(l.isEmpty(t)){l.each(l.keys(n),e.unset,e)}else{e.set(t);if(r&&r.unsetData&&r.unsetData.before&&r.unsetData.before.length){l.each(r.unsetData.before,e.unset,e)}}},redo:function(e,t,n,r){if(l.isEmpty(n)){l.each(l.keys(t),e.unset,e)}else{e.set(n);if(r&&r.unsetData&&r.unsetData.after&&r.unsetData.after.length){l.each(r.unsetData.after,e.unset,e)}}},on:function(e,t){var n=e.changedAttributes(),r=l.keys(n),i=l.pick(e.previousAttributes(),r),o=l.keys(i),s=(t||(t={})).unsetData={after:[],before:[]};if(r.length!=o.length){if(r.length>o.length){l.each(r,function(e){if(!(e in i)){s.before.push(e)}},this)}else{l.each(o,function(e){if(!(e in n)){s.after.push(e)}})}}return{object:e,before:i,after:n,options:l.clone(t)}}},reset:{undo:function(e,t,n){e.reset(t)},redo:function(e,t,n){e.reset(n)},on:function(e,t){return{object:e,before:t.previousModels,after:l.clone(e.models)}}}};function p(){}function g(n,e,r,i){if(typeof e==="object"){return l.each(e,function(e,t){if(n===2){g(n,e,r,i)}else{g(n,t,e,r)}})}switch(n){case 0:if(a(r,"undo","redo","on")&&l.all(l.pick(r,"undo","redo","on"),l.isFunction)){i[e]=r}break;case 1:if(i[e]&&l.isObject(r)){i[e]=l.extend({},i[e],r)}break;case 2:delete i[e];break}return this}p.prototype=h;var m=e.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(e){i("undo",this.attributes)},redo:function(e){i("redo",this.attributes)}}),v=e.Collection.extend({model:m,pointer:-1,track:false,isCurrentlyUndoRedoing:false,maximumStackLength:Infinity,setMaxLength:function(e){this.maximumStackLength=e}}),y=e.Model.extend({defaults:{maximumStackLength:Infinity,track:false},initialize:function(e){this.stack=new v;this.objectRegistry=new t;this.undoTypes=new p;this.stack.setMaxLength(this.get("maximumStackLength"));this.on("change:maximumStackLength",function(e,t){this.stack.setMaxLength(t)},this);if(e&&e.track){this.startTracking()}if(e&&e.register){if(l.isArray(e.register)||l.isArguments(e.register)){s(this.register,this,e.register)}else{this.register(e.register)}}},startTracking:function(){this.set("track",true);this.stack.track=true},stopTracking:function(){this.set("track",false);this.stack.track=false},isTracking:function(){return this.get("track")},_addToStack:function(e){f(this.stack,e,r(arguments,1),this.undoTypes)},register:function(){n("on",arguments,this._addToStack,this)},unregister:function(){n("off",arguments,this._addToStack,this)},unregisterAll:function(){s(this.unregister,this,this.objectRegistry.get())},undo:function(e){o("undo",this,this.stack,e)},undoAll:function(){o("undo",this,this.stack,false,true)},redo:function(e){o("redo",this,this.stack,e)},redoAll:function(){o("redo",this,this.stack,false,true)},isAvailable:function(e){var t=this.stack,n=t.length;switch(e){case"undo":return n>0&&t.pointer>-1;case"redo":return n>0&&t.pointer<n-1;default:return false}},merge:function(e){var t=l.isArray(e)?e:r(arguments),n;while(n=t.pop()){if(n instanceof y&&n.stack instanceof v){n.stack=this.stack}}},addUndoType:function(e,t){g(0,e,t,this.undoTypes)},changeUndoType:function(e,t){g(1,e,t,this.undoTypes)},removeUndoType:function(e){g(2,e,undefined,this.undoTypes)},clear:function(){this.stack.reset();this.stack.pointer=-1}});return l.extend(y,{defaults:function(e){l.extend(y.prototype.defaults,e)},addUndoType:function(e,t){g(0,e,t,h)},changeUndoType:function(e,t){g(1,e,t,h)},removeUndoType:function(e){g(2,e,void 0,h)}}),e.UndoManager=y})?r.apply(t,i):r)||(e.exports=o)},"./node_modules/backbone/backbone.js":function(i,o,s){(function(e){var t,n,r;r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e,t=[s("./node_modules/underscore/underscore.js"),s("./node_modules/cash-dom/dist/cash.esm.js"),o],void 0===(n=function(e,t,n){r.Backbone=function(e,l,x,t){var n=e.Backbone,o=Array.prototype.slice;l.VERSION="1.3.3",l.$=t,l.noConflict=function(){e.Backbone=n;return this},l.emulateHTTP=false,l.emulateJSON=false;var i=function(e,r,i){switch(e){case 1:return function(){return x[r](this[i])};case 2:return function(e){return x[r](this[i],e)};case 3:return function(e,t){return x[r](this[i],s(e,this),t)};case 4:return function(e,t,n){return x[r](this[i],s(e,this),t,n)};default:return function(){var e=o.call(arguments);e.unshift(this[i]);return x[r].apply(x,e)}}},r=function(n,e,r){x.each(e,function(e,t){if(x[t])n.prototype[t]=i(e,t,r)})},s=function(t,e){if(x.isFunction(t))return t;if(x.isObject(t)&&!e._isModel(t))return a(t);if(x.isString(t))return function(e){return e.get(t)};return t},a=function(e){var t=x.matches(e);return function(e){return t(e.attributes)}},c=l.Events={},u=/\s+/,d=function(e,t,n,r,i){var o=0,s;if(n&&typeof n==="object"){if(r!==void 0&&"context"in i&&i.context===void 0)i.context=r;for(s=x.keys(n);o<s.length;o++){t=d(e,t,s[o],n[s[o]],i)}}else if(n&&u.test(n)){for(s=n.split(u);o<s.length;o++){t=e(t,s[o],r,i)}}else{t=e(t,n,r,i)}return t};c.on=function(e,t,n){return f(this,e,t,n)};var f=function(e,t,n,r,i){e._events=d(h,e._events||{},t,n,{context:r,ctx:e,listening:i});if(i){var o=e._listeners||(e._listeners={});o[i.id]=i}return e};c.listenTo=function(e,t,n){if(!e)return this;var r=e._listenId||(e._listenId=x.uniqueId("l"));var i=this._listeningTo||(this._listeningTo={});var o=i[r];if(!o){var s=this._listenId||(this._listenId=x.uniqueId("l"));o=i[r]={obj:e,objId:r,id:s,listeningTo:i,count:0}}f(e,t,n,this,o);return this};var h=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]);var o=r.context,s=r.ctx,a=r.listening;if(a)a.count++;i.push({callback:n,context:o,ctx:o||s,listening:a})}return e};c.off=function(e,t,n){if(!this._events)return this;this._events=d(p,this._events,e,t,{context:n,listeners:this._listeners});return this},c.stopListening=function(e,t,n){var r=this._listeningTo;if(!r)return this;var i=e?[e._listenId]:x.keys(r);for(var o=0;o<i.length;o++){var s=r[i[o]];if(!s)break;s.obj.off(t,n,this)}return this};var p=function(e,t,n,r){if(!e)return;var i=0,o;var s=r.context,a=r.listeners;if(!t&&!n&&!s){var l=x.keys(a);for(;i<l.length;i++){o=a[l[i]];delete a[o.id];delete o.listeningTo[o.objId]}return}var c=t?[t]:x.keys(e);for(;i<c.length;i++){t=c[i];var u=e[t];if(!u)break;var d=[];for(var f=0;f<u.length;f++){var h=u[f];if(n&&n!==h.callback&&n!==h.callback._callback||s&&s!==h.context){d.push(h)}else{o=h.listening;if(o&&--o.count===0){delete a[o.id];delete o.listeningTo[o.objId]}}}if(d.length){e[t]=d}else{delete e[t]}}return e};c.once=function(e,t,n){var r=d(g,{},e,t,x.bind(this.off,this));if(typeof e==="string"&&n==null)t=void 0;return this.on(r,t,n)},c.listenToOnce=function(e,t,n){var r=d(g,{},t,n,x.bind(this.stopListening,this,e));return this.listenTo(e,r)};var g=function(e,t,n,r){if(n){var i=e[t]=x.once(function(){r(t,i);n.apply(this,arguments)});i._callback=n}return e};c.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1);var n=Array(t);for(var r=0;r<t;r++)n[r]=arguments[r+1];d(m,this._events,e,void 0,n);return this};var m=function(e,t,n,r){if(e){var i=e[t];var o=e.all;if(i&&o)o=o.slice();if(i)v(i,r);if(o)v(o,[t].concat(r))}return e},v=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,o);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,x.extend(l,c);var y=l.Model=function(e,t){var n=e||{};t||(t={});this.cid=x.uniqueId(this.cidPrefix);this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)n=this.parse(n,t)||{};var r=x.result(this,"defaults");n=x.defaults(x.extend({},r,n),r);this.set(n,t);this.changed={};this.initialize.apply(this,arguments)},b;x.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return x.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return x.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!x.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(e==null)return this;var r;if(typeof e==="object"){r=e;n=t}else{(r={})[e]=t}n||(n={});if(!this._validate(r,n))return false;var i=n.unset;var o=n.silent;var s=[];var a=this._changing;this._changing=true;if(!a){this._previousAttributes=x.clone(this.attributes);this.changed={}}var l=this.attributes;var c=this.changed;var u=this._previousAttributes;for(var d in r){t=r[d];if(!x.isEqual(l[d],t))s.push(d);if(!x.isEqual(u[d],t)){c[d]=t}else{delete c[d]}i?delete l[d]:l[d]=t}if(this.idAttribute in r)this.id=this.get(this.idAttribute);if(!o){if(s.length)this._pending=n;for(var f=0;f<s.length;f++){this.trigger("change:"+s[f],this,l[s[f]],n)}}if(a)return this;if(!o){while(this._pending){n=this._pending;this._pending=false;this.trigger("change",this,n)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,x.extend({},t,{unset:true}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,x.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!x.isEmpty(this.changed);return x.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?x.clone(this.changed):false;var t=this._changing?this._previousAttributes:this.attributes;var n={};for(var r in e){var i=e[r];if(x.isEqual(t[r],i))continue;n[r]=i}return x.size(n)?n:false},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return x.clone(this._previousAttributes)},fetch:function(n){n=x.extend({parse:true},n);var r=this;var i=n.success;n.success=function(e){var t=n.parse?r.parse(e,n):e;if(!r.set(t,n))return false;if(i)i.call(n.context,r,e,n);r.trigger("sync",r,e,n)};V(this,n);return this.sync("read",this,n)},save:function(e,t,n){var r;if(e==null||typeof e==="object"){r=e;n=t}else{(r={})[e]=t}n=x.extend({validate:true,parse:true},n);var i=n.wait;if(r&&!i){if(!this.set(r,n))return false}else if(!this._validate(r,n)){return false}var o=this;var s=n.success;var a=this.attributes;n.success=function(e){o.attributes=a;var t=n.parse?o.parse(e,n):e;if(i)t=x.extend({},r,t);if(t&&!o.set(t,n))return false;if(s)s.call(n.context,o,e,n);o.trigger("sync",o,e,n)};V(this,n);if(r&&i)this.attributes=x.extend({},a,r);var l=this.isNew()?"create":n.patch?"patch":"update";if(l==="patch"&&!n.attrs)n.attrs=r;var c=this.sync(l,this,n);this.attributes=a;return c},destroy:function(t){t=t?x.clone(t):{};var n=this;var r=t.success;var i=t.wait;var o=function(){n.stopListening();n.trigger("destroy",n,n.collection,t)};t.success=function(e){if(i)o();if(r)r.call(t.context,n,e,t);if(!n.isNew())n.trigger("sync",n,e,t)};var e=false;if(this.isNew()){x.defer(t.success)}else{V(this,t);e=this.sync("delete",this,t)}if(!i)o();return e},url:function(){var e=x.result(this,"urlRoot")||x.result(this.collection,"url")||z();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},x.extend({},e,{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=x.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;if(!n)return true;this.trigger("invalid",this,n,x.extend(t,{validationError:n}));return false}}),r(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var w=l.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,x.extend({silent:true},t))},C={add:true,remove:true,merge:true},j={add:true,remove:false},S=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r=Array(e.length-n);var i=t.length;var o;for(o=0;o<r.length;o++)r[o]=e[o+n];for(o=0;o<i;o++)e[o+n]=t[o];for(o=0;o<r.length;o++)e[o+i+n]=r[o]},k;x.extend(w.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return l.sync.apply(this,arguments)},add:function(e,t){return this.set(e,x.extend({merge:false},t,j))},remove:function(e,t){t=x.extend({},t);var n=!x.isArray(e);e=n?[e]:e.slice();var r=this._removeModels(e,t);if(!t.silent&&r.length){t.changes={added:[],merged:[],removed:r};this.trigger("update",this,t)}return n?r[0]:r},set:function(e,t){if(e==null)return;t=x.extend({},C,t);if(t.parse&&!this._isModel(e)){e=this.parse(e,t)||[]}var n=!x.isArray(e);e=n?[e]:e.slice();var r=t.at;if(r!=null)r=+r;if(r>this.length)r=this.length;if(r<0)r+=this.length+1;var i=[];var o=[];var s=[];var a=[];var l={};var c=t.add;var u=t.merge;var d=t.remove;var f=false;var h=this.comparator&&r==null&&t.sort!==false;var p=x.isString(this.comparator)?this.comparator:null;var g,m;for(m=0;m<e.length;m++){g=e[m];var v=this.get(g);if(v){if(u&&g!==v){var y=this._isModel(g)?g.attributes:g;if(t.parse)y=v.parse(y,t);v.set(y,t);s.push(v);if(h&&!f)f=v.hasChanged(p)}if(!l[v.cid]){l[v.cid]=true;i.push(v)}e[m]=v}else if(c){g=e[m]=this._prepareModel(g,t);if(g){o.push(g);this._addReference(g,t);l[g.cid]=true;i.push(g)}}}if(d){for(m=0;m<this.length;m++){g=this.models[m];if(!l[g.cid])a.push(g)}if(a.length)this._removeModels(a,t)}var b=false;var w=!h&&c&&d;if(i.length&&w){b=this.length!==i.length||x.some(this.models,function(e,t){return e!==i[t]});this.models.length=0;S(this.models,i,0);this.length=this.models.length}else if(o.length){if(h)f=true;S(this.models,o,r==null?this.length:r);this.length=this.models.length}if(f)this.sort({silent:true});if(!t.silent){for(m=0;m<o.length;m++){if(r!=null)t.index=r+m;g=o[m];g.trigger("add",g,this,t)}if(f||b)this.trigger("sort",this,t);if(o.length||a.length||s.length){t.changes={added:o,removed:a,merged:s};this.trigger("update",this,t)}}return n?e[0]:e},reset:function(e,t){t=t?x.clone(t):{};for(var n=0;n<this.models.length;n++){this._removeReference(this.models[n],t)}t.previousModels=this.models;this._reset();e=this.add(e,x.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,x.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,x.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){if(e<0)e+=this.length;return this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,true)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;if(x.isFunction(t))t=x.bind(t,this);if(n===1||x.isString(t)){this.models=this.sortBy(t)}else{this.models.sort(t)}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return this.map(e+"")},fetch:function(n){n=x.extend({parse:true},n);var r=n.success;var i=this;n.success=function(e){var t=n.reset?"reset":"set";i[t](e,n);if(r)r.call(n.context,i,e,n);i.trigger("sync",i,e,n)};V(this,n);return this.sync("read",this,n)},create:function(e,t){t=t?x.clone(t):{};var r=t.wait;e=this._prepareModel(e,t);if(!e)return false;if(!r)this.add(e,t);var i=this;var o=t.success;t.success=function(e,t,n){if(r)i.add(e,n);if(o)o.call(n.context,e,t,n)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(this._isModel(e)){if(!e.collection)e.collection=this;return e}t=t?x.clone(t):{};t.collection=this;var n=new this.model(e,t);if(!n.validationError)return n;this.trigger("invalid",this,n.validationError,t);return false},_removeModels:function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=this.get(e[r]);if(!i)continue;var o=this.indexOf(i);this.models.splice(o,1);this.length--;delete this._byId[i.cid];var s=this.modelId(i.attributes);if(s!=null)delete this._byId[s];if(!t.silent){t.index=o;i.trigger("remove",i,this,t)}n.push(i);this._removeReference(i,t)}return n},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);if(n!=null)this._byId[n]=e;e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);if(n!=null)delete this._byId[n];if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if((e==="add"||e==="remove")&&n!==this)return;if(e==="destroy")this.remove(t,r);if(e==="change"){var i=this.modelId(t.previousAttributes());var o=this.modelId(t.attributes);if(i!==o){if(i!=null)delete this._byId[i];if(o!=null)this._byId[o]=t}}}this.trigger.apply(this,arguments)}}),r(w,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var O=l.View=function(e){this.cid=x.uniqueId("view");x.extend(this,x.pick(e,T));this._ensureElement();this.initialize.apply(this,arguments)},_=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];x.extend(O.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(e){this.undelegateEvents();this._setElement(e);this.delegateEvents();return this},_setElement:function(e){this.$el=e instanceof l.$?e:l.$(e);this.el=this.$el[0]},delegateEvents:function(e){e||(e=x.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var n=e[t];if(!x.isFunction(n))n=this[n];if(!n)continue;var r=t.match(_);this.delegate(r[1],r[2],x.bind(n,this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n);return this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=x.extend({},x.result(this,"attributes"));if(this.id)e.id=x.result(this,"id");if(this.className)e["class"]=x.result(this,"className");this.setElement(this._createElement(x.result(this,"tagName")));this._setAttributes(e)}else{this.setElement(x.result(this,"el"))}},_setAttributes:function(e){this.$el.attr(e)}}),l.sync=function(e,t,r){var n=E[e];x.defaults(r||(r={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var i={type:n,dataType:"json"};if(!r.url){i.url=x.result(t,"url")||z()}if(r.data==null&&t&&(e==="create"||e==="update"||e==="patch")){i.contentType="application/json";i.data=JSON.stringify(r.attrs||t.toJSON(r))}if(r.emulateJSON){i.contentType="application/x-www-form-urlencoded";i.data=i.data?{model:i.data}:{}}if(r.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){i.type="POST";if(r.emulateJSON)i.data._method=n;var o=r.beforeSend;r.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",n);if(o)return o.apply(this,arguments)}}if(i.type!=="GET"&&!r.emulateJSON){i.processData=false}var s=r.error;r.error=function(e,t,n){r.textStatus=t;r.errorThrown=n;if(s)s.call(r.context,e,t,n)};var a=r.xhr=l.ajax(x.extend(i,r));t.trigger("request",t,a,r);return a};var E={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var P=l.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,M=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;x.extend(P.prototype,c,{initialize:function(){},route:function(n,r,i){if(!x.isRegExp(n))n=this._routeToRegExp(n);if(x.isFunction(r)){i=r;r=""}if(!i)i=this[r];var o=this;l.history.route(n,function(e){var t=o._extractParameters(n,e);if(o.execute(i,t,r)!==false){o.trigger.apply(o,["route:"+r].concat(t));o.trigger("route",r,t);l.history.trigger("route",o,r,t)}});return this},execute:function(e,t,n){if(e)e.apply(this,t)},navigate:function(e,t){l.history.navigate(e,t);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=x.result(this,"routes");var e,t=x.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(L,"\\$&").replace(D,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/?]+)"}).replace(M,"([^?]*?)");return new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return x.map(n,function(e,t){if(t===n.length-1)return e||null;return e?decodeURIComponent(e):null})}});var N=l.History=function(){this.handlers=[];this.checkUrl=x.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}},I=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,$=/#.*$/;N.started=false,x.extend(N.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname);var t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){if(e==null){if(this._usePushState||!this._wantsHashChange){e=this.getPath()}else{e=this.getHash()}}return e.replace(I,"")},start:function(e){if(N.started)throw new Error("Backbone.history has already been started");N.started=true;this.options=x.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(F,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";this.location.replace(t+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var n=document.body;var r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open();r.document.close();r.location.hash="#"+this.fragment}var i=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState){i("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){i("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};if(this._usePushState){e("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){e("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);N.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getHash(this.iframe.contentWindow)}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(t){if(!this.matchRoot())return false;t=this.fragment=this.getFragment(t);return x.some(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(e,t){if(!N.started)return false;if(!t||t===true)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?"){n=n.slice(0,-1)||"/"}var r=n+e;e=this.decodeFragment(e.replace($,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,r)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;if(!t.replace){i.document.open();i.document.close()}this._updateHash(i.location,e,t.replace)}}else{return this.location.assign(r)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else{e.hash="#"+t}}}),l.history=new N;var R=function(e,t){var n=this;var r;if(e&&x.has(e,"constructor")){r=e.constructor}else{r=function(){return n.apply(this,arguments)}}x.extend(r,n,t);r.prototype=x.create(n.prototype,e);r.prototype.constructor=r;r.__super__=n.prototype;return r};y.extend=w.extend=P.extend=O.extend=N.extend=R;var z=function(){throw new Error('A "url" property or function must be specified')},V=function(t,n){var r=n.error;n.error=function(e){if(r)r.call(n.context,t,e,n);t.trigger("error",t,e,n)}};return l}(r,n,e,t)}.apply(o,t))||(i.exports=n)}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/cash-dom/dist/cash.esm.js":function(e,t,n){"use strict";n.r(t);var s=document,a=window,r=Array.prototype,i=r.filter,o=r.indexOf,l=r.map,c=r.push,u=r.reverse,d=r.slice,f=r.splice,h=/^#[\w-]*$/,p=/^\.[\w-]*$/,g=/<.+>/,m=/^\w+$/;function v(e,t){return void 0===t&&(t=s),p.test(e)?t.getElementsByClassName(e.slice(1)):m.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e)}function y(e,t){if(void 0===t&&(t=s),e){if(e.__cash)return e;var n=e;if(T(e)){if(t.__cash&&(t=t[0]),!(n=h.test(e)?t.getElementById(e.slice(1)):g.test(e)?ue(e):v(e,t)))return}else if(_(e))return this.ready(e);!n.nodeType&&n!==a||(n=[n]),this.length=n.length;for(var r=0,i=this.length;r<i;r++)this[r]=n[r]}}function b(e,t){return new y(e,t)}var w=b.fn=b.prototype=y.prototype={constructor:b,__cash:!0,length:0,splice:f};w.get=function(e){return void 0===e?d.call(this):this[e<0?e+this.length:e]},w.eq=function(e){return b(this.get(e))},w.first=function(){return this.eq(0)},w.last=function(){return this.eq(-1)},w.map=function(n){return b(l.call(this,function(e,t){return n.call(e,t,e)}))},w.slice=function(){return b(d.apply(this,arguments))};var x=/(?:^\w|[A-Z]|\b\w)/g,C=/[\s-_]+/g;function j(e){return e.replace(x,function(e,t){return e[t?"toUpperCase":"toLowerCase"]()}).replace(C,"")}function S(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e[n],e[n],n,e);n++);}b.camelCase=j,b.each=S,w.each=function(n){return S(this,function(e,t){return n.call(e,t,e)}),this},w.removeProp=function(n){return this.each(function(e,t){delete t[n]})},b.extend=w.extend=function(e){void 0===e&&(e=this);for(var t=arguments,n=t.length,r=n<2?0:1;r<n;r++)for(var i in t[r])e[i]=t[r][i];return e};var k=1;function O(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function _(e){return"function"==typeof e}function T(e){return"string"==typeof e}function E(e){return!isNaN(parseFloat(e))&&isFinite(e)}b.guid=k,b.matches=O,b.isFunction=_,b.isString=T,b.isNumeric=E;var P=Array.isArray;function D(n){return T(n)?function(e,t){return O(t,n)}:n.__cash?function(e,t){return n.is(t)}:function(e,t,n){return t===n}}b.isArray=P,w.prop=function(n,r){if(n){if(T(n))return arguments.length<2?this[0]&&this[0][n]:this.each(function(e,t){t[n]=r});for(var e in n)this.prop(e,n[e]);return this}},w.filter=function(n){if(!n)return b();var r=_(n)?n:D(n);return b(i.call(this,function(e,t){return r.call(e,t,e,n)}))};var A=/\S+/g;function M(e){return T(e)&&e.match(A)||[]}function L(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function N(e,t,n){if(1===e.nodeType){var r=a.getComputedStyle(e,null);return t?n?r.getPropertyValue(t):r[t]:r}}function I(e,t){return parseInt(N(e,t),10)||0}w.hasClass=function(e){var n=M(e),r=!1;return n.length&&this.each(function(e,t){return!(r=t.classList.contains(n[0]))}),r},w.removeAttr=function(e){var n=M(e);return n.length?this.each(function(e,t){S(n,function(e){t.removeAttribute(e)})}):this},w.attr=function(n,r){if(n){if(T(n)){if(arguments.length<2){if(!this[0])return;var e=this[0].getAttribute(n);return null===e?void 0:e}return null===r?this.removeAttr(n):this.each(function(e,t){t.setAttribute(n,r)})}for(var t in n)this.attr(t,n[t]);return this}},w.toggleClass=function(e,n){var r=M(e),i=void 0!==n;return r.length?this.each(function(e,t){S(r,function(e){i?n?t.classList.add(e):t.classList.remove(e):t.classList.toggle(e)})}):this},w.addClass=function(e){return this.toggleClass(e,!0)},w.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")},b.unique=L,w.add=function(e,t){return b(L(this.get().concat(b(e,t).get())))};var F=/^--/;function $(e){return F.test(e)}var R={},z=s.createElement("div").style,V=["webkit","moz","ms","o"];function H(t,e){return void 0===e&&(e=$(t)),e?t:(R[t]||(r=""+(n=j(t)).charAt(0).toUpperCase()+n.slice(1),S((n+" "+V.join(r+" ")+r).split(" "),function(e){if(e in z)return R[t]=e,!1})),R[t]);var n,r}b.prefixedProp=H;var B={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function U(e,t,n){return void 0===n&&(n=$(e)),n||B[e]||!E(t)?t:t+"px"}w.css=function(n,r){if(T(n)){var i=$(n);return(n=H(n,i),arguments.length<2)?this[0]&&N(this[0],n,i):n?(r=U(n,r,i),this.each(function(e,t){1===t.nodeType&&(i?t.style.setProperty(n,r):t.style[n]=r)})):this}for(var e in n)this.css(e,n[e]);return this};var q="__cashData",W=/^data-(.*)/;function G(e){return e[q]=e[q]||{}}function Y(e,t){var n=G(e);if(t){if(!(t in n)){var r=e.dataset?e.dataset[t]||e.dataset[j(t)]:b(e).attr("data-"+t);if(void 0!==r){try{r=JSON.parse(r)}catch(e){}n[t]=r}}return n[t]}return n}function K(e,t){return I(e,"border"+(t?"Left":"Top")+"Width")+I(e,"padding"+(t?"Left":"Top"))+I(e,"padding"+(t?"Right":"Bottom"))+I(e,"border"+(t?"Right":"Bottom")+"Width")}function X(e,t){for(var n=0,r=t.length;n<r;n++)if(e.indexOf(t[n])<0)return;return 1}b.hasData=function(e){return q in e},w.data=function(i,o){var n=this;if(!i){if(!this[0])return;return S(this[0].attributes,function(e){var t=e.name.match(W);t&&n.data(t[1])}),Y(this[0])}if(T(i))return void 0===o?this[0]&&Y(this[0],i):this.each(function(e,t){return n=i,r=o,void(G(t)[n]=r);var n,r});for(var e in i)this.data(e,i[e]);return this},w.removeData=function(i){return this.each(function(e,t){return n=t,void(void 0===(r=i)?delete n[q]:delete G(n)[r]);var n,r})},S(["Width","Height"],function(e){w["inner"+e]=function(){if(this[0])return this[0]===a?a["inner"+e]:this[0]["client"+e]}}),S(["width","height"],function(i,o){w[i]=function(r){return this[0]?arguments.length?(r=parseInt(r,10),this.each(function(e,t){var n;1===t.nodeType&&(n=N(t,"boxSizing"),t.style[i]=U(i,r+("border-box"===n?K(t,!o):0)))})):this[0]===a?this[0][j("outer-"+i)]:this[0].getBoundingClientRect()[i]-K(this[0],!o):void 0===r?void 0:this}}),S(["Width","Height"],function(t,n){w["outer"+t]=function(e){if(this[0])return this[0]===a?a["outer"+t]:this[0]["offset"+t]+(e?I(this[0],"margin"+(n?"Top":"Left"))+I(this[0],"margin"+(n?"Bottom":"Right")):0)}});var Q="__cashEvents";function Z(e){return e[Q]=e[Q]||{}}function J(e){var t=e.split(".");return[t[0],t.slice(1).sort()]}function ee(r,i,o,s){var e=Z(r);if(i){var t=e[i];if(!t)return;s&&(s.guid=s.guid||k++),e[i]=t.filter(function(e){var t=e[0],n=e[1];if(s&&n.guid!==s.guid||!X(t,o))return!0;r.removeEventListener(i,n)})}else if(o&&o.length)for(i in e)ee(r,i,o,s);else for(i in e)!function(e,n,r){S(e[r],function(e){e[0];var t=e[1];n.removeEventListener(r,t)}),delete e[r]}(e,r,i)}w.off=function(e,i){var o=this;return void 0===e?this.each(function(e,t){return ee(t)}):S(M(e),function(e){var t=J(e),n=t[0],r=t[1];o.each(function(e,t){return ee(t,n,r,i)})}),this},w.on=function(e,l,c,u){var n=this;if(T(e))return _(l)&&(c=l,l=!1),S(M(e),function(e){var t=J(e),s=t[0],a=t[1];n.each(function(e,i){function o(e){if(!e.namespace||X(a,e.namespace.split("."))){var t=i;if(l){for(var n=e.target;!O(n,l);){if(n===i)return;if(!(n=n.parentNode))return}t=n}e.namespace=e.namespace||"";var r=c.call(t,e,e.data);u&&ee(i,s,a,o),!1===r&&(e.preventDefault(),e.stopPropagation())}}o.guid=c.guid=c.guid||k++,function(e,t,n,r){r.guid=r.guid||k++;var i=Z(e);i[t]=i[t]||[],i[t].push([n,r]),e.addEventListener(t,r)}(i,s,a,o)})}),this;for(var t in e)this.on(t,l,e[t]);return this},w.one=function(e,t,n){return this.on(e,t,n,!0)},w.ready=function(e){function t(){return e(b)}return"loading"!==s.readyState?setTimeout(t):s.addEventListener("DOMContentLoaded",t),this},w.trigger=function(e,t){var n,r,i,o=e;return T(e)&&(r=(n=J(e))[0],i=n[1],(o=s.createEvent("HTMLEvents")).initEvent(r,!0,!0),o.namespace=i.join(".")),o.data=t,this.each(function(e,t){t.dispatchEvent(o)})};var te=/select-one/i,ne=/select-multiple/i;function re(e){var t,n,r=e.type;return te.test(r)?(t=e).selectedIndex<0?null:t.options[t.selectedIndex].value:ne.test(r)?(n=[],S(e.options,function(e){!e.selected||e.disabled||e.parentNode.disabled||n.push(e.value)}),n):e.value}var ie=/%20/g;var oe=/file|reset|submit|button|image/i,se=/radio|checkbox/i;w.serialize=function(){var i="";return this.each(function(e,t){S(t.elements||[t],function(r){var e;!r.disabled&&r.name&&"FIELDSET"!==r.tagName&&(oe.test(r.type)||se.test(r.type)&&!r.checked||void 0!==(e=re(r))&&S(P(e)?e:[e],function(e){var t,n;i+=(t=r.name,n=e,"&"+encodeURIComponent(t)+"="+encodeURIComponent(n).replace(ie,"+"))}))})}),i.substr(1)},w.val=function(i){return void 0===i?this[0]&&re(this[0]):this.each(function(e,t){var n=ne.test(t.type),r=null===i?n?[]:"":i;n&&P(r)?S(t.options,function(e){e.selected=0<=r.indexOf(e.value)}):t.value=r})},w.clone=function(){return this.map(function(e,t){return t.cloneNode(!0)})},w.detach=function(){return this.each(function(e,t){t.parentNode&&t.parentNode.removeChild(t)})};var ae,le=/^\s*<(\w+)[^>]*>/,ce=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function ue(e){var t,n;if(ae||(t=s.createElement("table"),n=s.createElement("tr"),ae={"*":s.createElement("div"),tr:s.createElement("tbody"),td:n,th:n,thead:t,tbody:t,tfoot:t}),!T(e))return[];if(ce.test(e))return[s.createElement(RegExp.$1)];var r=le.test(e)&&RegExp.$1,i=ae[r]||ae["*"];return i.innerHTML=e,b(i.childNodes).detach().get()}function de(t,i,o){var e;void 0!==i&&(!(e=T(i))&&i.length?S(i,function(e){return de(t,e,o)}):S(t,e?function(e){e.insertAdjacentHTML(o?"afterbegin":"beforeend",i)}:function(e,t){return n=e,r=t?i.cloneNode(!0):i,void(o?n.insertBefore(r,n.childNodes[0]):n.appendChild(r));var n,r}))}b.parseHTML=ue,w.empty=function(){var e=this[0];if(e)for(;e.firstChild;)e.removeChild(e.firstChild);return this},w.append=function(){var t=this;return S(arguments,function(e){de(t,e)}),this},w.appendTo=function(e){return de(b(e),this),this},w.html=function(e){if(void 0===e)return this[0]&&this[0].innerHTML;var n=e.nodeType?e[0].outerHTML:e;return this.each(function(e,t){t.innerHTML=n})},w.insertAfter=function(e){var t=this;return b(e).each(function(n,r){var i=r.parentNode;t.each(function(e,t){i.insertBefore(n?t.cloneNode(!0):t,r.nextSibling)})}),this},w.after=function(){var t=this;return S(u.apply(arguments),function(e){u.apply(b(e).slice()).insertAfter(t)}),this},w.insertBefore=function(e){var t=this;return b(e).each(function(n,r){var i=r.parentNode;t.each(function(e,t){i.insertBefore(n?t.cloneNode(!0):t,r)})}),this},w.before=function(){var t=this;return S(arguments,function(e){b(e).insertBefore(t)}),this},w.prepend=function(){var t=this;return S(arguments,function(e){de(t,e,!0)}),this},w.prependTo=function(e){return de(b(e),u.apply(this.slice()),!0),this},w.remove=function(){return this.detach().off()},w.replaceWith=function(i){var o=this;return this.each(function(e,t){var n=t.parentNode;if(n){var r=e?b(i).clone():b(i);if(!r[0])return o.remove(),!1;n.replaceChild(r[0],t),b(r[0]).after(r.slice(1))}})},w.replaceAll=function(e){return b(e).replaceWith(this),this},w.text=function(n){return void 0===n?this[0]?this[0].textContent:"":this.each(function(e,t){t.textContent=n})};var fe=s.documentElement;w.offset=function(){var e=this[0];if(e){var t=e.getBoundingClientRect();return{top:t.top+a.pageYOffset-fe.clientTop,left:t.left+a.pageXOffset-fe.clientLeft}}},w.offsetParent=function(){return b(this[0]&&this[0].offsetParent)},w.position=function(){var e=this[0];if(e)return{left:e.offsetLeft,top:e.offsetTop}},w.children=function(n){var r=[];return this.each(function(e,t){c.apply(r,t.children)}),r=b(L(r)),n?r.filter(function(e,t){return O(t,n)}):r},w.contents=function(){var n=[];return this.each(function(e,t){c.apply(n,"IFRAME"===t.tagName?[t.contentDocument]:t.childNodes)}),b(n.length&&L(n))},w.find=function(e){for(var t=[],n=0,r=this.length;n<r;n++){var i=v(e,this[n]);i.length&&c.apply(t,i)}return b(t.length&&L(t))},w.has=function(n){var e=T(n)?function(e,t){return!!v(n,t).length}:function(e,t){return t.contains(n)};return this.filter(e)},w.is=function(n){if(!n||!this[0])return!1;var r=D(n),i=!1;return this.each(function(e,t){return!(i=r(e,t,n))}),i},w.next=function(){return b(this[0]&&this[0].nextElementSibling)},w.not=function(n){if(!n||!this[0])return this;var r=D(n);return this.filter(function(e,t){return!r(e,t,n)})},w.parent=function(){var n=[];return this.each(function(e,t){t&&t.parentNode&&n.push(t.parentNode)}),b(L(n))},w.index=function(e){var t=e?b(e)[0]:this[0],n=e?this:b(t).parent().children();return o.call(n,t)},w.closest=function(e){return e&&this[0]?this.is(e)?this.filter(e):this.parent().closest(e):b()},w.parents=function(n){var r,i=[];return this.each(function(e,t){for(r=t;r&&r.parentNode&&r!==s.body.parentNode;)r=r.parentNode,(!n||n&&O(r,n))&&i.push(r)}),b(L(i))},w.prev=function(){return b(this[0]&&this[0].previousElementSibling)},w.siblings=function(){var n=this[0];return this.parent().children().filter(function(e,t){return t!==n})},t.default=b},"./node_modules/codemirror-formatting/formatting.js":function(e,t,n){!function(m){m.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),m.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,n,r){if(this.jsonMode){return/^[\[,{]$/.test(t)||/^}/.test(n)}else{if(t==";"&&r.lexical&&r.lexical.type==")")return false;return/^[;{}]$/.test(t)&&!/^;/.test(n)}}});var o=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;m.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(e,t,n,r){var i=false;if(this.configuration=="html")i=r.context?o.test(r.context.tagName):false;return!i&&(e=="tag"&&/>$/.test(t)&&r.context||/^</.test(n))}}),m.defineExtension("commentRange",function(r,i,o){var s=this,a=m.innerMode(s.getMode(),s.getTokenAt(i).state).mode;s.operation(function(){if(r){s.replaceRange(a.commentEnd,o);s.replaceRange(a.commentStart,i);if(i.line==o.line&&i.ch==o.ch)s.setCursor(i.line,i.ch+a.commentStart.length)}else{var e=s.getRange(i,o);var t=e.indexOf(a.commentStart);var n=e.lastIndexOf(a.commentEnd);if(t>-1&&n>-1&&n>t){e=e.substr(0,t)+e.substring(t+a.commentStart.length,n)+e.substr(n+a.commentEnd.length)}s.replaceRange(e,i,o)}})}),m.defineExtension("autoIndentRange",function(t,n){var r=this;this.operation(function(){for(var e=t.line;e<=n.line;e++){r.indentLine(e,"smart")}})}),m.defineExtension("autoFormatRange",function(n,r){var i=this;var e=i.getMode(),t=i.getRange(n,r).split("\n");var o=m.copyState(e,i.getTokenAt(n).state);var s=i.getOption("tabSize");var a="",l=0,c=n.ch===0;function u(){a+="\n";c=true;++l}for(var d=0;d<t.length;++d){var f=new m.StringStream(t[d],s);while(!f.eol()){var h=m.innerMode(e,o);var p=e.token(f,o),g=f.current();f.start=f.pos;if(!c||/\S/.test(g)){a+=g;c=false}if(!c&&h.mode.newlineAfterToken&&h.mode.newlineAfterToken(p,g,f.string.slice(f.pos)||t[d+1]||"",h.state))u()}if(!f.pos&&e.blankLine)e.blankLine(o);if(!c&&d<t.length-1)u()}i.operation(function(){i.replaceRange(a,n,r);for(var e=n.line+1,t=n.line+l;e<=t;++e)i.indentLine(e,"smart");i.setSelection(n,i.getCursor(false))})})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/codemirror/lib/codemirror.js":function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,g=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),x=n||r||i,C=x&&(n?document.documentMode||6:+(i||r)[1]),m=!i&&/WebKit\//.test(e),o=m&&/Qt\/\d+\.\d+/.test(e),s=!i&&/Chrome\//.test(e),v=/Opera\//.test(e),a=/Apple Computer/.test(navigator.vendor),l=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),c=/PhantomJS/.test(e),u=!i&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),d=/Android/.test(e),f=u||d||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=u||/Mac/.test(t),h=/\bCrOS\b/.test(e),p=/win/i.test(t),b=v&&e.match(/Version\/(\d*\.\d*)/);if(b){b=Number(b[1])}if(b&&b>=15){v=false;m=true}var w=y&&(o||v&&(b==null||b<12.11)),j=g||x&&C>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k=function(e,t){var n=e.className;var r=S(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},O;function _(e){for(var t=e.childNodes.length;t>0;--t){e.removeChild(e.firstChild)}return e}function T(e,t){return _(e).appendChild(t)}function D(e,t,n,r){var i=document.createElement(e);if(n){i.className=n}if(r){i.style.cssText=r}if(typeof t=="string"){i.appendChild(document.createTextNode(t))}else if(t){for(var o=0;o<t.length;++o){i.appendChild(t[o])}}return i}function E(e,t,n,r){var i=D(e,t,n,r);i.setAttribute("role","presentation");return i}if(document.createRange){O=function(e,t,n,r){var i=document.createRange();i.setEnd(r||e,n);i.setStart(e,t);return i}}else{O=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}r.collapse(true);r.moveEnd("character",n);r.moveStart("character",t);return r}}function P(e,t){if(t.nodeType==3){t=t.parentNode}if(e.contains){return e.contains(t)}do{if(t.nodeType==11){t=t.host}if(t==e){return true}}while(t=t.parentNode)}function A(){var t;try{t=document.activeElement}catch(e){t=document.body||null}while(t&&t.shadowRoot&&t.shadowRoot.activeElement){t=t.shadowRoot.activeElement}return t}function M(e,t){var n=e.className;if(!S(t).test(n)){e.className+=(n?" ":"")+t}}function L(e,t){var n=e.split(" ");for(var r=0;r<n.length;r++){if(n[r]&&!S(n[r]).test(t)){t+=" "+n[r]}}return t}var N=function(e){e.select()};if(u){N=function(e){e.selectionStart=0;e.selectionEnd=e.value.length}}else if(x){N=function(e){try{e.select()}catch(e){}}}function I(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,n){if(!t){t={}}for(var r in e){if(e.hasOwnProperty(r)&&(n!==false||!t.hasOwnProperty(r))){t[r]=e[r]}}return t}function $(e,t,n,r,i){if(t==null){t=e.search(/[^\s\u00a0]/);if(t==-1){t=e.length}}for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t){return s+(t-o)}s+=a-o;s+=n-s%n;o=a+1}}var R=function(){this.id=null;this.f=null;this.time=0;this.handler=I(this.onTimeout,this)};function z(e,t){for(var n=0;n<e.length;++n){if(e[n]==t){return n}}return-1}R.prototype.onTimeout=function(e){e.id=0;if(e.time<=+new Date){e.f()}else{setTimeout(e.handler,e.time-+new Date)}},R.prototype.set=function(e,t){this.f=t;var n=+new Date+e;if(!this.id||n<this.time){clearTimeout(this.id);this.id=setTimeout(this.handler,e);this.time=n}};var V=30,H={toString:function(){return"CodeMirror.Pass"}},B={scroll:false},U={origin:"*mouse"},q={origin:"+move"};function W(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);if(o==-1){o=e.length}var s=o-r;if(o==e.length||i+s>=t){return r+Math.min(s,t-i)}i+=o-r;i+=n-i%n;r=o+1;if(i>=t){return r}}}var G=[""];function Y(e){while(G.length<=e){G.push(K(G)+" ")}return G[e]}function K(e){return e[e.length-1]}function X(e,t){var n=[];for(var r=0;r<e.length;r++){n[r]=t(e[r],r)}return n}function Q(e,t,n){var r=0,i=n(t);while(r<e.length&&n(e[r])<=i){r++}e.splice(r,0,t)}function Z(){}function J(e,t){var n;if(Object.create){n=Object.create(e)}else{Z.prototype=e;n=new Z}if(t){F(t,n)}return n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"Â"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){if(!t){return te(e)}if(t.source.indexOf("\\w")>-1&&te(e)){return true}return t.test(e)}function re(e){for(var t in e){if(e.hasOwnProperty(t)&&e[t]){return false}}return true}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function se(e,t,n){while((n<0?t>0:t<e.length)&&oe(e.charAt(t))){t+=n}return t}function ae(e,t,n){var r=t>n?-1:1;for(;;){if(t==n){return t}var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t){return e(o)?t:n}if(e(o)){n=o}else{t=o+r}}}function le(e,t,n,r){if(!e){return r(t,n,"ltr",0)}var i=false;for(var o=0;o<e.length;++o){var s=e[o];if(s.from<n&&s.to>t||t==n&&s.to==t){r(Math.max(s.from,t),Math.min(s.to,n),s.level==1?"rtl":"ltr",o);i=true}}if(!i){r(t,n,"ltr")}}var ce=null;function ue(e,t,n){var r;ce=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t){return i}if(o.to==t){if(o.from!=o.to&&n=="before"){r=i}else{ce=i}}if(o.from==t){if(o.from!=o.to&&n!="before"){r=i}else{ce=i}}}return r!=null?r:ce}var de=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function F(e){if(e<=247){return t.charAt(e)}else if(1424<=e&&e<=1524){return"R"}else if(1536<=e&&e<=1785){return n.charAt(e-1536)}else if(1774<=e&&e<=2220){return"r"}else if(8192<=e&&e<=8203){return"w"}else if(e==8204){return"b"}else{return"L"}}var $=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var R=/[stwN]/,z=/[LRr]/,V=/[Lb1n]/,H=/[1n]/;function B(e,t,n){this.level=e;this.from=t;this.to=n}return function(e,t){var n=t=="ltr"?"L":"R";if(e.length==0||t=="ltr"&&!$.test(e)){return false}var r=e.length,i=[];for(var o=0;o<r;++o){i.push(F(e.charCodeAt(o)))}for(var s=0,a=n;s<r;++s){var l=i[s];if(l=="m"){i[s]=a}else{a=l}}for(var c=0,u=n;c<r;++c){var d=i[c];if(d=="1"&&u=="r"){i[c]="n"}else if(z.test(d)){u=d;if(d=="r"){i[c]="R"}}}for(var f=1,h=i[0];f<r-1;++f){var p=i[f];if(p=="+"&&h=="1"&&i[f+1]=="1"){i[f]="1"}else if(p==","&&h==i[f+1]&&(h=="1"||h=="n")){i[f]=h}h=p}for(var g=0;g<r;++g){var m=i[g];if(m==","){i[g]="N"}else if(m=="%"){var v=void 0;for(v=g+1;v<r&&i[v]=="%";++v){}var y=g&&i[g-1]=="!"||v<r&&i[v]=="1"?"1":"N";for(var b=g;b<v;++b){i[b]=y}g=v-1}}for(var w=0,x=n;w<r;++w){var C=i[w];if(x=="L"&&C=="1"){i[w]="L"}else if(z.test(C)){x=C}}for(var j=0;j<r;++j){if(R.test(i[j])){var S=void 0;for(S=j+1;S<r&&R.test(i[S]);++S){}var k=(j?i[j-1]:n)=="L";var O=(S<r?i[S]:n)=="L";var _=k==O?k?"L":"R":n;for(var T=j;T<S;++T){i[T]=_}j=S-1}}var E=[],P;for(var D=0;D<r;){if(V.test(i[D])){var A=D;for(++D;D<r&&V.test(i[D]);++D){}E.push(new B(0,A,D))}else{var M=D,L=E.length;for(++D;D<r&&i[D]!="L";++D){}for(var N=M;N<D;){if(H.test(i[N])){if(M<N){E.splice(L,0,new B(1,M,N))}var I=N;for(++N;N<D&&H.test(i[N]);++N){}E.splice(L,0,new B(2,I,N));M=N}else{++N}}if(M<D){E.splice(L,0,new B(1,M,D))}}}if(t=="ltr"){if(E[0].level==1&&(P=e.match(/^\s+/))){E[0].from=P[0].length;E.unshift(new B(0,0,P[0].length))}if(K(E).level==1&&(P=e.match(/\s+$/))){K(E).to-=P[0].length;E.push(new B(0,r-P[0].length,r))}}return t=="rtl"?E.reverse():E}}();function fe(e,t){var n=e.order;if(n==null){n=e.order=de(e.text,t)}return n}var he=[],pe=function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||he).concat(n)}};function ge(e,t){return e._handlers&&e._handlers[t]||he}function me(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}else{var r=e._handlers,i=r&&r[t];if(i){var o=z(i,n);if(o>-1){r[t]=i.slice(0,o).concat(i.slice(o+1))}}}}function ve(e,t){var n=ge(e,t);if(!n.length){return}var r=Array.prototype.slice.call(arguments,2);for(var i=0;i<n.length;++i){n[i].apply(null,r)}}function ye(e,t,n){if(typeof t=="string"){t={type:t,preventDefault:function(){this.defaultPrevented=true}}}ve(e,n||t.type,e,t);return Se(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(!t){return}var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(var r=0;r<t.length;++r){if(z(n,t[r])==-1){n.push(t[r])}}}function we(e,t){return ge(e,t).length>0}function xe(e){e.prototype.on=function(e,t){pe(this,e,t)};e.prototype.off=function(e,t){me(this,e,t)}}function Ce(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}function je(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}function Se(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function ke(e){Ce(e);je(e)}function Oe(e){return e.target||e.srcElement}function _e(e){var t=e.which;if(t==null){if(e.button&1){t=1}else if(e.button&2){t=3}else if(e.button&4){t=2}}if(y&&e.ctrlKey&&t==1){t=3}return t}var Te=function(){if(x&&C<9){return false}var e=D("div");return"draggable"in e||"dragDrop"in e}(),Ee,Pe;function De(e){if(Ee==null){var t=D("span","â");T(e,D("span",[t,document.createTextNode("x")]));if(e.firstChild.offsetHeight!=0){Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(x&&C<8)}}var n=Ee?D("span","â"):D("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");n.setAttribute("cm-text","");return n}function Ae(e){if(Pe!=null){return Pe}var t=T(e,document.createTextNode("AØ®A"));var n=O(t,0,1).getBoundingClientRect();var r=O(t,1,2).getBoundingClientRect();_(e);if(!n||n.left==n.right){return false}return Pe=r.right-n.right<3}var Me="\n\nb".split(/\n/).length!=3?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);if(i==-1){i=e.length}var o=e.slice(t,e.charAt(i-1)=="\r"?i-1:i);var s=o.indexOf("\r");if(s!=-1){n.push(o.slice(0,s));t+=s+1}else{n.push(o);t=i+1}}return n}:function(e){return e.split(/\r\n?|\n/)},Le=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return false}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}if(!t||t.parentElement()!=e){return false}return t.compareEndPoints("StartToEnd",t)!=0},Ne=function(){var e=D("div");if("oncopy"in e){return true}e.setAttribute("oncopy","return;");return typeof e.oncopy=="function"}(),Ie=null;function Fe(e){if(Ie!=null){return Ie}var t=T(e,D("span","x"));var n=t.getBoundingClientRect();var r=O(t,0,1).getBoundingClientRect();return Ie=Math.abs(n.left-r.left)>1}var $e={},Re={};function ze(e,t){if(2<arguments.length)t.dependencies=Array.prototype.slice.call(arguments,2);$e[e]=t}function Ve(e,t){Re[e]=t}function He(e){if(typeof e=="string"&&Re.hasOwnProperty(e)){e=Re[e]}else if(e&&typeof e.name=="string"&&Re.hasOwnProperty(e.name)){var t=Re[e.name];if(typeof t=="string"){t={name:t}}e=J(t,e);e.name=t.name}else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e)){return He("application/xml")}else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e)){return He("application/json")}if(typeof e=="string"){return{name:e}}else{return e||{name:"null"}}}function Be(e,t){t=He(t);var n=$e[t.name];if(!n){return Be(e,"text/plain")}var r=n(e,t);if(Ue.hasOwnProperty(t.name)){var i=Ue[t.name];for(var o in i){if(!i.hasOwnProperty(o)){continue}if(r.hasOwnProperty(o)){r["_"+o]=r[o]}r[o]=i[o]}}r.name=t.name;if(t.helperType){r.helperType=t.helperType}if(t.modeProps){for(var s in t.modeProps){r[s]=t.modeProps[s]}}return r}var Ue={};function qe(e,t){var n=Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={};F(t,n)}function We(e,t){if(t===true){return t}if(e.copyState){return e.copyState(t)}var n={};for(var r in t){var i=t[r];if(i instanceof Array){i=i.concat([])}n[r]=i}return n}function Ge(e,t){var n;while(e.innerMode){n=e.innerMode(t);if(!n||n.mode==e){break}t=n.state;e=n.mode}return n||{mode:e,state:t}}function Ye(e,t,n){return e.startState?e.startState(t,n):true}var Ke=function(e,t,n){this.pos=this.start=0;this.string=e;this.tabSize=t||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=n};function Xe(e,t){t-=e.first;if(t<0||t>=e.size){throw new Error("There is no line "+(t+e.first)+" in the document.")}var n=e;while(!n.lines){for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}}return n.lines[t]}function Qe(e,n,r){var i=[],o=n.line;e.iter(n.line,r.line+1,function(e){var t=e.text;if(o==r.line){t=t.slice(0,r.ch)}if(o==n.line){t=t.slice(n.ch)}i.push(t);++o});return i}function Ze(e,t,n){var r=[];e.iter(t,n,function(e){r.push(e.text)});return r}function Je(e,t){var n=t-e.height;if(n){for(var r=e;r;r=r.parent){r.height+=n}}}function et(e){if(e.parent==null){return null}var t=e.parent,n=z(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent){for(var i=0;;++i){if(r.children[i]==t){break}n+=r.children[i].chunkSize()}}return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o;n+=i.chunkSize()}return n}while(!e.lines);var s=0;for(;s<e.lines.length;++s){var a=e.lines[s],l=a.height;if(t<l){break}t-=l}return n+s}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(n===void 0)n=null;if(!(this instanceof it)){return new it(e,t,n)}this.line=e;this.ch=t;this.sticky=n}function ot(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&ot(e,t)==0}function at(e){return it(e.line,e.ch)}function lt(e,t){return ot(e,t)<0?t:e}function ct(e,t){return ot(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first){return it(e.first,0)}var n=e.first+e.size-1;if(t.line>n){return it(n,Xe(e,n).text.length)}return ft(t,Xe(e,t.line).text.length)}function ft(e,t){var n=e.ch;if(n==null||n>t){return it(e.line,t)}else if(n<0){return it(e.line,0)}else{return e}}function ht(e,t){var n=[];for(var r=0;r<t.length;r++){n[r]=dt(e,t[r])}return n}Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||undefined},Ke.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},Ke.prototype.eat=function(e){var t=this.string.charAt(this.pos);var n;if(typeof e=="string"){n=t==e}else{n=t&&(e.test?e.test(t):e(t))}if(n){++this.pos;return t}},Ke.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e)){}return this.pos>t},Ke.prototype.eatSpace=function(){var e=this;var t=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++e.pos}return this.pos>t},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1){this.pos=t;return true}},Ke.prototype.backUp=function(e){this.pos-=e},Ke.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=$(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return $(this.string,null,this.tabSize)-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(e,t,n){if(typeof e=="string"){var r=function(e){return n?e.toLowerCase():e};var i=this.string.substr(this.pos,e.length);if(r(i)==r(e)){if(t!==false){this.pos+=e.length}return true}}else{var o=this.string.slice(this.pos).match(e);if(o&&o.index>0){return null}if(o&&t!==false){this.pos+=o[0].length}return o}},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ke.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ke.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e;this.lookAhead=t},gt=function(e,t,n,r){this.state=t;this.doc=e;this.line=n;this.maxLookAhead=r||0;this.baseTokens=null;this.baseTokenPos=1};function mt(t,n,r,e){var l=[t.state.modeGen],i={};kt(t,n.text,t.doc.mode,r,function(e,t){return l.push(e,t)},i,e);var c=r.state;var o=function(e){r.baseTokens=l;var o=t.state.overlays[e],s=1,a=0;r.state=true;kt(t,n.text,o.mode,r,function(e,t){var n=s;while(a<e){var r=l[s];if(r>e){l.splice(s,1,e,l[s+1],r)}s+=2;a=Math.min(e,r)}if(!t){return}if(o.opaque){l.splice(n,s-n,e,"overlay "+t);s=n+2}else{for(;n<s;n+=2){var i=l[n+1];l[n+1]=(i?i+" ":"")+"overlay "+t}}},i);r.state=c;r.baseTokens=null;r.baseTokenPos=1};for(var s=0;s<t.state.overlays.length;++s)o(s);return{styles:l,classes:i.bgClass||i.textClass?i:null}}function vt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=yt(e,et(t));var i=t.text.length>e.options.maxHighlightLength&&We(e.doc.mode,r.state);var o=mt(e,t,r);if(i){r.state=i}t.stateAfter=r.save(!i);t.styles=o.styles;if(o.classes){t.styleClasses=o.classes}else if(t.styleClasses){t.styleClasses=null}if(n===e.doc.highlightFrontier){e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier)}}return t.styles}function yt(n,r,e){var t=n.doc,i=n.display;if(!t.mode.startState){return new gt(t,true,r)}var o=Ot(n,r,e);var s=o>t.first&&Xe(t,o-1).stateAfter;var a=s?gt.fromSaved(t,s,o):new gt(t,Ye(t.mode),o);t.iter(o,r,function(e){bt(n,e.text,a);var t=a.line;e.stateAfter=t==r-1||t%5==0||t>=i.viewFrom&&t<i.viewTo?a.save():null;a.nextLine()});if(e){t.modeFrontier=a.line}return a}function bt(e,t,n,r){var i=e.doc.mode;var o=new Ke(t,e.options.tabSize,n);o.start=o.pos=r||0;if(t==""){wt(i,n.state)}while(!o.eol()){xt(i,o,n.state);o.start=o.pos}}function wt(e,t){if(e.blankLine){return e.blankLine(t)}if(!e.innerMode){return}var n=Ge(e,t);if(n.mode.blankLine){return n.mode.blankLine(n.state)}}function xt(e,t,n,r){for(var i=0;i<10;i++){if(r){r[0]=Ge(e,n).mode}var o=e.token(t,n);if(t.pos>t.start){return o}}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);if(t!=null&&e>this.maxLookAhead){this.maxLookAhead=e}return t},gt.prototype.baseToken=function(e){var t=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=e){t.baseTokenPos+=2}var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0){this.maxLookAhead--}},gt.fromSaved=function(e,t,n){if(t instanceof pt){return new gt(e,We(e.mode,t.state),n,t.lookAhead)}else{return new gt(e,We(e.mode,t),n)}},gt.prototype.save=function(e){var t=e!==false?We(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var Ct=function(e,t,n){this.start=e.start;this.end=e.pos;this.string=e.current();this.type=t||null;this.state=n};function jt(e,t,n,r){var i=e.doc,o=i.mode,s;t=dt(i,t);var a=Xe(i,t.line),l=yt(e,t.line,n);var c=new Ke(a.text,e.options.tabSize,l),u;if(r){u=[]}while((r||c.pos<t.ch)&&!c.eol()){c.start=c.pos;s=xt(o,c,l.state);if(r){u.push(new Ct(c,s,We(i.mode,l.state)))}}return r?u:new Ct(c,s,l.state)}function St(e,t){if(e){for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n){break}e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";if(t[r]==null){t[r]=n[2]}else if(!new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])){t[r]+=" "+n[2]}}}return e}function kt(e,t,n,r,i,o,s){var a=n.flattenSpans;if(a==null){a=e.options.flattenSpans}var l=0,c=null;var u=new Ke(t,e.options.tabSize,r),d;var f=e.options.addModeClass&&[null];if(t==""){St(wt(n,r.state),o)}while(!u.eol()){if(u.pos>e.options.maxHighlightLength){a=false;if(s){bt(e,t,r,u.pos)}u.pos=t.length;d=null}else{d=St(xt(n,u,r.state,f),o)}if(f){var h=f[0].name;if(h){d="m-"+(d?h+" "+d:h)}}if(!a||c!=d){while(l<u.start){l=Math.min(u.start,l+5e3);i(l,c)}c=d}u.start=u.pos}while(l<u.pos){var p=Math.min(u.pos,l+5e3);i(p,c);l=p}}function Ot(e,t,n){var r,i,o=e.doc;var s=n?-1:t-(e.doc.mode.innerMode?1e3:100);for(var a=t;a>s;--a){if(a<=o.first){return o.first}var l=Xe(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof pt?c.lookAhead:0)<=o.modeFrontier)){return a}var u=$(l.text,null,e.options.tabSize);if(i==null||r>u){i=a-1;r=u}}return i}function _t(e,t){e.modeFrontier=Math.min(e.modeFrontier,t);if(e.highlightFrontier<t-10){return}var n=e.first;for(var r=t-1;r>n;r--){var i=Xe(e,r).stateAfter;if(i&&(!(i instanceof pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}var Tt=false,Et=false;function Pt(){Tt=true}function Dt(){Et=true}function At(e,t,n){this.marker=e;this.from=t;this.to=n}function Mt(e,t){if(e){for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t){return r}}}}function Lt(e,t){var n;for(var r=0;r<e.length;++r){if(e[r]!=t){(n||(n=[])).push(e[r])}}return n}function Nt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t];t.marker.attachLine(e)}function It(e,t,n){var r;if(e){for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;var a=o.from==null||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&s.type=="bookmark"&&(!n||!o.marker.insertLeft)){var l=o.to==null||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new At(s,o.from,l?null:o.to))}}}return r}function Ft(e,t,n){var r;if(e){for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;var a=o.to==null||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&s.type=="bookmark"&&(!n||o.marker.insertLeft)){var l=o.from==null||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new At(s,l?null:o.from-t,o.to==null?null:o.to-t))}}}return r}function $t(e,t){if(t.full){return null}var n=nt(e,t.from.line)&&Xe(e,t.from.line).markedSpans;var r=nt(e,t.to.line)&&Xe(e,t.to.line).markedSpans;if(!n&&!r){return null}var i=t.from.ch,o=t.to.ch,s=ot(t.from,t.to)==0;var a=It(n,i,s);var l=Ft(r,o,s);var c=t.text.length==1,u=K(t.text).length+(c?i:0);if(a){for(var d=0;d<a.length;++d){var f=a[d];if(f.to==null){var h=Mt(l,f.marker);if(!h){f.to=i}else if(c){f.to=h.to==null?null:h.to+u}}}}if(l){for(var p=0;p<l.length;++p){var g=l[p];if(g.to!=null){g.to+=u}if(g.from==null){var m=Mt(a,g.marker);if(!m){g.from=u;if(c){(a||(a=[])).push(g)}}}else{g.from+=u;if(c){(a||(a=[])).push(g)}}}}if(a){a=Rt(a)}if(l&&l!=a){l=Rt(l)}var v=[a];if(!c){var y=t.text.length-2,b;if(y>0&&a){for(var w=0;w<a.length;++w){if(a[w].to==null){(b||(b=[])).push(new At(a[w].marker,null,null))}}}for(var x=0;x<y;++x){v.push(b)}v.push(l)}return v}function Rt(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==false){e.splice(t--,1)}}if(!e.length){return null}return e}function zt(e,t,n){var r=null;e.iter(t.line,n.line+1,function(e){if(e.markedSpans){for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;if(n.readOnly&&(!r||z(r,n)==-1)){(r||(r=[])).push(n)}}}});if(!r){return null}var i=[{from:t,to:n}];for(var o=0;o<r.length;++o){var s=r[o],a=s.find(0);for(var l=0;l<i.length;++l){var c=i[l];if(ot(c.to,a.from)<0||ot(c.from,a.to)>0){continue}var u=[l,1],d=ot(c.from,a.from),f=ot(c.to,a.to);if(d<0||!s.inclusiveLeft&&!d){u.push({from:c.from,to:a.from})}if(f>0||!s.inclusiveRight&&!f){u.push({from:a.to,to:c.to})}i.splice.apply(i,u);l+=u.length-3}}return i}function Vt(e){var t=e.markedSpans;if(!t){return}for(var n=0;n<t.length;++n){t[n].marker.detachLine(e)}e.markedSpans=null}function Ht(e,t){if(!t){return}for(var n=0;n<t.length;++n){t[n].marker.attachLine(e)}e.markedSpans=t}function Bt(e){return e.inclusiveLeft?-1:0}function Ut(e){return e.inclusiveRight?1:0}function qt(e,t){var n=e.lines.length-t.lines.length;if(n!=0){return n}var r=e.find(),i=t.find();var o=ot(r.from,i.from)||Bt(e)-Bt(t);if(o){return-o}var s=ot(r.to,i.to)||Ut(e)-Ut(t);if(s){return s}return t.id-e.id}function Wt(e,t){var n=Et&&e.markedSpans,r;if(n){for(var i=void 0,o=0;o<n.length;++o){i=n[o];if(i.marker.collapsed&&(t?i.from:i.to)==null&&(!r||qt(r,i.marker)<0)){r=i.marker}}}return r}function Gt(e){return Wt(e,true)}function Yt(e){return Wt(e,false)}function Kt(e,t){var n=Et&&e.markedSpans,r;if(n){for(var i=0;i<n.length;++i){var o=n[i];if(o.marker.collapsed&&(o.from==null||o.from<t)&&(o.to==null||o.to>t)&&(!r||qt(r,o.marker)<0)){r=o.marker}}}return r}function Xt(e,t,n,r,i){var o=Xe(e,t);var s=Et&&o.markedSpans;if(s){for(var a=0;a<s.length;++a){var l=s[a];if(!l.marker.collapsed){continue}var c=l.marker.find(0);var u=ot(c.from,n)||Bt(l.marker)-Bt(i);var d=ot(c.to,r)||Ut(l.marker)-Ut(i);if(u>=0&&d<=0||u<=0&&d>=0){continue}if(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.to,n)>=0:ot(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.from,r)<=0:ot(c.from,r)<0)){return true}}}}function Qt(e){var t;while(t=Gt(e)){e=t.find(-1,true).line}return e}function Zt(e){var t;while(t=Yt(e)){e=t.find(1,true).line}return e}function Jt(e){var t,n;while(t=Yt(e)){e=t.find(1,true).line;(n||(n=[])).push(e)}return n}function en(e,t){var n=Xe(e,t),r=Qt(n);if(n==r){return t}return et(r)}function tn(e,t){if(t>e.lastLine()){return t}var n=Xe(e,t),r;if(!nn(e,n)){return t}while(r=Yt(n)){n=r.find(1,true).line}return et(n)+1}function nn(e,t){var n=Et&&t.markedSpans;if(n){for(var r=void 0,i=0;i<n.length;++i){r=n[i];if(!r.marker.collapsed){continue}if(r.from==null){return true}if(r.marker.widgetNode){continue}if(r.from==0&&r.marker.inclusiveLeft&&rn(e,t,r)){return true}}}}function rn(e,t,n){if(n.to==null){var r=n.marker.find(1,true);return rn(e,r.line,Mt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length){return true}for(var i=void 0,o=0;o<t.markedSpans.length;++o){i=t.markedSpans[o];if(i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(i.to==null||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,i)){return true}}}function on(e){e=Qt(e);var t=0,n=e.parent;for(var r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e){break}else{t+=i.height}}for(var o=n.parent;o;n=o,o=n.parent){for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n){break}else{t+=a.height}}}return t}function sn(e){if(e.height==0){return 0}var t=e.text.length,n,r=e;while(n=Gt(r)){var i=n.find(0,true);r=i.from.line;t+=i.from.ch-i.to.ch}r=e;while(n=Yt(r)){var o=n.find(0,true);t-=r.text.length-o.from.ch;r=o.to.line;t+=r.text.length-o.to.ch}return t}function an(e){var n=e.display,t=e.doc;n.maxLine=Xe(t,t.first);n.maxLineLength=sn(n.maxLine);n.maxLineChanged=true;t.iter(function(e){var t=sn(e);if(t>n.maxLineLength){n.maxLineLength=t;n.maxLine=e}})}var ln=function(e,t,n){this.text=e;Ht(this,t);this.height=n?n(this):1};function cn(e,t,n,r){e.text=t;if(e.stateAfter){e.stateAfter=null}if(e.styles){e.styles=null}if(e.order!=null){e.order=null}Vt(e);Ht(e,n);var i=r?r(e):1;if(i!=e.height){Je(e,i)}}function un(e){e.parent=null;Vt(e)}ln.prototype.lineNo=function(){return et(this)},xe(ln);var dn={},fn={};function hn(e,t){if(!e||/^\s*$/.test(e)){return null}var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function pn(e,t){var n=E("span",null,null,m?"padding-right: .1px":null);var r={pre:E("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:false,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0;r.addToken=mn;if(Ae(e.display.measure)&&(s=fe(o,e.doc.direction))){r.addToken=yn(r.addToken,s)}r.map=[];var a=t!=e.display.externalMeasured&&et(o);wn(o,r,vt(e,o,a));if(o.styleClasses){if(o.styleClasses.bgClass){r.bgClass=L(o.styleClasses.bgClass,r.bgClass||"")}if(o.styleClasses.textClass){r.textClass=L(o.styleClasses.textClass,r.textClass||"")}}if(r.map.length==0){r.map.push(0,0,r.content.appendChild(De(e.display.measure)))}if(i==0){t.measure.map=r.map;t.measure.cache={}}else{(t.measure.maps||(t.measure.maps=[])).push(r.map);(t.measure.caches||(t.measure.caches=[])).push({})}}if(m){var l=r.content.lastChild;if(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab")){r.content.className="cm-tab-wrap-hack"}}ve(e,"renderLine",e,t.line,r.pre);if(r.pre.className){r.textClass=L(r.pre.className,r.textClass||"")}return r}function gn(e){var t=D("span","â¢","cm-invalidchar");t.title="\\u"+e.charCodeAt(0).toString(16);t.setAttribute("aria-label",t.title);return t}function mn(e,t,n,r,i,o,s){if(!t){return}var a=e.splitSpaces?vn(t,e.trailingSpace):t;var l=e.cm.state.specialChars,c=false;var u;if(!l.test(t)){e.col+=t.length;u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u);if(x&&C<9){c=true}e.pos+=t.length}else{u=document.createDocumentFragment();var d=0;while(true){l.lastIndex=d;var f=l.exec(t);var h=f?f.index-d:t.length-d;if(h){var p=document.createTextNode(a.slice(d,d+h));if(x&&C<9){u.appendChild(D("span",[p]))}else{u.appendChild(p)}e.map.push(e.pos,e.pos+h,p);e.col+=h;e.pos+=h}if(!f){break}d+=h+1;var g=void 0;if(f[0]=="\t"){var m=e.cm.options.tabSize,v=m-e.col%m;g=u.appendChild(D("span",Y(v),"cm-tab"));g.setAttribute("role","presentation");g.setAttribute("cm-text","\t");e.col+=v}else if(f[0]=="\r"||f[0]=="\n"){g=u.appendChild(D("span",f[0]=="\r"?"â":"â¤","cm-invalidchar"));g.setAttribute("cm-text",f[0]);e.col+=1}else{g=e.cm.options.specialCharPlaceholder(f[0]);g.setAttribute("cm-text",f[0]);if(x&&C<9){u.appendChild(D("span",[g]))}else{u.appendChild(g)}e.col+=1}e.map.push(e.pos,e.pos+1,g);e.pos++}}e.trailingSpace=a.charCodeAt(t.length-1)==32;if(n||r||i||c||o){var y=n||"";if(r){y+=r}if(i){y+=i}var b=D("span",[u],y,o);if(s){for(var w in s){if(s.hasOwnProperty(w)&&w!="style"&&w!="class"){b.setAttribute(w,s[w])}}}return e.content.appendChild(b)}e.content.appendChild(u)}function vn(e,t){if(e.length>1&&!/  /.test(e)){return e}var n=t,r="";for(var i=0;i<e.length;i++){var o=e.charAt(i);if(o==" "&&n&&(i==e.length-1||e.charCodeAt(i+1)==32)){o="Â "}r+=o;n=o==" "}return r}function yn(d,f){return function(e,t,n,r,i,o,s){n=n?n+" cm-force-border":"cm-force-border";var a=e.pos,l=a+t.length;for(;;){var c=void 0;for(var u=0;u<f.length;u++){c=f[u];if(c.to>a&&c.from<=a){break}}if(c.to>=l){return d(e,t,n,r,i,o,s)}d(e,t.slice(0,c.to-a),n,r,null,o,s);r=null;t=t.slice(c.to-a);a=c.to}}}function bn(e,t,n,r){var i=!r&&n.widgetNode;if(i){e.map.push(e.pos,e.pos+t,i)}if(!r&&e.cm.display.input.needsContentAttribute){if(!i){i=e.content.appendChild(document.createElement("span"))}i.setAttribute("cm-marker",n.id)}if(i){e.cm.display.input.setUneditable(i);e.content.appendChild(i)}e.pos+=t;e.trailingSpace=false}function wn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(!r){for(var s=1;s<n.length;s+=2){t.addToken(t,i.slice(o,o=n[s]),hn(n[s+1],t.cm.options))}return}var a=i.length,l=0,c=1,u="",d,f;var h=0,p,g,m,v,y;for(;;){if(h==l){p=g=m=f="";y=null;v=null;h=Infinity;var b=[],w=void 0;for(var x=0;x<r.length;++x){var C=r[x],j=C.marker;if(j.type=="bookmark"&&C.from==l&&j.widgetNode){b.push(j)}else if(C.from<=l&&(C.to==null||C.to>l||j.collapsed&&C.to==l&&C.from==l)){if(C.to!=null&&C.to!=l&&h>C.to){h=C.to;g=""}if(j.className){p+=" "+j.className}if(j.css){f=(f?f+";":"")+j.css}if(j.startStyle&&C.from==l){m+=" "+j.startStyle}if(j.endStyle&&C.to==h){(w||(w=[])).push(j.endStyle,C.to)}if(j.title){(y||(y={})).title=j.title}if(j.attributes){for(var S in j.attributes){(y||(y={}))[S]=j.attributes[S]}}if(j.collapsed&&(!v||qt(v.marker,j)<0)){v=C}}else if(C.from>l&&h>C.from){h=C.from}}if(w){for(var k=0;k<w.length;k+=2){if(w[k+1]==h){g+=" "+w[k]}}}if(!v||v.from==l){for(var O=0;O<b.length;++O){bn(t,0,b[O])}}if(v&&(v.from||0)==l){bn(t,(v.to==null?a+1:v.to)-l,v.marker,v.from==null);if(v.to==null){return}if(v.to==l){v=false}}}if(l>=a){break}var _=Math.min(a,h);while(true){if(u){var T=l+u.length;if(!v){var E=T>_?u.slice(0,_-l):u;t.addToken(t,E,d?d+p:p,m,l+E.length==h?g:"",f,y)}if(T>=_){u=u.slice(_-l);l=_;break}l=T;m=""}u=i.slice(o,o=n[c++]);d=hn(n[c++],t.cm.options)}}}function xn(e,t,n){this.line=t;this.rest=Jt(t);this.size=this.rest?et(K(this.rest))-n+1:1;this.node=this.text=null;this.hidden=nn(e,t)}function Cn(e,t,n){var r=[],i;for(var o=t;o<n;o=i){var s=new xn(e.doc,Xe(e.doc,o),o);i=o+s.size;r.push(s)}return r}var jn=null;function Sn(e){if(jn){jn.ops.push(e)}else{e.ownsGroup=jn={ops:[e],delayedCallbacks:[]}}}function kn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++){t[n].call(null)}for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers){while(i.cursorActivityCalled<i.cursorActivityHandlers.length){i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}}}while(n<t.length)}function On(e,t){var n=e.ownsGroup;if(!n){return}try{kn(n)}finally{jn=null;t(n)}}var _n=null;function Tn(e,t){var n=ge(e,t);if(!n.length){return}var r=Array.prototype.slice.call(arguments,2),i;if(jn){i=jn.delayedCallbacks}else if(_n){i=_n}else{i=_n=[];setTimeout(En,0)}var o=function(e){i.push(function(){return n[e].apply(null,r)})};for(var s=0;s<n.length;++s)o(s)}function En(){var e=_n;_n=null;for(var t=0;t<e.length;++t){e[t]()}}function Pn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];if(o=="text"){Ln(e,t)}else if(o=="gutter"){In(e,t,n,r)}else if(o=="class"){Nn(e,t)}else if(o=="widget"){Fn(e,t,r)}}t.changes=null}function Dn(e){if(e.node==e.text){e.node=D("div",null,null,"position: relative");if(e.text.parentNode){e.text.parentNode.replaceChild(e.node,e.text)}e.node.appendChild(e.text);if(x&&C<8){e.node.style.zIndex=2}}return e.node}function An(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n){n+=" CodeMirror-linebackground"}if(t.background){if(n){t.background.className=n}else{t.background.parentNode.removeChild(t.background);t.background=null}}else if(n){var r=Dn(t);t.background=r.insertBefore(D("div",null,n),r.firstChild);e.display.input.setUneditable(t.background)}}function Mn(e,t){var n=e.display.externalMeasured;if(n&&n.line==t.line){e.display.externalMeasured=null;t.measure=n.measure;return n.built}return pn(e,t)}function Ln(e,t){var n=t.text.className;var r=Mn(e,t);if(t.text==t.node){t.node=r.pre}t.text.parentNode.replaceChild(r.pre,t.text);t.text=r.pre;if(r.bgClass!=t.bgClass||r.textClass!=t.textClass){t.bgClass=r.bgClass;t.textClass=r.textClass;Nn(e,t)}else if(n){t.text.className=n}}function Nn(e,t){An(e,t);if(t.line.wrapClass){Dn(t).className=t.line.wrapClass}else if(t.node!=t.text){t.node.className=""}var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function In(e,t,n,r){if(t.gutter){t.node.removeChild(t.gutter);t.gutter=null}if(t.gutterBackground){t.node.removeChild(t.gutterBackground);t.gutterBackground=null}if(t.line.gutterClass){var i=Dn(t);t.gutterBackground=D("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px");e.display.input.setUneditable(t.gutterBackground);i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=Dn(t);var a=t.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");e.display.input.setUneditable(a);s.insertBefore(a,t.text);if(t.line.gutterClass){a.className+=" "+t.line.gutterClass}if(e.options.lineNumbers&&(!o||!o["CodeMirror-linenumbers"])){t.lineNumber=a.appendChild(D("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))}if(o){for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];if(u){a.appendChild(D("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}}}function Fn(e,t,n){if(t.alignable){t.alignable=null}for(var r=t.node.firstChild,i=void 0;r;r=i){i=r.nextSibling;if(r.className=="CodeMirror-linewidget"){t.node.removeChild(r)}}Rn(e,t,n)}function $n(e,t,n,r){var i=Mn(e,t);t.text=t.node=i.pre;if(i.bgClass){t.bgClass=i.bgClass}if(i.textClass){t.textClass=i.textClass}Nn(e,t);In(e,t,n,r);Rn(e,t,r);return t.node}function Rn(e,t,n){zn(e,t.line,t,n,true);if(t.rest){for(var r=0;r<t.rest.length;r++){zn(e,t.rest[r],t,n,false)}}}function zn(e,t,n,r,i){if(!t.widgets){return}var o=Dn(n);for(var s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=D("div",[l.node],"CodeMirror-linewidget");if(!l.handleMouseEvents){c.setAttribute("cm-ignore-events","true")}Vn(l,c,n,r);e.display.input.setUneditable(c);if(i&&l.above){o.insertBefore(c,n.gutter||n.text)}else{o.appendChild(c)}Tn(l,"redraw")}}function Vn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px";if(!e.coverGutter){i-=r.gutterTotalWidth;t.style.paddingLeft=r.gutterTotalWidth+"px"}t.style.width=i+"px"}if(e.coverGutter){t.style.zIndex=5;t.style.position="relative";if(!e.noHScroll){t.style.marginLeft=-r.gutterTotalWidth+"px"}}}function Hn(e){if(e.height!=null){return e.height}var t=e.doc.cm;if(!t){return 0}if(!P(document.body,e.node)){var n="position: relative;";if(e.coverGutter){n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"}if(e.noHScroll){n+="width: "+t.display.wrapper.clientWidth+"px;"}T(t.display.measure,D("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Bn(e,t){for(var n=Oe(t);n!=e.wrapper;n=n.parentNode){if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover){return true}}}function Un(e){return e.lineSpace.offsetTop}function qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Wn(e){if(e.cachedPaddingH){return e.cachedPaddingH}var t=T(e.measure,D("pre","x","CodeMirror-line-like"));var n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;var r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};if(!isNaN(r.left)&&!isNaN(r.right)){e.cachedPaddingH=r}return r}function Gn(e){return V-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Gn(e)-e.display.barWidth}function Kn(e){return e.display.scroller.clientHeight-Gn(e)-e.display.barHeight}function Xn(e,t,n){var r=e.options.lineWrapping;var i=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;var s=t.text.firstChild.getClientRects();for(var a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];if(Math.abs(l.bottom-c.bottom)>2){o.push((l.bottom+c.top)/2-n.top)}}}o.push(n.bottom-n.top)}}function Qn(e,t,n){if(e.line==t){return{map:e.measure.map,cache:e.measure.cache}}for(var r=0;r<e.rest.length;r++){if(e.rest[r]==t){return{map:e.measure.maps[r],cache:e.measure.caches[r]}}}for(var i=0;i<e.rest.length;i++){if(et(e.rest[i])>n){return{map:e.measure.maps[i],cache:e.measure.caches[i],before:true}}}}function Zn(e,t){t=Qt(t);var n=et(t);var r=e.display.externalMeasured=new xn(e.doc,t,n);r.lineN=n;var i=r.built=pn(e,r);r.text=i.pre;T(e.display.lineMeasure,i.pre);return r}function Jn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo){return e.display.view[Nr(e,t)]}var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size){return n}}function tr(e,t){var n=et(t);var r=er(e,n);if(r&&!r.text){r=null}else if(r&&r.changes){Pn(e,r,n,Pr(e));e.curOp.forceUpdate=true}if(!r){r=Zn(e,t)}var i=Qn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:false}}function nr(e,t,n,r,i){if(t.before){n=-1}var o=n+(r||""),s;if(t.cache.hasOwnProperty(o)){s=t.cache[o]}else{if(!t.rect){t.rect=t.view.text.getBoundingClientRect()}if(!t.hasHeights){Xn(e,t.view,t.rect);t.hasHeights=true}s=ar(e,t,n,r);if(!s.bogus){t.cache[o]=s}}return{left:s.left,right:s.right,top:i?s.rtop:s.top,bottom:i?s.rbottom:s.bottom}}var rr={left:0,right:0,top:0,bottom:0},ir;function or(e,t,n){var r,i,o,s,a,l;for(var c=0;c<e.length;c+=3){a=e[c];l=e[c+1];if(t<a){i=0;o=1;s="left"}else if(t<l){i=t-a;o=i+1}else if(c==e.length-3||t==l&&e[c+3]>t){o=l-a;i=o-1;if(t>=l){s="right"}}if(i!=null){r=e[c+2];if(a==l&&n==(r.insertLeft?"left":"right")){s=n}if(n=="left"&&i==0){while(c&&e[c-2]==e[c-3]&&e[c-1].insertLeft){r=e[(c-=3)+2];s="left"}}if(n=="right"&&i==l-a){while(c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft){r=e[(c+=3)+2];s="right"}}break}}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function sr(e,t){var n=rr;if(t=="left"){for(var r=0;r<e.length;r++){if((n=e[r]).left!=n.right){break}}}else{for(var i=e.length-1;i>=0;i--){if((n=e[i]).left!=n.right){break}}}return n}function ar(e,t,n,r){var i=or(t.map,n,r);var o=i.node,s=i.start,a=i.end,l=i.collapse;var c;if(o.nodeType==3){for(var u=0;u<4;u++){while(s&&oe(t.line.text.charAt(i.coverStart+s))){--s}while(i.coverStart+a<i.coverEnd&&oe(t.line.text.charAt(i.coverStart+a))){++a}if(x&&C<9&&s==0&&a==i.coverEnd-i.coverStart){c=o.parentNode.getBoundingClientRect()}else{c=sr(O(o,s,a).getClientRects(),r)}if(c.left||c.right||s==0){break}a=s;s=s-1;l="right"}if(x&&C<11){c=lr(e.display.measure,c)}}else{if(s>0){l=r="right"}var d;if(e.options.lineWrapping&&(d=o.getClientRects()).length>1){c=d[r=="right"?d.length-1:0]}else{c=o.getBoundingClientRect()}}if(x&&C<9&&!s&&(!c||!c.left&&!c.right)){var f=o.parentNode.getClientRects()[0];if(f){c={left:f.left,right:f.left+Er(e.display),top:f.top,bottom:f.bottom}}else{c=rr}}var h=c.top-t.rect.top,p=c.bottom-t.rect.top;var g=(h+p)/2;var m=t.view.measure.heights;var v=0;for(;v<m.length-1;v++){if(g<m[v]){break}}var y=v?m[v-1]:0,b=m[v];var w={left:(l=="right"?c.right:c.left)-t.rect.left,right:(l=="left"?c.left:c.right)-t.rect.left,top:y,bottom:b};if(!c.left&&!c.right){w.bogus=true}if(!e.options.singleCursorHeightPerLine){w.rtop=h;w.rbottom=p}return w}function lr(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Fe(e)){return t}var n=screen.logicalXDPI/screen.deviceXDPI;var r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure){e.measure.cache={};e.measure.heights=null;if(e.rest){for(var t=0;t<e.rest.length;t++){e.measure.caches[t]={}}}}}function ur(e){e.display.externalMeasure=null;_(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++){cr(e.display.view[t])}}function dr(e){ur(e);e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null;if(!e.options.lineWrapping){e.display.maxLineChanged=true}e.display.lineNumChars=null}function fr(){if(s&&d){return-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hr(){if(s&&d){return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function pr(e){var t=0;if(e.widgets){for(var n=0;n<e.widgets.length;++n){if(e.widgets[n].above){t+=Hn(e.widgets[n])}}}return t}function gr(e,t,n,r,i){if(!i){var o=pr(t);n.top+=o;n.bottom+=o}if(r=="line"){return n}if(!r){r="local"}var s=on(t);if(r=="local"){s+=Un(e.display)}else{s-=e.display.viewOffset}if(r=="page"||r=="window"){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+(r=="window"?0:hr());var l=a.left+(r=="window"?0:fr());n.left+=l;n.right+=l}n.top+=s;n.bottom+=s;return n}function mr(e,t,n){if(n=="div"){return t}var r=t.left,i=t.top;if(n=="page"){r-=fr();i-=hr()}else if(n=="local"||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left;i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function vr(e,t,n,r,i){if(!r){r=Xe(e.doc,t.line)}return gr(e,r,Jn(e,r,t.ch,i),n)}function yr(r,e,i,o,s,a){o=o||Xe(r.doc,e.line);if(!s){s=tr(r,o)}function l(e,t){var n=nr(r,s,e,t?"right":"left",a);if(t){n.left=n.right}else{n.right=n.left}return gr(r,o,n,i)}var c=fe(o,r.doc.direction),t=e.ch,n=e.sticky;if(t>=o.text.length){t=o.text.length;n="before"}else if(t<=0){t=0;n="after"}if(!c){return l(n=="before"?t-1:t,n=="before")}function u(e,t,n){var r=c[t],i=r.level==1;return l(n?e-1:e,i!=n)}var d=ue(c,t,n);var f=ce;var h=u(t,d,n=="before");if(f!=null){h.other=u(t,f,n!="before")}return h}function br(e,t){var n=0;t=dt(e.doc,t);if(!e.options.lineWrapping){n=Er(e.display)*t.ch}var r=Xe(e.doc,t.line);var i=on(r)+Un(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function wr(e,t,n,r,i){var o=it(e,t,n);o.xRel=i;if(r){o.outside=r}return o}function xr(e,t,n){var r=e.doc;n+=e.display.viewOffset;if(n<0){return wr(r.first,0,null,-1,-1)}var i=tt(r,n),o=r.first+r.size-1;if(i>o){return wr(r.first+r.size-1,Xe(r,o).text.length,null,1,1)}if(t<0){t=0}var s=Xe(r,i);for(;;){var a=kr(e,s,i,t,n);var l=Kt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l){return a}var c=l.find(1);if(c.line==i){return c}s=Xe(r,i=c.line)}}function Cr(t,e,n,r){r-=pr(e);var i=e.text.length;var o=ae(function(e){return nr(t,n,e-1).bottom<=r},i,0);i=ae(function(e){return nr(t,n,e).top>r},o,i);return{begin:o,end:i}}function jr(e,t,n,r){if(!n){n=tr(e,t)}var i=gr(e,t,nr(e,n,r),"line").top;return Cr(e,t,n,i)}function Sr(e,t,n,r){return e.bottom<=n?false:e.top>n?true:(r?e.left:e.right)>t}function kr(n,e,t,r,i){i-=on(e);var o=tr(n,e);var s=pr(e);var a=0,l=e.text.length,c=true;var u=fe(e,n.doc.direction);if(u){var d=(n.options.lineWrapping?_r:Or)(n,e,t,o,u,r,i);c=d.level!=1;a=c?d.from:d.to-1;l=c?d.to:d.from-1}var f=null,h=null;var p=ae(function(e){var t=nr(n,o,e);t.top+=s;t.bottom+=s;if(!Sr(t,r,i,false)){return false}if(t.top<=i&&t.left<=r){f=e;h=t}return true},a,l);var g,m,v=false;if(h){var y=r-h.left<h.right-r,b=y==c;p=f+(b?0:1);m=b?"after":"before";g=y?h.left:h.right}else{if(!c&&(p==l||p==a)){p++}m=p==0?"after":p==e.text.length?"before":nr(n,o,p-(c?1:0)).bottom+s<=i==c?"after":"before";var w=yr(n,it(t,p,m),"line",e,o);g=w.left;v=i<w.top?-1:i>=w.bottom?1:0}p=se(e.text,p,1);return wr(t,p,m,v,r-g)}function Or(r,i,o,s,a,l,c){var e=ae(function(e){var t=a[e],n=t.level!=1;return Sr(yr(r,it(o,n?t.to:t.from,n?"before":"after"),"line",i,s),l,c,true)},0,a.length-1);var t=a[e];if(e>0){var n=t.level!=1;var u=yr(r,it(o,n?t.from:t.to,n?"after":"before"),"line",i,s);if(Sr(u,l,c,true)&&u.top>c){t=a[e-1]}}return t}function _r(e,t,n,r,i,o,s){var a=Cr(e,t,r,s);var l=a.begin;var c=a.end;if(/\s/.test(t.text.charAt(c-1))){c--}var u=null,d=null;for(var f=0;f<i.length;f++){var h=i[f];if(h.from>=c||h.to<=l){continue}var p=h.level!=1;var g=nr(e,r,p?Math.min(c,h.to)-1:Math.max(l,h.from)).right;var m=g<o?o-g+1e9:g-o;if(!u||d>m){u=h;d=m}}if(!u){u=i[i.length-1]}if(u.from<l){u={from:l,to:u.to,level:u.level}}if(u.to>c){u={from:u.from,to:c,level:u.level}}return u}function Tr(e){if(e.cachedTextHeight!=null){return e.cachedTextHeight}if(ir==null){ir=D("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t){ir.appendChild(document.createTextNode("x"));ir.appendChild(D("br"))}ir.appendChild(document.createTextNode("x"))}T(e.measure,ir);var n=ir.offsetHeight/50;if(n>3){e.cachedTextHeight=n}_(e.measure);return n||1}function Er(e){if(e.cachedCharWidth!=null){return e.cachedCharWidth}var t=D("span","xxxxxxxxxx");var n=D("pre",[t],"CodeMirror-line-like");T(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;if(i>2){e.cachedCharWidth=i}return i||10}function Pr(e){var t=e.display,n={},r={};var i=t.gutters.clientLeft;for(var o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i;r[a]=o.clientWidth}return{fixedPos:Dr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Dr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ar(r){var i=Tr(r.display),o=r.options.lineWrapping;var s=o&&Math.max(5,r.display.scroller.clientWidth/Er(r.display)-3);return function(e){if(nn(r.doc,e)){return 0}var t=0;if(e.widgets){for(var n=0;n<e.widgets.length;n++){if(e.widgets[n].height){t+=e.widgets[n].height}}}if(o){return t+(Math.ceil(e.text.length/s)||1)*i}else{return t+i}}}function Mr(e){var t=e.doc,n=Ar(e);t.iter(function(e){var t=n(e);if(t!=e.height){Je(e,t)}})}function Lr(e,t,n,r){var i=e.display;if(!n&&Oe(t).getAttribute("cm-not-content")=="true"){return null}var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left;s=t.clientY-a.top}catch(t){return null}var l=xr(e,o,s),c;if(r&&l.xRel==1&&(c=Xe(e.doc,l.line).text).length==l.ch){var u=$(c,c.length,e.options.tabSize)-c.length;l=it(l.line,Math.max(0,Math.round((o-Wn(e.display).left)/Er(e.display))-u))}return l}function Nr(e,t){if(t>=e.display.viewTo){return null}t-=e.display.viewFrom;if(t<0){return null}var n=e.display.view;for(var r=0;r<n.length;r++){t-=n[r].size;if(t<0){return r}}}function Ir(e,t,n,r){if(t==null){t=e.doc.first}if(n==null){n=e.doc.first+e.doc.size}if(!r){r=0}var i=e.display;if(r&&n<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)){i.updateLineNumbers=t}e.curOp.viewChanged=true;if(t>=i.viewTo){if(Et&&en(e.doc,t)<i.viewTo){$r(e)}}else if(n<=i.viewFrom){if(Et&&tn(e.doc,n+r)>i.viewFrom){$r(e)}else{i.viewFrom+=r;i.viewTo+=r}}else if(t<=i.viewFrom&&n>=i.viewTo){$r(e)}else if(t<=i.viewFrom){var o=Rr(e,n,n+r,1);if(o){i.view=i.view.slice(o.index);i.viewFrom=o.lineN;i.viewTo+=r}else{$r(e)}}else if(n>=i.viewTo){var s=Rr(e,t,t,-1);if(s){i.view=i.view.slice(0,s.index);i.viewTo=s.lineN}else{$r(e)}}else{var a=Rr(e,t,t,-1);var l=Rr(e,n,n+r,1);if(a&&l){i.view=i.view.slice(0,a.index).concat(Cn(e,a.lineN,l.lineN)).concat(i.view.slice(l.index));i.viewTo+=r}else{$r(e)}}var c=i.externalMeasured;if(c){if(n<c.lineN){c.lineN+=r}else if(t<c.lineN+c.size){i.externalMeasured=null}}}function Fr(e,t,n){e.curOp.viewChanged=true;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size){r.externalMeasured=null}if(t<r.viewFrom||t>=r.viewTo){return}var o=r.view[Nr(e,t)];if(o.node==null){return}var s=o.changes||(o.changes=[]);if(z(s,n)==-1){s.push(n)}}function $r(e){e.display.viewFrom=e.display.viewTo=e.doc.first;e.display.view=[];e.display.viewOffset=0}function Rr(e,t,n,r){var i=Nr(e,t),o,s=e.display.view;if(!Et||n==e.doc.first+e.doc.size){return{index:i,lineN:n}}var a=e.display.viewFrom;for(var l=0;l<i;l++){a+=s[l].size}if(a!=t){if(r>0){if(i==s.length-1){return null}o=a+s[i].size-t;i++}else{o=a-t}t+=o;n+=o}while(en(e.doc,n)!=n){if(i==(r<0?0:s.length-1)){return null}n+=r*s[i-(r<0?1:0)].size;i+=r}return{index:i,lineN:n}}function zr(e,t,n){var r=e.display,i=r.view;if(i.length==0||t>=r.viewTo||n<=r.viewFrom){r.view=Cn(e,t,n);r.viewFrom=t}else{if(r.viewFrom>t){r.view=Cn(e,t,r.viewFrom).concat(r.view)}else if(r.viewFrom<t){r.view=r.view.slice(Nr(e,t))}r.viewFrom=t;if(r.viewTo<n){r.view=r.view.concat(Cn(e,r.viewTo,n))}else if(r.viewTo>n){r.view=r.view.slice(0,Nr(e,n))}}r.viewTo=n}function Vr(e){var t=e.display.view,n=0;for(var r=0;r<t.length;r++){var i=t[r];if(!i.hidden&&(!i.node||i.changes)){++n}}return n}function Hr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Br(e,t){if(t===void 0)t=true;var n=e.doc,r={};var i=r.cursors=document.createDocumentFragment();var o=r.selection=document.createDocumentFragment();for(var s=0;s<n.sel.ranges.length;s++){if(!t&&s==n.sel.primIndex){continue}var a=n.sel.ranges[s];if(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom){continue}var l=a.empty();if(l||e.options.showCursorWhenSelecting){Ur(e,a.head,i)}if(!l){Wr(e,a,o)}}return r}function Ur(e,t,n){var r=yr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine);var i=n.appendChild(D("div","Â ","CodeMirror-cursor"));i.style.left=r.left+"px";i.style.top=r.top+"px";i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px";if(r.other){var o=n.appendChild(D("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="";o.style.left=r.other.left+"px";o.style.top=r.other.top+"px";o.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function qr(e,t){return e.top-t.top||e.left-t.left}function Wr(a,e,t){var n=a.display,r=a.doc;var i=document.createDocumentFragment();var o=Wn(a.display),_=o.left;var T=Math.max(n.sizerWidth,Yn(a)-n.sizer.offsetLeft)-o.right;var E=r.direction=="ltr";function P(e,t,n,r){if(t<0){t=0}t=Math.round(t);r=Math.round(r);i.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(n==null?T-e:n)+"px;\n                             height: "+(r-t)+"px"))}function s(n,b,w){var s=Xe(r,n);var x=s.text.length;var C,j;function S(e,t){return vr(a,it(n,e),"div",s,t)}function k(e,t,n){var r=jr(a,s,null,e);var i=t=="ltr"==(n=="after")?"left":"right";var o=n=="after"?r.begin:r.end-(/\s/.test(s.text.charAt(r.end-1))?2:1);return S(o,i)[i]}var O=fe(s,r.direction);le(O,b||0,w==null?x:w,function(e,t,n,r){var i=n=="ltr";var o=S(e,i?"left":"right");var s=S(t-1,i?"right":"left");var a=b==null&&e==0,l=w==null&&t==x;var c=r==0,u=!O||r==O.length-1;if(s.top-o.top<=3){var d=(E?a:l)&&c;var f=(E?l:a)&&u;var h=d?_:(i?o:s).left;var p=f?T:(i?s:o).right;P(h,o.top,p-h,o.bottom)}else{var g,m,v,y;if(i){g=E&&a&&c?_:o.left;m=E?T:k(e,n,"before");v=E?_:k(t,n,"after");y=E&&l&&u?T:s.right}else{g=!E?_:k(e,n,"before");m=!E&&a&&c?T:o.right;v=!E&&l&&u?_:s.left;y=!E?T:k(t,n,"after")}P(g,o.top,m-g,o.bottom);if(o.bottom<s.top){P(_,o.bottom,null,s.top)}P(v,s.top,y-v,s.bottom)}if(!C||qr(o,C)<0){C=o}if(qr(s,C)<0){C=s}if(!j||qr(o,j)<0){j=o}if(qr(s,j)<0){j=s}});return{start:C,end:j}}var l=e.from(),c=e.to();if(l.line==c.line){s(l.line,l.ch,c.ch)}else{var u=Xe(r,l.line),d=Xe(r,c.line);var f=Qt(u)==Qt(d);var h=s(l.line,l.ch,f?u.text.length+1:null).end;var p=s(c.line,f?0:null,c.ch).start;if(f){if(h.top<p.top-2){P(h.right,h.top,null,h.bottom);P(_,p.top,p.left,p.bottom)}else{P(h.right,h.top,p.left-h.right,h.bottom)}}if(h.bottom<p.top){P(_,h.bottom,null,p.top)}}t.appendChild(i)}function Gr(e){if(!e.state.focused){return}var t=e.display;clearInterval(t.blinker);var n=true;t.cursorDiv.style.visibility="";if(e.options.cursorBlinkRate>0){t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate)}else if(e.options.cursorBlinkRate<0){t.cursorDiv.style.visibility="hidden"}}function Yr(e){if(!e.state.focused){e.display.input.focus();Xr(e)}}function Kr(e){e.state.delayingBlurEvent=true;setTimeout(function(){if(e.state.delayingBlurEvent){e.state.delayingBlurEvent=false;Qr(e)}},100)}function Xr(e,t){if(e.state.delayingBlurEvent){e.state.delayingBlurEvent=false}if(e.options.readOnly=="nocursor"){return}if(!e.state.focused){ve(e,"focus",e,t);e.state.focused=true;M(e.display.wrapper,"CodeMirror-focused");if(!e.curOp&&e.display.selForContextMenu!=e.doc.sel){e.display.input.reset();if(m){setTimeout(function(){return e.display.input.reset(true)},20)}}e.display.input.receivedFocus()}Gr(e)}function Qr(e,t){if(e.state.delayingBlurEvent){return}if(e.state.focused){ve(e,"blur",e,t);e.state.focused=false;k(e.display.wrapper,"CodeMirror-focused")}clearInterval(e.display.blinker);setTimeout(function(){if(!e.state.focused){e.display.shift=false}},150)}function Zr(e){var t=e.display;var n=t.lineDiv.offsetTop;for(var r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping;var s=void 0,a=0;if(i.hidden){continue}if(x&&C<8){var l=i.node.offsetTop+i.node.offsetHeight;s=l-n;n=l}else{var c=i.node.getBoundingClientRect();s=c.bottom-c.top;if(!o&&i.text.firstChild){a=i.text.firstChild.getBoundingClientRect().right-c.left-1}}var u=i.line.height-s;if(u>.005||u<-.005){Je(i.line,s);Jr(i.line);if(i.rest){for(var d=0;d<i.rest.length;d++){Jr(i.rest[d])}}}if(a>e.display.sizerWidth){var f=Math.ceil(a/Er(e.display));if(f>e.display.maxLineLength){e.display.maxLineLength=f;e.display.maxLine=i.line;e.display.maxLineChanged=true}}}}function Jr(e){if(e.widgets){for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;if(r){n.height=r.offsetHeight}}}}function ei(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Un(e));var i=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight;var o=tt(t,r),s=tt(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;if(a<o){o=a;s=tt(t,on(Xe(t,a))+e.wrapper.clientHeight)}else if(Math.min(l,t.lastLine())>=s){o=tt(t,on(Xe(t,l))-e.wrapper.clientHeight);s=l}}return{from:o,to:Math.max(s,o+1)}}function ti(e,t){if(ye(e,"scrollCursorIntoView")){return}var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0){i=true}else if(t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)){i=false}if(i!=null&&!c){var o=D("div","â",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Un(e.display))+"px;\n                         height: "+(t.bottom-t.top+Gn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o);o.scrollIntoView(i);e.display.lineSpace.removeChild(o)}}function ni(e,t,n,r){if(r==null){r=0}var i;if(!e.options.lineWrapping&&t==n){t=t.ch?it(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t;n=t.sticky=="before"?it(t.line,t.ch+1,"before"):t}for(var o=0;o<5;o++){var s=false;var a=yr(e,t);var l=!n||n==t?a:yr(e,n);i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r};var c=ii(e,i);var u=e.doc.scrollTop,d=e.doc.scrollLeft;if(c.scrollTop!=null){di(e,c.scrollTop);if(Math.abs(e.doc.scrollTop-u)>1){s=true}}if(c.scrollLeft!=null){hi(e,c.scrollLeft);if(Math.abs(e.doc.scrollLeft-d)>1){s=true}}if(!s){break}}return i}function ri(e,t){var n=ii(e,t);if(n.scrollTop!=null){di(e,n.scrollTop)}if(n.scrollLeft!=null){hi(e,n.scrollLeft)}}function ii(e,t){var n=e.display,r=Tr(e.display);if(t.top<0){t.top=0}var i=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop;var o=Kn(e),s={};if(t.bottom-t.top>o){t.bottom=t.top+o}var a=e.doc.height+qn(n);var l=t.top<r,c=t.bottom>a-r;if(t.top<i){s.scrollTop=l?0:t.top}else if(t.bottom>i+o){var u=Math.min(t.top,(c?a:t.bottom)-o);if(u!=i){s.scrollTop=u}}var d=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft;var f=Yn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0);var h=t.right-t.left>f;if(h){t.right=t.left+f}if(t.left<10){s.scrollLeft=0}else if(t.left<d){s.scrollLeft=Math.max(0,t.left-(h?0:10))}else if(t.right>f+d-3){s.scrollLeft=t.right+(h?0:10)-f}return s}function oi(e,t){if(t==null){return}ci(e);e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t}function si(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ai(e,t,n){if(t!=null||n!=null){ci(e)}if(t!=null){e.curOp.scrollLeft=t}if(n!=null){e.curOp.scrollTop=n}}function li(e,t){ci(e);e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=br(e,t.from),r=br(e,t.to);ui(e,n,r,t.margin)}}function ui(e,t,n,r){var i=ii(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});ai(e,i.scrollLeft,i.scrollTop)}function di(e,t){if(Math.abs(e.doc.scrollTop-t)<2){return}if(!g){Hi(e,{top:t})}fi(e,t,true);if(g){Hi(e)}Li(e,100)}function fi(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t);if(e.display.scroller.scrollTop==t&&!n){return}e.doc.scrollTop=t;e.display.scrollbars.setScrollTop(t);if(e.display.scroller.scrollTop!=t){e.display.scroller.scrollTop=t}}function hi(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth);if((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r){return}e.doc.scrollLeft=t;Wi(e);if(e.display.scroller.scrollLeft!=t){e.display.scroller.scrollLeft=t}e.display.scrollbars.setScrollLeft(t)}function pi(e){var t=e.display,n=t.gutters.offsetWidth;var r=Math.round(e.doc.height+qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Gn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var gi=function(e,t,n){this.cm=n;var r=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var i=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1;e(r);e(i);pe(r,"scroll",function(){if(r.clientHeight){t(r.scrollTop,"vertical")}});pe(i,"scroll",function(){if(i.clientWidth){t(i.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(x&&C<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};gi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1;var n=e.scrollHeight>e.clientHeight+1;var r=e.nativeBarWidth;if(n){this.vert.style.display="block";this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(t){this.horiz.style.display="block";this.horiz.style.right=n?r+"px":"0";this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&e.clientHeight>0){if(r==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:n?r:0,bottom:t?r:0}},gi.prototype.setScrollLeft=function(e){if(this.horiz.scrollLeft!=e){this.horiz.scrollLeft=e}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}},gi.prototype.setScrollTop=function(e){if(this.vert.scrollTop!=e){this.vert.scrollTop=e}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}},gi.prototype.zeroWidthHack=function(){var e=y&&!l?"12px":"18px";this.horiz.style.height=this.vert.style.width=e;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new R;this.disableVert=new R},gi.prototype.enableZeroWidthBar=function(n,r,i){n.style.pointerEvents="auto";function o(){var e=n.getBoundingClientRect();var t=i=="vert"?document.elementFromPoint(e.right-1,(e.top+e.bottom)/2):document.elementFromPoint((e.right+e.left)/2,e.bottom-1);if(t!=n){n.style.pointerEvents="none"}else{r.set(1e3,o)}}r.set(1e3,o)},gi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz);e.removeChild(this.vert)};var mi=function(){};function vi(e,t){if(!t){t=pi(e)}var n=e.display.barWidth,r=e.display.barHeight;yi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++){if(n!=e.display.barWidth&&e.options.lineWrapping){Zr(e)}yi(e,pi(e));n=e.display.barWidth;r=e.display.barHeight}}function yi(e,t){var n=e.display;var r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px";n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px";n.heightForcer.style.borderBottom=r.bottom+"px solid transparent";if(r.right&&r.bottom){n.scrollbarFiller.style.display="block";n.scrollbarFiller.style.height=r.bottom+"px";n.scrollbarFiller.style.width=r.right+"px"}else{n.scrollbarFiller.style.display=""}if(r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter){n.gutterFiller.style.display="block";n.gutterFiller.style.height=r.bottom+"px";n.gutterFiller.style.width=t.gutterWidth+"px"}else{n.gutterFiller.style.display=""}}mi.prototype.update=function(){return{bottom:0,right:0}},mi.prototype.setScrollLeft=function(){},mi.prototype.setScrollTop=function(){},mi.prototype.clear=function(){};var bi={native:gi,null:mi};function wi(n){if(n.display.scrollbars){n.display.scrollbars.clear();if(n.display.scrollbars.addClass){k(n.display.wrapper,n.display.scrollbars.addClass)}}n.display.scrollbars=new bi[n.options.scrollbarStyle](function(e){n.display.wrapper.insertBefore(e,n.display.scrollbarFiller);pe(e,"mousedown",function(){if(n.state.focused){setTimeout(function(){return n.display.input.focus()},0)}});e.setAttribute("cm-not-content","true")},function(e,t){if(t=="horizontal"){hi(n,e)}else{di(n,e)}},n);if(n.display.scrollbars.addClass){M(n.display.wrapper,n.display.scrollbars.addClass)}}var xi=0;function Ci(e){e.curOp={cm:e,viewChanged:false,startHeight:e.doc.height,forceUpdate:false,updateInput:0,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++xi};Sn(e.curOp)}function ji(e){var t=e.curOp;if(t){On(t,function(e){for(var t=0;t<e.ops.length;t++){e.ops[t].cm.curOp=null}Si(e)})}}function Si(e){var t=e.ops;for(var n=0;n<t.length;n++){ki(t[n])}for(var r=0;r<t.length;r++){Oi(t[r])}for(var i=0;i<t.length;i++){_i(t[i])}for(var o=0;o<t.length;o++){Ti(t[o])}for(var s=0;s<t.length;s++){Ei(t[s])}}function ki(e){var t=e.cm,n=t.display;Fi(t);if(e.updateMaxLine){an(t)}e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping;e.update=e.mustUpdate&&new Ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Oi(e){e.updatedDisplay=e.mustUpdate&&zi(e.cm,e.update)}function _i(e){var t=e.cm,n=t.display;if(e.updatedDisplay){Zr(t)}e.barMeasure=pi(t);if(n.maxLineChanged&&!t.options.lineWrapping){e.adjustWidthTo=Jn(t,n.maxLine,n.maxLine.text.length).left+3;t.display.sizerWidth=e.adjustWidthTo;e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Gn(t)+t.display.barWidth);e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))}if(e.updatedDisplay||e.selectionChanged){e.preparedSelection=n.input.prepareSelection()}}function Ti(e){var t=e.cm;if(e.adjustWidthTo!=null){t.display.sizer.style.minWidth=e.adjustWidthTo+"px";if(e.maxScrollLeft<t.doc.scrollLeft){hi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),true)}t.display.maxLineChanged=false}var n=e.focus&&e.focus==A();if(e.preparedSelection){t.display.input.showSelection(e.preparedSelection,n)}if(e.updatedDisplay||e.startHeight!=t.doc.height){vi(t,e.barMeasure)}if(e.updatedDisplay){qi(t,e.barMeasure)}if(e.selectionChanged){Gr(t)}if(t.state.focused&&e.updateInput){t.display.input.reset(e.typing)}if(n){Yr(e.cm)}}function Ei(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay){Vi(t,e.update)}if(n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)){n.wheelStartX=n.wheelStartY=null}if(e.scrollTop!=null){fi(t,e.scrollTop,e.forceScroll)}if(e.scrollLeft!=null){hi(t,e.scrollLeft,true,true)}if(e.scrollToPos){var i=ni(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin);ti(t,i)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o){for(var a=0;a<o.length;++a){if(!o[a].lines.length){ve(o[a],"hide")}}}if(s){for(var l=0;l<s.length;++l){if(s[l].lines.length){ve(s[l],"unhide")}}}if(n.wrapper.offsetHeight){r.scrollTop=t.display.scroller.scrollTop}if(e.changeObjs){ve(t,"changes",t,e.changeObjs)}if(e.update){e.update.finish()}}function Pi(e,t){if(e.curOp){return t()}Ci(e);try{return t()}finally{ji(e)}}function Di(e,t){return function(){if(e.curOp){return t.apply(e,arguments)}Ci(e);try{return t.apply(e,arguments)}finally{ji(e)}}}function Ai(e){return function(){if(this.curOp){return e.apply(this,arguments)}Ci(this);try{return e.apply(this,arguments)}finally{ji(this)}}}function Mi(t){return function(){var e=this.cm;if(!e||e.curOp){return t.apply(this,arguments)}Ci(e);try{return t.apply(this,arguments)}finally{ji(e)}}}function Li(e,t){if(e.doc.highlightFrontier<e.display.viewTo){e.state.highlight.set(t,I(Ni,e))}}function Ni(l){var c=l.doc;if(c.highlightFrontier>=l.display.viewTo){return}var u=+new Date+l.options.workTime;var d=yt(l,c.highlightFrontier);var f=[];c.iter(d.line,Math.min(c.first+c.size,l.display.viewTo+500),function(e){if(d.line>=l.display.viewFrom){var t=e.styles;var n=e.text.length>l.options.maxHighlightLength?We(c.mode,d.state):null;var r=mt(l,e,d,true);if(n){d.state=n}e.styles=r.styles;var i=e.styleClasses,o=r.classes;if(o){e.styleClasses=o}else if(i){e.styleClasses=null}var s=!t||t.length!=e.styles.length||i!=o&&(!i||!o||i.bgClass!=o.bgClass||i.textClass!=o.textClass);for(var a=0;!s&&a<t.length;++a){s=t[a]!=e.styles[a]}if(s){f.push(d.line)}e.stateAfter=d.save();d.nextLine()}else{if(e.text.length<=l.options.maxHighlightLength){bt(l,e.text,d)}e.stateAfter=d.line%5==0?d.save():null;d.nextLine()}if(+new Date>u){Li(l,l.options.workDelay);return true}});c.highlightFrontier=d.line;c.modeFrontier=Math.max(c.modeFrontier,d.line);if(f.length){Pi(l,function(){for(var e=0;e<f.length;e++){Fr(l,f[e],"text")}})}}var Ii=function(e,t,n){var r=e.display;this.viewport=t;this.visible=ei(r,e.doc,t);this.editorIsHidden=!r.wrapper.offsetWidth;this.wrapperHeight=r.wrapper.clientHeight;this.wrapperWidth=r.wrapper.clientWidth;this.oldDisplayWidth=Yn(e);this.force=n;this.dims=Pr(e);this.events=[]};function Fi(e){var t=e.display;if(!t.scrollbarsClipped&&t.scroller.offsetWidth){t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth;t.heightForcer.style.height=Gn(e)+"px";t.sizer.style.marginBottom=-t.nativeBarWidth+"px";t.sizer.style.borderRightWidth=Gn(e)+"px";t.scrollbarsClipped=true}}function $i(e){if(e.hasFocus()){return null}var t=A();if(!t||!P(e.display.lineDiv,t)){return null}var n={activeElt:t};if(window.getSelection){var r=window.getSelection();if(r.anchorNode&&r.extend&&P(e.display.lineDiv,r.anchorNode)){n.anchorNode=r.anchorNode;n.anchorOffset=r.anchorOffset;n.focusNode=r.focusNode;n.focusOffset=r.focusOffset}}return n}function Ri(e){if(!e||!e.activeElt||e.activeElt==A()){return}e.activeElt.focus();if(e.anchorNode&&P(document.body,e.anchorNode)&&P(document.body,e.focusNode)){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset);n.collapse(false);t.removeAllRanges();t.addRange(n);t.extend(e.focusNode,e.focusOffset)}}function zi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden){$r(e);return false}if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&Vr(e)==0){return false}if(Gi(e)){$r(e);t.dims=Pr(e)}var i=r.first+r.size;var o=Math.max(t.visible.from-e.options.viewportMargin,r.first);var s=Math.min(i,t.visible.to+e.options.viewportMargin);if(n.viewFrom<o&&o-n.viewFrom<20){o=Math.max(r.first,n.viewFrom)}if(n.viewTo>s&&n.viewTo-s<20){s=Math.min(i,n.viewTo)}if(Et){o=en(e.doc,o);s=tn(e.doc,s)}var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;zr(e,o,s);n.viewOffset=on(Xe(e.doc,n.viewFrom));e.display.mover.style.top=n.viewOffset+"px";var l=Vr(e);if(!a&&l==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)){return false}var c=$i(e);if(l>4){n.lineDiv.style.display="none"}Bi(e,n.updateLineNumbers,t.dims);if(l>4){n.lineDiv.style.display=""}n.renderedView=n.view;Ri(c);_(n.cursorDiv);_(n.selectionDiv);n.gutters.style.height=n.sizer.style.minHeight=0;if(a){n.lastWrapHeight=t.wrapperHeight;n.lastWrapWidth=t.wrapperWidth;Li(e,400)}n.updateLineNumbers=null;return true}function Vi(e,t){var n=t.viewport;for(var r=true;;r=false){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==Yn(e)){if(n&&n.top!=null){n={top:Math.min(e.doc.height+qn(e.display)-Kn(e),n.top)}}t.visible=ei(e.display,e.doc,n);if(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo){break}}if(!zi(e,t)){break}Zr(e);var i=pi(e);Hr(e);vi(e,i);qi(e,i);t.force=false}t.signal(e,"update",e);if(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo){t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo);e.display.reportedViewFrom=e.display.viewFrom;e.display.reportedViewTo=e.display.viewTo}}function Hi(e,t){var n=new Ii(e,t);if(zi(e,n)){Zr(e);Vi(e,n);var r=pi(e);Hr(e);vi(e,r);qi(e,r);n.finish()}}function Bi(n,e,t){var r=n.display,i=n.options.lineNumbers;var o=r.lineDiv,s=o.firstChild;function a(e){var t=e.nextSibling;if(m&&y&&n.display.currentWheelTarget==e){e.style.display="none"}else{e.parentNode.removeChild(e)}return t}var l=r.view,c=r.viewFrom;for(var u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(!d.node||d.node.parentNode!=o){var f=$n(n,d,c,t);o.insertBefore(f,s)}else{while(s!=d.node){s=a(s)}var h=i&&e!=null&&e<=c&&d.lineNumber;if(d.changes){if(z(d.changes,"gutter")>-1){h=false}Pn(n,d,c,t)}if(h){_(d.lineNumber);d.lineNumber.appendChild(document.createTextNode(rt(n.options,c)))}s=d.node.nextSibling}c+=d.size}while(s){s=a(s)}}function Ui(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function qi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";e.display.heightForcer.style.top=t.docHeight+"px";e.display.gutters.style.height=t.docHeight+e.display.barHeight+Gn(e)+"px"}function Wi(e){var t=e.display,n=t.view;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter)){return}var r=Dr(t)-t.scroller.scrollLeft+e.doc.scrollLeft;var i=t.gutters.offsetWidth,o=r+"px";for(var s=0;s<n.length;s++){if(!n[s].hidden){if(e.options.fixedGutter){if(n[s].gutter){n[s].gutter.style.left=o}if(n[s].gutterBackground){n[s].gutterBackground.style.left=o}}var a=n[s].alignable;if(a){for(var l=0;l<a.length;l++){a[l].style.left=o}}}}if(e.options.fixedGutter){t.gutters.style.left=r+i+"px"}}function Gi(e){if(!e.options.lineNumbers){return false}var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(D("div",[D("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var o=i.firstChild.offsetWidth,s=i.offsetWidth-o;r.lineGutter.style.width="";r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1;r.lineNumWidth=r.lineNumInnerWidth+s;r.lineNumChars=r.lineNumInnerWidth?n.length:-1;r.lineGutter.style.width=r.lineNumWidth+"px";Ui(e.display);return true}return false}function Yi(e,t){var n=[],r=false;for(var i=0;i<e.length;i++){var o=e[i],s=null;if(typeof o!="string"){s=o.style;o=o.className}if(o=="CodeMirror-linenumbers"){if(!t){continue}else{r=true}}n.push({className:o,style:s})}if(t&&!r){n.push({className:"CodeMirror-linenumbers",style:null})}return n}function Ki(e){var t=e.gutters,n=e.gutterSpecs;_(t);e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r];var o=i.className;var s=i.style;var a=t.appendChild(D("div",null,"CodeMirror-gutter "+o));if(s){a.style.cssText=s}if(o=="CodeMirror-linenumbers"){e.lineGutter=a;a.style.width=(e.lineNumWidth||1)+"px"}}t.style.display=n.length?"":"none";Ui(e)}function Xi(e){Ki(e.display);Ir(e);Wi(e)}function Qi(e,t,n,r){var i=this;this.input=n;i.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler");i.scrollbarFiller.setAttribute("cm-not-content","true");i.gutterFiller=D("div",null,"CodeMirror-gutter-filler");i.gutterFiller.setAttribute("cm-not-content","true");i.lineDiv=E("div",null,"CodeMirror-code");i.selectionDiv=D("div",null,null,"position: relative; z-index: 1");i.cursorDiv=D("div",null,"CodeMirror-cursors");i.measure=D("div",null,"CodeMirror-measure");i.lineMeasure=D("div",null,"CodeMirror-measure");i.lineSpace=E("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=E("div",[i.lineSpace],"CodeMirror-lines");i.mover=D("div",[o],null,"position: relative");i.sizer=D("div",[i.mover],"CodeMirror-sizer");i.sizerWidth=null;i.heightForcer=D("div",null,null,"position: absolute; height: "+V+"px; width: 1px;");i.gutters=D("div",null,"CodeMirror-gutters");i.lineGutter=null;i.scroller=D("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll");i.scroller.setAttribute("tabIndex","-1");i.wrapper=D("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror");if(x&&C<8){i.gutters.style.zIndex=-1;i.scroller.style.paddingRight=0}if(!m&&!(g&&f)){i.scroller.draggable=true}if(e){if(e.appendChild){e.appendChild(i.wrapper)}else{e(i.wrapper)}}i.viewFrom=i.viewTo=t.first;i.reportedViewFrom=i.reportedViewTo=t.first;i.view=[];i.renderedView=null;i.externalMeasured=null;i.viewOffset=0;i.lastWrapHeight=i.lastWrapWidth=0;i.updateLineNumbers=null;i.nativeBarWidth=i.barHeight=i.barWidth=0;i.scrollbarsClipped=false;i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null;i.alignWidgets=false;i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null;i.maxLine=null;i.maxLineLength=0;i.maxLineChanged=false;i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null;i.shift=false;i.selForContextMenu=null;i.activeTouch=null;i.gutterSpecs=Yi(r.gutters,r.lineNumbers);Ki(i);n.init(i)}Ii.prototype.signal=function(e,t){if(we(e,t)){this.events.push(arguments)}},Ii.prototype.finish=function(){var e=this;for(var t=0;t<this.events.length;t++){ve.apply(null,e.events[t])}};var Zi=0,Ji=null;if(x){Ji=-.53}else if(g){Ji=15}else if(s){Ji=-.7}else if(a){Ji=-1/3}function eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;if(t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS){t=e.detail}if(n==null&&e.detail&&e.axis==e.VERTICAL_AXIS){n=e.detail}else if(n==null){n=e.wheelDelta}return{x:t,y:n}}function to(e){var t=eo(e);t.x*=Ji;t.y*=Ji;return t}function no(e,t){var n=eo(t),r=n.x,i=n.y;var o=e.display,s=o.scroller;var a=s.scrollWidth>s.clientWidth;var l=s.scrollHeight>s.clientHeight;if(!(r&&a||i&&l)){return}if(i&&y&&m){e:for(var c=t.target,u=o.view;c!=s;c=c.parentNode){for(var d=0;d<u.length;d++){if(u[d].node==c){e.display.currentWheelTarget=c;break e}}}}if(r&&!g&&!v&&Ji!=null){if(i&&l){di(e,Math.max(0,s.scrollTop+i*Ji))}hi(e,Math.max(0,s.scrollLeft+r*Ji));if(!i||i&&l){Ce(t)}o.wheelStartX=null;return}if(i&&Ji!=null){var f=i*Ji;var h=e.doc.scrollTop,p=h+o.wrapper.clientHeight;if(f<0){h=Math.max(0,h+f-50)}else{p=Math.min(e.doc.height,p+f+50)}Hi(e,{top:h,bottom:p})}if(Zi<20){if(o.wheelStartX==null){o.wheelStartX=s.scrollLeft;o.wheelStartY=s.scrollTop;o.wheelDX=r;o.wheelDY=i;setTimeout(function(){if(o.wheelStartX==null){return}var e=s.scrollLeft-o.wheelStartX;var t=s.scrollTop-o.wheelStartY;var n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null;if(!n){return}Ji=(Ji*Zi+n)/(Zi+1);++Zi},200)}else{o.wheelDX+=r;o.wheelDY+=i}}}var ro=function(e,t){this.ranges=e;this.primIndex=t};ro.prototype.primary=function(){return this.ranges[this.primIndex]},ro.prototype.equals=function(e){var t=this;if(e==this){return true}if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length){return false}for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!st(r.anchor,i.anchor)||!st(r.head,i.head)){return false}}return true},ro.prototype.deepCopy=function(){var e=this;var t=[];for(var n=0;n<this.ranges.length;n++){t[n]=new io(at(e.ranges[n].anchor),at(e.ranges[n].head))}return new ro(t,this.primIndex)},ro.prototype.somethingSelected=function(){var e=this;for(var t=0;t<this.ranges.length;t++){if(!e.ranges[t].empty()){return true}}return false},ro.prototype.contains=function(e,t){var n=this;if(!t){t=e}for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(ot(t,i.from())>=0&&ot(e,i.to())<=0){return r}}return-1};var io=function(e,t){this.anchor=e;this.head=t};function oo(e,t,n){var r=e&&e.options.selectionsMayTouch;var i=t[n];t.sort(function(e,t){return ot(e.from(),t.from())});n=z(t,i);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1];var l=ot(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ct(a.from(),s.from()),u=lt(a.to(),s.to());var d=a.empty()?s.from()==s.head:a.from()==a.head;if(o<=n){--n}t.splice(--o,2,new io(d?u:c,d?c:u))}}return new ro(t,n)}function so(e,t){return new ro([new io(e,t||e)],0)}function ao(e){if(!e.text){return e.to}return it(e.from.line+e.text.length-1,K(e.text).length+(e.text.length==1?e.from.ch:0))}function lo(e,t){if(ot(e,t.from)<0){return e}if(ot(e,t.to)<=0){return ao(t)}var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;if(e.line==t.to.line){r+=ao(t).ch-t.to.ch}return it(n,r)}function co(e,t){var n=[];for(var r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new io(lo(i.anchor,t),lo(i.head,t)))}return oo(e.cm,n,e.sel.primIndex)}function uo(e,t,n){if(e.line==t.line){return it(n.line,e.ch-t.ch+n.ch)}else{return it(n.line+(e.line-t.line),e.ch)}}function fo(e,t,n){var r=[];var i=it(e.first,0),o=i;for(var s=0;s<t.length;s++){var a=t[s];var l=uo(a.from,i,o);var c=uo(ao(a),i,o);i=a.to;o=c;if(n=="around"){var u=e.sel.ranges[s],d=ot(u.head,u.anchor)<0;r[s]=new io(d?c:l,d?l:c)}else{r[s]=new io(l,l)}}return new ro(r,e.sel.primIndex)}function ho(e){e.doc.mode=Be(e.options,e.doc.modeOption);po(e)}function po(e){e.doc.iter(function(e){if(e.stateAfter){e.stateAfter=null}if(e.styles){e.styles=null}});e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first;Li(e,100);e.state.modeGen++;if(e.curOp){Ir(e)}}function go(e,t){return t.from.ch==0&&t.to.ch==0&&K(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function mo(e,r,t,i){function o(e){return t?t[e]:null}function n(e,t,n){cn(e,t,n,i);Tn(e,"change",e,r)}function s(e,t){var n=[];for(var r=e;r<t;++r){n.push(new ln(c[r],o(r),i))}return n}var a=r.from,l=r.to,c=r.text;var u=Xe(e,a.line),d=Xe(e,l.line);var f=K(c),h=o(c.length-1),p=l.line-a.line;if(r.full){e.insert(0,s(0,c.length));e.remove(c.length,e.size-c.length)}else if(go(e,r)){var g=s(0,c.length-1);n(d,d.text,h);if(p){e.remove(a.line,p)}if(g.length){e.insert(a.line,g)}}else if(u==d){if(c.length==1){n(u,u.text.slice(0,a.ch)+f+u.text.slice(l.ch),h)}else{var m=s(1,c.length-1);m.push(new ln(f+u.text.slice(l.ch),h,i));n(u,u.text.slice(0,a.ch)+c[0],o(0));e.insert(a.line+1,m)}}else if(c.length==1){n(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),o(0));e.remove(a.line+1,p)}else{n(u,u.text.slice(0,a.ch)+c[0],o(0));n(d,f+d.text.slice(l.ch),h);var v=s(1,c.length-1);if(p>1){e.remove(a.line+1,p-1)}e.insert(a.line+1,v)}Tn(e,"change",e,r)}function vo(e,s,a){function l(e,t,n){if(e.linked){for(var r=0;r<e.linked.length;++r){var i=e.linked[r];if(i.doc==t){continue}var o=n&&i.sharedHist;if(a&&!o){continue}s(i.doc,o);l(i.doc,e,o)}}}l(e,null,true)}function yo(e,t){if(t.cm){throw new Error("This document is already in use.")}e.doc=t;t.cm=e;Mr(e);ho(e);bo(e);if(!e.options.lineWrapping){an(e)}e.options.mode=t.modeOption;Ir(e)}function bo(e){(e.doc.direction=="rtl"?M:k)(e.display.lineDiv,"CodeMirror-rtl")}function wo(e){Pi(e,function(){bo(e);Ir(e)})}function xo(e){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=e||1}function Co(e,t){var n={from:at(t.from),to:ao(t),text:Qe(e,t.from,t.to)};Eo(e,n,t.from.line,t.to.line+1);vo(e,function(e){return Eo(e,n,t.from.line,t.to.line+1)},true);return n}function jo(e){while(e.length){var t=K(e);if(t.ranges){e.pop()}else{break}}}function So(e,t){if(t){jo(e.done);return K(e.done)}else if(e.done.length&&!K(e.done).ranges){return K(e.done)}else if(e.done.length>1&&!e.done[e.done.length-2].ranges){e.done.pop();return K(e.done)}}function ko(e,t,n,r){var i=e.history;i.undone.length=0;var o=+new Date,s;var a;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(s=So(i,i.lastOp==r))){a=K(s.changes);if(ot(t.from,t.to)==0&&ot(t.from,a.to)==0){a.to=ao(t)}else{s.changes.push(Co(e,t))}}else{var l=K(i.done);if(!l||!l.ranges){To(e.sel,i.done)}s={changes:[Co(e,t)],generation:i.generation};i.done.push(s);while(i.done.length>i.undoDepth){i.done.shift();if(!i.done[0].ranges){i.done.shift()}}}i.done.push(n);i.generation=++i.maxGeneration;i.lastModTime=i.lastSelTime=o;i.lastOp=i.lastSelOp=r;i.lastOrigin=i.lastSelOrigin=t.origin;if(!a){ve(e,"historyAdded")}}function Oo(e,t,n,r){var i=t.charAt(0);return i=="*"||i=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function _o(e,t,n,r){var i=e.history,o=r&&r.origin;if(n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Oo(e,o,K(i.done),t))){i.done[i.done.length-1]=t}else{To(t,i.done)}i.lastSelTime=+new Date;i.lastSelOrigin=o;i.lastSelOp=n;if(r&&r.clearRedo!==false){jo(i.undone)}}function To(e,t){var n=K(t);if(!(n&&n.ranges&&n.equals(e))){t.push(e)}}function Eo(t,n,e,r){var i=n["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,r),function(e){if(e.markedSpans){(i||(i=n["spans_"+t.id]={}))[o]=e.markedSpans}++o})}function Po(e){if(!e){return null}var t;for(var n=0;n<e.length;++n){if(e[n].marker.explicitlyCleared){if(!t){t=e.slice(0,n)}}else if(t){t.push(e[n])}}return!t?e:t.length?t:null}function Do(e,t){var n=t["spans_"+e.id];if(!n){return null}var r=[];for(var i=0;i<t.text.length;++i){r.push(Po(n[i]))}return r}function Ao(e,t){var n=Do(e,t);var r=$t(e,t);if(!n){return r}if(!r){return n}for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s){e:for(var a=0;a<s.length;++a){var l=s[a];for(var c=0;c<o.length;++c){if(o[c].marker==l.marker){continue e}}o.push(l)}}else if(s){n[i]=s}}return n}function Mo(e,t,n){var r=[];for(var i=0;i<e.length;++i){var o=e[i];if(o.ranges){r.push(n?ro.prototype.deepCopy.call(o):o);continue}var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;a.push({from:c.from,to:c.to,text:c.text});if(t){for(var d in c){if(u=d.match(/^spans_(\d+)$/)){if(z(t,Number(u[1]))>-1){K(a)[d]=c[d];delete c[d]}}}}}}return r}function Lo(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ot(t,i)<0;if(o!=ot(n,i)<0){i=t;t=n}else if(o!=ot(t,n)<0){t=n}}return new io(i,t)}else{return new io(n||t,t)}}function No(e,t,n,r,i){if(i==null){i=e.cm&&(e.cm.display.shift||e.extend)}Vo(e,new ro([Lo(e.sel.primary(),t,n,i)],0),r)}function Io(e,t,n){var r=[];var i=e.cm&&(e.cm.display.shift||e.extend);for(var o=0;o<e.sel.ranges.length;o++){r[o]=Lo(e.sel.ranges[o],t[o],null,i)}var s=oo(e.cm,r,e.sel.primIndex);Vo(e,s,n)}function Fo(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n;Vo(e,oo(e.cm,i,e.sel.primIndex),r)}function $o(e,t,n,r){Vo(e,so(t,n),r)}function Ro(r,e,t){var n={ranges:e.ranges,update:function(e){var t=this;this.ranges=[];for(var n=0;n<e.length;n++){t.ranges[n]=new io(dt(r,e[n].anchor),dt(r,e[n].head))}},origin:t&&t.origin};ve(r,"beforeSelectionChange",r,n);if(r.cm){ve(r.cm,"beforeSelectionChange",r.cm,n)}if(n.ranges!=e.ranges){return oo(r.cm,n.ranges,n.ranges.length-1)}else{return e}}function zo(e,t,n){var r=e.history.done,i=K(r);if(i&&i.ranges){r[r.length-1]=t;Ho(e,t,n)}else{Vo(e,t,n)}}function Vo(e,t,n){Ho(e,t,n);_o(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ho(e,t,n){if(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange")){t=Ro(e,t,n)}var r=n&&n.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);Bo(e,qo(e,t,r,true));if(!(n&&n.scroll===false)&&e.cm){si(e.cm)}}function Bo(e,t){if(t.equals(e.sel)){return}e.sel=t;if(e.cm){e.cm.curOp.updateInput=1;e.cm.curOp.selectionChanged=true;be(e.cm)}Tn(e,"cursorActivity",e)}function Uo(e){Bo(e,qo(e,e.sel,null,false))}function qo(e,t,n,r){var i;for(var o=0;o<t.ranges.length;o++){var s=t.ranges[o];var a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o];var l=Go(e,s.anchor,a&&a.anchor,n,r);var c=Go(e,s.head,a&&a.head,n,r);if(i||l!=s.anchor||c!=s.head){if(!i){i=t.ranges.slice(0,o)}i[o]=new io(l,c)}}return i?oo(e.cm,i,t.primIndex):t}function Wo(e,t,n,r,i){var o=Xe(e,t.line);if(o.markedSpans){for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;var c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft;var u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((a.from==null||(c?a.from<=t.ch:a.from<t.ch))&&(a.to==null||(u?a.to>=t.ch:a.to>t.ch))){if(i){ve(l,"beforeCursorEnter");if(l.explicitlyCleared){if(!o.markedSpans){break}else{--s;continue}}}if(!l.atomic){continue}if(n){var d=l.find(r<0?1:-1),f=void 0;if(r<0?u:c){d=Yo(e,d,-r,d&&d.line==t.line?o:null)}if(d&&d.line==t.line&&(f=ot(d,n))&&(r<0?f<0:f>0)){return Wo(e,d,t,r,i)}}var h=l.find(r<0?-1:1);if(r<0?c:u){h=Yo(e,h,r,h.line==t.line?o:null)}return h?Wo(e,h,t,r,i):null}}}return t}function Go(e,t,n,r,i){var o=r||1;var s=Wo(e,t,n,o,i)||!i&&Wo(e,t,n,o,true)||Wo(e,t,n,-o,i)||!i&&Wo(e,t,n,-o,true);if(!s){e.cantEdit=true;return it(e.first,0)}return s}function Yo(e,t,n,r){if(n<0&&t.ch==0){if(t.line>e.first){return dt(e,it(t.line-1))}else{return null}}else if(n>0&&t.ch==(r||Xe(e,t.line)).text.length){if(t.line<e.first+e.size-1){return it(t.line+1,0)}else{return null}}else{return new it(t.line,t.ch+n)}}function Ko(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),B)}function Xo(i,e,t){var o={canceled:false,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return o.canceled=true}};if(t){o.update=function(e,t,n,r){if(e){o.from=dt(i,e)}if(t){o.to=dt(i,t)}if(n){o.text=n}if(r!==undefined){o.origin=r}}}ve(i,"beforeChange",i,o);if(i.cm){ve(i.cm,"beforeChange",i.cm,o)}if(o.canceled){if(i.cm){i.cm.curOp.updateInput=2}return null}return{from:o.from,to:o.to,text:o.text,origin:o.origin}}function Qo(e,t,n){if(e.cm){if(!e.cm.curOp){return Di(e.cm,Qo)(e,t,n)}if(e.cm.state.suppressEdits){return}}if(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange")){t=Xo(e,t,true);if(!t){return}}var r=Tt&&!n&&zt(e,t.from,t.to);if(r){for(var i=r.length-1;i>=0;--i){Zo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin})}}else{Zo(e,t)}}function Zo(e,n){if(n.text.length==1&&n.text[0]==""&&ot(n.from,n.to)==0){return}var t=co(e,n);ko(e,n,t,e.cm?e.cm.curOp.id:NaN);ts(e,n,t,$t(e,n));var r=[];vo(e,function(e,t){if(!t&&z(r,e.history)==-1){ss(e.history,n);r.push(e.history)}ts(e,n,null,$t(e,n))})}function Jo(i,o,e){var t=i.cm&&i.cm.state.suppressEdits;if(t&&!e){return}var n=i.history,s,r=i.sel;var a=o=="undo"?n.done:n.undone,l=o=="undo"?n.undone:n.done;var c=0;for(;c<a.length;c++){s=a[c];if(e?s.ranges&&!s.equals(i.sel):!s.ranges){break}}if(c==a.length){return}n.lastOrigin=n.lastSelOrigin=null;for(;;){s=a.pop();if(s.ranges){To(s,l);if(e&&!s.equals(i.sel)){Vo(i,s,{clearRedo:false});return}r=s}else if(t){a.push(s);return}else{break}}var u=[];To(r,l);l.push({changes:u,generation:n.generation});n.generation=s.generation||++n.maxGeneration;var d=we(i,"beforeChange")||i.cm&&we(i.cm,"beforeChange");var f=function(e){var n=s.changes[e];n.origin=o;if(d&&!Xo(i,n,false)){a.length=0;return{}}u.push(Co(i,n));var t=e?co(i,n):K(a);ts(i,n,t,Ao(i,n));if(!e&&i.cm){i.cm.scrollIntoView({from:n.from,to:ao(n)})}var r=[];vo(i,function(e,t){if(!t&&z(r,e.history)==-1){ss(e.history,n);r.push(e.history)}ts(e,n,null,Ao(e,n))})};for(var h=s.changes.length-1;h>=0;--h){var p=f(h);if(p)return p.v}}function es(e,t){if(t==0){return}e.first+=t;e.sel=new ro(X(e.sel.ranges,function(e){return new io(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))}),e.sel.primIndex);if(e.cm){Ir(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++){Fr(e.cm,r,"gutter")}}}function ts(e,t,n,r){if(e.cm&&!e.cm.curOp){return Di(e.cm,ts)(e,t,n,r)}if(t.to.line<e.first){es(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine()){return}if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);es(e,i);t={from:it(e.first,0),to:it(t.to.line+i,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();if(t.to.line>o){t={from:t.from,to:it(o,Xe(e,o).text.length),text:[t.text[0]],origin:t.origin}}t.removed=Qe(e,t.from,t.to);if(!n){n=co(e,t)}if(e.cm){ns(e.cm,t,r)}else{mo(e,t,r)}Ho(e,n,B);if(e.cantEdit&&Go(e,it(e.firstLine(),0))){e.cantEdit=false}}function ns(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to;var a=false,l=o.line;if(!e.options.lineWrapping){l=et(Qt(Xe(r,o.line)));r.iter(l,s.line+1,function(e){if(e==i.maxLine){a=true;return true}})}if(r.sel.contains(t.from,t.to)>-1){be(e)}mo(r,t,n,Ar(e));if(!e.options.lineWrapping){r.iter(l,o.line+t.text.length,function(e){var t=sn(e);if(t>i.maxLineLength){i.maxLine=e;i.maxLineLength=t;i.maxLineChanged=true;a=false}});if(a){e.curOp.updateMaxLine=true}}_t(r,o.line);Li(e,400);var c=t.text.length-(s.line-o.line)-1;if(t.full){Ir(e)}else if(o.line==s.line&&t.text.length==1&&!go(e.doc,t)){Fr(e,o.line,"text")}else{Ir(e,o.line,s.line+1,c)}var u=we(e,"changes"),d=we(e,"change");if(d||u){var f={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};if(d){Tn(e,"change",e,f)}if(u){(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}}e.display.selForContextMenu=null}function rs(e,t,n,r,i){var o;if(!r){r=n}if(ot(r,n)<0){o=[r,n],n=o[0],r=o[1]}if(typeof t=="string"){t=e.splitLines(t)}Qo(e,{from:n,to:r,text:t,origin:i})}function is(e,t,n,r){if(n<e.line){e.line+=r}else if(t<e.line){e.line=t;e.ch=0}}function os(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=true;if(o.ranges){if(!o.copied){o=e[i]=o.deepCopy();o.copied=true}for(var a=0;a<o.ranges.length;a++){is(o.ranges[a].anchor,t,n,r);is(o.ranges[a].head,t,n,r)}continue}for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line){c.from=it(c.from.line+r,c.from.ch);c.to=it(c.to.line+r,c.to.ch)}else if(t<=c.to.line){s=false;break}}if(!s){e.splice(0,i+1);i=0}}}function ss(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;os(e.done,n,r,i);os(e.undone,n,r,i)}function as(e,t,n,r){var i=t,o=t;if(typeof t=="number"){o=Xe(e,ut(e,t))}else{i=et(t)}if(i==null){return null}if(r(o,i)&&e.cm){Fr(e.cm,i,n)}return o}function ls(e){var t=this;this.lines=e;this.parent=null;var n=0;for(var r=0;r<e.length;++r){e[r].parent=t;n+=e[r].height}this.height=n}function cs(e){var t=this;this.children=e;var n=0,r=0;for(var i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize();r+=o.height;o.parent=t}this.size=n;this.height=r;this.parent=null}io.prototype.from=function(){return ct(this.anchor,this.head)},io.prototype.to=function(){return lt(this.anchor,this.head)},io.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ls.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){var n=this;for(var r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height;un(o);Tn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n;this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i){t[i].parent=r}},iterN:function(e,t,n){var r=this;for(var i=e+t;e<i;++e){if(n(r.lines[e])){return true}}}},cs.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e),a=i.height;i.removeInner(e,s);n.height-=a-i.height;if(o==s){n.children.splice(r--,1);i.parent=null}if((t-=s)==0){break}e=0}else{e-=o}}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ls))){var l=[];this.collapse(l);this.children=[new ls(l)];this.children[0].parent=this}},collapse:function(e){var t=this;for(var n=0;n<this.children.length;++n){t.children[n].collapse(e)}},insertInner:function(e,t,n){var r=this;this.size+=t.length;this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(e<=s){o.insertInner(e,t,n);if(o.lines&&o.lines.length>50){var a=o.lines.length%25+25;for(var l=a;l<o.lines.length;){var c=new ls(o.lines.slice(l,l+=25));o.height-=c.height;r.children.splice(++i,0,c);c.parent=r}o.lines=o.lines.slice(0,a);r.maybeSpill()}break}e-=s}},maybeSpill:function(){if(this.children.length<=10){return}var e=this;do{var t=e.children.splice(e.children.length-5,5);var n=new cs(t);if(!e.parent){var r=new cs(e.children);r.parent=e;e.children=[r,n];e=r}else{e.size-=n.size;e.height-=n.height;var i=z(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN:function(e,t,n){var r=this;for(var i=0;i<this.children.length;++i){var o=r.children[i],s=o.chunkSize();if(e<s){var a=Math.min(t,s-e);if(o.iterN(e,a,n)){return true}if((t-=a)==0){break}e=0}else{e-=s}}}};var us=function(e,t,n){var r=this;if(n){for(var i in n){if(n.hasOwnProperty(i)){r[i]=n[i]}}}this.doc=e;this.node=t};function ds(e,t,n){if(on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)){oi(e,n)}}function fs(r,e,t,n){var i=new us(r,t,n);var o=r.cm;if(o&&i.noHScroll){o.display.alignWidgets=true}as(r,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(i.insertAt==null){t.push(i)}else{t.splice(Math.min(t.length-1,Math.max(0,i.insertAt)),0,i)}i.line=e;if(o&&!nn(r,e)){var n=on(e)<r.scrollTop;Je(e,e.height+Hn(i));if(n){oi(o,i.height)}o.curOp.forceUpdate=true}return true});if(o){Tn(o,"lineWidgetAdded",o,i,typeof e=="number"?e:et(e))}return i}us.prototype.clear=function(){var e=this;var t=this.doc.cm,n=this.line.widgets,r=this.line,i=et(r);if(i==null||!n){return}for(var o=0;o<n.length;++o){if(n[o]==e){n.splice(o--,1)}}if(!n.length){r.widgets=null}var s=Hn(this);Je(r,Math.max(0,r.height-s));if(t){Pi(t,function(){ds(t,r,-s);Fr(t,i,"widget")});Tn(t,"lineWidgetCleared",t,this,i)}},us.prototype.changed=function(){var e=this;var t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Hn(this)-t;if(!i){return}if(!nn(this.doc,r)){Je(r,r.height+i)}if(n){Pi(n,function(){n.curOp.forceUpdate=true;ds(n,r,i);Tn(n,"lineWidgetChanged",n,e,et(r))})}},xe(us);var hs=0,ps=function(e,t){this.lines=[];this.type=t;this.doc=e;this.id=++hs};function gs(t,n,r,e,i){if(e&&e.shared){return vs(t,n,r,e,i)}if(t.cm&&!t.cm.curOp){return Di(t.cm,gs)(t,n,r,e,i)}var o=new ps(t,i),s=ot(n,r);if(e){F(e,o,false)}if(s>0||s==0&&o.clearWhenEmpty!==false){return o}if(o.replacedWith){o.collapsed=true;o.widgetNode=E("span",[o.replacedWith],"CodeMirror-widget");if(!e.handleMouseEvents){o.widgetNode.setAttribute("cm-ignore-events","true")}if(e.insertLeft){o.widgetNode.insertLeft=true}}if(o.collapsed){if(Xt(t,n.line,n,r,o)||n.line!=r.line&&Xt(t,r.line,n,r,o)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}Dt()}if(o.addToHistory){ko(t,{from:n,to:r,origin:"markText"},t.sel,NaN)}var a=n.line,l=t.cm,c;t.iter(a,r.line+1,function(e){if(l&&o.collapsed&&!l.options.lineWrapping&&Qt(e)==l.display.maxLine){c=true}if(o.collapsed&&a!=n.line){Je(e,0)}Nt(e,new At(o,a==n.line?n.ch:null,a==r.line?r.ch:null));++a});if(o.collapsed){t.iter(n.line,r.line+1,function(e){if(nn(t,e)){Je(e,0)}})}if(o.clearOnEnter){pe(o,"beforeCursorEnter",function(){return o.clear()})}if(o.readOnly){Pt();if(t.history.done.length||t.history.undone.length){t.clearHistory()}}if(o.collapsed){o.id=++hs;o.atomic=true}if(l){if(c){l.curOp.updateMaxLine=true}if(o.collapsed){Ir(l,n.line,r.line+1)}else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title){for(var u=n.line;u<=r.line;u++){Fr(l,u,"text")}}if(o.atomic){Uo(l.doc)}Tn(l,"markerAdded",l,o)}return o}ps.prototype.clear=function(){var e=this;if(this.explicitlyCleared){return}var t=this.doc.cm,n=t&&!t.curOp;if(n){Ci(t)}if(we(this,"clear")){var r=this.find();if(r){Tn(this,"clear",r.from,r.to)}}var i=null,o=null;for(var s=0;s<this.lines.length;++s){var a=e.lines[s];var l=Mt(a.markedSpans,e);if(t&&!e.collapsed){Fr(t,et(a),"text")}else if(t){if(l.to!=null){o=et(a)}if(l.from!=null){i=et(a)}}a.markedSpans=Lt(a.markedSpans,l);if(l.from==null&&e.collapsed&&!nn(e.doc,a)&&t){Je(a,Tr(t.display))}}if(t&&this.collapsed&&!t.options.lineWrapping){for(var c=0;c<this.lines.length;++c){var u=Qt(e.lines[c]),d=sn(u);if(d>t.display.maxLineLength){t.display.maxLine=u;t.display.maxLineLength=d;t.display.maxLineChanged=true}}}if(i!=null&&t&&this.collapsed){Ir(t,i,o+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(t){Uo(t.doc)}}if(t){Tn(t,"markerCleared",t,this,i,o)}if(n){ji(t)}if(this.parent){this.parent.clear()}},ps.prototype.find=function(e,t){var n=this;if(e==null&&this.type=="bookmark"){e=1}var r,i;for(var o=0;o<this.lines.length;++o){var s=n.lines[o];var a=Mt(s.markedSpans,n);if(a.from!=null){r=it(t?s:et(s),a.from);if(e==-1){return r}}if(a.to!=null){i=it(t?s:et(s),a.to);if(e==1){return i}}}return r&&{from:r,to:i}},ps.prototype.changed=function(){var o=this;var s=this.find(-1,true),a=this,l=this.doc.cm;if(!s||!l){return}Pi(l,function(){var e=s.line,t=et(s.line);var n=er(l,t);if(n){cr(n);l.curOp.selectionChanged=l.curOp.forceUpdate=true}l.curOp.updateMaxLine=true;if(!nn(a.doc,e)&&a.height!=null){var r=a.height;a.height=null;var i=Hn(a)-r;if(i){Je(e,e.height+i)}}Tn(l,"markerChanged",l,o)})},ps.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;if(!t.maybeHiddenMarkers||z(t.maybeHiddenMarkers,this)==-1){(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(e)},ps.prototype.detachLine=function(e){this.lines.splice(z(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},xe(ps);var ms=function(e,t){var n=this;this.markers=e;this.primary=t;for(var r=0;r<e.length;++r){e[r].parent=n}};function vs(e,n,r,i,o){i=F(i);i.shared=false;var s=[gs(e,n,r,i,o)],a=s[0];var l=i.widgetNode;vo(e,function(e){if(l){i.widgetNode=l.cloneNode(true)}s.push(gs(e,dt(e,n),dt(e,r),i,o));for(var t=0;t<e.linked.length;++t){if(e.linked[t].isParent){return}}a=K(s)});return new ms(s,a)}function ys(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),function(e){return e.parent})}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find();var o=e.clipPos(i.from),s=e.clipPos(i.to);if(ot(o,s)){var a=gs(e,o,s,r.primary,r.primary.type);r.markers.push(a);a.parent=r}}}function ws(o){var e=function(e){var t=o[e],n=[t.primary.doc];vo(t.primary.doc,function(e){return n.push(e)});for(var r=0;r<t.markers.length;r++){var i=t.markers[r];if(z(n,i.doc)==-1){i.parent=null;t.markers.splice(r--,1)}}};for(var t=0;t<o.length;t++)e(t)}ms.prototype.clear=function(){var e=this;if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var t=0;t<this.markers.length;++t){e.markers[t].clear()}Tn(this,"clear")},ms.prototype.find=function(e,t){return this.primary.find(e,t)},xe(ms);var xs=0,Cs=function(e,t,n,r,i){if(!(this instanceof Cs)){return new Cs(e,t,n,r,i)}if(n==null){n=0}cs.call(this,[new ls([new ln("",null)])]);this.first=n;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=n;var o=it(n,0);this.sel=so(o);this.history=new xo(null);this.id=++xs;this.modeOption=t;this.lineSep=r;this.direction=i=="rtl"?"rtl":"ltr";this.extend=false;if(typeof e=="string"){e=this.splitLines(e)}mo(this,{from:o,to:o,text:e});Vo(this,so(o),B)};Cs.prototype=J(cs.prototype,{constructor:Cs,iter:function(e,t,n){if(n){this.iterN(e-this.first,t-e,n)}else{this.iterN(this.first,this.first+this.size,e)}},insert:function(e,t){var n=0;for(var r=0;r<t.length;++r){n+=t[r].height}this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);if(e===false){return t}return t.join(e||this.lineSeparator())},setValue:Mi(function(e){var t=it(this.first,0),n=this.first+this.size-1;Qo(this,{from:t,to:it(n,Xe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:true},true);if(this.cm){ai(this.cm,0,0)}Vo(this,so(t),B)}),replaceRange:function(e,t,n,r){t=dt(this,t);n=n?dt(this,n):t;rs(this,e,t,n,r)},getRange:function(e,t,n){var r=Qe(this,dt(this,e),dt(this,t));if(n===false){return r}return r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e)){return Xe(this,e)}},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){if(typeof e=="number"){e=Xe(this,e)}return Qt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t=this.sel.primary(),n;if(e==null||e=="head"){n=t.head}else if(e=="anchor"){n=t.anchor}else if(e=="end"||e=="to"||e===false){n=t.to()}else{n=t.from()}return n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mi(function(e,t,n){$o(this,dt(this,typeof e=="number"?it(e,t||0):e),null,n)}),setSelection:Mi(function(e,t,n){$o(this,dt(this,e),dt(this,t||e),n)}),extendSelection:Mi(function(e,t,n){No(this,dt(this,e),t&&dt(this,t),n)}),extendSelections:Mi(function(e,t){Io(this,ht(this,e),t)}),extendSelectionsBy:Mi(function(e,t){var n=X(this.sel.ranges,e);Io(this,ht(this,n),t)}),setSelections:Mi(function(e,t,n){var r=this;if(!e.length){return}var i=[];for(var o=0;o<e.length;o++){i[o]=new io(dt(r,e[o].anchor),dt(r,e[o].head))}if(t==null){t=Math.min(e.length-1,this.sel.primIndex)}Vo(this,oo(this.cm,i,t),n)}),addSelection:Mi(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new io(dt(this,e),dt(this,t||e)));Vo(this,oo(this.cm,r,r.length-1),n)}),getSelection:function(e){var t=this;var n=this.sel.ranges,r;for(var i=0;i<n.length;i++){var o=Qe(t,n[i].from(),n[i].to());r=r?r.concat(o):o}if(e===false){return r}else{return r.join(e||this.lineSeparator())}},getSelections:function(e){var t=this;var n=[],r=this.sel.ranges;for(var i=0;i<r.length;i++){var o=Qe(t,r[i].from(),r[i].to());if(e!==false){o=o.join(e||t.lineSeparator())}n[i]=o}return n},replaceSelection:function(e,t,n){var r=[];for(var i=0;i<this.sel.ranges.length;i++){r[i]=e}this.replaceSelections(r,t,n||"+input")},replaceSelections:Mi(function(e,t,n){var r=this;var i=[],o=this.sel;for(var s=0;s<o.ranges.length;s++){var a=o.ranges[s];i[s]={from:a.from(),to:a.to(),text:r.splitLines(e[s]),origin:n}}var l=t&&t!="end"&&fo(this,i,t);for(var c=i.length-1;c>=0;c--){Qo(r,i[c])}if(l){zo(this,l)}else if(this.cm){si(this.cm)}}),undo:Mi(function(){Jo(this,"undo")}),redo:Mi(function(){Jo(this,"redo")}),undoSelection:Mi(function(){Jo(this,"undo",true)}),redoSelection:Mi(function(){Jo(this,"redo",true)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){var e=this.history,t=0,n=0;for(var r=0;r<e.done.length;r++){if(!e.done[r].ranges){++t}}for(var i=0;i<e.undone.length;i++){if(!e.undone[i].ranges){++n}}return{undo:t,redo:n}},clearHistory:function(){this.history=new xo(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(e){if(e){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mo(this.history.done),undone:Mo(this.history.undone)}},setHistory:function(e){var t=this.history=new xo(this.history.maxGeneration);t.done=Mo(e.done.slice(0),null,true);t.undone=Mo(e.undone.slice(0),null,true)},setGutterMarker:Mi(function(e,n,r){return as(this,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});t[n]=r;if(!r&&re(t)){e.gutterMarkers=null}return true})}),clearGutter:Mi(function(t){var n=this;this.iter(function(e){if(e.gutterMarkers&&e.gutterMarkers[t]){as(n,e,"gutter",function(){e.gutterMarkers[t]=null;if(re(e.gutterMarkers)){e.gutterMarkers=null}return true})}})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!nt(this,e)){return null}t=e;e=Xe(this,e);if(!e){return null}}else{t=et(e);if(t==null){return null}}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Mi(function(e,n,r){return as(this,e,n=="gutter"?"gutter":"class",function(e){var t=n=="text"?"textClass":n=="background"?"bgClass":n=="gutter"?"gutterClass":"wrapClass";if(!e[t]){e[t]=r}else if(S(r).test(e[t])){return false}else{e[t]+=" "+r}return true})}),removeLineClass:Mi(function(e,o,s){return as(this,e,o=="gutter"?"gutter":"class",function(e){var t=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass";var n=e[t];if(!n){return false}else if(s==null){e[t]=null}else{var r=n.match(S(s));if(!r){return false}var i=r.index+r[0].length;e[t]=n.slice(0,r.index)+(!r.index||i==n.length?"":" ")+n.slice(i)||null}return true})}),addLineWidget:Mi(function(e,t,n){return fs(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return gs(this,dt(this,e),dt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:false,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};e=dt(this,e);return gs(this,e,e,n,"bookmark")},findMarksAt:function(e){e=dt(this,e);var t=[],n=Xe(this,e.line).markedSpans;if(n){for(var r=0;r<n.length;++r){var i=n[r];if((i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)){t.push(i.marker.parent||i.marker)}}}return t},findMarks:function(i,o,s){i=dt(this,i);o=dt(this,o);var a=[],l=i.line;this.iter(i.line,o.line+1,function(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;n++){var r=t[n];if(!(r.to!=null&&l==i.line&&i.ch>=r.to||r.from==null&&l!=i.line||r.from!=null&&l==o.line&&r.from>=o.ch)&&(!s||s(r.marker))){a.push(r.marker.parent||r.marker)}}}++l});return a},getAllMarks:function(){var r=[];this.iter(function(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n){if(t[n].from!=null){r.push(t[n].marker)}}}});return r},posFromIndex:function(n){var r,i=this.first,o=this.lineSeparator().length;this.iter(function(e){var t=e.text.length+o;if(t>n){r=n;return true}n-=t;++i});return dt(this,it(i,r))},indexFromPos:function(e){e=dt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0){return 0}var n=this.lineSeparator().length;this.iter(this.first,e.line,function(e){t+=e.text.length+n});return t},copy:function(e){var t=new Cs(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);t.scrollTop=this.scrollTop;t.scrollLeft=this.scrollLeft;t.sel=this.sel;t.extend=false;if(e){t.history.undoDepth=this.history.undoDepth;t.setHistory(this.getHistory())}return t},linkedDoc:function(e){if(!e){e={}}var t=this.first,n=this.first+this.size;if(e.from!=null&&e.from>t){t=e.from}if(e.to!=null&&e.to<n){n=e.to}var r=new Cs(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);if(e.sharedHist){r.history=this.history}(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist});r.linked=[{doc:this,isParent:true,sharedHist:e.sharedHist}];bs(r,ys(this));return r},unlinkDoc:function(e){var t=this;if(e instanceof Ia){e=e.doc}if(this.linked){for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc!=e){continue}t.linked.splice(n,1);e.unlinkDoc(t);ws(ys(t));break}}if(e.history==this.history){var i=[e.id];vo(e,function(e){return i.push(e.id)},true);e.history=new xo(null);e.history.done=Mo(this.history.done,i);e.history.undone=Mo(this.history.undone,i)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){if(this.lineSep){return e.split(this.lineSep)}return Me(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Mi(function(e){if(e!="rtl"){e="ltr"}if(e==this.direction){return}this.direction=e;this.iter(function(e){return e.order=null});if(this.cm){wo(this.cm)}})}),Cs.prototype.eachLine=Cs.prototype.iter;var js=0;function Ss(e){var i=this;_s(i);if(ye(i,e)||Bn(i.display,e)){return}Ce(e);if(x){js=+new Date}var o=Lr(i,e,true),t=e.dataTransfer.files;if(!o||i.isReadOnly()){return}if(t&&t.length&&window.FileReader&&window.File){var s=t.length,a=Array(s),l=0;var n=function(e,n){if(i.options.allowDropFileTypes&&z(i.options.allowDropFileTypes,e.type)==-1){return}var r=new FileReader;r.onload=Di(i,function(){var e=r.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)){e=""}a[n]=e;if(++l==s){o=dt(i.doc,o);var t={from:o,to:o,text:i.doc.splitLines(a.join(i.doc.lineSeparator())),origin:"paste"};Qo(i.doc,t);zo(i.doc,so(o,ao(t)))}});r.readAsText(e)};for(var r=0;r<s;++r){n(t[r],r)}}else{if(i.state.draggingText&&i.doc.sel.contains(o)>-1){i.state.draggingText(e);setTimeout(function(){return i.display.input.focus()},20);return}try{var c=e.dataTransfer.getData("Text");if(c){var u;if(i.state.draggingText&&!i.state.draggingText.copy){u=i.listSelections()}Ho(i.doc,so(o,o));if(u){for(var d=0;d<u.length;++d){rs(i.doc,"",u[d].anchor,u[d].head,"drag")}}i.replaceSelection(c,"around","paste");i.display.input.focus()}}catch(e){}}}function ks(e,t){if(x&&(!e.state.draggingText||+new Date-js<100)){ke(t);return}if(ye(e,t)||Bn(e.display,t)){return}t.dataTransfer.setData("Text",e.getSelection());t.dataTransfer.effectAllowed="copyMove";if(t.dataTransfer.setDragImage&&!a){var n=D("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(v){n.width=n.height=1;e.display.wrapper.appendChild(n);n._top=n.offsetTop}t.dataTransfer.setDragImage(n,0,0);if(v){n.parentNode.removeChild(n)}}}function Os(e,t){var n=Lr(e,t);if(!n){return}var r=document.createDocumentFragment();Ur(e,n,r);if(!e.display.dragCursor){e.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors");e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)}T(e.display.dragCursor,r)}function _s(e){if(e.display.dragCursor){e.display.lineSpace.removeChild(e.display.dragCursor);e.display.dragCursor=null}}function Ts(t){if(!document.getElementsByClassName){return}var e=document.getElementsByClassName("CodeMirror"),n=[];for(var r=0;r<e.length;r++){var i=e[r].CodeMirror;if(i){n.push(i)}}if(n.length){n[0].operation(function(){for(var e=0;e<n.length;e++){t(n[e])}})}}var Es=false;function Ps(){if(Es){return}Ds();Es=true}function Ds(){var e;pe(window,"resize",function(){if(e==null){e=setTimeout(function(){e=null;Ts(As)},100)}});pe(window,"blur",function(){return Ts(Qr)})}function As(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null;t.scrollbarsClipped=false;e.setSize()}for(var Ms={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ls=0;Ls<10;Ls++){Ms[Ls+48]=Ms[Ls+96]=String(Ls)}for(var Ns=65;Ns<=90;Ns++){Ms[Ns]=String.fromCharCode(Ns)}for(var Is=1;Is<=12;Is++){Ms[Is+111]=Ms[Is+63235]="F"+Is}var Fs={};function $s(e){var t=e.split(/-(?!$)/);e=t[t.length-1];var n,r,i,o;for(var s=0;s<t.length-1;s++){var a=t[s];if(/^(cmd|meta|m)$/i.test(a)){o=true}else if(/^a(lt)?$/i.test(a)){n=true}else if(/^(c|ctrl|control)$/i.test(a)){r=true}else if(/^s(hift)?$/i.test(a)){i=true}else{throw new Error("Unrecognized modifier name: "+a)}}if(n){e="Alt-"+e}if(r){e="Ctrl-"+e}if(o){e="Cmd-"+e}if(i){e="Shift-"+e}return e}function Rs(e){var t={};for(var n in e){if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n)){continue}if(r=="..."){delete e[n];continue}var i=X(n.split(" "),$s);for(var o=0;o<i.length;o++){var s=void 0,a=void 0;if(o==i.length-1){a=i.join(" ");s=r}else{a=i.slice(0,o+1).join(" ");s="..."}var l=t[a];if(!l){t[a]=s}else if(l!=s){throw new Error("Inconsistent bindings for "+a)}}delete e[n]}}for(var c in t){e[c]=t[c]}return e}function zs(e,t,n,r){t=Us(t);var i=t.call?t.call(e,r):t[e];if(i===false){return"nothing"}if(i==="..."){return"multi"}if(i!=null&&n(i)){return"handled"}if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]"){return zs(e,t.fallthrough,n,r)}for(var o=0;o<t.fallthrough.length;o++){var s=zs(e,t.fallthrough[o],n,r);if(s){return s}}}}function Vs(e){var t=typeof e=="string"?e:Ms[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Hs(e,t,n){var r=e;if(t.altKey&&r!="Alt"){e="Alt-"+e}if((w?t.metaKey:t.ctrlKey)&&r!="Ctrl"){e="Ctrl-"+e}if((w?t.ctrlKey:t.metaKey)&&r!="Cmd"){e="Cmd-"+e}if(!n&&t.shiftKey&&r!="Shift"){e="Shift-"+e}return e}function Bs(e,t){if(v&&e.keyCode==34&&e["char"]){return false}var n=Ms[e.keyCode];if(n==null||e.altGraphKey){return false}if(e.keyCode==3&&e.code){n=e.code}return Hs(n,e,t)}function Us(e){return typeof e=="string"?Fs[e]:e}function qs(t,e){var n=t.doc.sel.ranges,r=[];for(var i=0;i<n.length;i++){var o=e(n[i]);while(r.length&&ot(o.from,K(r).to)<=0){var s=r.pop();if(ot(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Pi(t,function(){for(var e=r.length-1;e>=0;e--){rs(t.doc,"",r[e].from,r[e].to,"+delete")}si(t)})}function Ws(e,t,n){var r=se(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Gs(e,t,n){var r=Ws(e,t.ch,n);return r==null?null:new it(t.line,r,n<0?"after":"before")}function Ys(e,t,n,r,i){if(e){var o=fe(n,t.doc.direction);if(o){var s=i<0?K(o):o[0];var a=i<0==(s.level==1);var l=a?"after":"before";var c;if(s.level>0||t.doc.direction=="rtl"){var u=tr(t,n);c=i<0?n.text.length-1:0;var d=nr(t,u,c).top;c=ae(function(e){return nr(t,u,e).top==d},i<0==(s.level==1)?s.from:s.to-1,c);if(l=="before"){c=Ws(n,c,1)}}else{c=i<0?s.to:s.from}return new it(r,c,l)}}return new it(r,i<0?n.text.length:0,i<0?"before":"after")}function Ks(t,n,a,e){var l=fe(n,t.doc.direction);if(!l){return Gs(n,a,e)}if(a.ch>=n.text.length){a.ch=n.text.length;a.sticky="before"}else if(a.ch<=0){a.ch=0;a.sticky="after"}var r=ue(l,a.ch,a.sticky),i=l[r];if(t.doc.direction=="ltr"&&i.level%2==0&&(e>0?i.to>a.ch:i.from<a.ch)){return Gs(n,a,e)}var c=function(e,t){return Ws(n,e instanceof it?e.ch:e,t)};var o;var s=function(e){if(!t.options.lineWrapping){return{begin:0,end:n.text.length}}o=o||tr(t,n);return jr(t,n,o,e)};var u=s(a.sticky=="before"?c(a,-1):a.ch);if(t.doc.direction=="rtl"||i.level==1){var d=i.level==1==e<0;var f=c(a,d?1:-1);if(f!=null&&(!d?f>=i.from&&f>=u.begin:f<=i.to&&f<=u.end)){var h=d?"before":"after";return new it(a.line,f,h)}}var p=function(e,t,n){var r=function(e,t){return t?new it(a.line,c(e,1),"before"):new it(a.line,e,"after")};for(;e>=0&&e<l.length;e+=t){var i=l[e];var o=t>0==(i.level!=1);var s=o?n.begin:c(n.end,-1);if(i.from<=s&&s<i.to){return r(s,o)}s=o?i.from:c(i.to,-1);if(n.begin<=s&&s<n.end){return r(s,o)}}};var g=p(r+e,e,u);if(g){return g}var m=e>0?u.end:c(u.begin,-1);if(m!=null&&!(e>0&&m==n.text.length)){g=p(e>0?0:l.length-1,e,s(m));if(g){return g}}return null}Fs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fs["default"]=y?Fs.macDefault:Fs.pcDefault;var Xs={selectAll:Ko,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),B)},killLine:function(n){return qs(n,function(e){if(e.empty()){var t=Xe(n.doc,e.head.line).text.length;if(e.head.ch==t&&e.head.line<n.lastLine()){return{from:e.head,to:it(e.head.line+1,0)}}else{return{from:e.head,to:it(e.head.line,t)}}}else{return{from:e.from(),to:e.to()}}})},deleteLine:function(t){return qs(t,function(e){return{from:it(e.from().line,0),to:dt(t.doc,it(e.to().line+1,0))}})},delLineLeft:function(e){return qs(e,function(e){return{from:it(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(r){return qs(r,function(e){var t=r.charCoords(e.head,"div").top+5;var n=r.coordsChar({left:0,top:t},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(r){return qs(r,function(e){var t=r.charCoords(e.head,"div").top+5;var n=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Qs(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Js(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return Zs(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div")},q)},goLineLeft:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,"div").top+5;return n.coordsChar({left:0,top:t},"div")},q)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(e){var t=r.cursorCoords(e.head,"div").top+5;var n=r.coordsChar({left:0,top:t},"div");if(n.ch<r.getLine(n.line).search(/\S/)){return Js(r,e.head)}return n},q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){var t=[],n=e.listSelections(),r=e.options.tabSize;for(var i=0;i<n.length;i++){var o=n[i].from();var s=$(e.getLine(o.line),o.ch,r);t.push(Y(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){if(e.somethingSelected()){e.indentSelection("add")}else{e.execCommand("insertTab")}},transposeChars:function(s){return Pi(s,function(){var e=s.listSelections(),t=[];for(var n=0;n<e.length;n++){if(!e[n].empty()){continue}var r=e[n].head,i=Xe(s.doc,r.line).text;if(i){if(r.ch==i.length){r=new it(r.line,r.ch-1)}if(r.ch>0){r=new it(r.line,r.ch+1);s.replaceRange(i.charAt(r.ch-1)+i.charAt(r.ch-2),it(r.line,r.ch-2),r,"+transpose")}else if(r.line>s.doc.first){var o=Xe(s.doc,r.line-1).text;if(o){r=new it(r.line,1);s.replaceRange(i.charAt(0)+s.doc.lineSeparator()+o.charAt(o.length-1),it(r.line-1,o.length-1),r,"+transpose")}}}t.push(new io(r,r))}s.setSelections(t)})},newlineAndIndent:function(r){return Pi(r,function(){var e=r.listSelections();for(var t=e.length-1;t>=0;t--){r.replaceRange(r.doc.lineSeparator(),e[t].anchor,e[t].head,"+input")}e=r.listSelections();for(var n=0;n<e.length;n++){r.indentLine(e[n].from().line,null,true)}si(r)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Qs(e,t){var n=Xe(e.doc,t);var r=Qt(n);if(r!=n){t=et(r)}return Ys(true,e,r,t,1)}function Zs(e,t){var n=Xe(e.doc,t);var r=Zt(n);if(r!=n){t=et(r)}return Ys(true,e,n,t,-1)}function Js(e,t){var n=Qs(e,t.line);var r=Xe(e.doc,n.line);var i=fe(r,e.doc.direction);if(!i||i[0].level==0){var o=Math.max(0,r.text.search(/\S/));var s=t.line==n.line&&t.ch<=o&&t.ch;return it(n.line,s?0:o,n.sticky)}return n}function ea(e,t,n){if(typeof t=="string"){t=Xs[t];if(!t){return false}}e.display.input.ensurePolled();var r=e.display.shift,i=false;try{if(e.isReadOnly()){e.state.suppressEdits=true}if(n){e.display.shift=false}i=t(e)!=H}finally{e.display.shift=r;e.state.suppressEdits=false}return i}function ta(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=zs(t,e.state.keyMaps[r],n,e);if(i){return i}}return e.options.extraKeys&&zs(t,e.options.extraKeys,n,e)||zs(t,e.options.keyMap,n,e)}var na=new R;function ra(e,t,n,r){var i=e.state.keySeq;if(i){if(Vs(t)){return"handled"}if(/\'$/.test(t)){e.state.keySeq=null}else{na.set(50,function(){if(e.state.keySeq==i){e.state.keySeq=null;e.display.input.reset()}})}if(ia(e,i+" "+t,n,r)){return true}}return ia(e,t,n,r)}function ia(e,t,n,r){var i=ta(e,t,r);if(i=="multi"){e.state.keySeq=t}if(i=="handled"){Tn(e,"keyHandled",e,t,n)}if(i=="handled"||i=="multi"){Ce(n);Gr(e)}return!!i}function oa(t,e){var n=Bs(e,true);if(!n){return false}if(e.shiftKey&&!t.state.keySeq){return ra(t,"Shift-"+n,e,function(e){return ea(t,e,true)})||ra(t,n,e,function(e){if(typeof e=="string"?/^go[A-Z]/.test(e):e.motion){return ea(t,e)}})}else{return ra(t,n,e,function(e){return ea(t,e)})}}function sa(t,e,n){return ra(t,"'"+n+"'",e,function(e){return ea(t,e,true)})}var aa=null;function la(e){var t=this;t.curOp.focus=A();if(ye(t,e)){return}if(x&&C<11&&e.keyCode==27){e.returnValue=false}var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=oa(t,e);if(v){aa=r?n:null;if(!r&&n==88&&!Ne&&(y?e.metaKey:e.ctrlKey)){t.replaceSelection("",null,"cut")}}if(n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)){ca(t)}}function ca(e){var t=e.display.lineDiv;M(t,"CodeMirror-crosshair");function n(e){if(e.keyCode==18||!e.altKey){k(t,"CodeMirror-crosshair");me(document,"keyup",n);me(document,"mouseover",n)}}pe(document,"keyup",n);pe(document,"mouseover",n)}function ua(e){if(e.keyCode==16){this.doc.sel.shift=false}ye(this,e)}function da(e){var t=this;if(Bn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey){return}var n=e.keyCode,r=e.charCode;if(v&&n==aa){aa=null;Ce(e);return}if(v&&(!e.which||e.which<10)&&oa(t,e)){return}var i=String.fromCharCode(r==null?n:r);if(i=="\b"){return}if(sa(t,e,i)){return}t.display.input.onKeyPress(e)}var fa=400,ha=function(e,t,n){this.time=e;this.pos=t;this.button=n},pa,ga;function ma(e,t){var n=+new Date;if(ga&&ga.compare(n,e,t)){pa=ga=null;return"triple"}else if(pa&&pa.compare(n,e,t)){ga=new ha(n,e,t);pa=null;return"double"}else{pa=new ha(n,e,t);ga=null;return"single"}}function va(e){var t=this,n=t.display;if(ye(t,e)||n.activeTouch&&n.input.supportsTouch()){return}n.input.ensurePolled();n.shift=e.shiftKey;if(Bn(n,e)){if(!m){n.scroller.draggable=false;setTimeout(function(){return n.scroller.draggable=true},100)}return}if(Oa(t,e)){return}var r=Lr(t,e),i=_e(e),o=r?ma(r,i):"single";window.focus();if(i==1&&t.state.selectingText){t.state.selectingText(e)}if(r&&ya(t,i,r,o,e)){return}if(i==1){if(r){wa(t,r,o,e)}else if(Oe(e)==n.scroller){Ce(e)}}else if(i==2){if(r){No(t.doc,r)}setTimeout(function(){return n.input.focus()},20)}else if(i==3){if(j){t.display.input.onContextMenu(e)}else{Kr(t)}}}function ya(n,e,r,t,i){var o="Click";if(t=="double"){o="Double"+o}else if(t=="triple"){o="Triple"+o}o=(e==1?"Left":e==2?"Middle":"Right")+o;return ra(n,Hs(o,i),i,function(e){if(typeof e=="string"){e=Xs[e]}if(!e){return false}var t=false;try{if(n.isReadOnly()){n.state.suppressEdits=true}t=e(n,r)!=H}finally{n.state.suppressEdits=false}return t})}function ba(e,t,n){var r=e.getOption("configureMouse");var i=r?r(e,t,n):{};if(i.unit==null){var o=h?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":t=="single"?"char":t=="double"?"word":"line"}if(i.extend==null||e.doc.extend){i.extend=e.doc.extend||n.shiftKey}if(i.addNew==null){i.addNew=y?n.metaKey:n.ctrlKey}if(i.moveOnDrag==null){i.moveOnDrag=!(y?n.altKey:n.ctrlKey)}return i}function wa(e,t,n,r){if(x){setTimeout(I(Yr,e),0)}else{e.curOp.focus=A()}var i=ba(e,n,r);var o=e.doc.sel,s;if(e.options.dragDrop&&Te&&!e.isReadOnly()&&n=="single"&&(s=o.contains(t))>-1&&(ot((s=o.ranges[s]).from(),t)<0||t.xRel>0)&&(ot(s.to(),t)>0||t.xRel<0)){xa(e,r,t,i)}else{ja(e,r,t,i)}}function xa(t,n,r,i){var o=t.display,s=false;var a=Di(t,function(e){if(m){o.scroller.draggable=false}t.state.draggingText=false;me(o.wrapper.ownerDocument,"mouseup",a);me(o.wrapper.ownerDocument,"mousemove",l);me(o.scroller,"dragstart",c);me(o.scroller,"drop",a);if(!s){Ce(e);if(!i.addNew){No(t.doc,r,null,null,i.extend)}if(m||x&&C==9){setTimeout(function(){o.wrapper.ownerDocument.body.focus();o.input.focus()},20)}else{o.input.focus()}}});var l=function(e){s=s||Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)>=10};var c=function(){return s=true};if(m){o.scroller.draggable=true}t.state.draggingText=a;a.copy=!i.moveOnDrag;if(o.scroller.dragDrop){o.scroller.dragDrop()}pe(o.wrapper.ownerDocument,"mouseup",a);pe(o.wrapper.ownerDocument,"mousemove",l);pe(o.scroller,"dragstart",c);pe(o.scroller,"drop",a);Kr(t);setTimeout(function(){return o.input.focus()},20)}function Ca(e,t,n){if(n=="char"){return new io(t,t)}if(n=="word"){return e.findWordAt(t)}if(n=="line"){return new io(it(t.line,0),dt(e.doc,it(t.line+1,0)))}var r=n(e,t);return new io(r.from,r.to)}function ja(m,e,v,y){var o=m.display,b=m.doc;Ce(e);var w,x,C=b.sel,t=C.ranges;if(y.addNew&&!y.extend){x=b.sel.contains(v);if(x>-1){w=t[x]}else{w=new io(v,v)}}else{w=b.sel.primary();x=b.sel.primIndex}if(y.unit=="rectangle"){if(!y.addNew){w=new io(v,v)}v=Lr(m,e,true,true);x=-1}else{var n=Ca(m,v,y.unit);if(y.extend){w=Lo(w,n.anchor,n.head,y.extend)}else{w=n}}if(!y.addNew){x=0;Vo(b,new ro([w],0),U);C=b.sel}else if(x==-1){x=t.length;Vo(b,oo(m,t.concat([w]),x),{scroll:false,origin:"*mouse"})}else if(t.length>1&&t[x].empty()&&y.unit=="char"&&!y.extend){Vo(b,oo(m,t.slice(0,x).concat(t.slice(x+1)),0),{scroll:false,origin:"*mouse"});C=b.sel}else{Fo(b,x,w,U)}var j=v;function s(e){if(ot(j,e)==0){return}j=e;if(y.unit=="rectangle"){var t=[],n=m.options.tabSize;var r=$(Xe(b,v.line).text,v.ch,n);var i=$(Xe(b,e.line).text,e.ch,n);var o=Math.min(r,i),s=Math.max(r,i);for(var a=Math.min(v.line,e.line),l=Math.min(m.lastLine(),Math.max(v.line,e.line));a<=l;a++){var c=Xe(b,a).text,u=W(c,o,n);if(o==s){t.push(new io(it(a,u),it(a,u)))}else if(c.length>u){t.push(new io(it(a,u),it(a,W(c,s,n))))}}if(!t.length){t.push(new io(v,v))}Vo(b,oo(m,C.ranges.slice(0,x).concat(t),x),{origin:"*mouse",scroll:false});m.scrollIntoView(e)}else{var d=w;var f=Ca(m,e,y.unit);var h=d.anchor,p;if(ot(f.anchor,h)>0){p=f.head;h=ct(d.from(),f.anchor)}else{p=f.anchor;h=lt(d.to(),f.head)}var g=C.ranges.slice(0);g[x]=Sa(m,new io(dt(b,h),p));Vo(b,oo(m,g,x),U)}}var a=o.wrapper.getBoundingClientRect();var l=0;function c(e){var t=++l;var n=Lr(m,e,true,y.unit=="rectangle");if(!n){return}if(ot(n,j)!=0){m.curOp.focus=A();s(n);var r=ei(o,b);if(n.line>=r.to||n.line<r.from){setTimeout(Di(m,function(){if(l==t){c(e)}}),150)}}else{var i=e.clientY<a.top?-20:e.clientY>a.bottom?20:0;if(i){setTimeout(Di(m,function(){if(l!=t){return}o.scroller.scrollTop+=i;c(e)}),50)}}}function r(e){m.state.selectingText=false;l=Infinity;if(e){Ce(e);o.input.focus()}me(o.wrapper.ownerDocument,"mousemove",i);me(o.wrapper.ownerDocument,"mouseup",u);b.history.lastSelOrigin=null}var i=Di(m,function(e){if(e.buttons===0||!_e(e)){r(e)}else{c(e)}});var u=Di(m,r);m.state.selectingText=u;pe(o.wrapper.ownerDocument,"mousemove",i);pe(o.wrapper.ownerDocument,"mouseup",u)}function Sa(e,t){var n=t.anchor;var r=t.head;var i=Xe(e.doc,n.line);if(ot(n,r)==0&&n.sticky==r.sticky){return t}var o=fe(i);if(!o){return t}var s=ue(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch){return t}var l=s+(a.from==n.ch==(a.level!=1)?0:1);if(l==0||l==o.length){return t}var c;if(r.line!=n.line){c=(r.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0}else{var u=ue(o,r.ch,r.sticky);var d=u-s||(r.ch-n.ch)*(a.level==1?-1:1);if(u==l-1||u==l){c=d<0}else{c=d>0}}var f=o[l+(c?-1:0)];var h=c==(f.level==1);var p=h?f.from:f.to,g=h?"after":"before";return n.ch==p&&n.sticky==g?t:new io(new it(n.line,p,g),r)}function ka(e,t,n,r){var i,o;if(t.touches){i=t.touches[0].clientX;o=t.touches[0].clientY}else{try{i=t.clientX;o=t.clientY}catch(t){return false}}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right)){return false}if(r){Ce(t)}var s=e.display;var a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!we(e,n)){return Se(t)}o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=tt(e.doc,o);var d=e.display.gutterSpecs[l];ve(e,n,e,u,d.className,t);return Se(t)}}}function Oa(e,t){return ka(e,t,"gutterClick",true)}function _a(e,t){if(Bn(e.display,t)||Ta(e,t)){return}if(ye(e,t,"contextmenu")){return}if(!j){e.display.input.onContextMenu(t)}}function Ta(e,t){if(!we(e,"gutterContextMenu")){return false}return ka(e,t,"gutterContextMenu",false)}function Ea(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-");dr(e)}ha.prototype.compare=function(e,t,n){return this.time+fa>e&&ot(t,this.pos)==0&&n==this.button};var Pa={toString:function(){return"CodeMirror.Init"}},Da={},Aa={};function Ma(i){var o=i.optionHandlers;function e(e,t,r,n){i.defaults[e]=t;if(r){o[e]=n?function(e,t,n){if(n!=Pa){r(e,t,n)}}:r}}i.defineOption=e;i.Init=Pa;e("value","",function(e,t){return e.setValue(t)},true);e("mode",null,function(e,t){e.doc.modeOption=t;ho(e)},true);e("indentUnit",2,ho,true);e("indentWithTabs",false);e("smartIndent",true);e("tabSize",4,function(e){po(e);dr(e);Ir(e)},true);e("lineSeparator",null,function(e,r){e.doc.lineSep=r;if(!r){return}var i=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var n=e.text.indexOf(r,t);if(n==-1){break}t=n+r.length;i.push(it(o,n))}o++});for(var t=i.length-1;t>=0;t--){rs(e.doc,r,i[t],it(i[t].line,i[t].ch+r.length))}});e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g");if(n!=Pa){e.refresh()}});e("specialCharPlaceholder",gn,function(e){return e.refresh()},true);e("electricChars",true);e("inputStyle",f?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},true);e("spellcheck",false,function(e,t){return e.getInputField().spellcheck=t},true);e("autocorrect",false,function(e,t){return e.getInputField().autocorrect=t},true);e("autocapitalize",false,function(e,t){return e.getInputField().autocapitalize=t},true);e("rtlMoveVisually",!p);e("wholeLineUpdateBefore",true);e("theme","default",function(e){Ea(e);Xi(e)},true);e("keyMap","default",function(e,t,n){var r=Us(t);var i=n!=Pa&&Us(n);if(i&&i.detach){i.detach(e,r)}if(r.attach){r.attach(e,i||null)}});e("extraKeys",null);e("configureMouse",null);e("lineWrapping",false,Na,true);e("gutters",[],function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers);Xi(e)},true);e("fixedGutter",true,function(e,t){e.display.gutters.style.left=t?Dr(e.display)+"px":"0";e.refresh()},true);e("coverGutterNextToScrollbar",false,function(e){return vi(e)},true);e("scrollbarStyle","native",function(e){wi(e);vi(e);e.display.scrollbars.setScrollTop(e.doc.scrollTop);e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},true);e("lineNumbers",false,function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t);Xi(e)},true);e("firstLineNumber",1,Xi,true);e("lineNumberFormatter",function(e){return e},Xi,true);e("showCursorWhenSelecting",false,Hr,true);e("resetSelectionOnContextMenu",true);e("lineWiseCopyCut",true);e("pasteLinesPerSelection",true);e("selectionsMayTouch",false);e("readOnly",false,function(e,t){if(t=="nocursor"){Qr(e);e.display.input.blur()}e.display.input.readOnlyChanged(t)});e("disableInput",false,function(e,t){if(!t){e.display.input.reset()}},true);e("dragDrop",true,La);e("allowDropFileTypes",null);e("cursorBlinkRate",530);e("cursorScrollMargin",0);e("cursorHeight",1,Hr,true);e("singleCursorHeightPerLine",true,Hr,true);e("workTime",100);e("workDelay",100);e("flattenSpans",true,po,true);e("addModeClass",false,po,true);e("pollInterval",100);e("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t});e("historyEventDelay",1250);e("viewportMargin",10,function(e){return e.refresh()},true);e("maxHighlightLength",1e4,po,true);e("moveInputWithCursor",true,function(e,t){if(!t){e.display.input.resetPosition()}});e("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""});e("autofocus",null);e("direction","ltr",function(e,t){return e.doc.setDirection(t)},true);e("phrases",null)}function La(e,t,n){var r=n&&n!=Pa;if(!t!=!r){var i=e.display.dragFunctions;var o=t?pe:me;o(e.display.scroller,"dragstart",i.start);o(e.display.scroller,"dragenter",i.enter);o(e.display.scroller,"dragover",i.over);o(e.display.scroller,"dragleave",i.leave);o(e.display.scroller,"drop",i.drop)}}function Na(e){if(e.options.lineWrapping){M(e.display.wrapper,"CodeMirror-wrap");e.display.sizer.style.minWidth="";e.display.sizerWidth=null}else{k(e.display.wrapper,"CodeMirror-wrap");an(e)}Mr(e);Ir(e);dr(e);setTimeout(function(){return vi(e)},100)}function Ia(e,t){var n=this;if(!(this instanceof Ia)){return new Ia(e,t)}this.options=t=t?F(t):{};F(Da,t,false);var r=t.value;if(typeof r=="string"){r=new Cs(r,t.mode,null,t.lineSeparator,t.direction)}else if(t.mode){r.modeOption=t.mode}this.doc=r;var i=new Ia.inputStyles[t.inputStyle](this);var o=this.display=new Qi(e,r,i,t);o.wrapper.CodeMirror=this;Ea(this);if(t.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}wi(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:-1,cutIncoming:-1,selectingText:false,draggingText:false,highlight:new R,keySeq:null,specialChars:null};if(t.autofocus&&!f){o.input.focus()}if(x&&C<11){setTimeout(function(){return n.display.input.reset(true)},20)}Fa(this);Ps();Ci(this);this.curOp.forceUpdate=true;yo(this,r);if(t.autofocus&&!f||this.hasFocus()){setTimeout(I(Xr,this),20)}else{Qr(this)}for(var s in Aa){if(Aa.hasOwnProperty(s)){Aa[s](n,t[s],Pa)}}Gi(this);if(t.finishInit){t.finishInit(this)}for(var a=0;a<$a.length;++a){$a[a](n)}ji(this);if(m&&t.lineWrapping&&getComputedStyle(o.lineDiv).textRendering=="optimizelegibility"){o.lineDiv.style.textRendering="auto"}}function Fa(i){var o=i.display;pe(o.scroller,"mousedown",Di(i,va));if(x&&C<11){pe(o.scroller,"dblclick",Di(i,function(e){if(ye(i,e)){return}var t=Lr(i,e);if(!t||Oa(i,e)||Bn(i.display,e)){return}Ce(e);var n=i.findWordAt(t);No(i.doc,n.anchor,n.head)}))}else{pe(o.scroller,"dblclick",function(e){return ye(i,e)||Ce(e)})}pe(o.scroller,"contextmenu",function(e){return _a(i,e)});var n,r={end:0};function s(){if(o.activeTouch){n=setTimeout(function(){return o.activeTouch=null},1e3);r=o.activeTouch;r.end=+new Date}}function a(e){if(e.touches.length!=1){return false}var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(t.left==null){return true}var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>20*20}pe(o.scroller,"touchstart",function(e){if(!ye(i,e)&&!a(e)&&!Oa(i,e)){o.input.ensurePolled();clearTimeout(n);var t=+new Date;o.activeTouch={start:t,moved:false,prev:t-r.end<=300?r:null};if(e.touches.length==1){o.activeTouch.left=e.touches[0].pageX;o.activeTouch.top=e.touches[0].pageY}}});pe(o.scroller,"touchmove",function(){if(o.activeTouch){o.activeTouch.moved=true}});pe(o.scroller,"touchend",function(e){var t=o.activeTouch;if(t&&!Bn(o,e)&&t.left!=null&&!t.moved&&new Date-t.start<300){var n=i.coordsChar(o.activeTouch,"page"),r;if(!t.prev||l(t,t.prev)){r=new io(n,n)}else if(!t.prev.prev||l(t,t.prev.prev)){r=i.findWordAt(n)}else{r=new io(it(n.line,0),dt(i.doc,it(n.line+1,0)))}i.setSelection(r.anchor,r.head);i.focus();Ce(e)}s()});pe(o.scroller,"touchcancel",s);pe(o.scroller,"scroll",function(){if(o.scroller.clientHeight){di(i,o.scroller.scrollTop);hi(i,o.scroller.scrollLeft,true);ve(i,"scroll",i)}});pe(o.scroller,"mousewheel",function(e){return no(i,e)});pe(o.scroller,"DOMMouseScroll",function(e){return no(i,e)});pe(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0});o.dragFunctions={enter:function(e){if(!ye(i,e)){ke(e)}},over:function(e){if(!ye(i,e)){Os(i,e);ke(e)}},start:function(e){return ks(i,e)},drop:Di(i,Ss),leave:function(e){if(!ye(i,e)){_s(i)}}};var e=o.input.getField();pe(e,"keyup",function(e){return ua.call(i,e)});pe(e,"keydown",Di(i,la));pe(e,"keypress",Di(i,da));pe(e,"focus",function(e){return Xr(i,e)});pe(e,"blur",function(e){return Qr(i,e)})}Ia.defaults=Da,Ia.optionHandlers=Aa;var $a=[];function Ra(e,t,n,r){var i=e.doc,o;if(n==null){n="add"}if(n=="smart"){if(!i.mode.indent){n="prev"}else{o=yt(e,t).state}}var s=e.options.tabSize;var a=Xe(i,t),l=$(a.text,null,s);if(a.stateAfter){a.stateAfter=null}var c=a.text.match(/^\s*/)[0],u;if(!r&&!/\S/.test(a.text)){u=0;n="not"}else if(n=="smart"){u=i.mode.indent(o,a.text.slice(c.length),a.text);if(u==H||u>150){if(!r){return}n="prev"}}if(n=="prev"){if(t>i.first){u=$(Xe(i,t-1).text,null,s)}else{u=0}}else if(n=="add"){u=l+e.options.indentUnit}else if(n=="subtract"){u=l-e.options.indentUnit}else if(typeof n=="number"){u=l+n}u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs){for(var h=Math.floor(u/s);h;--h){f+=s;d+="\t"}}if(f<u){d+=Y(u-f)}if(d!=c){rs(i,d,it(t,0),it(t,c.length),"+input");a.stateAfter=null;return true}else{for(var p=0;p<i.sel.ranges.length;p++){var g=i.sel.ranges[p];if(g.head.line==t&&g.head.ch<c.length){var m=it(t,c.length);Fo(i,p,new io(m,m));break}}}}Ia.defineInitHook=function(e){return $a.push(e)};var za=null;function Va(e){za=e}function Ha(e,t,n,r,i){var o=e.doc;e.display.shift=false;if(!r){r=o.sel}var s=+new Date-200;var a=i=="paste"||e.state.pasteIncoming>s;var l=Me(t),c=null;if(a&&r.ranges.length>1){if(za&&za.text.join("\n")==t){if(r.ranges.length%za.text.length==0){c=[];for(var u=0;u<za.text.length;u++){c.push(o.splitLines(za.text[u]))}}}else if(l.length==r.ranges.length&&e.options.pasteLinesPerSelection){c=X(l,function(e){return[e]})}}var d=e.curOp.updateInput;for(var f=r.ranges.length-1;f>=0;f--){var h=r.ranges[f];var p=h.from(),g=h.to();if(h.empty()){if(n&&n>0){p=it(p.line,p.ch-n)}else if(e.state.overwrite&&!a){g=it(g.line,Math.min(Xe(o,g.line).text.length,g.ch+K(l).length))}else if(a&&za&&za.lineWise&&za.text.join("\n")==t){p=g=it(p.line,0)}}var m={from:p,to:g,text:c?c[f%c.length]:l,origin:i||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};Qo(e.doc,m);Tn(e,"inputRead",e,m)}if(t&&!a){Ua(e,t)}si(e);if(e.curOp.updateInput<2){e.curOp.updateInput=d}e.curOp.typing=true;e.state.pasteIncoming=e.state.cutIncoming=-1}function Ba(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n){e.preventDefault();if(!t.isReadOnly()&&!t.options.disableInput){Pi(t,function(){return Ha(t,n,0,null,"paste")})}return true}}function Ua(e,t){if(!e.options.electricChars||!e.options.smartIndent){return}var n=e.doc.sel;for(var r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line){continue}var o=e.getModeAt(i.head);var s=false;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++){if(t.indexOf(o.electricChars.charAt(a))>-1){s=Ra(e,i.head.line,"smart");break}}}else if(o.electricInput){if(o.electricInput.test(Xe(e.doc,i.head.line).text.slice(0,i.head.ch))){s=Ra(e,i.head.line,"smart")}}if(s){Tn(e,"electricInput",e,i.head.line)}}}function qa(e){var t=[],n=[];for(var r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line;var o={anchor:it(i,0),head:it(i+1,0)};n.push(o);t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Wa(e,t,n,r){e.setAttribute("autocorrect",n?"":"off");e.setAttribute("autocapitalize",r?"":"off");e.setAttribute("spellcheck",!!t)}function Ga(){var e=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var t=D("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(m){e.style.width="1000px"}else{e.setAttribute("wrap","off")}if(u){e.style.border="1px solid black"}Wa(e);return t}function Ya(i){var o=i.optionHandlers;var u=i.helpers={};i.prototype={constructor:i,focus:function(){window.focus();this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];if(n[e]==t&&e!="mode"){return}n[e]=t;if(o.hasOwnProperty(e)){Di(this,o[e])(this,t,r)}ve(this,"optionChange",this,e)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Us(e))},removeKeyMap:function(e){var t=this.state.keyMaps;for(var n=0;n<t.length;++n){if(t[n]==e||t[n].name==e){t.splice(n,1);return true}}},addOverlay:Ai(function(e,t){var n=e.token?e:i.getMode(this.options,e);if(n.startState){throw new Error("Overlays may not be stateful.")}Q(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority});this.state.modeGen++;Ir(this)}),removeOverlay:Ai(function(e){var t=this;var n=this.state.overlays;for(var r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||typeof e=="string"&&i.name==e){n.splice(r,1);t.state.modeGen++;Ir(t);return}}}),indentLine:Ai(function(e,t,n){if(typeof t!="string"&&typeof t!="number"){if(t==null){t=this.options.smartIndent?"smart":"prev"}else{t=t?"add":"subtract"}}if(nt(this.doc,e)){Ra(this,e,t,n)}}),indentSelection:Ai(function(e){var t=this;var n=this.doc.sel.ranges,r=-1;for(var i=0;i<n.length;i++){var o=n[i];if(!o.empty()){var s=o.from(),a=o.to();var l=Math.max(r,s.line);r=Math.min(t.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<r;++c){Ra(t,c,e)}var u=t.doc.sel.ranges;if(s.ch==0&&n.length==u.length&&u[i].from().ch>0){Fo(t.doc,i,new io(s,u[i].to()),B)}}else if(o.head.line>r){Ra(t,o.head.line,e,true);r=o.head.line;if(i==t.doc.sel.primIndex){si(t)}}}}),getTokenAt:function(e,t){return jt(this,e,t)},getLineTokens:function(e,t){return jt(this,it(e),t,true)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t=vt(this,Xe(this.doc,e.line));var n=0,r=(t.length-1)/2,i=e.ch;var o;if(i==0){o=t[2]}else{for(;;){var s=n+r>>1;if((s?t[s*2-1]:0)>=i){r=s}else if(t[s*2+1]<i){n=s+1}else{o=t[s*2+2];break}}}var a=o?o.indexOf("overlay "):-1;return a<0?o:a==0?null:o.slice(0,a-1)},getModeAt:function(e){var t=this.doc.mode;if(!t.innerMode){return t}return i.innerMode(t,this.getTokenAt(e).state).mode},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this;var r=[];if(!u.hasOwnProperty(t)){return r}var i=u[t],o=this.getModeAt(e);if(typeof o[t]=="string"){if(i[o[t]]){r.push(i[o[t]])}}else if(o[t]){for(var s=0;s<o[t].length;s++){var a=i[o[t][s]];if(a){r.push(a)}}}else if(o.helperType&&i[o.helperType]){r.push(i[o.helperType])}else if(i[o.name]){r.push(i[o.name])}for(var l=0;l<i._global.length;l++){var c=i._global[l];if(c.pred(o,n)&&z(r,c.val)==-1){r.push(c.val)}}return r},getStateAfter:function(e,t){var n=this.doc;e=ut(n,e==null?n.first+n.size-1:e);return yt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();if(e==null){n=r.head}else if(typeof e=="object"){n=dt(this.doc,e)}else{n=e?r.from():r.to()}return yr(this,n,t||"page")},charCoords:function(e,t){return vr(this,dt(this.doc,e),t||"page")},coordsChar:function(e,t){e=mr(this,e,t||"page");return xr(this,e.left,e.top)},lineAtHeight:function(e,t){e=mr(this,{top:e,left:0},t||"page").top;return tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r=false,i;if(typeof e=="number"){var o=this.doc.first+this.doc.size-1;if(e<this.doc.first){e=this.doc.first}else if(e>o){e=o;r=true}i=Xe(this.doc,e)}else{i=e}return gr(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-on(i):0)},defaultTextHeight:function(){return Tr(this.display)},defaultCharWidth:function(){return Er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=yr(this,dt(this.doc,e));var s=e.bottom,a=e.left;t.style.position="absolute";t.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(t);o.sizer.appendChild(t);if(r=="over"){s=e.top}else if(r=="above"||r=="near"){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);if((r=="above"||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight){s=e.top-t.offsetHeight}else if(e.bottom+t.offsetHeight<=l){s=e.bottom}if(a+t.offsetWidth>c){a=c-t.offsetWidth}}t.style.top=s+"px";t.style.left=t.style.right="";if(i=="right"){a=o.sizer.clientWidth-t.offsetWidth;t.style.right="0px"}else{if(i=="left"){a=0}else if(i=="middle"){a=(o.sizer.clientWidth-t.offsetWidth)/2}t.style.left=a+"px"}if(n){ri(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})}},triggerOnKeyDown:Ai(la),triggerOnKeyPress:Ai(da),triggerOnKeyUp:ua,triggerOnMouseDown:Ai(va),execCommand:function(e){if(Xs.hasOwnProperty(e)){return Xs[e].call(null,this)}},triggerElectric:Ai(function(e){Ua(this,e)}),findPosH:function(e,t,n,r){var i=this;var o=1;if(t<0){o=-1;t=-t}var s=dt(this.doc,e);for(var a=0;a<t;++a){s=Ka(i.doc,s,o,n,r);if(s.hitSide){break}}return s},moveH:Ai(function(t,n){var r=this;this.extendSelectionsBy(function(e){if(r.display.shift||r.doc.extend||e.empty()){return Ka(r.doc,e.head,t,n,r.options.rtlMoveVisually)}else{return t<0?e.from():e.to()}},q)}),deleteH:Ai(function(n,r){var e=this.doc.sel,i=this.doc;if(e.somethingSelected()){i.replaceSelection("",null,"+delete")}else{qs(this,function(e){var t=Ka(i,e.head,n,r,false);return n<0?{from:t,to:e.head}:{from:e.head,to:t}})}}),findPosV:function(e,t,n,r){var i=this;var o=1,s=r;if(t<0){o=-1;t=-t}var a=dt(this.doc,e);for(var l=0;l<t;++l){var c=yr(i,a,"div");if(s==null){s=c.left}else{c.left=s}a=Xa(i,c,o,n);if(a.hitSide){break}}return a},moveV:Ai(function(r,i){var o=this;var s=this.doc,a=[];var l=!this.display.shift&&!s.extend&&s.sel.somethingSelected();s.extendSelectionsBy(function(e){if(l){return r<0?e.from():e.to()}var t=yr(o,e.head,"div");if(e.goalColumn!=null){t.left=e.goalColumn}a.push(t.left);var n=Xa(o,t,r,i);if(i=="page"&&e==s.sel.primary()){oi(o,vr(o,n,"div").top-t.top)}return n},q);if(a.length){for(var e=0;e<s.sel.ranges.length;e++){s.sel.ranges[e].goalColumn=a[e]}}}),findWordAt:function(e){var t=this.doc,n=Xe(t,e.line).text;var r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");if((e.sticky=="before"||i==n.length)&&r){--r}else{++i}var s=n.charAt(r);var a=ne(s,o)?function(e){return ne(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};while(r>0&&a(n.charAt(r-1))){--r}while(i<n.length&&a(n.charAt(i))){++i}}return new io(it(e.line,r),it(e.line,i))},toggleOverwrite:function(e){if(e!=null&&e==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){M(this.display.cursorDiv,"CodeMirror-overwrite")}else{k(this.display.cursorDiv,"CodeMirror-overwrite")}ve(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==A()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ai(function(e,t){ai(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Gn(this)-this.display.barHeight,width:e.scrollWidth-Gn(this)-this.display.barWidth,clientHeight:Kn(this),clientWidth:Yn(this)}},scrollIntoView:Ai(function(e,t){if(e==null){e={from:this.doc.sel.primary().head,to:null};if(t==null){t=this.options.cursorScrollMargin}}else if(typeof e=="number"){e={from:it(e,0),to:null}}else if(e.from==null){e={from:e,to:null}}if(!e.to){e.to=e.from}e.margin=t||0;if(e.from.line!=null){li(this,e)}else{ui(this,e.from,e.to,e.margin)}}),setSize:Ai(function(e,t){var n=this;var r=function(e){return typeof e=="number"||/^\d+$/.test(String(e))?e+"px":e};if(e!=null){this.display.wrapper.style.width=r(e)}if(t!=null){this.display.wrapper.style.height=r(t)}if(this.options.lineWrapping){ur(this)}var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets){for(var t=0;t<e.widgets.length;t++){if(e.widgets[t].noHScroll){Fr(n,i,"widget");break}}}++i});this.curOp.forceUpdate=true;ve(this,"refresh",this)}),operation:function(e){return Pi(this,e)},startOperation:function(){return Ci(this)},endOperation:function(){return ji(this)},refresh:Ai(function(){var e=this.display.cachedTextHeight;Ir(this);this.curOp.forceUpdate=true;dr(this);ai(this,this.doc.scrollLeft,this.doc.scrollTop);Ui(this.display);if(e==null||Math.abs(e-Tr(this.display))>.5){Mr(this)}ve(this,"refresh",this)}),swapDoc:Ai(function(e){var t=this.doc;t.cm=null;if(this.state.selectingText){this.state.selectingText()}yo(this,e);dr(this);this.display.input.reset();ai(this,e.scrollLeft,e.scrollTop);this.curOp.forceScroll=true;Tn(this,"swapDoc",this,t);return t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};xe(i);i.registerHelper=function(e,t,n){if(!u.hasOwnProperty(e)){u[e]=i[e]={_global:[]}}u[e][t]=n};i.registerGlobalHelper=function(e,t,n,r){i.registerHelper(e,t,r);u[e]._global.push({pred:n,val:r})}}function Ka(n,r,i,e,o){var t=r;var s=i;var a=Xe(n,r.line);function l(){var e=r.line+i;if(e<n.first||e>=n.first+n.size){return false}r=new it(e,r.ch,r.sticky);return a=Xe(n,e)}function c(e){var t;if(o){t=Ks(n.cm,a,r,i)}else{t=Gs(a,r,i)}if(t==null){if(!e&&l()){r=Ys(o,n.cm,a,r.line,i)}else{return false}}else{r=t}return true}if(e=="char"){c()}else if(e=="column"){c(true)}else if(e=="word"||e=="group"){var u=null,d=e=="group";var f=n.cm&&n.cm.getHelper(r,"wordChars");for(var h=true;;h=false){if(i<0&&!c(!h)){break}var p=a.text.charAt(r.ch)||"\n";var g=ne(p,f)?"w":d&&p=="\n"?"n":!d||/\s/.test(p)?null:"p";if(d&&!h&&!g){g="s"}if(u&&u!=g){if(i<0){i=1;c();r.sticky="after"}break}if(g){u=g}if(i>0&&!c(!h)){break}}}var m=Go(n,r,t,s,true);if(st(t,m)){m.hitSide=true}return m}function Xa(e,t,n,r){var i=e.doc,o=t.left,s;if(r=="page"){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var l=Math.max(a-.5*Tr(e.display),3);s=(n>0?t.bottom:t.top)+n*l}else if(r=="line"){s=n>0?t.bottom+3:t.top-3}var c;for(;;){c=xr(e,o,s);if(!c.outside){break}if(n<0?s<=0:s>=i.height){c.hitSide=true;break}s+=n*5}return c}var Qa=function(e){this.cm=e;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new R;this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};function Za(e,t){var n=er(e,t.line);if(!n||n.hidden){return null}var r=Xe(e.doc,t.line);var i=Qn(n,r,t.line);var o=fe(r,e.doc.direction),s="left";if(o){var a=ue(o,t.ch);s=a%2?"right":"left"}var l=or(i.map,t.ch,s);l.offset=l.collapse=="right"?l.end:l.start;return l}function Ja(e){for(var t=e;t;t=t.parentNode){if(/CodeMirror-gutter-wrapper/.test(t.className)){return true}}return false}function el(e,t){if(t){e.bad=true}return e}function tl(a,e,t,l,c){var n="",u=false,d=a.doc.lineSeparator(),f=false;function h(t){return function(e){return e.id==t}}function p(){if(u){n+=d;if(f){n+=d}u=f=false}}function g(e){if(e){p();n+=e}}function m(e){if(e.nodeType==1){var t=e.getAttribute("cm-text");if(t){g(t);return}var n=e.getAttribute("cm-marker"),r;if(n){var i=a.findMarks(it(l,0),it(c+1,0),h(+n));if(i.length&&(r=i[0].find(0))){g(Qe(a.doc,r.from,r.to).join(d))}return}if(e.getAttribute("contenteditable")=="false"){return}var o=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&e.textContent.length==0){return}if(o){p()}for(var s=0;s<e.childNodes.length;s++){m(e.childNodes[s])}if(/^(pre|p)$/i.test(e.nodeName)){f=true}if(o){u=true}}else if(e.nodeType==3){g(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}}for(;;){m(e);if(e==t){break}e=e.nextSibling;f=false}return n}function nl(e,t,n){var r;if(t==e.display.lineDiv){r=e.display.lineDiv.childNodes[n];if(!r){return el(e.clipPos(it(e.display.viewTo-1)),true)}t=null;n=0}else{for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv){return null}if(r.parentNode&&r.parentNode==e.display.lineDiv){break}}}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r){return rl(o,t,n)}}}function rl(c,e,t){var n=c.text.firstChild,r=false;if(!e||!P(n,e)){return el(it(et(c.line),0),true)}if(e==n){r=true;e=n.childNodes[t];t=0;if(!e){var i=c.rest?K(c.rest):c.line;return el(it(et(i),i.text.length),r)}}var o=e.nodeType==3?e:null,s=e;if(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3){o=e.firstChild;if(t){t=o.nodeValue.length}}while(s.parentNode!=n){s=s.parentNode}var u=c.measure,d=u.maps;function a(e,t,n){for(var r=-1;r<(d?d.length:0);r++){var i=r<0?u.map:d[r];for(var o=0;o<i.length;o+=3){var s=i[o+2];if(s==e||s==t){var a=et(r<0?c.line:c.rest[r]);var l=i[o]+n;if(n<0||s!=e){l=i[o+(n?1:0)]}return it(a,l)}}}}var l=a(o,s,t);if(l){return el(l,r)}for(var f=s.nextSibling,h=o?o.nodeValue.length-t:0;f;f=f.nextSibling){l=a(f,f.firstChild,0);if(l){return el(it(l.line,l.ch-h),r)}else{h+=f.textContent.length}}for(var p=s.previousSibling,g=t;p;p=p.previousSibling){l=a(p,p.firstChild,-1);if(l){return el(it(l.line,l.ch+g),r)}else{g+=p.textContent.length}}}Qa.prototype.init=function(e){var t=this;var s=this,a=s.cm;var l=s.div=e.lineDiv;Wa(l,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize);pe(l,"paste",function(e){if(ye(a,e)||Ba(e,a)){return}if(C<=11){setTimeout(Di(a,function(){return t.updateFromDOM()}),20)}});pe(l,"compositionstart",function(e){t.composing={data:e.data,done:false}});pe(l,"compositionupdate",function(e){if(!t.composing){t.composing={data:e.data,done:false}}});pe(l,"compositionend",function(e){if(t.composing){if(e.data!=t.composing.data){t.readFromDOMSoon()}t.composing.done=true}});pe(l,"touchstart",function(){return s.forceCompositionEnd()});pe(l,"input",function(){if(!t.composing){t.readFromDOMSoon()}});function n(e){if(ye(a,e)){return}if(a.somethingSelected()){Va({lineWise:false,text:a.getSelections()});if(e.type=="cut"){a.replaceSelection("",null,"cut")}}else if(!a.options.lineWiseCopyCut){return}else{var t=qa(a);Va({lineWise:true,text:t.text});if(e.type=="cut"){a.operation(function(){a.setSelections(t.ranges,0,B);a.replaceSelection("",null,"cut")})}}if(e.clipboardData){e.clipboardData.clearData();var n=za.text.join("\n");e.clipboardData.setData("Text",n);if(e.clipboardData.getData("Text")==n){e.preventDefault();return}}var r=Ga(),i=r.firstChild;a.display.lineSpace.insertBefore(r,a.display.lineSpace.firstChild);i.value=za.text.join("\n");var o=document.activeElement;N(i);setTimeout(function(){a.display.lineSpace.removeChild(r);o.focus();if(o==l){s.showPrimarySelection()}},50)}pe(l,"copy",n);pe(l,"cut",n)},Qa.prototype.prepareSelection=function(){var e=Br(this.cm,false);e.focus=this.cm.state.focused;return e},Qa.prototype.showSelection=function(e,t){if(!e||!this.cm.display.view.length){return}if(e.focus||t){this.showPrimarySelection()}this.showMultipleSelections(e)},Qa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary();var r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom){e.removeAllRanges();return}var o=nl(t,e.anchorNode,e.anchorOffset);var s=nl(t,e.focusNode,e.focusOffset);if(o&&!o.bad&&s&&!s.bad&&ot(ct(o,s),r)==0&&ot(lt(o,s),i)==0){return}var a=t.display.view;var l=r.line>=t.display.viewFrom&&Za(t,r)||{node:a[0].measure.map[2],offset:0};var c=i.line<t.display.viewTo&&Za(t,i);if(!c){var u=a[a.length-1].measure;var d=u.maps?u.maps[u.maps.length-1]:u.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!l||!c){e.removeAllRanges();return}var f=e.rangeCount&&e.getRangeAt(0),h;try{h=O(l.node,l.offset,c.offset,c.node)}catch(e){}if(h){if(!g&&t.state.focused){e.collapse(l.node,l.offset);if(!h.collapsed){e.removeAllRanges();e.addRange(h)}}else{e.removeAllRanges();e.addRange(h)}if(f&&e.anchorNode==null){e.addRange(f)}else if(g){this.startGracePeriod()}}this.rememberSelection()},Qa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){e.gracePeriod=false;if(e.selectionChanged()){e.cm.operation(function(){return e.cm.curOp.selectionChanged=true})}},20)},Qa.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors);T(this.cm.display.selectionDiv,e.selection)},Qa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode;this.lastAnchorOffset=e.anchorOffset;this.lastFocusNode=e.focusNode;this.lastFocusOffset=e.focusOffset},Qa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount){return false}var t=e.getRangeAt(0).commonAncestorContainer;return P(this.div,t)},Qa.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),true)}this.div.focus()}},Qa.prototype.blur=function(){this.div.blur()},Qa.prototype.getField=function(){return this.div},Qa.prototype.supportsTouch=function(){return true},Qa.prototype.receivedFocus=function(){var e=this;if(this.selectionInEditor()){this.pollSelection()}else{Pi(this.cm,function(){return e.cm.curOp.selectionChanged=true})}function t(){if(e.cm.state.focused){e.pollSelection();e.polling.set(e.cm.options.pollInterval,t)}}this.polling.set(this.cm.options.pollInterval,t)},Qa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Qa.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged()){return}var e=this.getSelection(),t=this.cm;if(d&&s&&this.cm.display.gutterSpecs.length&&Ja(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var n=nl(t,e.anchorNode,e.anchorOffset);var r=nl(t,e.focusNode,e.focusOffset);if(n&&r){Pi(t,function(){Vo(t.doc,so(n,r),B);if(n.bad||r.bad){t.curOp.selectionChanged=true}})}},Qa.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var e=this.cm,t=e.display,n=e.doc.sel.primary();var r=n.from(),i=n.to();if(r.ch==0&&r.line>e.firstLine()){r=it(r.line-1,Xe(e.doc,r.line-1).length)}if(i.ch==Xe(e.doc,i.line).text.length&&i.line<e.lastLine()){i=it(i.line+1,0)}if(r.line<t.viewFrom||i.line>t.viewTo-1){return false}var o,s,a;if(r.line==t.viewFrom||(o=Nr(e,r.line))==0){s=et(t.view[0].line);a=t.view[0].node}else{s=et(t.view[o].line);a=t.view[o-1].node.nextSibling}var l=Nr(e,i.line);var c,u;if(l==t.view.length-1){c=t.viewTo-1;u=t.lineDiv.lastChild}else{c=et(t.view[l+1].line)-1;u=t.view[l+1].node.previousSibling}if(!a){return false}var d=e.doc.splitLines(tl(e,a,u,s,c));var f=Qe(e.doc,it(s,0),it(c,Xe(e.doc,c).text.length));while(d.length>1&&f.length>1){if(K(d)==K(f)){d.pop();f.pop();c--}else if(d[0]==f[0]){d.shift();f.shift();s++}else{break}}var h=0,p=0;var g=d[0],m=f[0],v=Math.min(g.length,m.length);while(h<v&&g.charCodeAt(h)==m.charCodeAt(h)){++h}var y=K(d),b=K(f);var w=Math.min(y.length-(d.length==1?h:0),b.length-(f.length==1?h:0));while(p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1)){++p}if(d.length==1&&f.length==1&&s==r.line){while(h&&h>r.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1)){h--;p++}}d[d.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,"");d[0]=d[0].slice(h).replace(/\u200b+$/,"");var x=it(s,h);var C=it(c,f.length?K(f).length-p:0);if(d.length>1||d[0]||ot(x,C)){rs(e.doc,d,x,C,"+input");return true}},Qa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qa.prototype.reset=function(){this.forceCompositionEnd()},Qa.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()},Qa.prototype.readFromDOMSoon=function(){var e=this;if(this.readDOMTimeout!=null){return}this.readDOMTimeout=setTimeout(function(){e.readDOMTimeout=null;if(e.composing){if(e.composing.done){e.composing=null}else{return}}e.updateFromDOM()},80)},Qa.prototype.updateFromDOM=function(){var e=this;if(this.cm.isReadOnly()||!this.pollContent()){Pi(this.cm,function(){return Ir(e.cm)})}},Qa.prototype.setUneditable=function(e){e.contentEditable="false"},Qa.prototype.onKeyPress=function(e){if(e.charCode==0||this.composing){return}e.preventDefault();if(!this.cm.isReadOnly()){Di(this.cm,Ha)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)}},Qa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Qa.prototype.onContextMenu=function(){},Qa.prototype.resetPosition=function(){},Qa.prototype.needsContentAttribute=true;var il=function(e){this.cm=e;this.prevInput="";this.pollingFast=false;this.polling=new R;this.hasSelection=false;this.composing=null};function ol(t,n){if((n=n?F(n):{}).value=t.value,!n.tabindex&&t.tabIndex)n.tabindex=t.tabIndex;if(!n.placeholder&&t.placeholder)n.placeholder=t.placeholder;if(null==n.autofocus){var e=A();n.autofocus=e==t||null!=t.getAttribute("autofocus")&&e==document.body}function r(){t.value=a.getValue()}var i;if(t.form)if(pe(t.form,"submit",r),!n.leaveSubmitMethodAlone){var o=t.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(me(t.form,"submit",r),n.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var a=Ia(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},n);return a}function sl(e){e.off=me,e.on=pe,e.wheelEventPixels=to,e.Doc=Cs,e.splitLines=Me,e.countColumn=$,e.findColumn=W,e.isWordChar=te,e.Pass=H,e.signal=ve,e.Line=ln,e.changeEnd=ao,e.scrollbarModel=bi,e.Pos=it,e.cmpPos=ot,e.modes=$e,e.mimeModes=Re,e.resolveMode=He,e.getMode=Be,e.modeExtensions=Ue,e.extendMode=qe,e.copyState=We,e.startState=Ye,e.innerMode=Ge,e.commands=Xs,e.keyMap=Fs,e.keyName=Bs,e.isModifierKey=Vs,e.lookupKey=zs,e.normalizeKeyMap=Rs,e.StringStream=Ke,e.SharedTextMarker=ms,e.TextMarker=ps,e.LineWidget=us,e.e_preventDefault=Ce,e.e_stopPropagation=je,e.e_stop=ke,e.addClass=M,e.contains=P,e.rmClass=k,e.keyNames=Ms}il.prototype.init=function(n){var e=this;var r=this,i=this.cm;this.createField(n);var o=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild);if(u){o.style.width="0px"}pe(o,"input",function(){if(x&&C>=9&&e.hasSelection){e.hasSelection=null}r.poll()});pe(o,"paste",function(e){if(ye(i,e)||Ba(e,i)){return}i.state.pasteIncoming=+new Date;r.fastPoll()});function t(e){if(ye(i,e)){return}if(i.somethingSelected()){Va({lineWise:false,text:i.getSelections()})}else if(!i.options.lineWiseCopyCut){return}else{var t=qa(i);Va({lineWise:true,text:t.text});if(e.type=="cut"){i.setSelections(t.ranges,null,B)}else{r.prevInput="";o.value=t.text.join("\n");N(o)}}if(e.type=="cut"){i.state.cutIncoming=+new Date}}pe(o,"cut",t);pe(o,"copy",t);pe(n.scroller,"paste",function(e){if(Bn(n,e)||ye(i,e)){return}if(!o.dispatchEvent){i.state.pasteIncoming=+new Date;r.focus();return}var t=new Event("paste");t.clipboardData=e.clipboardData;o.dispatchEvent(t)});pe(n.lineSpace,"selectstart",function(e){if(!Bn(n,e)){Ce(e)}});pe(o,"compositionstart",function(){var e=i.getCursor("from");if(r.composing){r.composing.range.clear()}r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}});pe(o,"compositionend",function(){if(r.composing){r.poll();r.composing.range.clear();r.composing=null}})},il.prototype.createField=function(e){this.wrapper=Ga();this.textarea=this.wrapper.firstChild},il.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc;var r=Br(e);if(e.options.moveInputWithCursor){var i=yr(e,n.sel.primary().head,"div");var o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top));r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},il.prototype.showSelection=function(e){var t=this.cm,n=t.display;T(n.cursorDiv,e.cursors);T(n.selectionDiv,e.selection);if(e.teTop!=null){this.wrapper.style.top=e.teTop+"px";this.wrapper.style.left=e.teLeft+"px"}},il.prototype.reset=function(e){if(this.contextMenuPending||this.composing){return}var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n;if(t.state.focused){N(this.textarea)}if(x&&C>=9){this.hasSelection=n}}else if(!e){this.prevInput=this.textarea.value="";if(x&&C>=9){this.hasSelection=null}}},il.prototype.getField=function(){return this.textarea},il.prototype.supportsTouch=function(){return false},il.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!f||A()!=this.textarea)){try{this.textarea.focus()}catch(e){}}},il.prototype.blur=function(){this.textarea.blur()},il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},il.prototype.receivedFocus=function(){this.slowPoll()},il.prototype.slowPoll=function(){var e=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){e.poll();if(e.cm.state.focused){e.slowPoll()}})},il.prototype.fastPoll=function(){var t=false,n=this;n.pollingFast=true;function r(){var e=n.poll();if(!e&&!t){t=true;n.polling.set(60,r)}else{n.pollingFast=false;n.slowPoll()}}n.polling.set(20,r)},il.prototype.poll=function(){var e=this;var t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Le(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq){return false}var i=n.value;if(i==r&&!t.somethingSelected()){return false}if(x&&C>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i)){t.display.input.reset();return false}if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(o==8203&&!r){r="â"}if(o==8666){this.reset();return this.cm.execCommand("undo")}}var s=0,a=Math.min(r.length,i.length);while(s<a&&r.charCodeAt(s)==i.charCodeAt(s)){++s}Pi(t,function(){Ha(t,i.slice(s),r.length-s,null,e.composing?"*compose":null);if(i.length>1e3||i.indexOf("\n")>-1){n.value=e.prevInput=""}else{e.prevInput=i}if(e.composing){e.composing.range.clear();e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"})}});return true},il.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}},il.prototype.onKeyPress=function(){if(x&&C>=9){this.hasSelection=null}this.fastPoll()},il.prototype.onContextMenu=function(e){var n=this,r=n.cm,i=r.display,o=n.textarea;if(n.contextMenuPending){n.contextMenuPending()}var t=Lr(r,e),s=i.scroller.scrollTop;if(!t||v){return}var a=r.options.resetSelectionOnContextMenu;if(a&&r.doc.sel.contains(t)==-1){Di(r,Vo)(r.doc,so(t),B)}var l=o.style.cssText,c=n.wrapper.style.cssText;var u=n.wrapper.offsetParent.getBoundingClientRect();n.wrapper.style.cssText="position: static";o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-u.top-5)+"px; left: "+(e.clientX-u.left-5)+"px;\n      z-index: 1000; background: "+(x?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(m){d=window.scrollY}i.input.focus();if(m){window.scrollTo(null,d)}i.input.reset();if(!r.somethingSelected()){o.value=n.prevInput=" "}n.contextMenuPending=h;i.selForContextMenu=r.doc.sel;clearTimeout(i.detectingSelectAll);function f(){if(o.selectionStart!=null){var e=r.somethingSelected();var t="â"+(e?o.value:"");o.value="â";o.value=t;n.prevInput=e?"":"â";o.selectionStart=1;o.selectionEnd=t.length;i.selForContextMenu=r.doc.sel}}function h(){if(n.contextMenuPending!=h){return}n.contextMenuPending=false;n.wrapper.style.cssText=c;o.style.cssText=l;if(x&&C<9){i.scrollbars.setScrollTop(i.scroller.scrollTop=s)}if(o.selectionStart!=null){if(!x||x&&C<9){f()}var e=0,t=function(){if(i.selForContextMenu==r.doc.sel&&o.selectionStart==0&&o.selectionEnd>0&&n.prevInput=="â"){Di(r,Ko)(r)}else if(e++<10){i.detectingSelectAll=setTimeout(t,500)}else{i.selForContextMenu=null;i.input.reset()}};i.detectingSelectAll=setTimeout(t,200)}}if(x&&C>=9){f()}if(j){ke(e);var p=function(){me(window,"mouseup",p);setTimeout(h,20)};pe(window,"mouseup",p)}else{setTimeout(h,50)}},il.prototype.readOnlyChanged=function(e){if(!e){this.reset()}this.textarea.disabled=e=="nocursor"},il.prototype.setUneditable=function(){},il.prototype.needsContentAttribute=false,Ma(Ia),Ya(Ia);var al="iter insert remove copy getEditor constructor".split(" ");for(var ll in Cs.prototype){if(Cs.prototype.hasOwnProperty(ll)&&z(al,ll)<0){Ia.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(Cs.prototype[ll])}}return xe(Cs),Ia.inputStyles={textarea:il,contenteditable:Qa},Ia.defineMode=function(e){Ia.defaults.mode||"null"==e||(Ia.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2));$e[e]=t}.apply(this,arguments)},Ia.defineMIME=function(e,t){Re[e]=t},Ia.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ia.defineMIME("text/plain","null"),Ia.defineExtension=function(e,t){Ia.prototype[e]=t},Ia.defineDocExtension=function(e,t){Cs.prototype[e]=t},Ia.fromTextArea=function(t,n){(n=n?F(n):{}).value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex);!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder);{var e;null==n.autofocus&&(e=A(),n.autofocus=e==t||null!=t.getAttribute("autofocus")&&e==document.body)}function r(){t.value=a.getValue()}var i;if(t.form&&(pe(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(me(t.form,"submit",r),n.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var a=Ia(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},n);return a},function(e){e.off=me,e.on=pe,e.wheelEventPixels=to,e.Doc=Cs,e.splitLines=Me,e.countColumn=$,e.findColumn=W,e.isWordChar=te,e.Pass=H,e.signal=ve,e.Line=ln,e.changeEnd=ao,e.scrollbarModel=bi,e.Pos=it,e.cmpPos=ot,e.modes=$e,e.mimeModes=Re,e.resolveMode=He,e.getMode=Be,e.modeExtensions=Ue,e.extendMode=qe,e.copyState=We,e.startState=Ye,e.innerMode=Ge,e.commands=Xs,e.keyMap=Fs,e.keyName=Bs,e.isModifierKey=Vs,e.lookupKey=zs,e.normalizeKeyMap=Rs,e.StringStream=Ke,e.SharedTextMarker=ms,e.TextMarker=ps,e.LineWidget=us,e.e_preventDefault=Ce,e.e_stopPropagation=je,e.e_stop=ke,e.addClass=M,e.contains=P,e.rmClass=k,e.keyNames=Ms}(Ia),Ia.version="5.49.2",Ia}()},"./node_modules/codemirror/mode/css/css.js":function(e,t,n){!function(D){"use strict";function e(e){var t={};for(var n=0;n<e.length;++n){t[e[n].toLowerCase()]=true}return t}D.defineMode("css",function(e,t){var n=t.inline;if(!t.propertyKeywords)t=D.resolveMode("text/css");var o=e.indentUnit,i=t.tokenHooks,r=t.documentTypes||{},s=t.mediaTypes||{},a=t.mediaFeatures||{},l=t.mediaValueKeywords||{},c=t.propertyKeywords||{},u=t.nonStandardPropertyKeywords||{},d=t.fontProperties||{},f=t.counterDescriptors||{},h=t.colorKeywords||{},p=t.valueKeywords||{},g=t.allowNested,m=t.lineComment,v=t.supportsAtComponent===true;var y,b;function w(e,t){y=t;return e}function x(e,t){var n=e.next();if(i[n]){var r=i[n](e,t);if(r!==false)return r}if(n=="@"){e.eatWhile(/[\w\\\-]/);return w("def",e.current())}else if(n=="="||(n=="~"||n=="|")&&e.eat("=")){return w(null,"compare")}else if(n=='"'||n=="'"){t.tokenize=C(n);return t.tokenize(e,t)}else if(n=="#"){e.eatWhile(/[\w\\\-]/);return w("atom","hash")}else if(n=="!"){e.match(/^\s*\w*/);return w("keyword","important")}else if(/\d/.test(n)||n=="."&&e.eat(/\d/)){e.eatWhile(/[\w.%]/);return w("number","unit")}else if(n==="-"){if(/[\d.]/.test(e.peek())){e.eatWhile(/[\w.%]/);return w("number","unit")}else if(e.match(/^-[\w\\\-]*/)){e.eatWhile(/[\w\\\-]/);if(e.match(/^\s*:/,false))return w("variable-2","variable-definition");return w("variable-2","variable")}else if(e.match(/^\w+-/)){return w("meta","meta")}}else if(/[,+>*\/]/.test(n)){return w(null,"select-op")}else if(n=="."&&e.match(/^-?[_a-z][_a-z0-9-]*/i)){return w("qualifier","qualifier")}else if(/[:;{}\[\]\(\)]/.test(n)){return w(null,n)}else if(e.match(/[\w-.]+(?=\()/)){if(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())){t.tokenize=j}return w("variable callee","variable")}else if(/[\w\\\-]/.test(n)){e.eatWhile(/[\w\\\-]/);return w("property","word")}else{return w(null,null)}}function C(i){return function(e,t){var n=false,r;while((r=e.next())!=null){if(r==i&&!n){if(i==")")e.backUp(1);break}n=!n&&r=="\\"}if(r==i||!n&&i!=")")t.tokenize=null;return w("string","string")}}function j(e,t){e.next();if(!e.match(/\s*[\"\')]/,false))t.tokenize=C(")");else t.tokenize=null;return w(null,"(")}function S(e,t,n){this.type=e;this.indent=t;this.prev=n}function k(e,t,n,r){e.context=new S(n,t.indentation()+(r===false?0:o),e.context);return n}function O(e){if(e.context.prev)e.context=e.context.prev;return e.context.type}function _(e,t,n){return P[n.context.type](e,t,n)}function T(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return _(e,t,n)}function E(e){var t=e.current().toLowerCase();if(p.hasOwnProperty(t))b="atom";else if(h.hasOwnProperty(t))b="keyword";else b="variable"}var P={};P.top=function(e,t,n){if(e=="{"){return k(n,t,"block")}else if(e=="}"&&n.context.prev){return O(n)}else if(v&&/@component/i.test(e)){return k(n,t,"atComponentBlock")}else if(/^@(-moz-)?document$/i.test(e)){return k(n,t,"documentTypes")}else if(/^@(media|supports|(-moz-)?document|import)$/i.test(e)){return k(n,t,"atBlock")}else if(/^@(font-face|counter-style)/i.test(e)){n.stateArg=e;return"restricted_atBlock_before"}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e)){return"keyframes"}else if(e&&e.charAt(0)=="@"){return k(n,t,"at")}else if(e=="hash"){b="builtin"}else if(e=="word"){b="tag"}else if(e=="variable-definition"){return"maybeprop"}else if(e=="interpolation"){return k(n,t,"interpolation")}else if(e==":"){return"pseudo"}else if(g&&e=="("){return k(n,t,"parens")}return n.context.type};P.block=function(e,t,n){if(e=="word"){var r=t.current().toLowerCase();if(c.hasOwnProperty(r)){b="property";return"maybeprop"}else if(u.hasOwnProperty(r)){b="string-2";return"maybeprop"}else if(g){b=t.match(/^\s*:(?:\s|$)/,false)?"property":"tag";return"block"}else{b+=" error";return"maybeprop"}}else if(e=="meta"){return"block"}else if(!g&&(e=="hash"||e=="qualifier")){b="error";return"block"}else{return P.top(e,t,n)}};P.maybeprop=function(e,t,n){if(e==":")return k(n,t,"prop");return _(e,t,n)};P.prop=function(e,t,n){if(e==";")return O(n);if(e=="{"&&g)return k(n,t,"propBlock");if(e=="}"||e=="{")return T(e,t,n);if(e=="(")return k(n,t,"parens");if(e=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){b+=" error"}else if(e=="word"){E(t)}else if(e=="interpolation"){return k(n,t,"interpolation")}return"prop"};P.propBlock=function(e,t,n){if(e=="}")return O(n);if(e=="word"){b="property";return"maybeprop"}return n.context.type};P.parens=function(e,t,n){if(e=="{"||e=="}")return T(e,t,n);if(e==")")return O(n);if(e=="(")return k(n,t,"parens");if(e=="interpolation")return k(n,t,"interpolation");if(e=="word")E(t);return"parens"};P.pseudo=function(e,t,n){if(e=="meta")return"pseudo";if(e=="word"){b="variable-3";return n.context.type}return _(e,t,n)};P.documentTypes=function(e,t,n){if(e=="word"&&r.hasOwnProperty(t.current())){b="tag";return n.context.type}else{return P.atBlock(e,t,n)}};P.atBlock=function(e,t,n){if(e=="(")return k(n,t,"atBlock_parens");if(e=="}"||e==";")return T(e,t,n);if(e=="{")return O(n)&&k(n,t,g?"block":"top");if(e=="interpolation")return k(n,t,"interpolation");if(e=="word"){var r=t.current().toLowerCase();if(r=="only"||r=="not"||r=="and"||r=="or")b="keyword";else if(s.hasOwnProperty(r))b="attribute";else if(a.hasOwnProperty(r))b="property";else if(l.hasOwnProperty(r))b="keyword";else if(c.hasOwnProperty(r))b="property";else if(u.hasOwnProperty(r))b="string-2";else if(p.hasOwnProperty(r))b="atom";else if(h.hasOwnProperty(r))b="keyword";else b="error"}return n.context.type};P.atComponentBlock=function(e,t,n){if(e=="}")return T(e,t,n);if(e=="{")return O(n)&&k(n,t,g?"block":"top",false);if(e=="word")b="error";return n.context.type};P.atBlock_parens=function(e,t,n){if(e==")")return O(n);if(e=="{"||e=="}")return T(e,t,n,2);return P.atBlock(e,t,n)};P.restricted_atBlock_before=function(e,t,n){if(e=="{")return k(n,t,"restricted_atBlock");if(e=="word"&&n.stateArg=="@counter-style"){b="variable";return"restricted_atBlock_before"}return _(e,t,n)};P.restricted_atBlock=function(e,t,n){if(e=="}"){n.stateArg=null;return O(n)}if(e=="word"){if(n.stateArg=="@font-face"&&!d.hasOwnProperty(t.current().toLowerCase())||n.stateArg=="@counter-style"&&!f.hasOwnProperty(t.current().toLowerCase()))b="error";else b="property";return"maybeprop"}return"restricted_atBlock"};P.keyframes=function(e,t,n){if(e=="word"){b="variable";return"keyframes"}if(e=="{")return k(n,t,"top");return _(e,t,n)};P.at=function(e,t,n){if(e==";")return O(n);if(e=="{"||e=="}")return T(e,t,n);if(e=="word")b="tag";else if(e=="hash")b="builtin";return"at"};P.interpolation=function(e,t,n){if(e=="}")return O(n);if(e=="{"||e==";")return T(e,t,n);if(e=="word")b="variable";else if(e!="variable"&&e!="("&&e!=")")b="error";return"interpolation"};return{startState:function(e){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new S(n?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||x)(e,t);if(n&&typeof n=="object"){y=n[1];n=n[0]}b=n;if(y!="comment")t.state=P[t.state](y,e,t);return b},indent:function(e,t){var n=e.context,r=t&&t.charAt(0);var i=n.indent;if(n.type=="prop"&&(r=="}"||r==")"))n=n.prev;if(n.prev){if(r=="}"&&(n.type=="block"||n.type=="top"||n.type=="interpolation"||n.type=="restricted_atBlock")){n=n.prev;i=n.indent}else if(r==")"&&(n.type=="parens"||n.type=="atBlock_parens")||r=="{"&&(n.type=="at"||n.type=="atBlock")){i=Math.max(0,n.indent-o)}}return i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:m,fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=e(t),r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=e(r),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=e(o),a=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],l=e(a),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=e(c),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=e(d),h,p=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g,m=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),v=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],y=e(v),b=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=e(b),x=t.concat(r).concat(o).concat(a).concat(c).concat(d).concat(v).concat(b);function C(e,t){var n=false,r;while((r=e.next())!=null){if(n&&r=="/"){t.tokenize=null;break}n=r=="*"}return["comment","comment"]}D.registerHelper("hintWords","css",x),D.defineMIME("text/css",{documentTypes:n,mediaTypes:i,mediaFeatures:s,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:m,colorKeywords:y,valueKeywords:w,tokenHooks:{"/":function(e,t){if(!e.eat("*"))return false;t.tokenize=C;return C(e,t)}},name:"css"}),D.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:y,valueKeywords:w,fontProperties:p,allowNested:true,lineComment:"//",tokenHooks:{"/":function(e,t){if(e.eat("/")){e.skipToEnd();return["comment","comment"]}else if(e.eat("*")){t.tokenize=C;return C(e,t)}else{return["operator","operator"]}},":":function(e){if(e.match(/\s*\{/,false))return[null,null];return false},$:function(e){e.match(/^[\w-]+/);if(e.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"#":function(e){if(!e.eat("{"))return false;return[null,"interpolation"]}},name:"css",helperType:"scss"}),D.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:y,valueKeywords:w,fontProperties:p,allowNested:true,lineComment:"//",tokenHooks:{"/":function(e,t){if(e.eat("/")){e.skipToEnd();return["comment","comment"]}else if(e.eat("*")){t.tokenize=C;return C(e,t)}else{return["operator","operator"]}},"@":function(e){if(e.eat("{"))return[null,"interpolation"];if(e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,false))return false;e.eatWhile(/[\w\\\-]/);if(e.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),D.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:i,mediaFeatures:s,propertyKeywords:u,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:m,colorKeywords:y,valueKeywords:w,supportsAtComponent:true,tokenHooks:{"/":function(e,t){if(!e.eat("*"))return false;t.tokenize=C;return C(e,t)}},name:"css",helperType:"gss"})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/codemirror/mode/htmlmixed/htmlmixed.js":function(e,t,n){!function(p){"use strict";var i={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function g(e,t,n){var r=e.current(),i=r.search(t);if(i>-1){e.backUp(r.length-i)}else if(r.match(/<\/?$/)){e.backUp(r.length);if(!e.match(t,false))e.match(r)}return n}var n={};function r(e){var t=n[e];if(t)return t;return n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function o(e,t){var n=e.match(r(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function m(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var n in e){var r=t[n]||(t[n]=[]);var i=e[n];for(var o=i.length-1;o>=0;o--)r.unshift(i[o])}}function v(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(o(t,r[0])))return r[2]}}p.defineMode("htmlmixed",function(u,e){var d=p.getMode(u,{name:"xml",htmlMode:true,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag});var f={};var t=e&&e.tags,n=e&&e.scriptTypes;s(i,f);if(t)s(t,f);if(n)for(var r=n.length-1;r>=0;r--)f.script.unshift(["type",n[r].matches,n[r].mode]);function h(e,t){var n=d.token(e,t.htmlState),r=/\btag\b/.test(n),i;if(r&&!/[<>\s\/]/.test(e.current())&&(i=t.htmlState.tagName&&t.htmlState.tagName.toLowerCase())&&f.hasOwnProperty(i)){t.inTag=i+" "}else if(t.inTag&&r&&/>$/.test(e.current())){var o=/^([\S]+) (.*)/.exec(t.inTag);t.inTag=null;var s=e.current()==">"&&v(f[o[1]],o[2]);var a=p.getMode(u,s);var l=m(o[1],true),c=m(o[1],false);t.token=function(e,t){if(e.match(l,false)){t.token=h;t.localState=t.localMode=null;return null}return g(e,c,t.localMode.token(e,t.localState))};t.localMode=a;t.localState=p.startState(a,d.indent(t.htmlState,"",""))}else if(t.inTag){t.inTag+=e.current();if(e.eol())t.inTag+=" "}return n}return{startState:function(){var e=p.startState(d);return{token:h,inTag:null,localMode:null,localState:null,htmlState:e}},copyState:function(e){var t;if(e.localState){t=p.copyState(e.localMode,e.localState)}return{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:t,htmlState:p.copyState(d,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t,n){if(!e.localMode||/^\s*<\//.test(t))return d.indent(e.htmlState,t,n);else if(e.localMode.indent)return e.localMode.indent(e.localState,t,n);else return p.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||d}}}},"xml","javascript","css"),p.defineMIME("text/html","htmlmixed")}(n("./node_modules/codemirror/lib/codemirror.js"),(n("./node_modules/codemirror/mode/xml/xml.js"),n("./node_modules/codemirror/mode/javascript/javascript.js"),n("./node_modules/codemirror/mode/css/css.js")))},"./node_modules/codemirror/mode/javascript/javascript.js":function(e,t,n){!function(et){"use strict";et.defineMode("javascript",function(e,c){var u=e.indentUnit;var d=c.statementIndent;var o=c.jsonld;var a=c.json||o;var f=c.typescript;var h=c.wordCharacters||/[\w$\xa1-\uffff]/;var s=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d");var o=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}();var l=/[+\-*&%=<>!?|~^@]/;var p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(e){var t=false,n,r=false;while((n=e.next())!=null){if(!t){if(n=="/"&&!r)return;if(n=="[")r=true;else if(r&&n=="]")r=false}t=!t&&n=="\\"}}var r,i;function m(e,t,n){r=e;i=n;return t}function v(e,t){var n=e.next();if(n=='"'||n=="'"){t.tokenize=y(n);return t.tokenize(e,t)}else if(n=="."&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)){return m("number","number")}else if(n=="."&&e.match("..")){return m("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(n)){return m(n)}else if(n=="="&&e.eat(">")){return m("=>","operator")}else if(n=="0"&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)){return m("number","number")}else if(/\d/.test(n)){e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/);return m("number","number")}else if(n=="/"){if(e.eat("*")){t.tokenize=b;return b(e,t)}else if(e.eat("/")){e.skipToEnd();return m("comment","comment")}else if(Je(e,t,1)){g(e);e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return m("regexp","string-2")}else{e.eat("=");return m("operator","operator",e.current())}}else if(n=="`"){t.tokenize=w;return w(e,t)}else if(n=="#"){e.skipToEnd();return m("error","error")}else if(n=="<"&&e.match("!--")||n=="-"&&e.match("->")){e.skipToEnd();return m("comment","comment")}else if(l.test(n)){if(n!=">"||!t.lexical||t.lexical.type!=">"){if(e.eat("=")){if(n=="!"||n=="=")e.eat("=")}else if(/[<>*+\-]/.test(n)){e.eat(n);if(n==">")e.eat(n)}}return m("operator","operator",e.current())}else if(h.test(n)){e.eatWhile(h);var r=e.current();if(t.lastType!="."){if(s.propertyIsEnumerable(r)){var i=s[r];return m(i.type,i.style,r)}if(r=="async"&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,false))return m("async","keyword",r)}return m("variable","variable",r)}}function y(i){return function(e,t){var n=false,r;if(o&&e.peek()=="@"&&e.match(p)){t.tokenize=v;return m("jsonld-keyword","meta")}while((r=e.next())!=null){if(r==i&&!n)break;n=!n&&r=="\\"}if(!n)t.tokenize=v;return m("string","string")}}function b(e,t){var n=false,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=v;break}n=r=="*"}return m("comment","comment")}function w(e,t){var n=false,r;while((r=e.next())!=null){if(!n&&(r=="`"||r=="$"&&e.eat("{"))){t.tokenize=v;break}n=!n&&r=="\\"}return m("quasi","string-2",e.current())}var x="([{}])";function C(e,t){if(t.fatArrowAt)t.fatArrowAt=null;var n=e.string.indexOf("=>",e.start);if(n<0)return;if(f){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));if(r)n=r.index}var i=0,o=false;for(var s=n-1;s>=0;--s){var a=e.string.charAt(s);var l=x.indexOf(a);if(l>=0&&l<3){if(!i){++s;break}if(--i==0){if(a=="(")o=true;break}}else if(l>=3&&l<6){++i}else if(h.test(a)){o=true}else if(/["'\/`]/.test(a)){for(;;--s){if(s==0)return;var c=e.string.charAt(s-1);if(c==a&&e.string.charAt(s-2)!="\\"){s--;break}}}else if(o&&!i){++s;break}}if(o&&!i)t.fatArrowAt=s}var j={atom:true,number:true,variable:true,string:true,regexp:true,this:true,"jsonld-keyword":true};function S(e,t,n,r,i,o){this.indented=e;this.column=t;this.type=n;this.prev=i;this.info=o;if(r!=null)this.align=r}function k(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return true;for(var r=e.context;r;r=r.prev){for(var n=r.vars;n;n=n.next)if(n.name==t)return true}}function O(e,t,n,r,i){var o=e.cc;_.state=e;_.stream=i;_.marked=null,_.cc=o;_.style=t;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var s=o.length?o.pop():a?B:V;if(s(n,r)){while(o.length&&o[o.length-1].lex)o.pop()();if(_.marked)return _.marked;if(n=="variable"&&k(e,r))return"variable-2";return t}}}var _={state:null,column:null,marked:null,cc:null};function T(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function E(){T.apply(null,arguments);return true}function P(e,t){for(var n=t;n;n=n.next)if(n.name==e)return true;return false}function n(e){var t=_.state;_.marked="def";if(t.context){if(t.lexical.info=="var"&&t.context&&t.context.block){var n=D(e,t.context);if(n!=null){t.context=n;return}}else if(!P(e,t.localVars)){t.localVars=new L(e,t.localVars);return}}if(c.globalVars&&!P(e,t.globalVars))t.globalVars=new L(e,t.globalVars)}function D(e,t){if(!t){return null}else if(t.block){var n=D(e,t.prev);if(!n)return null;if(n==t.prev)return t;return new M(n,t.vars,true)}else if(P(e,t.vars)){return t}else{return new M(t.prev,new L(e,t.vars),false)}}function A(e){return e=="public"||e=="private"||e=="protected"||e=="abstract"||e=="readonly"}function M(e,t,n){this.prev=e;this.vars=t;this.block=n}function L(e,t){this.name=e;this.next=t}var t=new L("this",new L("arguments",null));function N(){_.state.context=new M(_.state.context,_.state.localVars,false);_.state.localVars=t}function I(){_.state.context=new M(_.state.context,_.state.localVars,true);_.state.localVars=null}function F(){_.state.localVars=_.state.context.vars;_.state.context=_.state.context.prev}F.lex=true;function $(r,i){var e=function(){var e=_.state,t=e.indented;if(e.lexical.type=="stat")t=e.lexical.indented;else for(var n=e.lexical;n&&n.type==")"&&n.align;n=n.prev)t=n.indented;e.lexical=new S(t,_.stream.column(),r,null,e.lexical,i)};e.lex=true;return e}function R(){var e=_.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}R.lex=true;function z(t){function n(e){if(e==t)return E();else if(t==";"||e=="}"||e==")"||e=="]")return T();else return E(n)}return n}function V(e,t){if(e=="var")return E($("vardef",t),je,z(";"),R);if(e=="keyword a")return E($("form"),q,V,R);if(e=="keyword b")return E($("form"),V,R);if(e=="keyword d")return _.stream.match(/^\s*$/,false)?E():E($("stat"),G,z(";"),R);if(e=="debugger")return E(z(";"));if(e=="{")return E($("}"),I,ue,R,F);if(e==";")return E();if(e=="if"){if(_.state.lexical.info=="else"&&_.state.cc[_.state.cc.length-1]==R)_.state.cc.pop()();return E($("form"),q,V,R,Ee)}if(e=="function")return E(Me);if(e=="for")return E($("form"),Pe,V,R);if(e=="class"||f&&t=="interface"){_.marked="keyword";return E($("form",e=="class"?e:t),$e,R)}if(e=="variable"){if(f&&t=="declare"){_.marked="keyword";return E(V)}else if(f&&(t=="module"||t=="enum"||t=="type")&&_.stream.match(/^\s*\w/,false)){_.marked="keyword";if(t=="enum")return E(Xe);else if(t=="type")return E(Ne,z("operator"),ge,z(";"));else return E($("form"),Se,z("{"),$("}"),ue,R,R)}else if(f&&t=="namespace"){_.marked="keyword";return E($("form"),B,V,R)}else if(f&&t=="abstract"){_.marked="keyword";return E(V)}else{return E($("stat"),re)}}if(e=="switch")return E($("form"),q,z("{"),$("}","switch"),I,ue,R,R,F);if(e=="case")return E(B,z(":"));if(e=="default")return E(z(":"));if(e=="catch")return E($("form"),N,H,V,R,F);if(e=="export")return E($("stat"),He,R);if(e=="import")return E($("stat"),Ue,R);if(e=="async")return E(V);if(t=="@")return E(B,V);return T($("stat"),B,z(";"),R)}function H(e){if(e=="(")return E(Ie,z(")"))}function B(e,t){return W(e,t,false)}function U(e,t){return W(e,t,true)}function q(e){if(e!="(")return T();return E($(")"),B,z(")"),R)}function W(e,t,n){if(_.state.fatArrowAt==_.stream.start){var r=n?J:Z;if(e=="(")return E(N,$(")"),le(Ie,")"),R,z("=>"),r,F);else if(e=="variable")return T(N,Se,z("=>"),r,F)}var i=n?K:Y;if(j.hasOwnProperty(e))return E(i);if(e=="function")return E(Me,i);if(e=="class"||f&&t=="interface"){_.marked="keyword";return E($("form"),Fe,R)}if(e=="keyword c"||e=="async")return E(n?U:B);if(e=="(")return E($(")"),G,z(")"),R,i);if(e=="operator"||e=="spread")return E(n?U:B);if(e=="[")return E($("]"),Ke,R,i);if(e=="{")return ce(oe,"}",null,i);if(e=="quasi")return T(X,i);if(e=="new")return E(ee(n));if(e=="import")return E(B);return E()}function G(e){if(e.match(/[;\}\)\],]/))return T();return T(B)}function Y(e,t){if(e==",")return E(B);return K(e,t,false)}function K(e,t,n){var r=n==false?Y:K;var i=n==false?B:U;if(e=="=>")return E(N,n?J:Z,F);if(e=="operator"){if(/\+\+|--/.test(t)||f&&t=="!")return E(r);if(f&&t=="<"&&_.stream.match(/^([^>]|<.*?>)*>\s*\(/,false))return E($(">"),le(ge,">"),R,r);if(t=="?")return E(B,z(":"),i);return E(i)}if(e=="quasi"){return T(X,r)}if(e==";")return;if(e=="(")return ce(U,")","call",r);if(e==".")return E(ie,r);if(e=="[")return E($("]"),G,z("]"),R,r);if(f&&t=="as"){_.marked="keyword";return E(ge,r)}if(e=="regexp"){_.state.lastType=_.marked="operator";_.stream.backUp(_.stream.pos-_.stream.start-1);return E(i)}}function X(e,t){if(e!="quasi")return T();if(t.slice(t.length-2)!="${")return E(X);return E(B,Q)}function Q(e){if(e=="}"){_.marked="string-2";_.state.tokenize=w;return E(X)}}function Z(e){C(_.stream,_.state);return T(e=="{"?V:B)}function J(e){C(_.stream,_.state);return T(e=="{"?V:U)}function ee(t){return function(e){if(e==".")return E(t?ne:te);else if(e=="variable"&&f)return E(we,t?K:Y);else return T(t?U:B)}}function te(e,t){if(t=="target"){_.marked="keyword";return E(Y)}}function ne(e,t){if(t=="target"){_.marked="keyword";return E(K)}}function re(e){if(e==":")return E(R,V);return T(Y,z(";"),R)}function ie(e){if(e=="variable"){_.marked="property";return E()}}function oe(e,t){if(e=="async"){_.marked="property";return E(oe)}else if(e=="variable"||_.style=="keyword"){_.marked="property";if(t=="get"||t=="set")return E(se);var n;if(f&&_.state.fatArrowAt==_.stream.start&&(n=_.stream.match(/^\s*:\s*/,false)))_.state.fatArrowAt=_.stream.pos+n[0].length;return E(ae)}else if(e=="number"||e=="string"){_.marked=o?"property":_.style+" property";return E(ae)}else if(e=="jsonld-keyword"){return E(ae)}else if(f&&A(t)){_.marked="keyword";return E(oe)}else if(e=="["){return E(B,de,z("]"),ae)}else if(e=="spread"){return E(U,ae)}else if(t=="*"){_.marked="keyword";return E(oe)}else if(e==":"){return T(ae)}}function se(e){if(e!="variable")return T(ae);_.marked="property";return E(Me)}function ae(e){if(e==":")return E(U);if(e=="(")return T(Me)}function le(r,i,o){function s(e,t){if(o?o.indexOf(e)>-1:e==","){var n=_.state.lexical;if(n.info=="call")n.pos=(n.pos||0)+1;return E(function(e,t){if(e==i||t==i)return T();return T(r)},s)}if(e==i||t==i)return E();if(o&&o.indexOf(";")>-1)return T(r);return E(z(i))}return function(e,t){if(e==i||t==i)return E();return T(r,s)}}function ce(e,t,n){for(var r=3;r<arguments.length;r++)_.cc.push(arguments[r]);return E($(t,n),le(e,t),R)}function ue(e){if(e=="}")return E();return T(V,ue)}function de(e,t){if(f){if(e==":")return E(ge);if(t=="?")return E(de)}}function fe(e,t){if(f&&(e==":"||t=="in"))return E(ge)}function he(e){if(f&&e==":"){if(_.stream.match(/^\s*\w+\s+is\b/,false))return E(B,pe,ge);else return E(ge)}}function pe(e,t){if(t=="is"){_.marked="keyword";return E()}}function ge(e,t){if(t=="keyof"||t=="typeof"||t=="infer"){_.marked="keyword";return E(t=="typeof"?U:ge)}if(e=="variable"||t=="void"){_.marked="type";return E(be)}if(t=="|"||t=="&")return E(ge);if(e=="string"||e=="number"||e=="atom")return E(be);if(e=="[")return E($("]"),le(ge,"]",","),R,be);if(e=="{")return E($("}"),le(ve,"}",",;"),R,be);if(e=="(")return E(le(ye,")"),me,be);if(e=="<")return E(le(ge,">"),ge)}function me(e){if(e=="=>")return E(ge)}function ve(e,t){if(e=="variable"||_.style=="keyword"){_.marked="property";return E(ve)}else if(t=="?"||e=="number"||e=="string"){return E(ve)}else if(e==":"){return E(ge)}else if(e=="["){return E(z("variable"),fe,z("]"),ve)}else if(e=="("){return T(Le,ve)}}function ye(e,t){if(e=="variable"&&_.stream.match(/^\s*[?:]/,false)||t=="?")return E(ye);if(e==":")return E(ge);if(e=="spread")return E(ye);return T(ge)}function be(e,t){if(t=="<")return E($(">"),le(ge,">"),R,be);if(t=="|"||e=="."||t=="&")return E(ge);if(e=="[")return E(ge,z("]"),be);if(t=="extends"||t=="implements"){_.marked="keyword";return E(ge)}if(t=="?")return E(ge,z(":"),ge)}function we(e,t){if(t=="<")return E($(">"),le(ge,">"),R,be)}function xe(){return T(ge,Ce)}function Ce(e,t){if(t=="=")return E(ge)}function je(e,t){if(t=="enum"){_.marked="keyword";return E(Xe)}return T(Se,de,_e,Te)}function Se(e,t){if(f&&A(t)){_.marked="keyword";return E(Se)}if(e=="variable"){n(t);return E()}if(e=="spread")return E(Se);if(e=="[")return ce(Oe,"]");if(e=="{")return ce(ke,"}")}function ke(e,t){if(e=="variable"&&!_.stream.match(/^\s*:/,false)){n(t);return E(_e)}if(e=="variable")_.marked="property";if(e=="spread")return E(Se);if(e=="}")return T();if(e=="[")return E(B,z("]"),z(":"),ke);return E(z(":"),Se,_e)}function Oe(){return T(Se,_e)}function _e(e,t){if(t=="=")return E(U)}function Te(e){if(e==",")return E(je)}function Ee(e,t){if(e=="keyword b"&&t=="else")return E($("form","else"),V,R)}function Pe(e,t){if(t=="await")return E(Pe);if(e=="(")return E($(")"),De,R)}function De(e){if(e=="var")return E(je,Ae);if(e=="variable")return E(Ae);return T(Ae)}function Ae(e,t){if(e==")")return E();if(e==";")return E(Ae);if(t=="in"||t=="of"){_.marked="keyword";return E(B,Ae)}return T(B,Ae)}function Me(e,t){if(t=="*"){_.marked="keyword";return E(Me)}if(e=="variable"){n(t);return E(Me)}if(e=="(")return E(N,$(")"),le(Ie,")"),R,he,V,F);if(f&&t=="<")return E($(">"),le(xe,">"),R,Me)}function Le(e,t){if(t=="*"){_.marked="keyword";return E(Le)}if(e=="variable"){n(t);return E(Le)}if(e=="(")return E(N,$(")"),le(Ie,")"),R,he,F);if(f&&t=="<")return E($(">"),le(xe,">"),R,Le)}function Ne(e,t){if(e=="keyword"||e=="variable"){_.marked="type";return E(Ne)}else if(t=="<"){return E($(">"),le(xe,">"),R)}}function Ie(e,t){if(t=="@")E(B,Ie);if(e=="spread")return E(Ie);if(f&&A(t)){_.marked="keyword";return E(Ie)}if(f&&e=="this")return E(de,_e);return T(Se,de,_e)}function Fe(e,t){if(e=="variable")return $e(e,t);return Re(e,t)}function $e(e,t){if(e=="variable"){n(t);return E(Re)}}function Re(e,t){if(t=="<")return E($(">"),le(xe,">"),R,Re);if(t=="extends"||t=="implements"||f&&e==","){if(t=="implements")_.marked="keyword";return E(f?ge:B,Re)}if(e=="{")return E($("}"),ze,R)}function ze(e,t){if(e=="async"||e=="variable"&&(t=="static"||t=="get"||t=="set"||f&&A(t))&&_.stream.match(/^\s+[\w$\xa1-\uffff]/,false)){_.marked="keyword";return E(ze)}if(e=="variable"||_.style=="keyword"){_.marked="property";return E(f?Ve:Me,ze)}if(e=="number"||e=="string")return E(f?Ve:Me,ze);if(e=="[")return E(B,de,z("]"),f?Ve:Me,ze);if(t=="*"){_.marked="keyword";return E(ze)}if(f&&e=="(")return T(Le,ze);if(e==";"||e==",")return E(ze);if(e=="}")return E();if(t=="@")return E(B,ze)}function Ve(e,t){if(t=="?")return E(Ve);if(e==":")return E(ge,_e);if(t=="=")return E(U);var n=_.state.lexical.prev,r=n&&n.info=="interface";return T(r?Le:Me)}function He(e,t){if(t=="*"){_.marked="keyword";return E(Ye,z(";"))}if(t=="default"){_.marked="keyword";return E(B,z(";"))}if(e=="{")return E(le(Be,"}"),Ye,z(";"));return T(V)}function Be(e,t){if(t=="as"){_.marked="keyword";return E(z("variable"))}if(e=="variable")return T(U,Be)}function Ue(e){if(e=="string")return E();if(e=="(")return T(B);return T(qe,We,Ye)}function qe(e,t){if(e=="{")return ce(qe,"}");if(e=="variable")n(t);if(t=="*")_.marked="keyword";return E(Ge)}function We(e){if(e==",")return E(qe,We)}function Ge(e,t){if(t=="as"){_.marked="keyword";return E(qe)}}function Ye(e,t){if(t=="from"){_.marked="keyword";return E(B)}}function Ke(e){if(e=="]")return E();return T(le(U,"]"))}function Xe(){return T($("form"),Se,z("{"),$("}"),le(Qe,"}"),R,R)}function Qe(){return T(Se,_e)}function Ze(e,t){return e.lastType=="operator"||e.lastType==","||l.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Je(e,t,n){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||t.lastType=="quasi"&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new S((e||0)-u,0,"block",false),localVars:c.localVars,context:c.localVars&&new M(null,null,false),indented:e||0};if(c.globalVars&&typeof c.globalVars=="object")t.globalVars=c.globalVars;return t},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation();C(e,t)}if(t.tokenize!=b&&e.eatSpace())return null;var n=t.tokenize(e,t);if(r=="comment")return n;t.lastType=r=="operator"&&(i=="++"||i=="--")?"incdec":r;return O(t,n,r,i,e)},indent:function(e,t){if(e.tokenize==b)return et.Pass;if(e.tokenize!=v)return 0;var n=t&&t.charAt(0),r=e.lexical,i;if(!/^\s*else\b/.test(t))for(var o=e.cc.length-1;o>=0;--o){var s=e.cc[o];if(s==R)r=r.prev;else if(s!=Ee)break}while((r.type=="stat"||r.type=="form")&&(n=="}"||(i=e.cc[e.cc.length-1])&&(i==Y||i==K)&&!/^[,\.=+\-*:?[\(]/.test(t)))r=r.prev;if(d&&r.type==")"&&r.prev.type=="stat")r=r.prev;var a=r.type,l=n==a;if(a=="vardef")return r.indented+(e.lastType=="operator"||e.lastType==","?r.info.length+1:0);else if(a=="form"&&n=="{")return r.indented;else if(a=="form")return r.indented+u;else if(a=="stat")return r.indented+(Ze(e,t)?d||u:0);else if(r.info=="switch"&&!l&&c.doubleIndentSwitch!=false)return r.indented+(/^(?:case|default)\b/.test(t)?u:2*u);else if(r.align)return r.column+(l?0:1);else return r.indented+(l?0:u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a,expressionAllowed:Je,skipExpression:function(e){var t=e.cc[e.cc.length-1];if(t==B||t==U)e.cc.pop()}}}),et.registerHelper("wordChars","javascript",/[\w$]/),et.defineMIME("text/javascript","javascript"),et.defineMIME("text/ecmascript","javascript"),et.defineMIME("application/javascript","javascript"),et.defineMIME("application/x-javascript","javascript"),et.defineMIME("application/ecmascript","javascript"),et.defineMIME("application/json",{name:"javascript",json:true}),et.defineMIME("application/x-json",{name:"javascript",json:true}),et.defineMIME("application/ld+json",{name:"javascript",jsonld:true}),et.defineMIME("text/typescript",{name:"javascript",typescript:true}),et.defineMIME("application/typescript",{name:"javascript",typescript:true})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/codemirror/mode/xml/xml.js":function(e,t,n){!function(k){"use strict";var O={autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true},_={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,allowMissingTagName:false,caseFold:false};if(k.defineMode("xml",function(e,t){var s=e.indentUnit;var a={};var n=t.htmlMode?O:_;for(var r in n)a[r]=n[r];for(var r in t)a[r]=t[r];var o,l;function c(t,n){function e(e){n.tokenize=e;return e(t,n)}var r=t.next();if(r=="<"){if(t.eat("!")){if(t.eat("[")){if(t.match("CDATA["))return e(d("atom","]]>"));else return null}else if(t.match("--")){return e(d("comment","--\x3e"))}else if(t.match("DOCTYPE",true,true)){t.eatWhile(/[\w\._\-]/);return e(f(1))}else{return null}}else if(t.eat("?")){t.eatWhile(/[\w\._\-]/);n.tokenize=d("meta","?>");return"meta"}else{o=t.eat("/")?"closeTag":"openTag";n.tokenize=u;return"tag bracket"}}else if(r=="&"){var i;if(t.eat("#")){if(t.eat("x")){i=t.eatWhile(/[a-fA-F\d]/)&&t.eat(";")}else{i=t.eatWhile(/[\d]/)&&t.eat(";")}}else{i=t.eatWhile(/[\w\.\-:]/)&&t.eat(";")}return i?"atom":"error"}else{t.eatWhile(/[^&<]/);return null}}c.isInText=true;function u(e,t){var n=e.next();if(n==">"||n=="/"&&e.eat(">")){t.tokenize=c;o=n==">"?"endTag":"selfcloseTag";return"tag bracket"}else if(n=="="){o="equals";return null}else if(n=="<"){t.tokenize=c;t.state=m;t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}else if(/[\'\"]/.test(n)){t.tokenize=i(n);t.stringStartCol=e.column();return t.tokenize(e,t)}else{e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}function i(n){var e=function(e,t){while(!e.eol()){if(e.next()==n){t.tokenize=u;break}}return"string"};e.isInAttribute=true;return e}function d(n,r){return function(e,t){while(!e.eol()){if(e.match(r)){t.tokenize=c;break}e.next()}return n}}function f(r){return function(e,t){var n;while((n=e.next())!=null){if(n=="<"){t.tokenize=f(r+1);return t.tokenize(e,t)}else if(n==">"){if(r==1){t.tokenize=c;break}else{t.tokenize=f(r-1);return t.tokenize(e,t)}}}return"meta"}}function h(e,t,n){this.prev=e.context;this.tagName=t;this.indent=e.indented;this.startOfLine=n;if(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)this.noIndent=true}function p(e){if(e.context)e.context=e.context.prev}function g(e,t){var n;while(true){if(!e.context){return}n=e.context.tagName;if(!a.contextGrabbers.hasOwnProperty(n)||!a.contextGrabbers[n].hasOwnProperty(t)){return}p(e)}}function m(e,t,n){if(e=="openTag"){n.tagStart=t.column();return v}else if(e=="closeTag"){return y}else{return m}}function v(e,t,n){if(e=="word"){n.tagName=t.current();l="tag";return x}else if(a.allowMissingTagName&&e=="endTag"){l="tag bracket";return x(e,t,n)}else{l="error";return v}}function y(e,t,n){if(e=="word"){var r=t.current();if(n.context&&n.context.tagName!=r&&a.implicitlyClosed.hasOwnProperty(n.context.tagName))p(n);if(n.context&&n.context.tagName==r||a.matchClosing===false){l="tag";return b}else{l="tag error";return w}}else if(a.allowMissingTagName&&e=="endTag"){l="tag bracket";return b(e,t,n)}else{l="error";return w}}function b(e,t,n){if(e!="endTag"){l="error";return b}p(n);return m}function w(e,t,n){l="error";return b(e,t,n)}function x(e,t,n){if(e=="word"){l="attribute";return C}else if(e=="endTag"||e=="selfcloseTag"){var r=n.tagName,i=n.tagStart;n.tagName=n.tagStart=null;if(e=="selfcloseTag"||a.autoSelfClosers.hasOwnProperty(r)){g(n,r)}else{g(n,r);n.context=new h(n,r,i==n.indented)}return m}l="error";return x}function C(e,t,n){if(e=="equals")return j;if(!a.allowMissing)l="error";return x(e,t,n)}function j(e,t,n){if(e=="string")return S;if(e=="word"&&a.allowUnquoted){l="string";return x}l="error";return x(e,t,n)}function S(e,t,n){if(e=="string")return S;return x(e,t,n)}return{startState:function(e){var t={tokenize:c,state:m,indented:e||0,tagName:null,tagStart:null,context:null};if(e!=null)t.baseIndent=e;return t},token:function(e,t){if(!t.tagName&&e.sol())t.indented=e.indentation();if(e.eatSpace())return null;o=null;var n=t.tokenize(e,t);if((n||o)&&n!="comment"){l=null;t.state=t.state(o||n,e,t);if(l)n=l=="error"?n+" error":l}return n},indent:function(e,t,n){var r=e.context;if(e.tokenize.isInAttribute){if(e.tagStart==e.indented)return e.stringStartCol+1;else return e.indented+s}if(r&&r.noIndent)return k.Pass;if(e.tokenize!=u&&e.tokenize!=c)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName){if(a.multilineTagIndentPastTag!==false)return e.tagStart+e.tagName.length+2;else return e.tagStart+s*(a.multilineTagIndentFactor||1)}if(a.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var i=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(i&&i[1]){while(r){if(r.tagName==i[2]){r=r.prev;break}else if(a.implicitlyClosed.hasOwnProperty(r.tagName)){r=r.prev}else{break}}}else if(i){while(r){var o=a.contextGrabbers[r.tagName];if(o&&o.hasOwnProperty(i[2]))r=r.prev;else break}}while(r&&r.prev&&!r.startOfLine)r=r.prev;if(r)return r.indent+s;else return e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){if(e.state==j)e.state=x},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:e.type=="closeTag"}:null},xmlCurrentContext:function(e){var t=[];for(var n=e.context;n;n=n.prev)if(n.tagName)t.push(n.tagName);return t.reverse()}}}),k.defineMIME("text/xml","xml"),k.defineMIME("application/xml","xml"),!k.mimeModes.hasOwnProperty("text/html"))k.defineMIME("text/html",{name:"xml",htmlMode:true})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/keymaster/keymaster.js":function(s,e,t){!function(t){for(var l={},a={16:!1,18:!1,17:!1,91:!1},n="all",c={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,command:91},r={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},u=function(e){return r[e]||e.toUpperCase().charCodeAt(0)},d=[],f=1;f<20;f++)r["f"+f]=111+f;function h(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}var p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function i(e){var t,n,r,i,o,s=e.keyCode;if(-1==h(d,s)&&d.push(s),93!=s&&224!=s||(s=91),s in a)for(n in a[s]=!0,c)c[n]==s&&(g[n]=!0);else if(!function(e){for(f in a)a[f]=e[p[f]]}(e),g.filter.call(this,e)&&s in l)for(o=m(),r=0;r<l[s].length;r++)if((t=l[s][r]).scope==o||"all"==t.scope){for(n in i=0<t.mods.length,a)(!a[n]&&-1<h(t.mods,+n)||a[n]&&-1==h(t.mods,+n))&&(i=!1);(0!=t.mods.length||a[16]||a[18]||a[17]||a[91])&&!i||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function g(e,t,n){var r,i=v(e);void 0===n&&(n=t,t="all");for(var o=0;o<i.length;o++)r=[],1<(e=i[o].split("+")).length&&(r=y(e),e=[e[e.length-1]]),e=e[0],(e=u(e))in l||(l[e]=[]),l[e].push({shortcut:i[o],scope:t,method:n,key:i[o],mods:r})}for(f in c)g[f]=!1;function m(){return n||"all"}function v(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function y(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=c[t[n]];return t}function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}e(document,"keydown",function(e){i(e)}),e(document,"keyup",function(e){var t,n=e.keyCode,r=h(d,n);if(0<=r&&d.splice(r,1),93!=n&&224!=n||(n=91),n in a)for(t in a[n]=!1,c)c[t]==n&&(g[t]=!1)}),e(window,"focus",function(){for(f in a)a[f]=!1;for(f in c)g[f]=!1});var o=t.key;t.key=g,t.key.setScope=function(e){n=e||"all"},t.key.getScope=m,t.key.deleteScope=function(e){var t,n,r;for(t in l)for(n=l[t],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=u(e)),-1!=h(d,e)},t.key.getPressedKeyCodes=function(){return d.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=o,e},t.key.unbind=function(e,t){for(var n,r,i,o=[],s=v(e),a=0;a<s.length;a++){if(1<(n=s[a].split("+")).length&&(o=y(n),e=n[n.length-1]),e=u(e),void 0===t&&(t=m()),!l[e])return;for(r=0;r<l[e].length;r++)(i=l[e][r]).scope===t&&function(e,t){if(e.length==t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return 1}}(i.mods,o)&&(l[e][r]={})}},s.exports=g}(this)},"./node_modules/process/browser.js":function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/promise-polyfill/src/finally.js":function(e,t,n){"use strict";n.r(t),t.default=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}},"./node_modules/promise-polyfill/src/index.js":function(e,f,h){"use strict";h.r(f),function(t){var e=h("./node_modules/promise-polyfill/src/finally.js"),n=setTimeout;function l(e){return Boolean(e&&void 0!==e.length)}function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function i(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e,t=1===n._state?r.onFulfilled:r.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void a(r.promise,e)}s(r.promise,e)}else(1===n._state?s:a)(r.promise,n._value)})):n._deferreds.push(r)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){a(t,e)}var r,i}function a(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new u(e,t,n)),n},o.prototype.finally=e.default,o.all=function(t){return new o(function(i,o){if(!l(t))return o(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(t);if(0===s.length)return i([]);var a=s.length;for(var e=0;e<s.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return void r.call(e,function(e){t(n,e)},o)}s[n]=e,0==--a&&i(s)}catch(e){o(e)}}(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(i){return new o(function(e,t){if(!l(i))return t(new TypeError("Promise.race accepts an array"));for(var n=0,r=i.length;n<r;n++)o.resolve(i[n]).then(e,t)})},o._immediateFn="function"==typeof t?function(e){t(e)}:function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},f.default=o}.call(this,h("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,p){!function(n,r){"use strict";var i,o,s,a,l,c,t,u,e;function d(e){delete o[e]}function f(e){if(s)setTimeout(f,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),s=!1}}}}function h(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(u)&&f(+e.data.slice(u.length))}n.setImmediate||(i=1,s=!(o={}),a=n.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&e.setTimeout?e:n,l="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){f(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(u="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),function(e){n.postMessage(u+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){t.port2.postMessage(e)}):a&&"onreadystatechange"in a.createElement("script")?(c=a.documentElement,function(e){var t=a.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,c.removeChild(t),t=null},c.appendChild(t)}):function(e){setTimeout(f,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return o[i]=r,l(i),i++},e.clearImmediate=d)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,i,o){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}i.setTimeout=function(){return new r(n.call(setTimeout,t,arguments),clearTimeout)},i.setInterval=function(){return new r(n.call(setInterval,t,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(t,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o("./node_modules/setimmediate/setImmediate.js"),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/underscore/underscore.js":function(e,Z,t){(function(K,X){var Q;!function(){function n(){}var e="object"==typeof self&&self.self===self&&self||"object"==typeof K&&K.global===K&&K||this||{},t=e._,r=Array.prototype,s=Object.prototype,d="undefined"!=typeof Symbol?Symbol.prototype:null,i=r.push,l=r.slice,f=s.toString,o=s.hasOwnProperty,a=Array.isArray,c=Object.keys,u=Object.create,h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};Z.nodeType?e._=h:(!X.nodeType&&X.exports&&(Z=X.exports=h),Z._=h),h.VERSION="1.9.1";function p(i,o,e){if(void 0===o)return i;switch(null==e?3:e){case 1:return function(e){return i.call(o,e)};case 3:return function(e,t,n){return i.call(o,e,t,n)};case 4:return function(e,t,n,r){return i.call(o,e,t,n,r)}}return function(){return i.apply(o,arguments)}}function g(e,t,n){return h.iteratee!==m?h.iteratee(e,t):null==e?h.identity:h.isFunction(e)?p(e,t,n):h.isObject(e)&&!h.isArray(e)?h.matcher(e):h.property(e)}var m;h.iteratee=m=function(e,t){return g(e,t,1/0)};function v(i,o){return o=null==o?i.length-1:+o,function(){for(var e=Math.max(arguments.length-o,0),t=Array(e),n=0;n<e;n++)t[n]=arguments[n+o];switch(o){case 0:return i.call(this,t);case 1:return i.call(this,arguments[0],t);case 2:return i.call(this,arguments[0],arguments[1],t)}for(var r=Array(o+1),n=0;n<o;n++)r[n]=arguments[n];return r[o]=t,i.apply(this,r)}}function y(e){if(!h.isObject(e))return{};if(u)return u(e);n.prototype=e;var t=new n;return n.prototype=null,t}function b(t){return function(e){return null==e?void 0:e[t]}}function w(e,t){return null!=e&&o.call(e,t)}function x(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function C(e){var t=S(e);return"number"==typeof t&&0<=t&&t<=j}var j=Math.pow(2,53)-1,S=b("length");h.each=h.forEach=function(e,t,n){if(t=p(t,n),C(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else for(var r=h.keys(e),i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e);return e},h.map=h.collect=function(e,t,n){t=g(t,n);for(var r=!C(e)&&h.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};function k(l){return function(e,t,n,r){var i=3<=arguments.length;return function(e,t,n,r){var i=!C(e)&&h.keys(e),o=(i||e).length,s=0<l?0:o-1;for(r||(n=e[i?i[s]:s],s+=l);0<=s&&s<o;s+=l){var a=i?i[s]:s;n=t(n,e[a],a,e)}return n}(e,p(t,r,4),n,i)}}h.reduce=h.foldl=h.inject=k(1),h.reduceRight=h.foldr=k(-1),h.find=h.detect=function(e,t,n){var r=(C(e)?h.findIndex:h.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},h.filter=h.select=function(e,r,t){var i=[];return r=g(r,t),h.each(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i},h.reject=function(e,t,n){return h.filter(e,h.negate(g(t)),n)},h.every=h.all=function(e,t,n){t=g(t,n);for(var r=!C(e)&&h.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},h.some=h.any=function(e,t,n){t=g(t,n);for(var r=!C(e)&&h.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},h.contains=h.includes=h.include=function(e,t,n,r){return C(e)||(e=h.values(e)),"number"==typeof n&&!r||(n=0),0<=h.indexOf(e,t,n)},h.invoke=v(function(e,n,r){var i,o;return h.isFunction(n)?o=n:h.isArray(n)&&(i=n.slice(0,-1),n=n[n.length-1]),h.map(e,function(e){var t=o;if(!t){if(i&&i.length&&(e=x(e,i)),null==e)return;t=e[n]}return null==t?t:t.apply(e,r)})}),h.pluck=function(e,t){return h.map(e,h.property(t))},h.where=function(e,t){return h.filter(e,h.matcher(t))},h.findWhere=function(e,t){return h.find(e,h.matcher(t))},h.max=function(e,r,t){var n,i,o=-1/0,s=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=C(e)?e:h.values(e)).length;a<l;a++)null!=(n=e[a])&&o<n&&(o=n);else r=g(r,t),h.each(e,function(e,t,n){i=r(e,t,n),(s<i||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},h.min=function(e,r,t){var n,i,o=1/0,s=1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=C(e)?e:h.values(e)).length;a<l;a++)null!=(n=e[a])&&n<o&&(o=n);else r=g(r,t),h.each(e,function(e,t,n){((i=r(e,t,n))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},h.shuffle=function(e){return h.sample(e,1/0)},h.sample=function(e,t,n){if(null==t||n)return C(e)||(e=h.values(e)),e[h.random(e.length-1)];var r=C(e)?h.clone(e):h.values(e),i=S(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=h.random(s,o),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)},h.sortBy=function(e,r,t){var i=0;return r=g(r,t),h.pluck(h.map(e,function(e,t,n){return{value:e,index:i++,criteria:r(e,t,n)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};function O(s,t){return function(r,i,e){var o=t?[[],[]]:{};return i=g(i,e),h.each(r,function(e,t){var n=i(e,t,r);s(o,e,n)}),o}}h.groupBy=O(function(e,t,n){w(e,n)?e[n].push(t):e[n]=[t]}),h.indexBy=O(function(e,t,n){e[n]=t}),h.countBy=O(function(e,t,n){w(e,n)?e[n]++:e[n]=1});var _=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(e){return e?h.isArray(e)?l.call(e):h.isString(e)?e.match(_):C(e)?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:C(e)?e.length:h.keys(e).length},h.partition=O(function(e,t,n){e[n?0:1].push(t)},!0),h.first=h.head=h.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:h.initial(e,e.length-t)},h.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},h.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:h.rest(e,Math.max(0,e.length-t))},h.rest=h.tail=h.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},h.compact=function(e){return h.filter(e,Boolean)};var T=function(e,t,n,r){for(var i=(r=r||[]).length,o=0,s=S(e);o<s;o++){var a=e[o];if(C(a)&&(h.isArray(a)||h.isArguments(a)))if(t)for(var l=0,c=a.length;l<c;)r[i++]=a[l++];else T(a,t,n,r),i=r.length;else n||(r[i++]=a)}return r};h.flatten=function(e,t){return T(e,t,!1)},h.without=v(function(e,t){return h.difference(e,t)}),h.uniq=h.unique=function(e,t,n,r){h.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=g(n,r));for(var i=[],o=[],s=0,a=S(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||i.push(l),o=c):n?h.contains(o,c)||(o.push(c),i.push(l)):h.contains(i,l)||i.push(l)}return i},h.union=v(function(e){return h.uniq(T(e,!0,!0))}),h.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=S(e);r<i;r++){var o=e[r];if(!h.contains(t,o)){for(var s=1;s<n&&h.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},h.difference=v(function(e,t){return t=T(t,!0,!0),h.filter(e,function(e){return!h.contains(t,e)})}),h.unzip=function(e){for(var t=e&&h.max(e,S).length||0,n=Array(t),r=0;r<t;r++)n[r]=h.pluck(e,r);return n},h.zip=v(h.unzip),h.object=function(e,t){for(var n={},r=0,i=S(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};function E(o){return function(e,t,n){t=g(t,n);for(var r=S(e),i=0<o?0:r-1;0<=i&&i<r;i+=o)if(t(e[i],i,e))return i;return-1}}h.findIndex=E(1),h.findLastIndex=E(-1),h.sortedIndex=function(e,t,n,r){for(var i=(n=g(n,r,1))(t),o=0,s=S(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o};function P(o,s,a){return function(e,t,n){var r=0,i=S(e);if("number"==typeof n)0<o?r=0<=n?n:Math.max(n+i,r):i=0<=n?Math.min(n+1,i):n+i+1;else if(a&&n&&i)return e[n=a(e,t)]===t?n:-1;if(t!=t)return 0<=(n=s(l.call(e,r,i),h.isNaN))?n+r:-1;for(n=0<o?r:i-1;0<=n&&n<i;n+=o)if(e[n]===t)return n;return-1}}h.indexOf=P(1,h.findIndex,h.sortedIndex),h.lastIndexOf=P(-1,h.findLastIndex),h.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||(t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},h.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n};function D(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=y(e.prototype),s=e.apply(o,i);return h.isObject(s)?s:o}h.bind=v(function(t,n,r){if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");var i=v(function(e){return D(t,i,n,this,r.concat(e))});return i}),h.partial=v(function(i,o){var s=h.partial.placeholder,a=function(){for(var e=0,t=o.length,n=Array(t),r=0;r<t;r++)n[r]=o[r]===s?arguments[e++]:o[r];for(;e<arguments.length;)n.push(arguments[e++]);return D(i,a,this,this,n)};return a}),(h.partial.placeholder=h).bindAll=v(function(e,t){var n=(t=T(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=h.bind(e[r],e)}}),h.memoize=function(r,i){var o=function(e){var t=o.cache,n=""+(i?i.apply(this,arguments):e);return w(t,n)||(t[n]=r.apply(this,arguments)),t[n]};return o.cache={},o},h.delay=v(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(n,r,i){var o,s,a,l,c=0;i=i||{};function u(){c=!1===i.leading?0:h.now(),o=null,l=n.apply(s,a),o||(s=a=null)}function e(){var e=h.now();c||!1!==i.leading||(c=e);var t=r-(e-c);return s=this,a=arguments,t<=0||r<t?(o&&(clearTimeout(o),o=null),c=e,l=n.apply(s,a),o||(s=a=null)):o||!1===i.trailing||(o=setTimeout(u,t)),l}return e.cancel=function(){clearTimeout(o),c=0,o=s=a=null},e},h.debounce=function(n,r,i){function o(e,t){s=null,t&&(a=n.apply(e,t))}var s,a,e=v(function(e){var t;return s&&clearTimeout(s),i?(t=!s,s=setTimeout(o,r),t&&(a=n.apply(this,e))):s=h.delay(o,r,this,e),a});return e.cancel=function(){clearTimeout(s),s=null},e},h.wrap=function(e,t){return h.partial(t,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var n=arguments,r=n.length-1;return function(){for(var e=r,t=n[r].apply(this,arguments);e--;)t=n[e].call(this,t);return t}},h.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},h.before=function(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},h.once=h.partial(h.before,2),h.restArguments=v;function A(e,t){var n=L.length,r=e.constructor,i=h.isFunction(r)&&r.prototype||s,o="constructor";for(w(e,o)&&!h.contains(t,o)&&t.push(o);n--;)(o=L[n])in e&&e[o]!==i[o]&&!h.contains(t,o)&&t.push(o)}var M=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];h.keys=function(e){if(!h.isObject(e))return[];if(c)return c(e);var t=[];for(var n in e)w(e,n)&&t.push(n);return M&&A(e,t),t},h.allKeys=function(e){if(!h.isObject(e))return[];var t=[];for(var n in e)t.push(n);return M&&A(e,t),t},h.values=function(e){for(var t=h.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},h.mapObject=function(e,t,n){t=g(t,n);for(var r=h.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},h.pairs=function(e){for(var t=h.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},h.invert=function(e){for(var t={},n=h.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},h.functions=h.methods=function(e){var t=[];for(var n in e)h.isFunction(e[n])&&t.push(n);return t.sort()};function N(l,c){return function(e){var t=arguments.length;if(c&&(e=Object(e)),t<2||null==e)return e;for(var n=1;n<t;n++)for(var r=arguments[n],i=l(r),o=i.length,s=0;s<o;s++){var a=i[s];c&&void 0!==e[a]||(e[a]=r[a])}return e}}h.extend=N(h.allKeys),h.extendOwn=h.assign=N(h.keys),h.findKey=function(e,t,n){t=g(t,n);for(var r,i=h.keys(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r};function I(e,t,n){return t in n}var F,$;h.pick=v(function(e,t){var n={},r=t[0];if(null==e)return n;h.isFunction(r)?(1<t.length&&(r=p(r,t[1])),t=h.allKeys(e)):(r=I,t=T(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n}),h.omit=v(function(e,n){var t,r=n[0];return h.isFunction(r)?(r=h.negate(r),1<n.length&&(t=n[1])):(n=h.map(T(n,!1,!1),String),r=function(e,t){return!h.contains(n,t)}),h.pick(e,r,t)}),h.defaults=N(h.allKeys,!0),h.create=function(e,t){var n=y(e);return t&&h.extendOwn(n,t),n},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,t){return t(e),e},h.isMatch=function(e,t){var n=h.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0},F=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"==i||"object"==i||"object"==typeof t)&&$(e,t,n,r)},$=function(e,t,n,r){e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return d.valueOf.call(e)===d.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(h.isFunction(s)&&s instanceof s&&h.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!F(e[l],t[l],n,r))return!1}else{var c,u=h.keys(e),l=u.length;if(h.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!w(t,c)||!F(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0},h.isEqual=function(e,t){return F(e,t)},h.isEmpty=function(e){return null==e||(C(e)&&(h.isArray(e)||h.isString(e)||h.isArguments(e))?0===e.length:0===h.keys(e).length)},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=a||function(e){return"[object Array]"===f.call(e)},h.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){h["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return w(e,"callee")});var R=e.document&&e.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof R&&(h.isFunction=function(e){return"function"==typeof e||!1}),h.isFinite=function(e){return!h.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&isNaN(e)},h.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,t){if(!h.isArray(t))return w(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!o.call(e,i))return!1;e=e[i]}return!!n},h.noConflict=function(){return e._=t,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(t){return h.isArray(t)?function(e){return x(e,t)}:b(t)},h.propertyOf=function(t){return null==t?function(){}:function(e){return h.isArray(e)?x(t,e):t[e]}},h.matcher=h.matches=function(t){return t=h.extendOwn({},t),function(e){return h.isMatch(e,t)}},h.times=function(e,t,n){var r=Array(Math.max(0,e));t=p(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},h.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},h.now=Date.now||function(){return(new Date).getTime()};function z(t){function n(e){return t[e]}var e="(?:"+h.keys(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,n):e}}var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=h.invert(V);h.escape=z(V),h.unescape=z(H),h.result=function(e,t,n){h.isArray(t)||(t=[t]);var r=t.length;if(!r)return h.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=h.isFunction(o)?o.call(e):o}return e};var B=0;h.uniqueId=function(e){var t=++B+"";return e?e+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function U(e){return"\\"+W[e]}var q=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g;h.template=function(o,e,t){!e&&t&&(e=t),e=h.defaults({},e,h.templateSettings);var n,r=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(r,function(e,t,n,r,i){return a+=o.slice(s,i).replace(G,U),s=i+e.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(e.variable||"obj","_",a)}catch(e){throw e.source=a,e}function i(e){return n.call(this,e,h)}var l=e.variable||"obj";return i.source="function("+l+"){\n"+a+"}",i},h.chain=function(e){var t=h(e);return t._chain=!0,t};function Y(e,t){return e._chain?h(t).chain():t}h.mixin=function(n){return h.each(h.functions(n),function(e){var t=h[e]=n[e];h.prototype[e]=function(){var e=[this._wrapped];return i.apply(e,arguments),Y(this,t.apply(h,e))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=r[t];h.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],Y(this,e)}}),h.each(["concat","join","slice"],function(e){var t=r[e];h.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},void 0===(Q=function(){return h}.apply(Z,[]))||(X.exports=Q)}()}).call(this,t("./node_modules/webpack/buildin/global.js"),t("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/webpack/buildin/global.js":function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/asset_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:1,customFetch:"",uploadFile:"",embedAsBase64:1,handleAdd:"",dropzone:0,openAssetsOnDrop:1,dropzoneContent:"",beforeUpload:null,showUrlInput:!0}},"./src/asset_manager/index.js":function(e,t,n){"use strict";n.r(t);var u=n("./src/asset_manager/config/config.js"),d=n("./src/asset_manager/model/Assets.js"),f=n("./src/asset_manager/view/AssetsView.js"),h=n("./src/asset_manager/view/FileUploader.js");t.default=function(){var s,a,l,c={};return{name:"AssetManager",storageKey:"assets",getConfig:function(){return c},init:function(e){var t=this;for(var n in c=e||{},u.default)n in c||(c[n]=u.default[n]);var r=c.pStylePrefix,i=c.em;r&&(c.stylePrefix=r+c.stylePrefix),s=new d.default([]);var o={collection:new d.default([]),globalCollection:s,config:c};return l=new h.default(o),o.fu=l,a=new f.default(o),s.listenTo(s,"add",function(e){t.getAllVisible().add(e),i&&i.trigger("asset:add",e)}),s.listenTo(s,"remove",function(e){t.getAllVisible().remove(e),i&&i.trigger("asset:remove",e)}),this},add:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return void 0===n.at&&(n.at=0),s.add(e,n)},get:function(e){return s.where({src:e})[0]},getAll:function(){return s},getAllVisible:function(){return a.collection},remove:function(e){var t=this.get(e);return this.getAll().remove(t),this},store:function(e){var t={},n=JSON.stringify(this.getAll().toJSON());return t[this.storageKey]=n,!e&&c.stm&&c.stm.store(t),t},load:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.storageKey,r=t[n]||[];if("string"==typeof r)try{r=JSON.parse(t[n])}catch(e){}return r&&r.length&&this.getAll().reset(r),r},getContainer:function(){return a.el},getAssetsEl:function(){return a.el.querySelector("[data-el=assets]")},render:function(e){var t=e||this.getAll().models;return a.rendered||a.render(),a.collection.reset(t),this.getContainer()},addType:function(e,t){this.getAll().addType(e,t)},getType:function(e){return this.getAll().getType(e)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return a},FileUploader:function(){return l},onLoad:function(){this.getAll().reset(c.assets)},postRender:function(e){c.dropzone&&l.initDropzone(e)},setTarget:function(e){a.collection.target=e},onSelect:function(e){a.collection.onSelect=e},onClick:function(e){c.onClick=e},onDblClick:function(e){c.onDblClick=e}}}},"./src/asset_manager/model/Asset.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({idAttribute:"src",defaults:{type:"",src:""},getFilename:function(){return this.get("src").split("/").pop()},getExtension:function(){return this.getFilename().split(".").pop()}})},"./src/asset_manager/model/AssetImage.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/asset_manager/model/Asset.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"image",unitDim:"px",height:0,width:0})})},"./src/asset_manager/model/Assets.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/asset_manager/model/AssetImage.js"),s=n("./src/asset_manager/view/AssetImageView.js"),a=n("./src/domain_abstract/model/TypeableCollection.js");t.default=i.a.Collection.extend(a.default).extend({types:[{id:"image",model:o.default,view:s.default,isType:function(e){return"string"==typeof e?{type:"image",src:e}:e}}]})},"./src/asset_manager/view/AssetImageView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./src/asset_manager/view/AssetView.js");t.default=r.default.extend({events:{"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"},getPreview:function(){var e=this.pfx,t=this.model.get("src");return'\n      <div class="'.concat(e,'preview" style="background-image: url(\'').concat(t,'\');"></div>\n      <div class="').concat(e,"preview-bg ").concat(this.ppfx,'checker-bg"></div>\n    ')},getInfo:function(){var e=this.pfx,t=this.model,n=t.get("name"),r=t.get("width"),i=t.get("height"),o=t.get("unitDim"),s=r&&i?"".concat(r,"x").concat(i).concat(o):"",n=n||t.getFilename();return'\n      <div class="'.concat(e,'name">').concat(n,'</div>\n      <div class="').concat(e,'dimensions">').concat(s,"</div>\n    ")},init:function(){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},onClick:function(){var e=this.config.onClick,t=this.model;this.collection.trigger("deselectAll"),this.$el.addClass(this.pfx+"highlight"),Object(i.isFunction)(e)?e(t):this.updateTarget(this.collection.target)},onDblClick:function(){var e=this.em,t=this.model,n=this.config.onDblClick;Object(i.isFunction)(n)?n(t):(this.updateTarget(this.collection.target),e&&e.get("Modal").close());var r=this.collection.onSelect;Object(i.isFunction)(r)&&r(t)},onRemove:function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)}})},"./src/asset_manager/view/AssetView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js");t.default=i.a.View.extend({initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.options=t,this.collection=t.collection;var n=t.config||{};this.config=n,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.em=n.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove);var r=(this.model.view=this).init&&this.init.bind(this);r&&r(t)},template:function(){var e=this.pfx;return'\n      <div class="'.concat(e,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(e,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(e,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},updateTarget:function(e){e&&e.set&&(e.set("attributes",Object(o.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},getPreview:function(){return""},getInfo:function(){return""},render:function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this}})},"./src/asset_manager/view/AssetsView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),i=n("./node_modules/backbone/backbone.js"),s=n.n(i);t.default=s.a.View.extend({events:{submit:"handleSubmit"},template:function(e){var t=e.pfx,n=e.ppfx,r=e.em,i=(o()(e,["pfx","ppfx","em"]),"");return this.config.showUrlInput&&(i='\n          <form class="'.concat(t,'add-asset">\n            <div class="').concat(n,"field ").concat(t,'add-field">\n              <input placeholder="').concat(r&&r.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(n,'btn-prim">').concat(r&&r.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(t,'assets-cont">\n      <div class="').concat(t,'assets-header">\n        ').concat(i,'\n      </div>\n      <div class="').concat(t,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},initialize:function(e){this.options=e,this.config=e.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var t=this.collection;this.listenTo(t,"reset",this.renderAssets),this.listenTo(t,"add",this.addToAsset),this.listenTo(t,"remove",this.removedAsset),this.listenTo(t,"deselectAll",this.deselectAll)},handleSubmit:function(e){e.preventDefault();var t=this.getAddInput(),n=t&&t.value.trim(),r=this.config.handleAdd;n&&(t.value="",this.getAssetsEl().scrollTop=0,r?r.bind(this)(n):this.options.globalCollection.add(n,{at:0}))},getAssetsEl:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},getAddInput:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},removedAsset:function(){this.collection.length||this.toggleNoAssets()},addToAsset:function(e){1==this.collection.length&&this.toggleNoAssets(1),this.addAsset(e)},addAsset:function(e,t){var n,r=1<arguments.length&&void 0!==t?t:null,i=this.collection,o=this.config,s=new e.typeView({model:e,collection:i,config:o}).render().el;return r?r.appendChild(s):(n=this.getAssetsEl())&&n.insertBefore(s,n.firstChild),s},toggleNoAssets:function(e){var t,n=this.$el.find(".".concat(this.pfx,"assets"));e?n.empty():(t=this.config.noAssets)&&n.append(t)},deselectAll:function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},renderAssets:function(){var t=this,n=document.createDocumentFragment(),e=this.$el.find(".".concat(this.pfx,"assets"));e.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(e){return t.addAsset(e,n)}),e.append(n)},render:function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this.rendered=1,this}})},"./src/asset_manager/view/FileUploader.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),g=n("./src/utils/fetch.js");t.default=o.a.View.extend({template:Object(r.template)('\n  <form>\n    <div id="<%= pfx %>title"><%= title %></div>\n    <input type="file" id="<%= uploadId %>" name="file" accept="*/*" <%= disabled ? \'disabled\' : \'\' %> <%= multiUpload ? \'multiple\' : \'\' %>/>\n    <div style="clear:both;"></div>\n  </form>\n  '),events:{},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(this.options=t).config||{};this.config=n,this.em=this.config.em,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=void 0!==n.disableUpload?n.disableUpload:!n.upload&&!n.embedAsBase64,this.multiUpload=void 0===n.multiUpload||n.multiUpload,this.events["change #"+this.uploadId]="uploadFile";var r=n.uploadFile;r?this.uploadFile=r.bind(this):!n.upload&&n.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()},onUploadStart:function(){var e=this.config.em;e&&e.trigger("asset:upload:start")},onUploadEnd:function(e){var t=this.$el,n=this.config.em;n&&n.trigger("asset:upload:end",e);var r=t.find("input");r&&r.val("")},onUploadError:function(e){var t=this.config.em;console.error(e),this.onUploadEnd(e),t&&t.trigger("asset:upload:error",e)},onUploadResponse:function(t,e){var n,r=this.config.em,i=this.config,o=this.target;try{n="string"==typeof t?JSON.parse(t):t}catch(e){n=t}r&&r.trigger("asset:upload:response",n),i.autoAdd&&o&&o.add(n.data,{at:0}),this.onUploadEnd(t),e&&e(n)},uploadFile:function(e,t){var n=this,r=e.dataTransfer?e.dataTransfer.files:e.target.files,i=this.config,o=i.beforeUpload;if(!1!==(o&&o(r))){var s=new FormData,a=i.params,l=i.customFetch;for(var c in a)s.append(c,a[c]);if(this.multiUpload)for(var u=0;u<r.length;u++)s.append("".concat(i.uploadName,"[]"),r[u]);else r.length&&s.append(i.uploadName,r[0]);this.target;var d=i.upload,f=i.headers,h="X-Requested-With";if(void 0===f[h]&&(f[h]="XMLHttpRequest"),d){this.onUploadStart();var p={method:"post",credentials:i.credentials||"include",headers:f,body:s};return(l?l(d,p):Object(g.default)(d,p).then(function(e){return 1==(e.status/200|0)?e.text():e.text().then(function(e){return Promise.reject(e)})})).then(function(e){return n.onUploadResponse(e,t)}).catch(function(e){return n.onUploadError(e)})}}},initDrop:function(){var t=this;this.uploadForm||(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(e){this.className="",e.preventDefault(),t.uploadFile(e)}))},initDropzone:function(e){function n(){c.className=c.className.replace(h,"").trim(),s=0}function t(){return s||(c.className+=" ".concat(h),s=1),!1}function r(){return n(),!1}function i(e){var t;return n(),e.preventDefault(),e.stopPropagation(),o.uploadFile(e),a.openAssetsOnDrop&&u&&(t=u.getSelected(),u.runCommand("open-assets",{target:t,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})),!1}var o=this,s=0,a=this.config,l=e.model,c=e.el,u=l.get("Editor"),d=(l.get("Config").el,l.get("Canvas").getBody()),f=this.ppfx,h="".concat(f,"dropzone-active"),p="".concat(f,"dropzone");e.$el.append('<div class="'.concat(p,'">').concat(a.dropzoneContent,"</div>")),n(),"draggable"in c&&[c,d].forEach(function(e){e.ondragover=t,e.ondragleave=r,e.ondrop=i})},render:function(){var e=this.$el,t=this.pfx,n=this.em;return e.html(this.template({title:n&&n.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:t})),this.initDrop(),e.attr("class",t+"file-uploader"),this}},{embedAsBase64:function(e,t){var n=this,r=e.dataTransfer?e.dataTransfer.files:e.target.files,i={data:[]};if(FileReader){var o=[],u=/^(.+)\/(.+)$/,s=!0,a=!1,l=void 0;try{for(var d,c=r[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)!function(){var c=d.value,e=new Promise(function(s,a){var l=new FileReader;l.addEventListener("load",function(e){var t,n,r=c.name,i=u.exec(c.type),o=i?i[1]:c.type;"image"===o?(t={src:l.result,name:r,type:o,height:0,width:0},(n=new Image).addEventListener("error",function(e){a(e)}),n.addEventListener("load",function(){t.height=n.height,t.width=n.width,s(t)}),n.src=t.src):s(o?{src:l.result,name:r,type:o}:l.result)}),l.addEventListener("error",function(e){a(e)}),l.addEventListener("abort",function(e){a("Aborted")}),l.readAsDataURL(c)});o.push(e)}()}catch(e){a=!0,l=e}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}Promise.all(o).then(function(e){i.data=e,n.onUploadResponse(i,t)},function(e){n.onUploadError(e)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))}})},"./src/block_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={appendTo:"",appendOnClick:0,blocks:[]}},"./src/block_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(r),c=n("./node_modules/underscore/underscore.js"),u=n("./src/block_manager/config/config.js"),d=n("./src/block_manager/model/Blocks.js"),f=n("./src/block_manager/model/Categories.js"),h=n("./src/block_manager/view/BlocksView.js");function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){var r,i,o,s={},a=[];return{name:"BlockManager",init:function(e){var t=(s=e||{}).em;for(var n in u.default)n in s||(s[n]=u.default[n]);return r=new d.default([]),i=new d.default([]),a=new f.default,o=new h.default({collection:i,categories:a},s),r.listenTo(r,"add",function(e){i.add(e),t&&t.trigger("block:add",e)}),r.listenTo(r,"remove",function(e){i.remove(e),t&&t.trigger("block:remove",e)}),r.listenTo(r,"reset",function(e){i.reset(e.models)}),this},getConfig:function(){return s},onLoad:function(){var e=this.getAll();e.length||e.reset(s.blocks)},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(c.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},add:function(e,t){var n=t||{};return n.id=e,r.add(n)},get:function(e){return r.get(e)},getAll:function(){return r},getAllVisible:function(){return i},remove:function(e){return r.remove(e)},getCategories:function(){return a},getContainer:function(){return o.el},render:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=e||this.getAll().models;return n.external?new h.default({collection:new d.default(r),categories:a},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s,{},n)).render().el:(o.rendered||(o.render(),o.rendered=1),o.updateConfig(n),o.collection.reset(r),this.getContainer())}}}},"./src/block_manager/model/Block.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/block_manager/model/Category.js");t.default=i.a.Model.extend({defaults:{activate:0,select:0,resetId:0,label:"",disable:0,media:"",content:"",category:"",attributes:{}},initialize:function(e){var t=this.get("category");t&&"string"==typeof t&&new o.default({id:t,label:t})}})},"./src/block_manager/model/Blocks.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/block_manager/model/Block.js");t.default=i.a.Collection.extend({model:o.default})},"./src/block_manager/model/Categories.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/block_manager/model/Category.js");t.default=i.a.Collection.extend({model:o.default})},"./src/block_manager/model/Category.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({defaults:{id:"",label:"",open:!0,attributes:{}}})},"./src/block_manager/view/BlockView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js"),f=n("./src/utils/mixins.js");t.default=i.a.View.extend({events:{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.model;this.em=n.em,this.config=n,this.endDrag=this.endDrag.bind(this),this.ppfx=n.pStylePrefix||"",this.listenTo(r,"destroy remove",this.remove),this.listenTo(r,"change",this.render)},handleClick:function(){var e,t,n,r,i,o,s,a=this.config,l=this.model,c=this.em;a.appendOnClick&&(e=a.getSorter(),t=l.get("content"),n=c.getSelected(),e.setDropContent(t),n&&(e.validTarget(n.getEl(),t).valid?r=n:(i=n.parent(),e.validTarget(i.getEl(),t).valid&&(r=i))),r||(o=c.getWrapper(),e.validTarget(o.getEl(),t).valid&&(r=o)),(s=r&&r.append(t)[0])&&c.setSelected(s,{scroll:1}))},startDrag:function(e){var t,n=this.config,r=this.em,i=this.model.get("disable");0!==e.button||!n.getSorter||this.el.draggable||i||(r.refreshCanvas(),(t=n.getSorter()).setDragHelper(this.el,e),t.setDropContent(this.model.get("content")),t.startSort(this.el),Object(f.on)(document,"mouseup",this.endDrag))},handleDragStart:function(e){var t=this.em,n=this.model,r=n.get("content"),i=Object(o.isObject)(r)?JSON.stringify(r):r;t.set("dragResult"),e.dataTransfer.setData("text",i),t.set("dragContent",r),t.trigger("block:drag:start",n,e)},handleDrag:function(e){this.em.trigger("block:drag",this.model,e)},handleDragEnd:function(){var e,t,n=this.em,r=this.model,i=n.get("dragResult");i&&(e="activeOnRender",t=i.get&&i.get(e),(r.get("activate")||t)&&(i.trigger("active"),i.set(e,0)),r.get("select")&&n.setSelected(i),r.get("resetId")&&i.onAll(function(e){return e.resetId()})),n.set({dragResult:null,dragContent:null}),n.trigger("block:drag:stop",i,r)},endDrag:function(){Object(f.off)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},render:function(){var e=this.em,t=this.el,n=this.ppfx,r=this.model,i=r.get("disable"),o=(r.get("attributes")||{}).class||"",s="".concat(n,"block"),a=e&&e.t("blockManager.labels.".concat(r.id))||r.get("label"),l=r.get("render"),c=r.get("media"),u=i?"".concat(s,"--disable"):"".concat(n,"four-color-h");t.className="".concat(o," ").concat(s," ").concat(n,"one-bg ").concat(u).trim(),t.innerHTML="\n      ".concat(c?'<div class="'.concat(s,'__media">').concat(c,"</div>"):"",'\n      <div class="').concat(s,'-label">').concat(a,"</div>\n    "),t.title=t.textContent.trim(),t.setAttribute("draggable",!(!Object(f.hasDnd)(e)||i));var d=l&&l({el:t,model:r,className:s,prefix:n});return d&&(t.innerHTML=d),this}})},"./src/block_manager/view/BlocksView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),u=n("./node_modules/underscore/underscore.js"),d=n("./src/block_manager/view/BlockView.js"),f=n("./src/block_manager/view/CategoryView.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=s.a.View.extend({initialize:function(e,t){Object(u.bindAll)(this,"getSorter","onDrag","onDrop"),this.config=t||{},this.categories=e.categories||"",this.renderedCategories=[];var n=this.config.pStylePrefix||"";this.ppfx=n,this.noCatClass="".concat(n,"blocks-no-cat"),this.blockContClass="".concat(n,"blocks-c"),this.catsClass="".concat(n,"block-categories");var r=this.collection;this.listenTo(r,"add",this.addTo),this.listenTo(r,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))},updateConfig:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.config,{},t)},getSorter:function(){var e,t;if(this.em)return this.sorter||(e=this.em.get("Utils"),t=this.canvas,this.sorter=new e.Sorter({container:t.getBody(),placer:t.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:t.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})),this.sorter},onDrag:function(e){this.em.stopDefault(),this.em.trigger("block:drag:start",e)},onMove:function(e){this.em.trigger("block:drag:move",e)},onDrop:function(e){var t=this.em;t.runDefault(),e&&e.get&&(e.get("activeOnRender")&&(e.trigger("active"),e.set("activeOnRender",0)),t.trigger("block:drag:stop",e))},addTo:function(e){this.add(e)},add:function(e,t){var n=this.config,r=t||null,i=new d.default({model:e,attributes:e.get("attributes")},n).render().el,o=e.get("category");if(o&&this.categories&&!n.ignoreCategories){Object(u.isString)(o)?o={id:o,label:o}:Object(u.isObject)(o)&&!o.id&&(o.id=o.label);var s=this.categories.add(o),a=s.get("id"),l=this.renderedCategories[a],c=this.getCategoriesEl();return e.set("category",s),!l&&c&&(l=new f.default({model:s},this.config).render(),this.renderedCategories[a]=l,c.appendChild(l.el)),void(l&&l.append(i))}r?r.appendChild(i):this.append(i)},getCategoriesEl:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},append:function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},render:function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(e){return t.add(e,n)}),this.append(n);var r="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(r),this}})},"./src/block_manager/view/CategoryView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i);t.default=o.a.View.extend({template:Object(r.template)('\n  <div class="<%= pfx %>title">\n    <i class="<%= pfx %>caret-icon"></i>\n    <%= label %>\n  </div>\n  <div class="<%= pfx %>blocks-c"></div>\n  '),events:{},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=(this.config=n).pStylePrefix||"";this.em=n.em,this.pfx=r,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(r,"caret-icon"),this.activeClass="".concat(r,"open"),this.className="".concat(r,"block-category"),this.events["click .".concat(r,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents()},updateVisibility:function(){this.model.get("open")?this.open():this.close()},open:function(){this.el.className="".concat(this.className," ").concat(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""},close:function(){this.el.className=this.className,this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"},toggle:function(){var e=this.model;e.set("open",!e.get("open"))},getIconEl:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl},append:function(e){this.getBlocksEl().appendChild(e)},render:function(){var e=this.em,t=this.el,n=this.$el,r=this.model,i=e.t("blockManager.categories.".concat(r.id))||r.get("label");return t.innerHTML=this.template({pfx:this.pfx,label:i}),t.className=this.className,n.css({order:r.get("order")}),this.updateVisibility(),this}})},"./src/canvas/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]}},"./src/canvas/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./src/utils/mixins.js"),l=(n("./node_modules/underscore/underscore.js"),n("./src/utils/Droppable.js")),c=n("./src/canvas/config/config.js"),u=n("./src/canvas/model/Canvas.js"),d=n("./src/canvas/view/CanvasView.js");function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}window.requestAnimationFrame;t.default=function(){var i,m,v={};return{getCanvasView:function(){return m},name:"Canvas",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};v=h({},c.default,{},t,{module:this}),this.em=v.em;var n=v.pStylePrefix;n&&(v.stylePrefix=n+v.stylePrefix),i=new u.default(t),m=new d.default({model:i,config:v});var r=v.em.get("DomComponents");return r&&this.setWrapper(r),this.model=i,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this},getConfig:function(){return v},setWrapper:function(e){i.set("wrapper",e)},getElement:function(){return m.el},getFrame:function(e){return e?this.getFrames()[e]:i.get("frame")},getFrameEl:function(){var e=m.frame;return e&&e.el},getFramesEl:function(){return m.framesArea},getWindow:function(){return this.getFrameEl().contentWindow},getDocument:function(){var e=this.getFrameEl();return e&&e.contentDocument},getBody:function(){var e=this.getDocument();return e&&e.body},getWrapperEl:function(){var e=this.getBody();return e&&e.querySelector("#wrapper")},_getCompFrame:function(e){return e&&e._getFrame()},_getLocalEl:function(e,t,n){var r=e,i=this._getCompFrame(t);return r=i?i[n]():r},getGlobalToolsEl:function(){return m.toolsGlobEl},getToolsEl:function(e){return this._getLocalEl(m.toolsEl,e,"getToolsEl")},getHighlighter:function(e){return this._getLocalEl(m.hlEl,e,"getHighlighter")},getBadgeEl:function(e){return this._getLocalEl(m.badgeEl,e,"getBadgeEl")},getPlacerEl:function(){return m.placerEl},getGhostEl:function(){return m.ghostEl},getToolbarEl:function(){return m.toolbarEl},getResizerEl:function(){return m.resizerEl},getOffsetViewerEl:function(e){return this._getLocalEl(m.offsetEl,e,"getOffsetViewerEl")},getFixedOffsetViewerEl:function(){return m.fixedOffsetEl},render:function(){return m.render().el},getOffset:function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},offset:function(e){return m.offset(e)},setCustomBadgeLabel:function(e){v.customBadgeLabel=e},getElementPos:function(e,t){return m.getElementPos(e,t)},getElementOffsets:function(e){return m.getElementOffsets(e)},getRect:function(){var e=m.getPosition(),t=e.top,n=e.left;return h({},m.getCanvasOffset(),{topScroll:t,leftScroll:n})},getTargetToElementDim:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=r||{},o=m.getPosition();if(o){var s=i.elPos||m.getElementPos(t),a=r.toRight||0,l=i.targetHeight||e.offsetHeight,c=i.targetWidth||e.offsetWidth,u=i.event||null,d=s.top-l,f=s.left;f+=a?s.width:0;var h=(f=a?f-c:f)<o.left?o.left:f,p=d<o.top?o.top:d,g={top:p=p>s.top+s.height?s.top+s.height:p,left:h,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:o.top,canvasLeft:o.left,canvasWidth:o.width,canvasHeight:o.height};return u&&v.em&&v.em.trigger(u,g),g}},canvasRectOffset:function(e,t,n){function r(e,t,n){var r,i=1<arguments.length&&void 0!==t?t:1,o=2<arguments.length?n:void 0,s=b.em.getZoomDecimal(),a=i?"top":"left",l=e.ownerDocument,c=w.offset?(r=l.defaultView)&&r.frameElement:{},u=c.offsetTop,d=void 0===u?0:u,f=c.offsetLeft,h=void 0===f?0:f,p=l.body||{},g=p.scrollTop,m=p.scrollLeft,v=i?void 0===g?0:g:void 0===m?0:m,y=i?d:h;return o[a]-(v-y)*s}var b=this,w=2<arguments.length&&void 0!==n?n:{};return{top:r(e,1,t),left:r(e,0,t)}},getTargetToElementFixed:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=r.pos||this.getElementPos(e),o=r.canvasOff||this.canvasRectOffset(e,i),s=t.offsetHeight||0,a=t.offsetWidth||0,l=i.left+i.width,c=this.getCanvasView(),u=c.getPosition(),d=c.getFrameOffset(e),f=r.event,h=-s,p=i.width-a,p=i.left<-p?-i.left:p;p=l>u.width?p-(l-u.width):p;var g=i.height+s,m=g<d.height;o.top<s&&(m?h+=g:h=-o.top<i.height?-o.top:i.height);var v={top:h,left:p,canvasOffsetTop:o.top,canvasOffsetLeft:o.left};return f&&this.em.trigger(f,v),v},getMouseRelativePos:function(e,t){var n,r=0,i=0,o=(t||{}).subWinOffset,s=e.target.ownerDocument,a=s.defaultView||s.parentWindow,l=a.frameElement,c=o?a.pageYOffset:0,u=o?a.pageXOffset:0;return l&&(r=(n=l.getBoundingClientRect()).top||0,i=n.left||0),{y:e.clientY+r-c,x:e.clientX+i-u}},getMouseRelativeCanvas:function(e,t){var n=this.getZoomDecimal(),r=m.getPosition(t),i=r.top,o=r.left;return{y:e.clientY*n+i,x:e.clientX*n+o}},hasFocus:function(){return this.getDocument().hasFocus()},isInputFocused:function(){var e=this.getDocument(),t=["body"].concat(o()(this.getConfig().notTextable)),n=e&&e.activeElement;return n&&!t.some(function(e){return n.matches(e)})},scrollTo:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=Object(a.getElement)(e),i=r&&Object(a.getViewEl)(r);i&&i.scrollIntoView(n)},startAutoscroll:function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},stopAutoscroll:function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},postRender:function(){Object(a.hasDnd)(v.em)&&(this.droppable=new l.default(v.em))},setZoom:function(e){return i.set("zoom",parseFloat(e)),this},getZoom:function(){return parseFloat(i.get("zoom"))},getZoomDecimal:function(){return this.getZoom()/100},getZoomMultiplier:function(){var e=this.getZoomDecimal();return e?1/e:1},toggleFramesEvents:function(e){this.getFramesEl().style.pointerEvents=e?"":"none"},getFrameWrapperEl:function(){return m.frame.getWrapper()},getFrames:function(){return i.get("frames").map(function(e){return e})},addFrame:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};return i.get("frames").add(h({},n),h({},r,{em:this.em}))}}}},"./src/canvas/model/Canvas.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),u=n("./src/canvas/model/Frame.js"),d=n("./src/canvas/model/Frames.js");t.default=i.a.Model.extend({defaults:{frame:"",frames:"",wrapper:"",rulers:!1,zoom:100,x:0,y:0},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.em,r=t.styles,i=void 0===r?[]:r,o=t.scripts,s=void 0===o?[]:o,a=n&&n.getWrapper(),l=n&&n.getStyle(),c=new u.default({root:a,styles:l},t);i.forEach(function(e){return c.addLink(e)}),s.forEach(function(e){return c.addScript(e)}),this.em=n,this.set("frame",c),this.set("frames",new d.default([c],t)),this.listenTo(this,"change:zoom",this.onZoomChange),this.listenTo(n,"change:device",this.updateDevice)},updateDevice:function(){var e,t,n,r=this.em,i=r.getDeviceModel(),o=r.getCurrentFrameModel();o&&i&&(t=(e=i.attributes).width,n=e.height,o.set({width:t,height:n}))},onZoomChange:function(){this.get("zoom")<1&&this.set("zoom",1)}})},"./src/canvas/model/Frame.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(o),a=n("./node_modules/backbone/backbone.js"),l=n.n(a),c=n("./src/dom_components/model/Component.js"),u=n("./src/css_composer/model/CssRules.js"),d=n("./node_modules/underscore/underscore.js");function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=l.a.Model.extend({defaults:{wrapper:"",width:null,height:null,head:"",x:0,y:0,root:0,components:0,styles:0,attributes:{}},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.attributes,i=r.root,o=r.styles,s=r.components;this.set("head",[]),this.em=n.em;var a={em:n.em,config:n.em.get("DomComponents").getConfig(),frame:this};i||this.set("root",new c.default({type:"wrapper",components:s||[]},a)),o&&!Object(d.isString)(o)||this.set("styles",new u.default(o,a))},remove:function(){this.view=0;var e=this.collection;return e&&e.remove(this)},getHead:function(){return s()(this.get("head"))},setHead:function(e){return this.set("head",s()(e))},addHeadItem:function(e){var t=this.getHead();t.push(e),this.setHead(t)},getHeadByAttr:function(t,n,r){return this.getHead().filter(function(e){return e.attributes&&e.attributes[t]==n&&(!r||r===e.tag)})[0]},removeHeadByAttr:function(e,t,n){var r=this.getHead(),i=this.getHeadByAttr(e,t,n),o=r.indexOf(i);0<=o&&(r.splice(o,1),this.setHead(r))},addLink:function(e){this.getHeadByAttr("href",e,"link")||this.addHeadItem({tag:"link",attributes:{href:e,rel:"stylesheet"}})},removeLink:function(e){this.removeHeadByAttr("href",e,"link")},addScript:function(e){this.getHeadByAttr("src",e,"script")||this.addHeadItem({tag:"script",attributes:{src:e}})},removeScript:function(e){this.removeHeadByAttr("src",e,"script")},_emitUpdated:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.em.trigger("frame:updated",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({frame:this},t))}})},"./src/canvas/model/Frames.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),s=n("./src/canvas/model/Frame.js");t.default=o.a.Collection.extend({model:s.default,initialize:function(){Object(r.bindAll)(this,"itemLoaded")},itemLoaded:function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(0))},listenToLoad:function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(1)},listenToLoadItems:function(t){var n=this;this.forEach(function(e){return e[t?"on":"off"]("loaded",n.itemLoaded)})}})},"./src/canvas/view/CanvasView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/backbone/backbone.js"),s=n.n(i),a=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js"),c=n("./src/canvas/view/FramesView.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var d,f=s.a.$;t.default=s.a.View.extend({events:{wheel:"onWheel"},template:function(){var e=this.pfx;return'\n      <div class="'.concat(e,'canvas__frames" data-frames></div>\n      <div id="').concat(e,'tools" class="').concat(e,'canvas__tools" data-tools></div>\n    ')},initialize:function(e){Object(a.bindAll)(this,"clearOff","onKeyPress","onCanvasMove"),Object(l.on)(window,"scroll resize",this.clearOff);var t=this.model,n=t.get("frames");this.config=e.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var r=this.em,i=this.config;this.frames=new c.default({collection:n,config:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},i,{canvasView:this,renderContent:1})}),this.listenTo(r,"change:canvasOffset",this.clearOff),this.listenTo(r,"component:selected",this.checkSelected),this.listenTo(t,"change:zoom change:x change:y",this.updateFrames),this.listenTo(n,"loaded:all",function(){return r.trigger("loaded")}),this.toggleListeners(1)},checkSelected:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).scroll,r=this.em.get("currentFrame");n&&e.views.forEach(function(e){e._getFrame()!==r&&e.scrollIntoView(n)})},remove:function(){s.a.View.prototype.remove.apply(this,arguments),this.toggleListeners()},preventDefault:function(e){e&&(e.preventDefault(),e._parentEvent&&e._parentEvent.preventDefault())},onCanvasMove:function(){},toggleListeners:function(e){this.el;(e?l.on:l.off)(document,"keypress",this.onKeyPress)},onKeyPress:function(e){var t=this.em;" "===Object(l.getKeyChar)(e)&&1!==t.getZoomDecimal()&&(this.preventDefault(e),t.get("Editor").runCommand("core:canvas-move"))},onWheel:function(e){var t,n,r;(e.ctrlKey||e.metaKey)&&this.em.getConfig("multiFrames")&&(this.preventDefault(e),t=this.model,n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),r=t.get("zoom"),t.set("zoom",r+2*n))},updateFrames:function(e){var t=this.em,n=this.model.attributes,r=n.x,i=n.y,o=this.getZoom(),s={preserveSelected:1},a=o?1/o:1;this.framesArea.style.transform="scale(".concat(o,") translate(").concat(r*a,"px, ").concat(i*a,"px)"),this.clearOff(),t.stopDefault(s),t.trigger("canvas:update",e),d&&clearTimeout(d),d=setTimeout(function(){return t.runDefault(s)},300)},getZoom:function(){return this.em.getZoomDecimal()},isElInViewport:function(e){var t=Object(l.getElement)(e),n=Object(l.getElRect)(t),r=this.getFrameOffset(t),i=n.top,o=n.left;return 0<=i&&0<=o&&i<=r.height&&o<=r.width},offset:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=Object(l.getElRect)(e),i=e.ownerDocument.body,o=n.noScroll;return{top:r.top+(o?0:i.scrollTop),left:r.left+(o?0:i.scrollLeft),width:r.width,height:r.height}},clearOff:function(){this.frmOff=null,this.cvsOff=null},getFrameOffset:function(e){var t;return this.frmOff&&!e||(t=e?e.ownerDocument.defaultView.frameElement:this.frame.el,this.frmOff=this.offset(t)),this.frmOff},getCanvasOffset:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},getElementPos:function(e,t){var n=this.getZoom(),r=t||{},i=this.getFrameOffset(e),o=this.getCanvasOffset(),s=this.offset(e,t),a=r.avoidFrameOffset?0:i.top,l=r.avoidFrameOffset?0:i.left;return{top:s.top*n+a-o.top,left:s.left*n+l-o.left,height:s.height*n,width:s.width*n,zoom:n,rect:s}},getElementOffsets:function(e){var t=this;if(!e||Object(l.isTextNode)(e))return{};var n={},r=window.getComputedStyle(e);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(e){n[e]=parseFloat(r[e])*t.getZoom()}),n},getPosition:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.frame.el.contentDocument;if(n){var r=n.body,i=this.getZoom(),o=this.getFrameOffset(),s=this.getCanvasOffset(),a=t.noScroll;return{top:o.top+(a?0:r.scrollTop)*i-s.top,left:o.left+(a?0:r.scrollLeft)*i-s.left,width:s.width,height:s.height}}},updateScript:function(e){var t=e.model,n=t.getId();e.scriptContainer||(e.scriptContainer=f('<div data-id="'.concat(n,'">')),this.getJsContainer().appendChild(e.scriptContainer.get(0))),e.el.id=n,e.scriptContainer.html("");var r=document.createElement("script");r.innerHTML="\n        setTimeout(function() {\n          var item = document.getElementById('".concat(n,"');\n          if (!item) return;\n          (function(){\n            ").concat(t.getScriptString(),";\n          }.bind(item))()\n        }, 1);"),setTimeout(function(){return e.scriptContainer.get(0).appendChild(r)},0)},getJsContainer:function(e){var t=this.getFrameView(e);return t&&t.getJsContainer()},getFrameView:function(e){return e&&e._getFrame()||this.em.get("currentFrame")},render:function(){var e=this.el,t=this.$el,n=this.ppfx,r=this.model,i=this.em,o=this.frames,s=i.get("CssComposer"),a=r.get("wrapper");t.html(this.template());var l=t.find("[data-frames]");this.framesArea=l.get(0),(this.wrapper=a)&&"function"==typeof a.render&&r.get("frame").set({wrapper:a,root:a.getWrapper(),styles:s.getAll()});var c=t.find("[data-tools]");this.toolsWrapper=c.get(0),c.append('\n      <div class="'.concat(n,"tools ").concat(n,'tools-gl" style="pointer-events:none">\n        <div class="').concat(n,'placeholder">\n          <div class="').concat(n,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(n,'tools" style="pointer-events:none">\n        <div class="').concat(n,'badge"></div>\n        <div class="').concat(n,'ghost"></div>\n        <div class="').concat(n,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(n,'resizer"></div>\n        <div class="').concat(n,'offset-v"></div>\n        <div class="').concat(n,'offset-fixed-v"></div>\n      </div>\n    '));var u=e.querySelector("#".concat(n,"tools"));this.hlEl=e.querySelector(".".concat(n,"highlighter")),this.badgeEl=e.querySelector(".".concat(n,"badge")),this.placerEl=e.querySelector(".".concat(n,"placeholder")),this.ghostEl=e.querySelector(".".concat(n,"ghost")),this.toolbarEl=e.querySelector(".".concat(n,"toolbar")),this.resizerEl=e.querySelector(".".concat(n,"resizer")),this.offsetEl=e.querySelector(".".concat(n,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(n,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(n,"tools-gl")),this.toolsEl=u,this.el.className=this.className;var d=r.get("frames");return d.listenToLoad(),o.render(),i.setCurrentFrame(d.at(0).view),l.append(o.el),this.frame=d.at(0).view,this}})},"./src/canvas/view/FrameView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),a=n("./node_modules/backbone/backbone.js"),l=n.n(a),f=n("./node_modules/underscore/underscore.js"),h=n("./src/css_composer/view/CssRulesView.js"),p=n("./src/dom_components/view/ComponentView.js"),g=n("./src/utils/dom.js"),m=n("./src/utils/mixins.js");function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=l.a.View.extend({tagName:"iframe",attributes:{allowfullscreen:"allowfullscreen","data-frame-el":!0},initialize:function(e){Object(f.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var t=this.model,n=this.el;this.config=v({},e.config||{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em,this.listenTo(t,"change:head",this.updateHead),t.view=this,Object(m.setViewEl)(n,this)},updateHead:function(){var e=this.getHead();Object(g.empty)(e),Object(g.appendVNodes)(e,this.model.getHead())},getEl:function(){return this.el},getWindow:function(){return this.getEl().contentWindow},getDoc:function(){return this.getEl().contentDocument},getHead:function(){return this.getDoc().querySelector("head")},getBody:function(){return this.getDoc().querySelector("body")},getWrapper:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},getJsContainer:function(){return this.jsContainer||(this.jsContainer=Object(g.createEl)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},getToolsEl:function(){var e=this.config.frameWrapView;return e&&e.elTools},getGlobalToolsEl:function(){return this.em.get("Canvas").getGlobalToolsEl()},getHighlighter:function(){return this._getTool("[data-hl]")},getBadgeEl:function(){return this._getTool("[data-badge]")},getOffsetViewerEl:function(){return this._getTool("[data-offset]")},getRect:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},getOffsetRect:function(){var e=this.el,t=this.getBody(),n=t.scrollTop,r=t.scrollLeft,i=e.offsetHeight,o=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:i,width:o,scrollTop:n,scrollLeft:r,scrollBottom:n+i,scrollRight:r+o}},_getTool:function(e){var t=this.getToolsEl();return this[e]||(this[e]=t.querySelector(e)),this[e]},remove:function(){var e=this.root,t=this.model;this._toggleEffects(),l.a.View.prototype.remove.apply(this,arguments),e.remove(),t.remove()},startAutoscroll:function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(1),requestAnimationFrame(e.autoscroll)},0)},autoscroll:function(){var e,t,n,r,i,o,s;this.dragging&&(e=this.em.get("Canvas"),t=this.getWindow(),s=n=this.getBody().scrollTop,(r=this.lastClientY||0)<(i=e.getConfig().autoscrollLimit)&&(s-=i-r),(o=this.getRect().height-i)<r&&(s+=r-o),s!==n&&0<s&&s<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),t.scrollTo(0,s)),requestAnimationFrame(this.autoscroll))},updateClientY:function(e){e.preventDefault(),this.lastClientY=Object(m.getPointerEvent)(e).clientY*this.em.getZoomDecimal()},showGlobalTools:Object(f.debounce)(function(){this.getGlobalToolsEl().style.opacity=""},50),stopAutoscroll:function(){this.dragging&&this._toggleAutoscrollFx()},_toggleAutoscrollFx:function(e){this.dragging=e;var t=this.getWindow(),n=e?"on":"off",r={on:m.on,off:m.off};r[n](t,"mousemove dragover",this.updateClientY),r[n](t,"mouseup",this.stopAutoscroll)},render:function(){var e=this.el,t=this.$el,n=this.ppfx,r=this.config;return t.attr({class:n+"frame"}),r.scripts.length?this.renderScripts():r.renderContent&&(e.onload=this.renderBody.bind(this)),this},renderScripts:function(){var i=this,o=this.el,e=this.config;o.onload=function(){return function e(t){var n,r;0<t.length?(n=t.shift(),(r=Object(g.createEl)("script",v({type:"text/javascript"},Object(f.isString)(n)?{src:n}:n))).onerror=r.onload=e.bind(null,t),o.contentDocument.head.appendChild(r)):i.renderBody()}(s()(e.scripts))}},renderBody:function(){var n=this,e=this.config,t=this.model,r=this.ppfx,i=t.get("root"),o=t.get("styles"),s=e.em,a=this.getDoc(),l=this.getHead(),c=this.getBody(),u=(this.getWindow(),s.get("Config")),d=[];e.styles.forEach(function(e){return d.push(Object(f.isString)(e)?{tag:"link",attributes:{href:e,rel:"stylesheet"}}:{tag:"link",attributes:v({rel:"stylesheet"},e)})}),d.length&&Object(g.appendVNodes)(l,d);Object(g.append)(c,"<style>\n      ".concat(u.baseCss||"","\n\n      .").concat(r,"dashed *[data-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(r,"selected {\n        outline: 3px solid #3b97e3 !important;\n        outline-offset: -3px;\n      }\n\n      .").concat(r,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(r,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(r,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(r,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(r,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(r,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(r,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(r,"is__grabbing,\n      .").concat(r,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(u.canvasCss||"","\n      ").concat(u.protectedCss||"","\n    </style>")),this.root=new p.default({model:i,config:v({},i.config,{frameView:this})}).render(),Object(g.append)(c,this.root.el),Object(g.append)(c,new h.default({collection:o,config:v({},s.get("CssComposer").getConfig(),{frameView:this})}).render().el),Object(g.append)(c,this.getJsContainer()),Object(m.on)(c,"click",function(e){return e&&"A"==e.target.tagName&&e.preventDefault()}),Object(m.on)(c,"submit",function(e){return e&&e.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousemove",class:"MouseEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(t){return t.event.split(" ").forEach(function(e){a.addEventListener(e,function(e){return n.el.dispatchEvent(Object(g.createCustomEvent)(e,t.class))})})}),this._toggleEffects(1),t.trigger("loaded")},_toggleEffects:function(e){(e?m.on:m.off)(this.getWindow(),"".concat(g.motionsEv," resize"),this._emitUpdate)},_emitUpdate:function(){this.model._emitUpdated()}})},"./src/canvas/view/FrameWrapView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),l=n("./src/canvas/view/FrameView.js"),g=n("./node_modules/underscore/underscore.js"),m=n("./src/utils/dom.js"),c=n("./src/utils/Dragger.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.View.extend({events:{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"},initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};Object(g.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var i=this.model,o=v({},n.config||r,{frameWrapView:this}),s=o.canvasView,a=o.em;this.cv=s,this.config=o,this.em=a,this.canvas=a&&a.get("Canvas"),this.ppfx=o.pStylePrefix||"",this.frame=new l.default({model:i,config:o}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.listenTo(i,"loaded",this.frameLoaded),this.listenTo(i,"change:x change:y",this.updatePos),this.listenTo(i,"change:width change:height",this.updateSize),this.updatePos(),this.setupDragger()},setupDragger:function(){function r(e){t.toggleFramesEvents(e)}var i,o,s,a=this,t=this.canvas,l=this.model;this.dragger=new c.default({onStart:function(){var e=l.attributes,t=e.x,n=e.y;s=a.em.getZoomMultiplier(),i=t,o=n,r()},onEnd:function(){return r(1)},setPosition:function(e){l.set({x:i+e.x*s,y:o+e.y*s})}})},startDrag:function(e){e&&this.dragger.start(e)},remove:function(){return s.a.View.prototype.remove.apply(this,arguments),this.frame.remove(),this},updateOffset:Object(g.debounce)(function(){var e=this.em,t=this.$el,n=this.frame;e.runDefault({preserveSelected:1}),t.removeClass(this.classAnim),n.model._emitUpdated()}),updatePos:function(e){var t=this.model,n=this.el,r=t.attributes,i=r.x,o=r.y,s=n.style;this.frame.rect=0,s.left=isNaN(i)?i:"".concat(i,"px"),s.top=isNaN(o)?o:"".concat(o,"px"),e&&this.updateOffset()},updateSize:Object(g.debounce)(function(){this.updateDim()}),updateDim:function(){var e,t=this.em,n=this.el,r=this.$el,i=this.model,o=this.classAnim,s=i.attributes,a=s.width,l=s.height,c=n.style,u=c.width||"",d=c.height||"",f=a||"",h=l||"",p=u==f&&d==h;this.frame.rect=0,r.addClass(o),c.width=Object(g.isNumber)(f)?"".concat(f).concat("px"):f,c.height=Object(g.isNumber)(h)?"".concat(h).concat("px"):h,(Object(g.isNull)(a)||Object(g.isNull)(l))&&(e=v({},a?{}:{width:n.offsetWidth},{},l?{}:{height:n.offsetHeight}),i.set(e,{silent:1})),t.stopDefault({preserveSelected:1}),p?this.updateOffset():r.one(m.motionsEv,this.updateOffset)},onScroll:function(){var e=this.frame;this.em.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},frameLoaded:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},render:function(){var e=this.frame,t=this.$el,n=this.ppfx,r=this.cv,i=this.model,o=this.el,s=i.attributes.onRender;e.render(),t.empty().attr({class:"".concat(n,"frame-wrapper")}).append('\n      <div class="'.concat(n,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(n,'frame-wrapper__name" data-action-move>\n          ').concat(i.get("name")||"",'\n        </div>\n        <div class="').concat(n,'frame-wrapper__top-r">\n          <div class="').concat(n,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(n,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(n,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(n,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(e.el);var a=Object(m.createEl)("div",{class:"".concat(n,"tools"),style:"pointer-events:none; opacity: 0"},'\n      <div class="'.concat(n,'highlighter" data-hl></div>\n      <div class="').concat(n,'badge" data-badge></div>\n      <div class="').concat(n,'placeholder">\n        <div class="').concat(n,'placeholder-int"></div>\n      </div>\n      <div class="').concat(n,'ghost"></div>\n      <div class="').concat(n,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(n,'resizer"></div>\n      <div class="').concat(n,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(n,'offset-fixed-v"></div>\n    '));return this.elTools=a,r.toolsWrapper.appendChild(a),s&&s({el:o,elTop:o.querySelector("[data-frame-top]"),elRight:o.querySelector("[data-frame-right]"),elBottom:o.querySelector("[data-frame-bottom]"),elLeft:o.querySelector("[data-frame-left]"),frame:i,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}})},"./src/canvas/view/FramesView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/domain_abstract/view/DomainViews.js"),i=n("./src/canvas/view/FrameWrapView.js");t.default=r.default.extend({itemView:i.default,autoAdd:1,init:function(){this.listenTo(this.collection,"reset",this.render)},onRender:function(){var e=this.config,t=this.$el,n=e.em;n&&t.attr({class:"".concat(n.getConfig("stylePrefix"),"frames")})}})},"./src/code_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"cm-",inlineCss:!1}},"./src/code_manager/index.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js"),l=n("./src/code_manager/config/config.js"),c=n("./src/code_manager/model/HtmlGenerator.js"),u=n("./src/code_manager/model/CssGenerator.js"),d=n("./src/code_manager/model/JsonGenerator.js"),f=n("./src/code_manager/model/JsGenerator.js"),h=n("./src/code_manager/model/CodeMirrorEditor.js"),p=n("./src/code_manager/view/EditorView.js");t.default=function(){var o={},n={},r={},i={},s={};return{getConfig:function(){return o},config:o,EditorView:p.default,name:"CodeManager",init:function(e){for(var t in o=e||{},l.default)t in o||(o[t]=l.default[t]);var n=o.pStylePrefix;return n&&(o.stylePrefix=n+o.stylePrefix),r.html=new c.default,r.css=new u.default,r.json=new d.default,r.js=new f.default,s.CodeMirror=new h.default,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(e,t){return n[e]=t,this},getGenerator:function(e){return n[e]||null},getGenerators:function(){return n},addViewer:function(e,t){return i[e]=t,this},getViewer:function(e){return i[e]||null},getViewers:function(){return i},createViewer:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=Object(a.isUndefined)(t.type)?"CodeMirror":t.type,r=this.getViewer(n)&&this.getViewer(n).clone(),i=document.createElement("div"),o=document.createElement("textarea");return i.appendChild(o),r.set(t),r.init(o),r.setElement(i),r},updateViewer:function(e,t){e.setContent(t)},getCode:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};r.em=o.em;var i=this.getGenerator(t);return i?i.build(e,r):""},loadDefaultGenerators:function(){for(var e in r)this.addGenerator(e,r[e]);return this},loadDefaultViewers:function(){for(var e in s)this.addViewer(e,s[e]);return this}}}},"./src/code_manager/model/CodeMirrorEditor.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),l=n("./node_modules/codemirror/lib/codemirror.js"),c=n.n(l);n("./node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),n("./node_modules/codemirror/mode/css/css.js"),n("./node_modules/codemirror-formatting/formatting.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=a.a.Model.extend({defaults:{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0},init:function(e){return Object(o.bindAll)(this,"onChange"),this.editor=c.a.fromTextArea(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},onChange:function(){this.trigger("update",this)},getEditor:function(){return this.editor},getElement:function(){return this.element},setElement:function(e){return this.element=e,this},refresh:function(){return this.getEditor().refresh(),this},focus:function(){return this.getEditor().focus(),this},getContent:function(){var e=this.getEditor();return e&&e.getValue()},setContent:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:{},i=this.editor;i&&(i.setValue(e),i.autoFormatRange&&(c.a.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),c.a.commands.goDocStart(i)),r.noRefresh||setTimeout(function(){return n.refresh()}))}})},"./src/code_manager/model/CssGenerator.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),d=n("./node_modules/underscore/underscore.js"),o=Number.MAX_VALUE;t.default=i.a.Model.extend({initialize:function(){this.compCls=[],this.ids=[]},buildFromModel:function(e,t){var n,r=this,i=1<arguments.length&&void 0!==t?t:{},o="",s=this.em,a=s&&s.getConfig("avoidInlineStyle"),l=e.styleToString(),c=e.get("classes"),u=i.wrapperIsBody,d=e.get("wrapper");return this.ids.push("#".concat(e.getId())),c.each(function(e){return r.compCls.push(e.getFullName())}),!a&&l&&(n="#".concat(e.getId()),o="".concat(n=u&&d?"body":n,"{").concat(l,"}")),e.components().each(function(e){return o+=r.buildFromModel(e,i)}),o},build:function(e,t){var i=this,o=1<arguments.length&&void 0!==t?t:{},n=o.cssc,r=o.em||"";this.em=r,this.compCls=[],this.ids=[];var s,a,l,c=this.buildFromModel(e,o),u=Object(d.isUndefined)(o.clearStyles)&&r?r.getConfig("clearStyles"):o.clearStyles;return n&&(s=n.getAll(),a={},l=[],s.each(function(e){var t,n=e.getAtRule();n?(t=a[n])?t.push(e):a[n]=[e]:c+=i.buildFromRule(e,l,o)}),this.sortMediaObject(a).forEach(function(e){var n="",r=e.key;e.value.forEach(function(e){var t=i.buildFromRule(e,l,o);e.get("singleAtRule")?c+="".concat(r,"{").concat(t,"}"):n+=t}),n&&(c+="".concat(r,"{").concat(n,"}"))}),r&&u&&s.remove(l)),c},buildFromRule:function(e,t,n){var r,i,o=this,s=2<arguments.length&&void 0!==n?n:{},a="",l=e.selectorsToString({skipAdd:1}),c=e.get("selectorsAdd"),u=e.get("singleAtRule");return e.get("selectors").each(function(e){var t=e.getFullName();(0<=o.compCls.indexOf(t)||0<=o.ids.indexOf(t)||s.keepUnusedStyles)&&(r=1)}),l&&r||c||u?(i=e.getDeclaration())&&(a+=i):t.push(e),a},getQueryLength:function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):o},sortMediaObject:function(e){var o=this,t=0<arguments.length&&void 0!==e?e:{},n=[];return Object(d.each)(t,function(e,t){return n.push({key:t,value:e})}),n.sort(function(e,t){var n=[e.key,t.key].every(function(e){return-1!==e.indexOf("min-width")}),r=n?e.key:t.key,i=n?t.key:e.key;return o.getQueryLength(r)-o.getQueryLength(i)})}})},"./src/code_manager/model/HtmlGenerator.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),s=n.n(o);function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=s.a.Model.extend({build:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=e.get("components");return n.exportWrapper?e.toHTML(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n.wrapperIsBody&&{tag:"body"})):this.buildModels(r)},buildModels:function(e){var t="";return e.each(function(e){t+=e.toHTML()}),t}})},"./src/code_manager/model/JsGenerator.js":function(e,t,n){"use strict";n.r(t);var c=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({mapModel:function(e){var t,n,r,i="",o=e.get("script-export")||e.get("script"),s=e.get("type"),a=e.get("components"),l=e.getId();return o&&(t=e.get("attributes"),t=Object(c.extend)({},t,{id:l}),e.set("attributes",t,{silent:1}),n=e.getScriptString(o),e.get("scriptUpdated")?this.mapJs[s+"-"+l]={ids:[l],code:n}:(r=this.mapJs[s])?r.ids.push(l):this.mapJs[s]={ids:[l],code:n}),a.each(function(e){i+=this.mapModel(e)},this),i},build:function(e){this.mapJs={},this.mapModel(e);var t="";for(var n in this.mapJs){var r=this.mapJs[n],i="#"+r.ids.join(", #");t+="\n        var items = document.querySelectorAll('".concat(i,"');\n        for (var i = 0, len = items.length; i < len; i++) {\n          (function(){").concat(r.code,"}.bind(items[i]))();\n        }")}return t}})},"./src/code_manager/model/JsonGenerator.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i);t.default=o.a.Model.extend({build:function(e){var i=e.toJSON();return this.beforeEach(i),Object(r.each)(i,function(e,n){var t,r=i[n];r instanceof o.a.Model?i[n]=this.build(r):r instanceof o.a.Collection&&(t=r,i[n]=[],t.length&&t.each(function(e,t){i[n][t]=this.build(e)},this))},this),i},beforeEach:function(e){delete e.status}})},"./src/code_manager/view/EditorView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i);t.default=o.a.View.extend({template:Object(r.template)('\n  <div class="<%= pfx %>editor" id="<%= pfx %><%= codeName %>">\n  \t<div id="<%= pfx %>title"><%= label %></div>\n  \t<div id="<%= pfx %>code"></div>\n  </div>'),initialize:function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},render:function(){var e=this.model.toJSON();return e.pfx=this.pfx,this.$el.html(this.template(e)),this.$el.attr("class",this.pfx+"editor-c"),this.$el.find("#"+this.pfx+"code").append(this.model.get("input")),this}})},"./src/commands/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"com-",defaults:[],strict:1}},"./src/commands/index.js":function(e,t,u){"use strict";u.r(t);var n=u("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),y=u.n(n),r=u("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=u.n(r),b=u("./node_modules/underscore/underscore.js"),d=u("./src/commands/view/CommandAbstract.js"),f=u("./src/commands/config/config.js"),w=u("./src/dom_components/model/Component.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var s,a={},n={},o={},l={},c=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];return{CommandAbstract:d.default,name:"Commands",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};a=h({},f.default,{},t),s=a.em;var n=a.pStylePrefix;for(var r in n&&(a.stylePrefix=n+a.stylePrefix),a.defaults){var i=a.defaults[r];i.id&&this.add(i.id,i)}return o["tlb-delete"]={run:function(e){return e.runCommand("core:component-delete")}},o["tlb-clone"]={run:function(e){e.runCommand("core:copy"),e.runCommand("core:paste")}},o["tlb-move"]={run:function(r,e,t){function n(){return o.stopDefault(d)}var i=2<arguments.length&&void 0!==t?t:{},o=r.getModel(),s=i&&i.event,a=i.target,l=a||r.getSelected(),c=a?[a]:y()(r.getSelectedAll()),u=s&&"dragstart"==s.type,d={preserveSelected:1},f=l.get("dmode")||o.get("dmode"),h=Object(b.includes)(["absolute","translate"],f);if(c.forEach(function(e){return e.trigger("disable")}),!l||!l.get("draggable"))return o.logWarning("The element is not draggable");u?setTimeout(n,0):n();function p(e){o.trigger("".concat(w.eventDrag,":start"),e)}function g(e){o.trigger(w.eventDrag,e)}function m(e,t,n){o.runDefault(d),c.forEach(function(e){return e.set("status","selected")}),r.select(c),l.emitUpdate(),o.trigger("".concat(w.eventDrag,":end"),n),(h||n.cancelled)&&o.set("_cmpDrag",1)}var v;h?r.runCommand("core:component-drag",{guidesInfo:1,mode:f,target:l,onStart:p,onDrag:g,onEnd:m,event:s}):(u&&s.dataTransfer.setDragImage(l.view.el,0,0),(v=r.Commands.get("move-comp")).onStart=p,v.onDrag=g,v.onEndMoveFromModel=m,v.initSorterFromModels(c)),c.forEach(function(e){return e.set("status","freezed-selected")})}},o["core:undo"]=function(e){return e.UndoManager.undo()},o["core:redo"]=function(e){return e.UndoManager.redo()},c.forEach(function(e){var t=e[2],n=u("./src/commands/view sync recursive ^\\.\\/.*$")("./".concat(e[1])).default,i="core:".concat(e[0]);o[i]=n,t&&(o[t]=n,["run","stop"].forEach(function(r){s.on("".concat(r,":").concat(t),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.trigger.apply(s,["".concat(r,":").concat(i)].concat(t))})}))}),a.em&&(a.model=a.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(e,t){return Object(b.isFunction)(t)&&(t={run:t}),t.stop||(t.noStop=1),delete t.initialize,t.id=e,n[e]=d.default.extend(t),this},get:function(e){var t=n[e];return Object(b.isFunction)(t)?(t=new t(a),n[e]=t):t||s.logWarning("'".concat(e,"' command not found")),t},extend:function(t,e){var n,r,i=1<arguments.length&&void 0!==e?e:{},o=this.get(t);return o&&(n=h({},o.constructor.prototype,{},i),this.add(t,n),(r=c.filter(function(e){return"core:".concat(e[0])===t&&e[2]})[0])&&this.add(r[2],n)),this},has:function(e){return!!n[e]},getAll:function(){return n},run:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.runCommand(this.get(e),n)},stop:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.stopCommand(this.get(e),n)},isActive:function(e){return this.getActive().hasOwnProperty(e)},getActive:function(){return l},loadDefaultCommands:function(){for(var e in o)this.add(e,o[e]);return this},runCommand:function(e,t){var n,r,i,o=1<arguments.length&&void 0!==t?t:{};return e&&e.run&&(r=e.id,i=s.get("Editor"),this.isActive(r)&&!o.force&&a.strict||(n=e.callRun(i,o),r&&e.stop&&!e.noStop&&!o.abort&&(l[r]=n))),n},stopCommand:function(e,t){var n,r,i,o=1<arguments.length&&void 0!==t?t:{};return e&&e.run&&(r=e.id,i=s.get("Editor"),!this.isActive(r)&&!o.force&&a.strict||(r&&delete l[r],n=e.callStop(i,o))),n},create:function(e){return e.stop||(e.noStop=1),new(d.default.extend(e))(a)}}}},"./src/commands/view sync recursive ^\\.\\/.*$":function(e,t,n){var r={"./CanvasClear":"./src/commands/view/CanvasClear.js","./CanvasClear.js":"./src/commands/view/CanvasClear.js","./CanvasMove":"./src/commands/view/CanvasMove.js","./CanvasMove.js":"./src/commands/view/CanvasMove.js","./CommandAbstract":"./src/commands/view/CommandAbstract.js","./CommandAbstract.js":"./src/commands/view/CommandAbstract.js","./ComponentDelete":"./src/commands/view/ComponentDelete.js","./ComponentDelete.js":"./src/commands/view/ComponentDelete.js","./ComponentDrag":"./src/commands/view/ComponentDrag.js","./ComponentDrag.js":"./src/commands/view/ComponentDrag.js","./ComponentEnter":"./src/commands/view/ComponentEnter.js","./ComponentEnter.js":"./src/commands/view/ComponentEnter.js","./ComponentExit":"./src/commands/view/ComponentExit.js","./ComponentExit.js":"./src/commands/view/ComponentExit.js","./ComponentNext":"./src/commands/view/ComponentNext.js","./ComponentNext.js":"./src/commands/view/ComponentNext.js","./ComponentPrev":"./src/commands/view/ComponentPrev.js","./ComponentPrev.js":"./src/commands/view/ComponentPrev.js","./ComponentStyleClear":"./src/commands/view/ComponentStyleClear.js","./ComponentStyleClear.js":"./src/commands/view/ComponentStyleClear.js","./CopyComponent":"./src/commands/view/CopyComponent.js","./CopyComponent.js":"./src/commands/view/CopyComponent.js","./DeleteComponent":"./src/commands/view/DeleteComponent.js","./DeleteComponent.js":"./src/commands/view/DeleteComponent.js","./ExportTemplate":"./src/commands/view/ExportTemplate.js","./ExportTemplate.js":"./src/commands/view/ExportTemplate.js","./Fullscreen":"./src/commands/view/Fullscreen.js","./Fullscreen.js":"./src/commands/view/Fullscreen.js","./MoveComponent":"./src/commands/view/MoveComponent.js","./MoveComponent.js":"./src/commands/view/MoveComponent.js","./OpenAssets":"./src/commands/view/OpenAssets.js","./OpenAssets.js":"./src/commands/view/OpenAssets.js","./OpenBlocks":"./src/commands/view/OpenBlocks.js","./OpenBlocks.js":"./src/commands/view/OpenBlocks.js","./OpenLayers":"./src/commands/view/OpenLayers.js","./OpenLayers.js":"./src/commands/view/OpenLayers.js","./OpenStyleManager":"./src/commands/view/OpenStyleManager.js","./OpenStyleManager.js":"./src/commands/view/OpenStyleManager.js","./OpenTraitManager":"./src/commands/view/OpenTraitManager.js","./OpenTraitManager.js":"./src/commands/view/OpenTraitManager.js","./PasteComponent":"./src/commands/view/PasteComponent.js","./PasteComponent.js":"./src/commands/view/PasteComponent.js","./Preview":"./src/commands/view/Preview.js","./Preview.js":"./src/commands/view/Preview.js","./Resize":"./src/commands/view/Resize.js","./Resize.js":"./src/commands/view/Resize.js","./SelectComponent":"./src/commands/view/SelectComponent.js","./SelectComponent.js":"./src/commands/view/SelectComponent.js","./SelectPosition":"./src/commands/view/SelectPosition.js","./SelectPosition.js":"./src/commands/view/SelectPosition.js","./ShowOffset":"./src/commands/view/ShowOffset.js","./ShowOffset.js":"./src/commands/view/ShowOffset.js","./SwitchVisibility":"./src/commands/view/SwitchVisibility.js","./SwitchVisibility.js":"./src/commands/view/SwitchVisibility.js"};function i(e){var t=o(e);return n(t)}function o(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id="./src/commands/view sync recursive ^\\.\\/.*$"},"./src/commands/view/CanvasClear.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){e.DomComponents.clear(),e.CssComposer.clear()}}},"./src/commands/view/CanvasMove.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),a=n("./src/utils/mixins.js"),s=n("./src/utils/Dragger.js");t.default={run:function(e){Object(r.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=e,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(){this.toggleMove(),this.disableDragger()},onKeyUp:function(e){" "===Object(a.getKeyChar)(e)&&this.editor.stopCommand(this.id)},enableDragger:function(e){this.toggleDragger(1,e)},disableDragger:function(e){this.toggleDragger(0,e)},toggleDragger:function(e,t){var r=this.canvasModel,n=this.em,i=this.dragger,o=e?"add":"remove";this.getCanvas().classList[o]("".concat(this.ppfx,"is__grabbing")),i||(i=new s.default({getPosition:function(){return{x:r.get("x"),y:r.get("y")}},setPosition:function(e){var t=e.x,n=e.y;r.set({x:t,y:n})},onStart:function(e,t){n.trigger("canvas:move:start",t)},onDrag:function(e,t){n.trigger("canvas:move",t)},onEnd:function(e,t){n.trigger("canvas:move:end",t)}}),this.dragger=i),e?i.start(t):i.stop()},toggleMove:function(e){var t=this.ppfx,n=e?"add":"remove",r=e?"on":"off",i={on:a.on,off:a.off},o=this.getCanvas(),s=["".concat(t,"is__grab")];e||s.push("".concat(t,"is__grabbing")),s.forEach(function(e){return o.classList[n](e)}),i[r](document,"keyup",this.onKeyUp),i[r](o,"mousedown",this.enableDragger),i[r](document,"mouseup",this.disableDragger)}}},"./src/commands/view/CommandAbstract.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);i.a.$;t.default=i.a.View.extend({initialize:function(e){this.config=e||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.em.get&&this.setElement(this.getCanvas()),this.canvas&&(this.$canvas=this.$el,this.canvasTool=this.getCanvasTools()),this.init(this.config)},onFrameScroll:function(){},getCanvas:function(){return this.canvas.getElement()},getCanvasBody:function(){return this.canvas.getBody()},getCanvasWrapper:function(){return this.canvas.getWrapperEl()},getCanvasTools:function(){return this.canvas.getToolsEl()},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+e.ownerDocument.body.scrollTop,left:t.left+e.ownerDocument.body.scrollLeft}},init:function(){},callRun:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.id;if(e.trigger("run:".concat(r,":before"),n),!n||!n.abort){var i=n.sender||e,o=this.run(e,i,n);return e.trigger("run:".concat(r),o,n),e.trigger("run",r,o,n),o}e.trigger("abort:".concat(r),n)},callStop:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.id,i=n.sender||e;e.trigger("stop:".concat(r,":before"),n);var o=this.stop(e,i,n);return e.trigger("stop:".concat(r),o,n),e.trigger("stop",r,o,n),o},stopCommand:function(){this.em.get("Commands").stop(this.id)},run:function(){},stop:function(){}})},"./src/commands/view/ComponentDelete.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(r),s=n("./node_modules/underscore/underscore.js");t.default={run:function(e,t,n){var r=this,i=(2<arguments.length&&void 0!==n?n:{}).component||e.getSelectedAll(),i=Object(s.isArray)(i)?o()(i):[i];return e.select(null),i.forEach(function(e){return e&&e.get("removable")?void e.remove():r.em.logWarning("The element is not removable",{component:e})}),i}}},"./src/commands/view/ComponentDrag.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),A=n("./node_modules/underscore/underscore.js"),f=n("./src/utils/Dragger.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default={run:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n?n:{};Object(A.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var o=i.target,s=i.event,a=i.mode,l=i.dragger,c=void 0===l?{}:l,u=M({doc:o.getEl().ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return r.guidesStatic},guidesTarget:function(){return r.guidesTarget}},c);this.setupGuides(),this.opts=i,this.editor=e,this.em=e.getModel(),this.target=o,this.isTran="translate"==a,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var d=this.dragger;return d?d.setOptions(u):(d=new f.default(u),this.dragger=d),s&&d.start(s),this.toggleDrag(1),this.em.trigger("".concat("dmode",":start"),this.getEventOpts()),d},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(e){var t=e.guide;t&&t.parentNode.removeChild(t)}),this.guides=[]},getGuidesContainer:function(){var e,t,n,r,i,o,s,a=this,l=this.guidesEl;return l||(e=this.editor,t=this.em,n=this.opts,r=e.getConfig("stylePrefix"),i=document.createElement("div"),o=document.createElement("div"),s='<div class="'.concat(r,"guide-info__line ").concat(r,'danger-bg">\n        <div class="').concat(r,"guide-info__content ").concat(r,'danger-color"></div>\n      </div>'),(l=document.createElement("div")).className="".concat(r,"guides"),i.className="".concat(r,"guide-info ").concat(r,"guide-info__x"),o.className="".concat(r,"guide-info ").concat(r,"guide-info__y"),i.innerHTML=s,o.innerHTML=s,l.appendChild(i),l.appendChild(o),e.Canvas.getGlobalToolsEl().appendChild(l),this.guidesEl=l,this.elGuideInfoX=i,this.elGuideInfoY=o,this.elGuideInfoContentX=i.querySelector(".".concat(r,"guide-info__content")),this.elGuideInfoContentY=o.querySelector(".".concat(r,"guide-info__content")),t.on("canvas:update frame:scroll",Object(A.debounce)(function(){a.updateGuides(),n.debug&&a.guides.forEach(function(e){return a.renderGuide(e)})},200))),l},getGuidesStatic:function(){var t=this,n=[],r=this.target.getEl(),e=r.parentNode,i=void 0===e?{}:e;return Object(A.each)(i.children,function(e){return n=n.concat(r!==e?t.getElementGuides(e):[])}),n.concat(this.getElementGuides(i))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(e){var r,i,o=this;(e||this.guides).forEach(function(n){var e=n.origin,t=r===e?i:o.getElementPos(e);r=e,i=t,Object(A.each)(o.getGuidePosUpdate(n,t),function(e,t){return n[t]=e}),n.originRect=t})},getGuidePosUpdate:function(e,t){var n={},r=t.top,i=t.height,o=t.left,s=t.width;switch(e.type){case"t":n.y=r;break;case"b":n.y=r+i;break;case"l":n.x=o;break;case"r":n.x=o+s;break;case"x":n.x=o+s/2;break;case"y":n.y=r+i/2}return n},renderGuide:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.guide||document.createElement("div"),r=t.active?2:1,i=n.children[0];return n.style="position: absolute; background-color: ".concat(t.active?"green":"red",";"),n.children.length||((i=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",n.appendChild(i)),t.y?(n.style.width="100%",n.style.height="".concat(r).concat("px"),n.style.top="".concat(t.y).concat("px"),n.style.left=0):(n.style.width="".concat(r).concat("px"),n.style.height="100%",n.style.left="".concat(t.x).concat("px"),n.style.top="0".concat("px")),t.guide||this.guidesContainer.appendChild(n),n},getElementPos:function(e){return this.editor.Canvas.getElementPos(e,{noScroll:1})},getElementGuides:function(t){var n=this,r=this.opts,i=this.getElementPos(t),e=i.top,o=i.height,s=i.left,a=i.width,l=[{type:"t",y:e},{type:"b",y:e+o},{type:"l",x:s},{type:"r",x:s+a},{type:"x",x:s+a/2},{type:"y",y:e+o/2}].map(function(e){return M({},e,{origin:t,originRect:i,guide:r.debug&&n.renderGuide(e)})});return l.forEach(function(e){return n.guides.push(e)}),l},getTranslate:function(e,t){var r=1<arguments.length&&void 0!==t?t:"x",i=0;return(e||"").split(" ").forEach(function(e){var t=e.trim(),n="translate".concat(r.toUpperCase(),"(");0===t.indexOf(n)&&(i=parseFloat(t.replace(n,"")))}),i},setTranslate:function(e,t,n){var r="translate".concat(t.toUpperCase(),"("),i="".concat(r).concat(n,")"),o=(e||"").split(" ").map(function(e){return 0===e.trim().indexOf(r)&&(e=i),e}).join(" ");return o.indexOf(r)<0&&(o+=" ".concat(i)),o},getPosition:function(){var e=this.target,t=this.isTran,n=e.getStyle(),r=n.left,i=n.top,o=n.transform,s=0,a=0,a=t?(s=this.getTranslate(o),this.getTranslate(o,"y")):(s=parseFloat(r),parseFloat(i));return{x:s,y:a}},setPosition:function(e){var t=e.x,n=e.y,r=e.end,i=e.position,o=e.width,s=e.height,a=this.target,l=this.isTran,c=r?"":1,u="".concat(t).concat("px"),d="".concat(n).concat("px");if(l){var f=a.getStyle().transform||"",f=this.setTranslate(f,"x",u);return f=this.setTranslate(f,"y",d),a.addStyle({transform:f,en:c},{avoidStore:!r})}var h={position:i,width:o,height:s},p={left:u,top:d,en:c};Object(A.keys)(h).forEach(function(e){var t=h[e];t&&(p[e]=t)}),a.addStyle(p,{avoidStore:!r})},_getDragData:function(){var e=this.target;return{target:e,parent:e.parent(),index:e.index()}},onStart:function(){var e,t,n,r,i,o,s=this.target,a=this.editor,l=this.isTran,c=this.opts,u=c.center,d=c.onStart,f=a.Canvas,h=s.getStyle();d&&d(this._getDragData()),l||"absolute"!==h.position&&(i=(e=f.offset(s.getEl())).left,o=e.top,t=e.width,n=e.height,u&&(i=(r=f.getMouseRelativeCanvas(event)).x,o=r.y),this.setPosition({x:i,y:o,width:"".concat(t,"px"),height:"".concat(n,"px"),position:"absolute"}))},onDrag:function(){var t=this,e=this.guidesTarget,n=this.opts,r=n.onDrag;this.updateGuides(e),n.debug&&e.forEach(function(e){return t.renderGuide(e)}),n.guidesInfo&&this.renderGuideInfo(e.filter(function(e){return e.active})),r&&r(this._getDragData())},onEnd:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this.editor,i=this.opts,o=this.id,s=i.onEnd;s&&s(e,n,M({event:e},n,{},this._getDragData())),r.stopCommand(o),this.hideGuidesInfo(),this.em.trigger("".concat("dmode",":end"),this.getEventOpts())},hideGuidesInfo:function(){var n=this;["X","Y"].forEach(function(e){var t=n["elGuideInfo".concat(e)];t&&(t.style.display="none")})},renderGuideInfo:function(e){var P=this,t=0<arguments.length&&void 0!==e?e:[],D=this.guidesStatic;this.hideGuidesInfo(),t.forEach(function(t){var e,n,r,i,o,s,a,l,c,u,d,f,h,p,g,m,v=t.origin,y=t.x,b=P.getElementPos(v),w=Object(A.isUndefined)(y)?"y":"x",x="y"===w,C=b[x?"left":"top"],j=b.rect[x?"left":"top"],S=x?C+b.width:C+b.height,k=x?j+b.rect.width:j+b.rect.height,O=P["elGuideInfo".concat(w.toUpperCase())],_=P["elGuideInfoContent".concat(w.toUpperCase())],T=O.style,E=D.filter(function(e){return e.type===t.type}).map(function(e){var t=e.originRect,n=t.left,r=t.width,i=t.top,o=t.height,s=x?n+r:i+o;return{gap:s<C?C-s:(x?n:i)-S,guide:e}}).filter(function(e){return 0<e.gap}).sort(function(e,t){return e.gap-t.gap}).map(function(e){return e.guide})[0];E&&(n=(e=E.originRect).left,r=e.width,i=e.top,o=e.height,s=e.rect,a=x?n<b.left:i<b.top,l=x?n:i,c=x?s.left:s.top,u=x?n+r:i+o,d=x?s.left+s.width:s.top+s.height,f=x?t.y:t.x,h=a?u:S,p="".concat(f,"px"),g=a?C-u:l-S,m=a?j-d:c-k,T.display="",T[x?"top":"left"]=p,T[x?"left":"top"]="".concat(h,"px"),T[x?"width":"height"]="".concat(g,"px"),_.innerHTML="".concat(Math.round(m),"px"),P.em.trigger("".concat("dmode",":active"),M({},P.getEventOpts(),{guide:t,guidesStatic:D,matched:E,posFirst:f,posSecond:h,size:g,sizeRaw:m,elGuideInfo:O,elGuideInfoCnt:_})))})},toggleDrag:function(e){var t=this.ppfx,n=this.editor,r=e?"add":"remove",i=["".concat(t,"is__grabbing")],o=n.Canvas,s=o.getBody();i.forEach(function(e){return s.classList[r](e)}),o[e?"startAutoscroll":"stopAutoscroll"]()}}},"./src/commands/view/ComponentEnter.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var r;e.Canvas.hasFocus()&&(r=[],e.getSelectedAll().forEach(function(e){var t=e.components(),n=t&&t.at(0);n&&r.push(n)}),r.length&&e.select(r))}}},"./src/commands/view/ComponentExit.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e,t,n){var r,i=2<arguments.length&&void 0!==n?n:{};(e.Canvas.hasFocus()||i.force)&&(r=[],e.getSelectedAll().forEach(function(e){for(var t=e.parent();t&&!t.get("selectable");)t=t.parent();t&&r.push(t)}),r.length&&e.select(r))}}},"./src/commands/view/ComponentNext.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var i;e.Canvas.hasFocus()&&(i=[],e.getSelectedAll().forEach(function(e){var t=e.collection,n=t.indexOf(e),r=t.at(n+1);i.push(r||e)}),i.length&&e.select(i))}}},"./src/commands/view/ComponentPrev.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var i;e.Canvas.hasFocus()&&(i=[],e.getSelectedAll().forEach(function(e){var t=e.collection,n=t.indexOf(e),r=t.at(n-1);i.push(r&&0<=n-1?r:e)}),i.length&&e.select(i))}}},"./src/commands/view/ComponentStyleClear.js":function(e,t,n){"use strict";n.r(t);var u=n("./node_modules/underscore/underscore.js");t.default={run:function(e,t,n){var r,i,o=(2<arguments.length&&void 0!==n?n:{}).target,s=e.DomComponents,a=o.get("type"),l=s.getWrapper().find('[data-gjs-type="'.concat(a,'"]')).length,c=[];return l||(r=e.CssComposer.getAll(),i=o.get("style-signature"),i=Object(u.isArray)(i)?i:[i],r.forEach(function(t){var n=t.selectorsToString();i.forEach(function(e){e&&0<=n.indexOf(e)&&c.push(t)})}),r.remove(c)),c}}},"./src/commands/view/CopyComponent.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r);t.default={run:function(e){var t=e.getModel(),n=i()(e.getSelectedAll());n.length&&t.set("clipboard",n)}}},"./src/commands/view/DeleteComponent.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),s=n("./src/commands/view/SelectComponent.js"),a=o.a.$;t.default=Object(r.extend)({},s.default,{init:function(){Object(r.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(e){e.stopPropagation();var t=a(e.target);t.data("model").get("removable")&&(t.addClass(this.hoverClass),this.attachBadge(t.get(0)))},stopDelete:function(e){e.stopPropagation(),a(e.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(e){e.stopPropagation();var t=a(e.target);t.data("model").get("removable")&&(t.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(e){this.badge.html("Remove "+e.getName())}})},"./src/commands/view/ExportTemplate.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),u=n.n(r).a.$;t.default={run:function(e,t,n){var r=this;t&&t.set&&t.set("active",0);var i,o,s,a=e.getConfig(),l=e.Modal,c=a.stylePrefix;this.cm=e.CodeManager||null,this.$editors||(i=this.buildEditor("htmlmixed","hopscotch","HTML"),o=this.buildEditor("css","hopscotch","CSS"),this.htmlEditor=i.el,this.cssEditor=o.el,(s=u('<div class="'.concat(c,'export-dl"></div>'))).append(i.$el).append(o.$el),this.$editors=s),l.open({title:a.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return e.stopCommand(r.id)}),this.htmlEditor.setContent(e.getHtml()),this.cssEditor.setContent(e.getCss())},stop:function(e){var t=e.Modal;t&&t.close()},buildEditor:function(e,t,n){var r=document.createElement("textarea");this.codeMirror||(this.codeMirror=this.cm.getViewer("CodeMirror"));var i=this.codeMirror.clone().set({label:n,codeName:e,theme:t,input:r}),o=new this.cm.EditorView({model:i,config:this.cm.getConfig()}).render().$el;return i.init(r),{el:i,$el:o}}}},"./src/commands/view/Fullscreen.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js");t.default={isEnabled:function(){var e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement?1:0},enable:function(e){var t="";return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?(t="webkit",e.webkitRequestFullscreen()):e.mozRequestFullScreen?(t="moz",e.mozRequestFullScreen()):e.msRequestFullscreen?e.msRequestFullscreen():console.warn("Fullscreen not supported"),t},disable:function(){var e=document;this.isEnabled()&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},fsChanged:function(e){document;var t=(e||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(t,this.fsChanged))},run:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};this.sender=t;var i=r.target,o=Object(a.isElement)(i)?i:document.querySelector(i),s=this.enable(o||e.getContainer());this.fsChanged=this.fsChanged.bind(this,s),document.addEventListener(s+"fullscreenchange",this.fsChanged),e.trigger("change:canvasOffset")},stop:function(e,t){t&&t.set&&t.set("active",!1),this.disable(),e&&e.trigger("change:canvasOffset")}}},"./src/commands/view/MoveComponent.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),s=n("./src/utils/mixins.js"),a=n("./src/commands/view/SelectComponent.js"),l=n("./src/commands/view/SelectPosition.js"),c=o.a.$;t.default=Object(r.extend)({},l.default,a.default,{init:function(e){a.default.init.apply(this,arguments),Object(r.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=e,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.enable.apply(this,t),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var r=this.$wrapper;r.css("cursor","move"),r.on("mousedown",this.initSorter),r.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(e){var t=c(e.target).data("model").get("draggable");t&&(this.cacheEl=null,this.startSelectPosition(e.target,this.frameEl.contentDocument),this.sorter.draggable=t,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),Object(s.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(e){var t,n=e.get("draggable");n&&(this.cacheEl=null,t=e.view.el,this.startSelectPosition(t,this.frameEl.contentDocument),this.sorter.draggable=n,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(s.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModels:function(e){this.cacheEl=null;var t=e[e.length-1],n=(this.em.get("currentFrame")||{}).model,r=t.getEl(n),i=r.ownerDocument;this.startSelectPosition(r,i,{onStart:this.onStart}),this.sorter.draggable=t.get("draggable"),this.sorter.toMove=e,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(s.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){Object(s.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),Object(s.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(){},rollback:function(e,t){27!=(e.which||e.keyCode)&&!t||(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=c(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=c(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.stop.apply(this,t),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},"./src/commands/view/OpenAssets.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e,t,n){var r,i,o=this,s=2<arguments.length&&void 0!==n?n:{},a=e.Modal,l=e.AssetManager,c=l.getConfig(),u=l.getContainer(),d=s.modalTitle||e.t("assetManager.modalTitle")||"",f=s.types,h=s.accept;return l.setTarget(s.target),l.onClick(s.onClick),l.onDblClick(s.onDblClick),l.onSelect(s.onSelect),this.rendered&&!f||(r=l.getAll().filter(function(e){return 1}),f&&f.length&&(r=r.filter(function(e){return-1!==f.indexOf(e.get("type"))})),l.render(r),this.rendered=1),!h||(i=u.querySelector("input#".concat(c.stylePrefix,"uploadFile")))&&i.setAttribute("accept",h),a.open({title:d,content:u}).getModel().once("change:open",function(){return e.stopCommand(o.id)}),this},stop:function(e){return e.Modal.close(),this}}},"./src/commands/view/OpenBlocks.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var t,n,r,i=e.BlockManager,o=e.Panels;this.blocks||(i.render(),t="views-container",n=document.createElement("div"),r=o.getPanel(t)||o.addPanel({id:t}),n.appendChild(i.getContainer()),r.set("appendContent",n).trigger("change:appendContent"),this.blocks=n),this.blocks.style.display="block"},stop:function(){var e=this.blocks;e&&(e.style.display="none")}}},"./src/commands/view/OpenLayers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);n("./src/navigator/index.js"),i.a.$;t.default={run:function(e){var t,n,r,i=e.LayerManager,o=e.Panels;this.layers||(t="views-container",n=document.createElement("div"),r=o.getPanel(t)||o.addPanel({id:t}),n.appendChild(i.render()),r.set("appendContent",n).trigger("change:appendContent"),this.layers=n),this.layers.style.display="block"},stop:function(){var e=this.layers;e&&(e.style.display="none")}}},"./src/commands/view/OpenStyleManager.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),a=n.n(r).a.$;t.default={run:function(e,t){var n,r,i,o,s;this.sender=t,this.$cn||(n=e.getConfig(),r=e.Panels,this.$cn=a("<div></div>"),this.$cn2=a("<div></div>"),this.$cn.append(this.$cn2),(i=e.DeviceManager)&&n.showDevices&&r.addPanel({id:"devices-c"}).set("appendContent",i.render()).trigger("change:appendContent"),(o=e.SelectorManager)&&this.$cn2.append(o.render([])),this.$cn2.append(e.StyleManager.render()),s=e.StyleManager.getConfig().stylePrefix,this.$header=a('<div class="'.concat(s,'header">').concat(e.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),r.getPanel("views-container")?this.panel=r.getPanel("views-container"):this.panel=r.addPanel({id:"views-container"}),this.panel.set("appendContent",this.$cn).trigger("change:appendContent"),this.target=e.editor,this.listenTo(this.target,"component:toggled",this.toggleSm)),this.toggleSm()},toggleSm:function(){var e,t,n=this.target,r=this.sender;r&&r.get&&!r.get("active")||(e=n.get("SelectorManager").getConfig().componentFirst,1===(t=n.getSelectedAll().length)||1<t&&e?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},"./src/commands/view/OpenTraitManager.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),l=n.n(r).a.$;t.default={run:function(e,t){this.sender=t;var n,r,i,o=e.getModel(),s=e.Config.stylePrefix,a=e.TraitManager;this.$cn||(n=a.getTraitsViewer(),r=a.getConfig(),this.$cn=l("<div></div>"),this.$cn2=l("<div></div>"),this.$cn.append(this.$cn2),this.$header=l("<div>").append('<div class="'.concat(r.stylePrefix,'header">').concat(o.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(s,'traits-label">').concat(o.t("traitManager.label"),"</div>")),this.$cn2.append(n.render().el),((i=e.Panels).getPanel("views-container")?i.getPanel("views-container"):i.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=e.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)),this.toggleTm()},toggleTm:function(){var e=this.sender;e&&e.get&&!e.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},"./src/commands/view/PasteComponent.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js");t.default={run:function(o){var s=o.getModel().get("clipboard"),e=o.getSelected();s&&e&&(o.getSelectedAll().forEach(function(e){var t,n,r,i;e&&(n=(t=e.collection).indexOf(e)+1,r=s.filter(function(e){return e.get("copyable")}),i=Object(a.contains)(s,e)&&e.get("copyable")?t.add(e.clone(),{at:n}):t.add(r.map(function(e){return e.clone()}),{at:n}),(i=Object(a.isArray)(i)?i:[i]).forEach(function(e){return o.trigger("component:paste",e)}))}),e.emitUpdate())}}},"./src/commands/view/Preview.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),c="sw-visibility";t.default={getPanels:function(e){return this.panels||(this.panels=e.Panels.getPanels()),this.panels},tglPointers:function(e,t){var n=e.Canvas.getBody().querySelectorAll(".".concat(this.ppfx,"no-pointer"));Object(r.each)(n,function(e){return e.style.pointerEvents=t?"":"all"})},run:function(e,t){var n=this;this.sender=t,this.shouldRunSwVisibility||(this.shouldRunSwVisibility=e.Commands.isActive(c)),this.shouldRunSwVisibility&&e.stopCommand(c),e.getModel().stopDefault();var r,i=this.getPanels(e),o=e.Canvas.getElement(),s=e.getEl(),a=e.Config.stylePrefix;this.helper||((r=document.createElement("span")).className="".concat(a,"off-prv fa fa-eye-slash"),s.appendChild(r),r.onclick=function(){return n.stopCommand()},this.helper=r),this.helper.style.display="inline-block",this.tglPointers(e),i.forEach(function(e){return e.set("visible",!1)});var l=o.style;l.width="100%",l.height="100%",l.top="0",l.left="0",l.padding="0",l.margin="0",e.refresh()},stop:function(e){var t=this.sender,n=void 0===t?{}:t;n.set&&n.set("active",0);var r=this.getPanels(e);this.shouldRunSwVisibility&&(e.runCommand(c),this.shouldRunSwVisibility=!1),e.getModel().runDefault(),r.forEach(function(e){return e.set("visible",!0)}),e.Canvas.getElement().setAttribute("style",""),this.helper&&(this.helper.style.display="none"),e.refresh(),this.tglPointers(e,1)}}},"./src/commands/view/Resize.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e,t,n){var r=n||{},i=r.el||"",o=e.Canvas,s=this.canvasResizer,a=r.options||{},l=o.getCanvasView();return a.appendTo=o.getResizerEl(),a.prefix=e.getConfig().stylePrefix,a.posFetcher=l.getElementPos.bind(l),a.mousePosFetcher=o.getMouseRelativePos,s&&!r.forceNew||(this.canvasResizer=e.Utils.Resizer.init(a),s=this.canvasResizer),s.setOptions(a),s.blur(),s.focus(i),s},stop:function(){var e=this.canvasResizer;e&&e.blur()}}},"./src/commands/view/SelectComponent.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/backbone/backbone.js"),l=n.n(s),f=n("./node_modules/underscore/underscore.js"),v=n("./src/utils/mixins.js"),c=n("./src/dom_components/view/ToolbarView.js"),u=n("./src/dom_components/model/Toolbar.js");function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y,b=l.a.$;t.default={init:function(){Object(f.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),y=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(e){var i=this,t=this.em,o=e?"on":"off",s={on:v.on,off:v.off};s[o](window,"resize",this.onFrameUpdated),t[o]("component:toggled",this.onSelect,this),t[o]("change:componentHovered",this.onHovered,this),t[o]("component:resize component:styleUpdate component:input",this.updateGlobalPos,this),t[o]("change:canvasOffset",this.updateAttached,this),t[o]("frame:updated",this.onFrameUpdated,this),t.get("Canvas").getFrames().forEach(function(e){var t,n,r=e.view;r&&(t=r.getWindow(),n=r.getBody(),s[o](n,"mouseover",i.onHover),s[o](n,"mouseleave",i.onOut),s[o](n,"click touchend",i.onClick),s[o](t,"scroll",i.onFrameScroll))})},onHover:function(e){e.stopPropagation();var t=e.target,n=Object(v.getViewEl)(t),r=n&&n._getFrame(),i=b(t),o=i.data("model");if(!o)for(var s=i.parent();!o&&0<s.length;)o=s.data("model"),s=s.parent();if(o&&!o.get("hoverable")){for(var a=o&&o.parent();a&&!a.get("hoverable");)a=a.parent();o=a}this.currentDoc=t.ownerDocument,this.em.setHovered(o),r&&this.em.set("currentFrame",r)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(e,r){var i=this,o={};r&&r.views.forEach(function(e){var t=e.el,n=i.getElementPos(t);o={el:t,pos:n,component:r,view:Object(v.getViewEl)(t)},i.updateToolsLocal(o),t.ownerDocument===i.currentDoc&&(i.elHovered=o)})},onSelect:Object(f.debounce)(function(){var e=this.em,t=e.getSelected(),n=e.get("currentFrame")||{},r=t&&t.getView(n.model),i=r&&r.el,o={};i&&(o={el:i,pos:this.getElementPos(i),component:t,view:Object(v.getViewEl)(i)}),this.elSelected=o,this.updateToolsGlobal(),this.updateToolsLocal(o)}),updateGlobalPos:function(){var e=this.getElSelected();e.el&&(e.pos=this.getElementPos(e.el),this.updateToolsGlobal())},updateLocalPos:function(){var e=this.getElHovered();e.el&&(e.pos=this.getElementPos(e.el),this.updateToolsLocal())},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){var r=this;this.currentDoc=null,this.em.setHovered(0),this.canvas.getFrames().forEach(function(e){var t=e.view,n=t&&t.getToolsEl();n&&r.toggleToolsEl(0,0,{el:n})})},toggleToolsEl:function(e,t,n){var r=(2<arguments.length&&void 0!==n?n:{}).el||this.canvas.getToolsEl(t);return r&&(r.style.opacity=e?1:0),r||{}},showElementOffset:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};y&&this.editor.runCommand("show-offset",{el:e,elPos:t,view:r.view,force:1,top:0,left:0})},hideElementOffset:function(e){this.editor.stopCommand("show-offset",{view:e})},showFixedElementOffset:function(e,t){this.editor.runCommand("show-offset",{el:e,elPos:t,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(e){this.canvas.getHighlighter(e).style.opacity=0},onClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.em;if(t.get("_cmpDrag"))return t.set("_cmpDrag");var n=b(e.target),r=n.data("model");if(!r)for(var i=n.parent();!r&&0<i.length;)r=i.data("model"),i=i.parent();if(r)if(r.get("selectable"))this.select(r,e);else{for(var o=r.parent();o&&!o.get("selectable");)o=o.parent();this.select(o,e)}},select:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};if(e){var r=n.ctrlKey||n.metaKey,i=n.shiftKey,o=this.editor,s=this.em,a=o.getConfig("multipleSelection");if(r&&a)o.selectToggle(e);else if(i&&a){s.clearSelection(o.Canvas.getWindow());var l,c,u=e.collection,d=u.indexOf(e);o.getSelectedAll();if(o.getSelectedAll().forEach(function(e){var t=e.collection,n=t.indexOf(e);t===u&&(n<d?l=Object(f.isUndefined)(l)?n:Math.max(l,n):d<n&&(c=Object(f.isUndefined)(c)?n:Math.min(c,n)))}),!Object(f.isUndefined)(l))for(;l!==d;)o.selectAdd(u.at(l)),l++;if(!Object(f.isUndefined)(c))for(;c!==d;)o.selectAdd(u.at(c)),c--;o.selectAdd(e)}else o.select(e,{scroll:{}});this.initResize(e)}},updateBadge:function(e,t,n){var r,i,o,s,a,l,c,u,d,f,h,p,g=2<arguments.length&&void 0!==n?n:{},m=b(e).data("model");m&&m.get("badgable")&&(r=this.getBadge(g),g.posOnly||(i=this.canvas.getConfig(),o=m.getIcon(),s=i.pStylePrefix||"",a="".concat(s,"badge"),l=i.customBadgeLabel,c="".concat(o?'<div class="'.concat(a,'__icon">').concat(o,"</div>"):"",'\n        <div class="').concat(a,'__name">').concat(m.getName(),"</div>"),r.innerHTML=l?l(m):c),(u=r.style).display="block",f=0-(d=r?r.offsetHeight:0),h=g.topOff-d<0?-g.topOff:f,p=g.leftOff<0?-g.leftOff:0,u.top=h+"px",u.left=p+"px")},showHighlighter:function(e){this.canvas.getHighlighter(e).style.opacity=""},initResize:function(e){function g(r,e,t){var n=t.docs;n&&n.forEach(function(e){var t=e.body,n=t.className||"";t.className=("add"==r?"".concat(n," ").concat(i):n.replace(i,"")).trim()})}var x,C=this.em,j=this.canvas,n=C?C.get("Editor"):"",t=(C?C.get("Config"):"").stylePrefix||"",i="".concat(t,"resizing"),m=!Object(f.isElement)(e)&&Object(v.isTaggableNode)(e)?e:C.getSelected(),r=m.get("resizable"),o=Object(f.isElement)(e)?e:m.getEl(),s={};n&&r?(s={onStart:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.el,i=n.config,o=n.resizer,s=i.keyHeight,a=i.keyWidth,l=i.currentUnit,c=i.keepAutoHeight,u=i.keepAutoWidth;g("add",0,n),x=C.get("StyleManager").getModelToStyle(m),j.toggleFramesEvents();var d=getComputedStyle(r),f=x.getStyle(),h=f[a];i.autoWidth=u&&"auto"===h,isNaN(parseFloat(h))&&(h=d[a]);var p=f[s];i.autoHeight=c&&"auto"===p,isNaN(parseFloat(p))&&(p=d[s]),o.startDim.w=parseFloat(h),o.startDim.h=parseFloat(p),y=0,l&&(i.unitHeight=Object(v.getUnitFromValue)(p),i.unitWidth=Object(v.getUnitFromValue)(h))},onMove:function(){n.trigger("component:resize")},onEnd:function(e,t){g("remove",0,t),n.trigger("component:resize"),j.toggleFramesEvents(1),y=1},updateTarget:function(e,t,n){var r,i,o,s,a,l,c,u,d,f,h,p,g,m,v,y,b,w=2<arguments.length&&void 0!==n?n:{};x&&(r=w.store,i=w.selectedHandler,s=(o=w.config).keyHeight,a=o.keyWidth,l=o.autoHeight,c=o.autoWidth,u=o.unitWidth,d=o.unitHeight,f=0<=["tc","bc"].indexOf(i),h=0<=["cl","cr"].indexOf(i),p={},g=r?"":1,f||(m=j.getBody().offsetWidth,v=t.w<m?t.w:m,p[a]=c?"auto":"".concat(v).concat(u)),h||(p[s]=l?"auto":"".concat(t.h).concat(d)),x.addStyle(S({},p,{en:g}),{avoidStore:!r}),b="".concat(y="update:component:style",":").concat(s," ").concat(y,":").concat(a),C&&C.trigger(b,null,null,{noEmit:1}))}},"object"==a()(r)&&(s=S({},s,{},r)),this.resizer=n.runCommand("resize",{el:o,options:s,force:1})):(n.stopCommand("resize"),this.resizer=null)},updateToolbar:function(e){var t,n,r=this.config.em,i=e==r?r.getSelected():e,o=this.canvas.getToolbarEl(),s=o.style;i?(t=i.get("toolbar"),r.get("Config").showToolbar&&t&&t.length?(s.opacity="",s.display="",this.toolbar||(o.innerHTML="",this.toolbar=new u.default(t),n=new c.default({collection:this.toolbar,editor:this.editor,em:r}),o.appendChild(n.render().el)),this.toolbar.reset(t),s.top="-100px",s.left=0):s.display="none"):s.opacity=0},updateToolbarPos:function(e){var t=this.canvas.getToolbarEl().style;t.top="".concat(e.top).concat("px"),t.left="".concat(e.left).concat("px"),t.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.canvas.getBadgeEl(t.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateToolsLocal(),this.updateGlobalPos()},isCompSelected:function(e){return e&&"selected"===e.get("status")},updateToolsLocal:function(e){var t,n,r,i,o,s,a,l=e||this.getElHovered(),c=l.el,u=l.pos,d=l.view,f=l.component;c?(t=f.get("hoverable"),r=(n=this.lastHovered!==c)?{}:{posOnly:1},n&&t&&(this.lastHovered=c,this.showHighlighter(d),this.showElementOffset(c,u,{view:d})),this.isCompSelected(f)&&(this.hideHighlighter(d),this.hideElementOffset(d)),i=this.toggleToolsEl(1,d).style,s=(o=this.canvas.canvasRectOffset(c,u)).top,a=o.left,this.updateBadge(c,u,S({},r,{view:d,topOff:s,leftOff:a})),i.top=s+"px",i.left=a+"px",i.width=u.width+"px",i.height=u.height+"px"):this.lastHovered=0},updateToolsGlobal:function(){var e=this.getElSelected(),t=e.el,n=e.pos,r=e.component;if(!t)return this.toggleToolsEl(),void(this.lastSelected=0);var i=this.canvas;this.lastSelected!==t&&(this.lastSelected=t,this.updateToolbar(r));var o=this.toggleToolsEl(1).style,s=i.getTargetToElementFixed(t,i.getToolbarEl(),{pos:n}),a=s.canvasOffsetTop,l=s.canvasOffsetLeft;o.top=a+"px",o.left=l+"px",o.width=n.width+"px",o.height=n.height+"px",this.updateToolbarPos({top:s.top,left:s.left})},updateAttached:Object(f.debounce)(function(){this.updateToolsGlobal()}),getElementPos:function(e){return this.canvas.getCanvasView().getElementPos(e)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(e){e&&e.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(e){this.editor=e&&e.get("Editor"),this.enable()},stop:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=this.em,o=this.editor;this.stopSelectComponent(),r.preserveSelected||i.setSelected(null),this.onOut(),this.toggleToolsEl(),o&&o.stopCommand("resize"),this.editor=0}}},"./src/commands/view/SelectPosition.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r).a.$;t.default={startSelectPosition:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n?n:{};this.isPointed=!1;var o=this.editorModel.get("Utils"),s=e.ownerDocument.body;o&&!this.sorter&&(this.sorter=new o.Sorter({container:s,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:t,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return r.em.getZoomDecimal()}})),i.onStart&&(this.sorter.onStart=i.onStart),e&&this.sorter.startSort(e,{container:s})},getOffsetDim:function(){var e=this.offset(this.canvas.getFrameEl()),t=this.offset(this.canvas.getElement());return{top:e.top-t.top,left:e.left-t.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0!==this.cDim.length&&!this.posIsLastEl&&this.cDim[this.posIndex]?i(this.cDim[this.posIndex][5]).parent():i(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(e,t,n){var r=e||0,i=t||"before",o=n.length,s=0!==o&&"after"==i&&r==o;return 0!==o&&(!s&&!n[r][4]||n[r-1]&&!n[r-1][4]||s&&!n[r-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},"./src/commands/view/ShowOffset.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),Z=n.n(r),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),J=n("./node_modules/underscore/underscore.js"),ee=n("./src/utils/mixins.js");function te(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var ne=o.a.$;t.default={getOffsetMethod:function(e){return"get"+(e||"")+"OffsetViewerEl"},run:function(e,t,n){var r,i,o,s,a,l,c,u,d,f,h,p,g,m,v,y,b,w,x,C,j,S,k,O,_,T,E,P,D,A,M,L,N,I,F,$,R,z,V,H,B,U,q,W,G=n||{},Y=G.state||"",K=e.getConfig(),X=this.em.getZoomDecimal(),Q=G.el||"";!K.showOffsets||Object(ee.isTextNode)(Q)||!K.showOffsetsSelected&&"Fixed"==Y?e.stopCommand(this.id,n):(r=e.Canvas,i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(n,!0).forEach(function(e){Z()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},G.elPos||r.getElementPos(Q)),Object(J.isUndefined)(G.top)||(i.top=G.top),Object(J.isUndefined)(G.left)||(i.left=G.left),o=window.getComputedStyle(Q),s=this.ppfx,a=Y+"State",(l=r[this.getOffsetMethod(Y)](n.view)).style.opacity="",v=this["marginT"+Y],y=this["marginB"+Y],b=this["marginL"+Y],w=this["marginR"+Y],x=this["padT"+Y],C=this["padB"+Y],j=this["padL"+Y],S=this["padR"+Y],l.childNodes.length&&(this[a]="1",v=l.querySelector("[data-offset-m-t]"),y=l.querySelector("[data-offset-m-b]"),b=l.querySelector("[data-offset-m-l]"),w=l.querySelector("[data-offset-m-r]"),x=l.querySelector("[data-offset-p-t]"),C=l.querySelector("[data-offset-p-b]"),j=l.querySelector("[data-offset-p-l]"),S=l.querySelector("[data-offset-p-r]")),this[a]||(u=(c=Y.toLowerCase())+"margin-v",d=c+"padding-v",f=ne('<div class="'.concat(s,'marginName">')).get(0),h=ne('<div class="'.concat(s,'paddingName">')).get(0),p=s+d+"-el",g="".concat(s+u+"-el"," ").concat(s+u),m="".concat(p," ").concat(s+d),v=ne('<div class="'.concat(g,'-top"></div>')).get(0),y=ne('<div class="'.concat(g,'-bottom"></div>')).get(0),b=ne('<div class="'.concat(g,'-left"></div>')).get(0),w=ne('<div class="'.concat(g,'-right"></div>')).get(0),x=ne('<div class="'.concat(m,'-top"></div>')).get(0),C=ne('<div class="'.concat(m,'-bottom"></div>')).get(0),j=ne('<div class="'.concat(m,'-left"></div>')).get(0),S=ne('<div class="'.concat(m,'-right"></div>')).get(0),this["marginT"+Y]=v,this["marginB"+Y]=y,this["marginL"+Y]=b,this["marginR"+Y]=w,this["padT"+Y]=x,this["padB"+Y]=C,this["padL"+Y]=j,this["padR"+Y]=S,f.appendChild(v),f.appendChild(y),f.appendChild(b),f.appendChild(w),h.appendChild(x),h.appendChild(C),h.appendChild(j),h.appendChild(S),l.appendChild(f),l.appendChild(h),this[a]="1"),k="px",O=parseFloat(o.marginLeft.replace(k,""))*X,_=parseFloat(o.marginRight.replace(k,""))*X,T=parseFloat(o.marginTop.replace(k,""))*X,E=parseFloat(o.marginBottom.replace(k,""))*X,P=v.style,D=y.style,A=b.style,M=w.style,L=x.style,N=C.style,I=j.style,F=S.style,$=parseFloat(i.left),R=parseFloat(o.width)*X+k,P.height=T+k,P.width=R,P.top=i.top-T+k,P.left=$+k,D.height=E+k,D.width=R,D.top=i.top+i.height+k,D.left=$+k,z=i.height+T+E+k,V=i.top-T+k,A.height=z,A.width=O+k,A.top=V,A.left=$-O+k,M.height=z,M.width=_+k,M.top=V,M.left=$+i.width+k,H=parseFloat(o.paddingTop)*X,L.height=H+k,B=parseFloat(o.paddingBottom)*X,N.height=B+k,U=i.height-B-H+k,q=i.top+H+k,I.height=U,I.width=parseFloat(o.paddingLeft)*X+k,I.top=q,W=parseFloat(o.paddingRight)*X,F.height=U,F.width=W+k,F.top=q)},stop:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=(r||{}).state||"",o=this.getOffsetMethod(i);e.Canvas[o](r.view).style.opacity=0}}},"./src/commands/view/SwitchVisibility.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){this.toggleVis(e)},stop:function(e){this.toggleVis(e,0)},toggleVis:function(e,t){var n,r=this,i=1<arguments.length&&void 0!==t?t:1;e.Commands.isActive("preview")||(n=i?"add":"remove",e.Canvas.getFrames().forEach(function(e){e.view.getBody().classList[n]("".concat(r.ppfx,"dashed"))}))}}},"./src/css_composer/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"css-",staticRules:"",rules:[]}},"./src/css_composer/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js"),s=n("./src/css_composer/config/config.js"),c=n("./src/css_composer/model/CssRule.js"),a=n("./src/css_composer/model/CssRules.js"),u=n("./src/css_composer/view/CssRulesView.js"),f=n("./src/selector_manager/model/Selectors.js"),h=n("./src/selector_manager/model/Selector.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var d,l,i,w={};return{Selectors:f.default,name:"CssComposer",getConfig:function(){return w},storageKey:function(){var e=[],t=w.stm&&w.stm.getConfig()||{};return t.storeCss&&e.push("css"),t.storeStyles&&e.push("styles"),e},init:function(e){for(var t in w=e||{},s.default)t in w||(w[t]=s.default[t]);var n=w.pStylePrefix;n&&(w.stylePrefix=n+w.stylePrefix);var r=w.em&&w.em.config.style||"";return w.rules=r||w.rules,d=w.em,l=new a.default([],w),i=new u.default({collection:l,config:w}),this},onLoad:function(){l.add(w.rules)},postLoad:function(e){var t=this,n="add remove",r=this.getAll(),i=e.get("UndoManager");i&&i.add(r),e.stopListening(r,n,this.handleChange),e.listenTo(r,n,this.handleChange),r.each(function(e){return t.handleChange(e,{avoidStore:1})})},handleChange:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r="change:style",i=d.get("UndoManager");i&&i.add(e);var o=d.handleUpdates.bind(d);d.stopListening(e,r,o),d.listenTo(e,r,o),n.avoidStore||o("","",n)},load:function(e){var t=e||"";!t&&w.stm&&(t=w.em.getCacheLoad());var n=t.styles||"";if(t.styles)try{n=JSON.parse(t.styles)}catch(e){}else t.css&&(n=w.em.get("Parser").parseCss(t.css));return Object(o.isArray)(n)?n.length&&l.reset(n):n&&l.reset(n),n},store:function(e){if(w.stm){var t={},n=this.storageKey();return 0<=n.indexOf("css")&&(t.css=w.em.getCss()),0<=n.indexOf("styles")&&(t.styles=JSON.stringify(l)),e||w.stm.store(t),t}},add:function(e,t,n,r){var i=t||"",o=n||"",s=x({},3<arguments.length&&void 0!==r?r:{}),a=this.get(e,i,o,s);return a&&a.config&&!a.config.singleAtRule||(s.state=i,s.mediaText=o,s.selectors="",(a=new c.default(s,w)).get("selectors").add(e),l.add(a)),a},get:function(t,n,r,i){var o=null;return l.each(function(e){o||e.compare(t,n,r,i)&&(o=e)}),o},getAll:function(){return l},clear:function(){return this.getAll().reset(),this},addCollection:function(e,t){for(var n=1<arguments.length&&void 0!==t?t:{},r=[],i=e instanceof Array?e:[e],o=0,s=i.length;o<s;o++){var a=i[o]||{};if(a.selectors){var l=w.em&&w.em.get("SelectorManager");l||console.warn("Selector Manager not found");for(var c=a.selectors,u=c instanceof Array?c:[c],d=[],f=0,h=u.length;f<h;f++){var p=l.add(u[f]);d.push(p)}var g,m=this.get(d,a.state,a.mediaText,a),v=this.add(d,a.state,a.mediaText,a),y=!m||!n.avoidUpdateStyle,b=a.style||{};y&&(g=n.extend?x({},v.get("style"),{},b):b,v.set("style",g)),r.push(v)}}return r},setRule:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=r.atRuleType,o=r.atRuleParams,s=d.get("Parser").parserCss.checkNode({selectors:e,style:t})[0],a=s.state,l=s.selectorsAdd,c=d.get("SelectorManager").add(s.selectors),u=this.add(c,a,o,{selectorsAdd:l,atRule:i});return u.setStyle(t,r),u},getRule:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=d.get("SelectorManager"),i=d.get("Parser").parserCss.checkNode({selectors:e})[0],o=r.get(i.selectors),s=i.state,a=i.selectorsAdd,l=n.atRuleType,c=n.atRuleParams;return o&&this.get(o,s,c,{selectorsAdd:a,atRule:l})},setIdRule:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==n?n:{},o=i.state||"",s=i.mediaText||d.getCurrentMedia(),a=d.get("SelectorManager").add({name:e,type:h.default.TYPE_ID}),l=this.add(a,o,s);return l.setStyle(r,i),l},getIdRule:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.state||"",i=n.mediaText||d.getCurrentMedia(),o=d.get("SelectorManager").get(e,h.default.TYPE_ID);return o&&this.get(o,r,i)},setClassRule:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==n?n:{},o=i.state||"",s=i.mediaText||d.getCurrentMedia(),a=d.get("SelectorManager").add({name:e,type:h.default.TYPE_CLASS}),l=this.add(a,o,s);return l.setStyle(r,i),l},getClassRule:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.state||"",i=n.mediaText||d.getCurrentMedia(),o=d.get("SelectorManager").get(e,h.default.TYPE_CLASS);return o&&this.get(o,r,i)},render:function(){return i.render().el}}}},"./src/css_composer/model/CssRule.js":function(e,t,n){"use strict";n.r(t);var p=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),i=n("./src/domain_abstract/model/Styleable.js"),a=n("./src/selector_manager/model/Selectors.js"),u=window.CSS;t.default=o.a.Model.extend(i.default).extend({defaults:{selectors:{},selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:0,important:0},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.config=e||{};var r,i,o=n.em,s=this.config.selectors||[];(this.em=o)&&(r=o.get("SelectorManager"),i=[],s.forEach(function(e){i.push(r.add(e))}),s=i),this.set("selectors",new a.default(s))},getAtRule:function(){var e=this.get("atRuleType"),t=this.get("mediaText"),n=e?"@".concat(e):t?"@media":"";return n+(t&&n?" ".concat(t):"")},selectorsToString:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=[],r=this.em,i=this.get("state"),o=this.get("wrapper"),s=this.get("selectorsAdd"),a={escape:function(e){return u&&u.escape?u.escape(e):e}},l=o&&r&&r.getConfig("wrapperIsBody")?"body":this.get("selectors").getFullString(0,a),c=i&&!t.skipState?":".concat(i):"";return l&&n.push("".concat(l).concat(c)),s&&!t.skipAdd&&n.push(s),n.join(", ")},getDeclaration:function(e){var t=0<arguments.length&&void 0!==e?e:{},n="",r=this.selectorsToString(),i=this.styleToString(t),o=this.get("singleAtRule");return(r||o)&&i&&(n=o?i:"".concat(r,"{").concat(i,"}")),n},toCSS:function(e){var t=0<arguments.length&&void 0!==e?e:{},n="",r=this.getAtRule(),i=this.getDeclaration(t);return i&&(n=i),r&&n&&(n="".concat(r,"{").concat(n,"}")),n},toJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=o.a.Model.prototype.toJSON.apply(this,t);return this.em.getConfig("avoidDefaults")&&(r=this.defaults,Object(p.forEach)(r,function(e,t){i[t]===e&&delete i[t]}),Object(p.isEmpty)(i.selectors)&&delete i.selectors,Object(p.isEmpty)(i.style)&&delete i.style),i},compare:function(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:{},o=t||"",s=n||"",a=i.selectorsAdd||"",l=i.atRuleType||"";e instanceof Array||e.models||(e=[e]);var c=Object(p.map)(e.models||e,function(e){return e.get("name")}),u=Object(p.map)(this.get("selectors").models,function(e){return e.get("name")});if(c.length!==u.length)return!1;for(var d=0;d<c.length;d++){for(var f=0,h=0;h<u.length;h++)c[d]===u[h]&&(f=1);if(0===f)return!1}return this.get("state")===o&&this.get("mediaText")===s&&this.get("selectorsAdd")===a&&this.get("atRuleType")===l}})},"./src/css_composer/model/CssRules.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/css_composer/model/CssRule.js");t.default=i.a.Collection.extend({model:o.default,initialize:function(e,t){var n=this;t&&t.em&&(this.editor=t.em),setTimeout(function(){return n.on("remove",n.onRemove)})},onRemove:function(e){var t=this.editor;t.stopListening(e),t.get("UndoManager").remove(e)},add:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return"string"==typeof e&&(e=this.editor.get("Parser").parseCss(e)),n.em=this.editor,i.a.Collection.prototype.add.apply(this,[e,n])}})},"./src/css_composer/view/CssGroupRuleView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/css_composer/view/CssRuleView.js");t.default=r.default.extend({_createElement:function(){return document.createTextNode("")},render:function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this}})},"./src/css_composer/view/CssRuleView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.View.extend({tagName:"style",initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config=t.config||{};var n=this.model;this.listenTo(n,"change:style change:state change:mediaText",this.render),this.listenTo(n,"destroy remove",this.remove),this.listenTo(n.get("selectors"),"change",this.render)},render:function(){var e=this.model.get("important");return this.el.innerHTML=this.model.toCSS({important:e}),this}})},"./src/css_composer/view/CssRulesView.js":function(e,t,n){"use strict";n.r(t);function g(e,t){return"".concat(e).concat(t?"-".concat(parseFloat(t)):"")}var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),m=n("./src/css_composer/view/CssRuleView.js"),v=n("./src/css_composer/view/CssGroupRuleView.js"),a=i.a.$;t.default=i.a.View.extend({initialize:function(e){var t=e.config||{};this.atRules={},this.config=t,this.em=t.em,this.pfx=t.stylePrefix||"",this.className=this.pfx+"rules";var n=this.collection;this.listenTo(n,"add",this.addTo),this.listenTo(n,"reset",this.render)},addTo:function(e){this.addToCollection(e)},addToCollection:function(e,t){if(this.renderStarted){var n,r,i,o,s,a=t||null,l={model:e,config:this.config};"keyframes"===e.get("atRuleType")?(i=e.getAtRule(),(s=this.atRules[i])||(o=document.createElement("style"),s=document.createTextNode(""),o.appendChild(document.createTextNode("".concat(i,"{"))),o.appendChild(s),o.appendChild(document.createTextNode("}")),this.atRules[i]=s,n=o),r=new v.default(l),s.appendData(r.render().el.textContent)):n=(r=new m.default(l)).render().el;var c=this.className,u=e.get("mediaText"),d=g(c),f=d;if(u&&(f=g(c,this.getMediaWidth(u))),n){var h,p=a||this.el;try{h=p.querySelector("#".concat(f))}catch(e){}(h=h||p.querySelector("#".concat(d))).appendChild(n)}return n}},getMediaWidth:function(e){return e&&e.replace("(".concat(this.em.getConfig("mediaCondition"),": "),"").replace(")","")},render:function(){var t=this;this.renderStarted=1,this.atRules={};var e=this.em,n=this.$el,r=this.className,i=this.collection,o=document.createDocumentFragment();n.empty();var s=e.get("DeviceManager").getAll().pluck("priority");return s.every(function(e){return e})&&s.unshift(0),s.forEach(function(e){return a('<div id="'.concat(g(r,e),'"></div>')).appendTo(o)}),i.each(function(e){return t.addToCollection(e,o)}),n.append(o),n.attr("class",r),this}})},"./src/device_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={devices:[]}},"./src/device_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(r),a=n("./src/device_manager/config/config.js"),l=n("./src/device_manager/model/Devices.js"),c=n("./src/device_manager/view/DevicesView.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){var o,r,i={};return{name:"DeviceManager",init:function(e){var t=this;for(var n in i=e||{},a.default)n in i||(i[n]=a.default[n]);return o=new l.default,(i.devices||[]).forEach(function(e){return t.add(e.id||e.name,e.width,e)}),r=new c.default({collection:o,config:i}),this},add:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},r,{id:e,name:r.name||e,width:t});return o.add(i)},get:function(e){return o.get(e)},getAll:function(){return o},render:function(){return r.render().el}}}},"./src/device_manager/model/Device.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({idAttribute:"name",defaults:{name:"",width:null,height:"",widthMedia:null,priority:null},initialize:function(){var t=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),this.get("priority")||this.set("priority",parseFloat(this.get("widthMedia"))||0);["width","height","widthMedia"].forEach(function(e){return t.checkUnit(e)})},checkUnit:function(e){var t=this.get(e)||"";(parseFloat(t)||0).toString()===t.toString()&&this.set(e,"".concat(t,"px"))}})},"./src/device_manager/model/Devices.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/device_manager/model/Device.js");t.default=i.a.Collection.extend({model:o.default,comparator:function(e,t){var n=Number.MAX_VALUE;return(t.get("priority")||n)-(e.get("priority")||n)},getSorted:function(){return this.sort()}})},"./src/device_manager/view/DevicesView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i);t.default=o.a.View.extend({template:Object(r.template)('\n    <div class="<%= ppfx %>device-label"><%= deviceLabel %></div>\n    <div class="<%= ppfx %>field <%= ppfx %>select">\n      <span id="<%= ppfx %>input-holder">\n        <select class="<%= ppfx %>devices"></select>\n      </span>\n      <div class="<%= ppfx %>sel-arrow">\n        <div class="<%= ppfx %>d-s-arrow"></div>\n      </div>\n    </div>\n    <button style="display:none" class="<%= ppfx %>add-trasp">+</button>'),events:{change:"updateDevice"},initialize:function(e){this.config=e.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()},startAdd:function(){},updateDevice:function(){var e,t,n=this.em;n&&(t=(e=this.devicesEl)?e.val():"",n.set("device",t))},updateSelect:function(){var e,t,n=this.em,r=this.devicesEl;n&&n.getDeviceModel&&r&&(t=(e=n.getDeviceModel())?e.get("name"):"",r.val(t))},getOptions:function(){var e=this.collection,o=this.em,s="";return e.each(function(e){var t=e.attributes,n=t.name,r=t.id,i=o&&o.t&&o.t("deviceManager.devices.".concat(r))||n;s+='<option value="'.concat(n,'">').concat(i,"</option>")}),s},render:function(){var e=this.em,t=this.ppfx,n=this.$el,r=this.el;return n.html(this.template({ppfx:t,deviceLabel:e&&e.t&&e.t("deviceManager.device")})),this.devicesEl=n.find(".".concat(t,"devices")),this.devicesEl.append(this.getOptions()),r.className="".concat(t,"devices-c"),this}})},"./src/dom_components/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"comp-",wrapperId:"wrapper",wrapperName:"Body",wrapper:{removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]},components:[],draggableComponents:1,storeWrapper:0,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}},"./src/dom_components/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),j=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/backbone/backbone.js"),d=n.n(s),S=n("./node_modules/underscore/underscore.js"),f=n("./src/dom_components/config/config.js"),h=n("./src/dom_components/model/Component.js"),p=n("./src/dom_components/model/Components.js"),g=n("./src/dom_components/view/ComponentView.js"),m=n("./src/dom_components/view/ComponentsView.js"),v=n("./src/dom_components/model/ComponentTableCell.js"),y=n("./src/dom_components/view/ComponentTableCellView.js"),b=n("./src/dom_components/model/ComponentTableRow.js"),w=n("./src/dom_components/view/ComponentTableRowView.js"),x=n("./src/dom_components/model/ComponentTable.js"),k=n("./src/dom_components/view/ComponentTableView.js"),O=n("./src/dom_components/model/ComponentTableHead.js"),_=n("./src/dom_components/view/ComponentTableHeadView.js"),T=n("./src/dom_components/model/ComponentTableBody.js"),E=n("./src/dom_components/view/ComponentTableBodyView.js"),P=n("./src/dom_components/model/ComponentTableFoot.js"),D=n("./src/dom_components/view/ComponentTableFootView.js"),A=n("./src/dom_components/model/ComponentMap.js"),M=n("./src/dom_components/view/ComponentMapView.js"),L=n("./src/dom_components/model/ComponentLink.js"),N=n("./src/dom_components/view/ComponentLinkView.js"),I=n("./src/dom_components/model/ComponentLabel.js"),F=n("./src/dom_components/view/ComponentLabelView.js"),$=n("./src/dom_components/model/ComponentVideo.js"),R=n("./src/dom_components/view/ComponentVideoView.js"),z=n("./src/dom_components/model/ComponentImage.js"),V=n("./src/dom_components/view/ComponentImageView.js"),H=n("./src/dom_components/model/ComponentScript.js"),B=n("./src/dom_components/view/ComponentScriptView.js"),U=n("./src/dom_components/model/ComponentSvg.js"),q=n("./src/dom_components/model/ComponentSvgIn.js"),W=n("./src/dom_components/view/ComponentSvgView.js"),G=n("./src/dom_components/model/ComponentComment.js"),Y=n("./src/dom_components/view/ComponentCommentView.js"),K=n("./src/dom_components/model/ComponentTextNode.js"),X=n("./src/dom_components/view/ComponentTextNodeView.js"),Q=n("./src/dom_components/model/ComponentText.js"),Z=n("./src/dom_components/view/ComponentTextView.js"),J=n("./src/dom_components/model/ComponentWrapper.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var u,a,l,c={},e={},C=[{id:"cell",model:v.default,view:y.default},{id:"row",model:b.default,view:w.default},{id:"table",model:x.default,view:k.default},{id:"thead",model:O.default,view:_.default},{id:"tbody",model:T.default,view:E.default},{id:"tfoot",model:P.default,view:D.default},{id:"map",model:A.default,view:M.default},{id:"link",model:L.default,view:N.default},{id:"label",model:I.default,view:F.default},{id:"video",model:$.default,view:R.default},{id:"image",model:z.default,view:V.default},{id:"script",model:H.default,view:B.default},{id:"svg-in",model:q.default,view:W.default},{id:"svg",model:U.default,view:W.default},{id:"comment",model:G.default,view:Y.default},{id:"textnode",model:K.default,view:X.default},{id:"text",model:Q.default,view:Z.default},{id:"wrapper",model:J.default,view:g.default},{id:"default",model:h.default,view:g.default}];return{Component:h.default,Components:p.default,ComponentsView:m.default,componentTypes:C,componentsById:e,name:"DomComponents",getConfig:function(){return c},storageKey:function(){var e=[],t=c.stm&&c.stm.getConfig()||{};return t.storeHtml&&e.push("html"),t.storeComponents&&e.push("components"),e},init:function(e){var r=this;for(var t in u=(c=e||{}).em,(this.em=u)&&(c.components=u.config.components||c.components),f.default)t in c||(c[t]=f.default[t]);var n,i=c.pStylePrefix;i&&(c.stylePrefix=i+c.stylePrefix),u&&(c.modal=u.get("Modal")||"",c.am=u.get("AssetManager")||"",u.get("Parser").compTypes=C,u.on("change:componentHovered",this.componentHovered,this),n=u.get("selected"),u.listenTo(n,"add",function(e,t,n){return r.selectAdd(e,n)}),u.listenTo(n,"remove",function(e,t,n){return r.selectRemove(e,n)}));var o=c.components,s=ee({},c.wrapper);return s["custom-name"]=c.wrapperName,s.wrapper=1,s.type="wrapper",o&&o.constructor===Object&&o.wrapper&&(s=ee({},o),o=o.components||[],s.components=[],u&&(u.config.components=o,c.components=o)),(a=new h.default(s,{em:u,config:c,componentTypes:C,domc:this})).set({attributes:{id:"wrapper"}}),l=new g.default({model:a,config:c,componentTypes:C}),this},onLoad:function(){this.setComponents(c.components)},postLoad:function(){this.handleChanges(this.getWrapper(),null,{avoidStore:1})},handleChanges:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=e.components(),o=u.get("UndoManager"),s=u.handleUpdates.bind(u),a=this.handleChanges.bind(this),l=this.handleChangesColl.bind(this),c=this.handleRemoves.bind(this);o&&o.add(e),o&&i&&o.add(i);[[e,"change:style change:content change:attributes change:src",s],[e,"change:components",l],[i,"add",a],[i,"remove",c],[e.get("classes"),"add remove",s]].forEach(function(e){u.stopListening(e[0],e[1],e[2]),u.listenTo(e[0],e[1],e[2])}),r.avoidStore||s("","",r),i.each(function(e){return n.handleChanges(e,t,r)})},handleChangesColl:function(e,t){var n,r,i=u.get("UndoManager");i&&t instanceof d.a.Collection&&(n=this.handleChanges.bind(this),r=this.handleRemoves.bind(this),i.add(t),[[t,"add",n],[t,"remove",r]].forEach(function(e){u.stopListening(e[0],e[1],e[2]),u.listenTo(e[0],e[1],e[2])}))},handleRemoves:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};r.avoidStore||u.handleUpdates(e,t,r)},load:function(e){var t=0<arguments.length&&void 0!==e?e:"",n=this.em,r="";!t&&c.stm&&(t=c.em.getCacheLoad());var i=t.components,o=t.html;if(i)if(Object(S.isObject)(i)||Object(S.isArray)(i))r=i;else try{r=JSON.parse(i)}catch(e){n&&n.logError(e)}else o&&(r=o);var s=r&&r.constructor===Object;return(r&&r.length||s)&&(this.clear(),s?this.getWrapper().set(r):this.getComponents().add(r)),r},store:function(e){if(c.stm){var t,n={},r=this.storageKey();return 0<=r.indexOf("html")&&(n.html=c.em.getHtml()),0<=r.indexOf("components")&&(this.em,t=c.storeWrapper?this.getWrapper():this.getComponents(),n.components=JSON.stringify(t)),e||c.stm.store(n),n}},getComponent:function(){return a},getWrapper:function(){return this.getComponent()},getComponents:function(){return this.getWrapper().get("components")},addComponent:function(e){return this.getComponents().add(e)},render:function(){return l.render().el},clear:function(){return this.getComponents().map(function(e){return e}).forEach(function(e){return e.remove()}),this},setComponents:function(e){this.clear().addComponent(e)},addType:function(e,t){function n(e,i,o){return e.reduce(function(e,t){var n=i[t],r=o.prototype[t];return n&&r&&(e[t]=function(){r.bind(this).apply(void 0,arguments),n.bind(this).apply(void 0,arguments)}),e},{})}var r=this.em,i=t.model,o=void 0===i?{}:i,s=t.view,a=void 0===s?{}:s,l=t.isComponent,c=t.extend,u=t.extendView,d=t.extendFn,f=void 0===d?[]:d,h=t.extendFnView,p=void 0===h?[]:h,g=this.getType(e),m=this.getType(c),v=this.getType(u),y=m||(g||this.getType("default")),b=y.model,w=v?v.view:y.view;"object"===j()(o)&&(t.model=b.extend(ee({},o,{},n(f,o,b),{defaults:ee({},b.prototype.defaults,{},Object(S.result)(o,"defaults")||{})}),{isComponent:!g||m||l?l||function(){return 0}:b.isComponent})),"object"===j()(a)&&(t.view=w.extend(ee({},a,{},n(p,a,w)))),g?(g.model=t.model,g.view=t.view):(t.id=e,C.unshift(t));var x="component:type:".concat(g?"update":"add");return r&&r.trigger(x,g||t),this},getType:function(e){for(var t=C,n=0;n<t.length;n++){if(t[n].id==e)return t[n]}},removeType:function(e){var t=C,n=this.getType(e);if(n){var r=t.indexOf(n);return t.splice(r,1),n}},getTypes:function(){return C},selectAdd:function(t,e){var n=this,r=1<arguments.length&&void 0!==e?e:{};t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(e){return n.em.trigger(e,t,r)}))},selectRemove:function(t,e){var n=this,r=1<arguments.length&&void 0!==e?e:{};t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(e){return n.em.trigger(e,t,r)}))},componentHovered:function(){var e=c.em,t=e.get("componentHovered"),n=e.previous("componentHovered");n&&"hovered"==n.get("status")&&n.set({status:"",state:""}),t&&Object(S.isEmpty)(t.get("status"))&&t.set("status","hovered")},allById:function(){return e}}}},"./src/dom_components/model/Component.js":function(e,t,n){"use strict";n.r(t),n.d(t,"eventDrag",function(){return b});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),f=n("./node_modules/underscore/underscore.js"),h=n("./src/utils/mixins.js"),p=n("./src/domain_abstract/model/Styleable.js"),s=n("./node_modules/backbone/backbone.js"),l=n.n(s),c=n("./src/dom_components/model/Components.js"),u=n("./src/selector_manager/model/Selector.js"),d=n("./src/selector_manager/model/Selectors.js"),g=n("./src/trait_manager/model/Traits.js");function m(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function y(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}var b="component:drag",w=l.a.Model.extend(p.default).extend({defaults:{tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",classes:"",script:"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},init:function(){},updated:function(){},removed:function(){},initialize:function(e,t){var n,r,i=this,o=0<arguments.length&&void 0!==e?e:{},s=1<arguments.length&&void 0!==t?t:{},a=s.em,l=this.parent(),c=l&&l.attributes;c&&c.propagate&&(n={},(r=c.propagate).forEach(function(e){return n[e]=l.get(e)}),n.propagate=r,n=v({},n,{},o),this.set(n));var u=this.get("propagate");u&&this.set("propagate",Object(f.isArray)(u)?u:[u]),s&&s.config&&0<=s.config.voidElements.indexOf(this.get("tagName"))&&this.set("void",!0),s.em=a,this.opt=s,this.em=a,this.frame=s.frame,this.config=s.config||{},this.set("attributes",v({},this.defaults.attributes||{},{},this.get("attributes")||{})),this.ccid=w.createId(this),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(r){var e="add remove ".concat("components"!==r?"change":"");i.listenTo(i.get(r),e.trim(),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.emitUpdate.apply(i,[r].concat(t))})}),s.temporary||(this.init(),a&&a.trigger("component:create",this))},is:function(e){return!(this.get("type")!=e)},props:function(){return this.attributes},index:function(){var e=this.collection;return e&&e.indexOf(this)},setDragMode:function(e){return this.set("dmode",e)},find:function(e){var n=[],r=this.view.$el.find(e);return r.each(function(e){var t=r.eq(e).data("model");t&&n.push(t)}),n},findType:function(n){var r=[];return function t(e){return e.forEach(function(e){e.is(n)&&r.push(e),t(e.components())})}(this.components()),r},closest:function(e){var t=this.view.$el.closest(e);return t.length&&t.data("model")},closestType:function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},tagUpdated:function(){var e=this.collection,t=e.indexOf(this);e.remove(this),e.add(this,{at:t})},replaceWith:function(e){var t=this.collection,n=t.indexOf(this);return t.remove(this),t.add(e,{at:n})},attrUpdated:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n?n:{},o=this.get("attributes"),s=o.class;s&&this.setClass(s),delete o.class;var a=o.style;a&&this.setStyle(a),delete o.style;var l=v({},this.previous("attributes")),c=Object(h.shallowDiff)(l,this.get("attributes"));Object(f.keys)(c).forEach(function(e){return r.trigger("change:attributes:".concat(e),r,c[e],i)})},setAttributes:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.set("attributes",v({},e),n),this},addAttributes:function(e){var t=v({},this.getAttributes(),{},e);return this.setAttributes(t),this},getStyle:function(){var e=this.em;if(e&&e.getConfig("avoidInlineStyle")){var t=e.get("state"),n=e.get("CssComposer").getIdRule(this.getId(),{state:t});if(this.rule=n)return n.getStyle()}return p.default.getStyle.call(this)},setStyle:function(e,t){var n,r,i,o,s,a=this,l=0<arguments.length&&void 0!==e?e:{},c=1<arguments.length&&void 0!==t?t:{},u=this.em,d=this.opt;return u&&u.getConfig("avoidInlineStyle")&&!d.temporary?(n=this.get("style")||{},l=v({},l=Object(f.isString)(l)?this.parseStyle(l):l,{},n),r=u.get("state"),i=u.get("CssComposer"),o=this.getStyle(),this.rule=i.setIdRule(this.getId(),l,v({},c,{state:r})),s=Object(h.shallowDiff)(o,l),this.set("style",{},{silent:1}),Object(f.keys)(s).forEach(function(e){return a.trigger("change:style:".concat(e))})):l=p.default.setStyle.apply(this,arguments),l},getAttributes:function(){var e,t,n=this.em,r=[],i=v({},this.get("attributes")),o=n&&n.get("SelectorManager"),s=this.getId();return this.get("classes").forEach(function(e){return r.push(Object(f.isString)(e)?e:e.get("name"))}),r.length&&(i.class=r.join(" ")),Object(f.has)(i,"id")||((t=n)&&t.getConfig("avoidInlineStyle")?e=o&&o.get(s,o.Selector.TYPE_ID):Object(f.isEmpty)(this.getStyle())||(e=1),e&&(i.id=this.getId())),i},addClass:function(e){var t=this.em.get("SelectorManager").addClass(e);return this.get("classes").add(t)},setClass:function(e){return this.get("classes").reset(),this.addClass(e)},removeClass:function(e){var n=[];e=Object(f.isArray)(e)?e:[e];var r=this.get("classes"),i=u.default.TYPE_CLASS;return e.forEach(function(e){e.split(" ").forEach(function(e){var t=r.where({name:e,type:i})[0];t&&n.push(r.remove(t))})}),n},getClasses:function(){var e=this.getAttributes().class;return e?e.split(" "):[]},initClasses:function(){var e=[this,"change:classes",this.initClasses],t=this.get("classes")||[],n=Object(f.isString)(t)?t.split(" "):t;this.stopListening.apply(this,e);var r=this.normalizeClasses(n),i=new d.default([]);return this.set("classes",i),i.add(r),this.listenTo.apply(this,e),this},initComponents:function(){var e=[this,"change:components",this.initComponents];this.stopListening.apply(this,e);var t=new c.default(null,this.opt),n=(t.parent=this).get("components"),r=!this.opt.avoidChildren;return this.set("components",t),r&&t.add(Object(f.isFunction)(n)?n(this):n),this.listenTo.apply(this,e),this},initTraits:function(e){var t=this.em,n=[this,"change:traits",this.initTraits];this.stopListening.apply(this,n),this.loadTraits();var r=v({},this.get("attributes")),i=this.get("traits");return i.each(function(e){var t,n;e.get("changeProp")||(t=e.get("name"),n=e.getInitValue(),t&&n&&(r[t]=n))}),i.length&&this.set("attributes",r),this.listenTo.apply(this,n),e&&t&&t.trigger("component:toggled"),this},append:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.components().add(e,n);return Object(f.isArray)(r)?r:[r]},components:function(e){var t=this.get("components");return Object(f.isUndefined)(e)?t:(t.reset(),e&&this.append(e))},empty:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.components().reset(null,t),this},parent:function(){var e=this.collection;return e&&e.parent},scriptUpdated:function(){this.set("scriptUpdated",1)},initToolbar:function(){var e,t=this.em,n=t&&t.getConfig("stylePrefix")||"";this.get("toolbar")||(e=[],this.collection&&e.push({attributes:{class:"fa fa-arrow-up"},command:function(e){return e.runCommand("core:component-exit",{force:1})}}),this.get("draggable")&&e.push({attributes:{class:"fa fa-arrows ".concat(n,"no-touch-actions"),draggable:!0},command:"tlb-move"}),this.get("copyable")&&e.push({attributes:{class:"fa fa-clone"},command:"tlb-clone"}),this.get("removable")&&e.push({attributes:{class:"fa fa-trash-o"},command:"tlb-delete"}),this.set("toolbar",e))},loadTraits:function(e,t){var n,r=1<arguments.length&&void 0!==t?t:{};return e=e||this.get("traits"),(e=Object(f.isFunction)(e)?e(this):e)instanceof g.default||((n=new g.default([],this.opt)).setTarget(this),e.length&&(e.forEach(function(e){return e.attributes&&delete e.attributes.value}),n.add(e)),this.set("traits",n,r)),this},getTrait:function(t){return this.get("traits").filter(function(e){return e.get("id")===t||e.get("name")===t})[0]},updateTrait:function(e,t){var n=this.em,r=this.getTrait(e);return r&&r.set(t),n&&n.trigger("component:toggled"),this},getTraitIndex:function(e){var t=this.getTrait(e);return t?this.get("traits").indexOf(t):t},removeTrait:function(e){var t=this,n=this.em,r=(Object(f.isArray)(e)?e:[e]).map(function(e){return t.getTrait(e)}),i=this.get("traits").remove(r);return n&&n.trigger("component:toggled"),i},addTrait:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.em,i=this.get("traits").add(e,n);return r&&r.trigger("component:toggled"),i},normalizeClasses:function(e){var r=[],t=this.em;if(t){var i=t.get("SelectorManager");if(i)return e.forEach(function(e){var t="",t="string"==typeof e?e:e.name,n=i.add(t);r.push(n)}),r}},clone:function(){var e=this.em,t=this.getStyle(),n=v({},this.attributes),r=v({},this.opt);n.attributes=v({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],this.get("components").each(function(e,t){n.components[t]=e.clone()}),this.get("traits").each(function(e,t){n.traits[t]=e.clone()}),this.get("classes").each(function(e,t){n.classes[t]=e.get("name")}),n.status="",n.view="",r.collection=null,e&&e.getConfig("avoidInlineStyle")&&!Object(f.isEmpty)(t)&&(n.style=t);var i=new this.constructor(n,r),o="component:clone";return e&&e.trigger(o,i),this.trigger(o,i),i},getName:function(){var e=this.em,t=this.attributes,n=t.type,r=t.tagName,i=this.get("name"),o="div"==r,s=n||(o?"box":r),a=!n&&r&&!o&&r,l="domComponents.names.",c=i&&e&&e.t("".concat(l).concat(i)),u=a&&e&&e.t("".concat(l).concat(a)),d=e&&(e.t("".concat(l).concat(n))||e.t("".concat(l).concat(r)));return this.get("custom-name")||c||i||u||Object(h.capitalize)(a)||d||Object(h.capitalize)(s)},getIcon:function(){var e=this.get("icon");return e?e+" ":""},toHTML:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=[],r=t.tag||this.get("tagName"),i=this.get("void"),o=t.attributes,s=this.getAttrToHTML();for(var a in delete t.tag,o&&(Object(f.isFunction)(o)?s=o(this,s)||{}:Object(f.isObject)(o)&&(s=o)),s){var l=s[a],c=Object(f.isString)(l)?l.replace(/"/g,"&quot;"):l;Object(f.isUndefined)(c)||(Object(f.isBoolean)(c)?c&&n.push(a):n.push("".concat(a,'="').concat(c,'"')))}var u=n.length?" ".concat(n.join(" ")):"",d="<".concat(r).concat(u).concat(i?"/":"",">").concat(this.get("content"));return this.get("components").each(function(e){return d+=e.toHTML(t)}),i||(d+="</".concat(r,">")),d},getAttrToHTML:function(){var e=this.getAttributes();return delete e.style,e},toJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=l.a.Model.prototype.toJSON.apply(this,t);return i.attributes=this.getAttributes(),delete i.attributes.class,delete i.toolbar,delete i.traits,this.em.getConfig("avoidDefaults")&&(r=Object(f.result)(this,"defaults"),Object(f.forEach)(r,function(e,t){-1===["type","content"].indexOf(t)&&i[t]===e&&delete i[t]}),Object(f.isEmpty)(i.type)&&delete i.type,Object(f.forEach)(["attributes","style"],function(e){Object(f.isEmpty)(r[e])&&Object(f.isEmpty)(i[e])&&delete i[e]}),Object(f.forEach)(["classes","components"],function(e){Object(f.isEmpty)(r[e])&&!i[e].length&&delete i[e]})),i},getId:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid},setId:function(e,t){var n=v({},this.get("attributes"));return n.id=e,this.set("attributes",n,t),this},getEl:function(e){var t=this.getView(e);return t&&t.el},getView:function(t){var e=this.view,n=this.views;return t&&(e=n.filter(function(e){return e._getFrame()===t.view})[0]),e},getCurrentView:function(){var e=(this.em.get("currentFrame")||{}).model;return this.getView(e)},getScriptString:function(e){var r=this,t=e||this.get("script");if(!t)return t;"function"==typeof t&&(t=t.toString().trim().replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"").trim());var n=this.em.getConfig(),i=y(n.tagVarStart||"{[ "),o=y(n.tagVarEnd||" ]}"),s=new RegExp("".concat(i,"([\\w\\d-]*)").concat(o),"g");return t=t.replace(s,function(e,t){r.scriptUpdated();var n=r.attributes[t]||"";return Object(f.isArray)(n)||"object"==a()(n)?JSON.stringify(n):n})},emitUpdate:function(e){for(var t=this.em,n="component:update"+(e?":".concat(e):""),r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];e&&this.updated.apply(this,[e,e&&this.get(e),e&&this.previous(e)].concat(i)),this.trigger.apply(this,[n].concat(i)),t&&t.trigger.apply(t,[n,this].concat(i))},onAll:function(t){return Object(f.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},remove:function(){var e=this.collection;return e&&e.remove(this)},resetId:function(e){var t=this.em,n=this.getId();if(n){var r=w.createId(this);this.setId(r);var i=t&&t.get("CssComposer").getIdRule(n),o=i&&i.get("selectors").at(0);return o&&o.set("name",r),this}},_getStyleRule:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).id,n=this.em,r=t||this.getId();return n&&n.get("CssComposer").getIdRule(r)},_getStyleSelector:function(e){var t=this._getStyleRule(e);return t&&t.get("selectors").at(0)},_idUpdated:function(e,t,n){if(!(2<arguments.length&&void 0!==n?n:{}).idUpdate){var r=this.ccid,i=(this.get("attributes")||{}).id,o=(this.previous("attributes")||{}).id||r,s=w.getList(this);if(s[i])return this.setId(o,{idUpdate:1});delete s[o],(s[i]=this).ccid=i;var a=this._getStyleSelector({id:o});a&&a.set({name:i,label:i})}}},{isComponent:function(e){return{tagName:e.tagName?e.tagName.toLowerCase():""}},ensureInList:function(e){var t,n=w.getList(e),r=e.getId(),i=n[r];i?i!==e&&(t=w.getIncrementId(r,n),e.setId(t),n[t]=e):n[r]=e,e.components().forEach(function(e){return w.ensureInList(e)})},createId:function(e){var t,n=w.getList(e),r=e.get("attributes").id;return r?(t=w.getIncrementId(r,n),e.setId(t)):t=w.getNewId(n),n[t]=e,t},getNewId:function(e){for(var t=Object.keys(e).length.toString().length+2,n=(Math.random()+1.1).toString(36).slice(-t),r="i".concat(n);e[r];)r=w.getNewId(e);return r},getIncrementId:function(e,t){for(var n=1,r=e;t[r];)n++,r="".concat(e,"-").concat(n);return r},getList:function(e){var t=e.opt&&e.opt.domc;return t?t.componentsById:{}},checkId:function(e,t,n){var s=1<arguments.length&&void 0!==t?t:[],a=2<arguments.length&&void 0!==n?n:{};(Object(f.isArray)(e)?e:[e]).forEach(function(e){var r,t=e.attributes,n=void 0===t?{}:t,i=e.components,o=n.id;o&&a[o]&&(r=w.getIncrementId(o,a),n.id=r,Object(f.isArray)(s)&&s.forEach(function(e){var n=e.selectors;n.forEach(function(e,t){e==="#".concat(o)&&(n[t]="#".concat(r))})})),i&&w.checkId(i,s,a)})}});t.default=w},"./src/dom_components/model/ComponentComment.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentTextNode.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults),toHTML:function(){return"\x3c!--".concat(this.get("content"),"--\x3e")}},{isComponent:function(e){if(8==e.nodeType)return{tagName:"NULL",type:"comment",content:e.textContent}}})},"./src/dom_components/model/ComponentImage.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js"),l=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var a='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"';t.default=l.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},l.default.prototype.defaults,{type:"image",tagName:"img",void:1,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(a,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(a,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""}),initialize:function(e,t){l.default.prototype.initialize.apply(this,arguments);var n=this.get("attributes");n.src&&this.set("src",n.src)},initToolbar:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.default.prototype.initToolbar.apply(this,t);var r=this.em;if(r){var i="image-editor";if(r.get("Commands").has(i)){for(var o=!1,s=this.get("toolbar"),a=0;a<s.length;a++)if("image-editor"===s[a].command){o=!0;break}o||(s.push({attributes:{class:"fa fa-pencil"},command:i}),this.set("toolbar",s))}}},getAttrToHTML:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=l.default.prototype.getAttrToHTML.apply(this,t),i=this.getSrcResult();return i&&(r.src=i),r},getSrcResult:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.get(t.fallback?"fallback":"src")||"",r=n;return n&&"<svg"===n.substr(0,4)&&(r="data:image/svg+xml;base64,".concat(window.btoa(n))),r},isDefaultSrc:function(){return this.get("src")===Object(o.result)(this,"defaults").src},parseUri:function(e){var t=document.createElement("a");t.href=e;for(var n={},r=t.search.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].split("="),s=decodeURIComponent(o[0]);s&&(n[s]=decodeURIComponent(o[1]))}return{hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,search:t.search,hash:t.hash,port:t.port,query:n}}},{isComponent:function(e){var t="";return"IMG"==e.tagName&&(t={type:"image"}),t}})},"./src/dom_components/model/ComponentLabel.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentText.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{tagName:"label",traits:["id","title","for"]})},{isComponent:function(e){if("LABEL"==e.tagName)return{type:"label"}}})},"./src/dom_components/model/ComponentLink.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentText.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"link",tagName:"a",traits:["title","href","target"]}),getAttrToHTML:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.default.prototype.getAttrToHTML.apply(this,t);return delete r.onmousedown,r}},{isComponent:function(e){var t;if("A"==e.tagName){t={type:"link",editable:0};var n=e.childNodes,r=n.length;r||delete t.editable;for(var i=0;i<r;i++){var o=n[i];if(3==o.nodeType&&""!=o.textContent.trim()){delete t.editable;break}}}return t}})},"./src/dom_components/model/ComponentMap.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentImage.js"),s=n("./src/dom_components/model/Component.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:s.default.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(e,t){this.get("src")?this.parseFromSrc():this.updateSrc(),o.default.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var e=(e=this.get("address"))?"&q="+e:"",t=(t=this.get("zoom"))?"&z="+t:"",n=(n=this.get("mapType"))?"&t="+n:"",r=this.get("mapUrl")+"?"+e+t+n;return r+="&output=embed"},parseFromSrc:function(){var e=this.parseUri(this.get("src")).query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)}},{isComponent:function(e){var t="";return"IFRAME"==e.tagName&&/maps\.google\.com/.test(e.src)&&(t={type:"map",src:e.src}),t}})},"./src/dom_components/model/ComponentScript.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"script",droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(e){if("SCRIPT"==e.tagName){var t={type:"script"};return e.src&&(t.src=e.src,t.onload=e.onload),t}}})},"./src/dom_components/model/ComponentSvg.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{resizable:{ratioDefault:1},highlightable:0}),getName:function(){var e=this.get("tagName"),t=this.get("custom-name"),e=e.charAt(0).toUpperCase()+e.slice(1);return t||e}},{isComponent:function(e){if(SVGElement&&e instanceof SVGElement)return{tagName:e.tagName,type:"svg"}}})},"./src/dom_components/model/ComponentSvgIn.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentSvg.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(e){if(o.default.isComponent(e)&&"svg"!==e.tagName.toLowerCase())return{tagName:e.tagName,type:"svg-in"}}})},"./src/dom_components/model/ComponentTable.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"table",tagName:"table",droppable:["tbody","thead","tfoot"]}),initialize:function(e,t){o.default.prototype.initialize.apply(this,arguments);var n=this.get("components");n.length||n.add({type:"tbody"})}},{isComponent:function(e){var t="";return"TABLE"==e.tagName&&(t={type:"table"}),t}})},"./src/dom_components/model/ComponentTableBody.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),l=n("./src/dom_components/model/Component.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=l.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},l.default.prototype.defaults,{type:"tbody",tagName:"tbody",draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(e,t){l.default.prototype.initialize.apply(this,arguments);var n=this.get("components"),r=this.get("columns"),i=this.get("rows");if(!n.length){for(var o=[];i--;){for(var s=[],a=r;a--;)s.push({type:"cell",classes:["cell"]});o.push({type:"row",classes:["row"],components:s})}n.add(o)}}},{isComponent:function(e){var t="";return"TBODY"==e.tagName&&(t={type:"tbody"}),t}})},"./src/dom_components/model/ComponentTableCell.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(e){var t="",n=e.tagName;return"TD"!=n&&"TH"!=n||(t={type:"cell",tagName:n.toLowerCase()}),t}})},"./src/dom_components/model/ComponentTableFoot.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentTableBody.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"tfoot",tagName:"tfoot"})},{isComponent:function(e){var t="";return"TFOOT"==e.tagName&&(t={type:"tfoot"}),t}})},"./src/dom_components/model/ComponentTableHead.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentTableBody.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"thead",tagName:"thead"})},{isComponent:function(e){var t="";return"THEAD"==e.tagName&&(t={type:"thead"}),t}})},"./src/dom_components/model/ComponentTableRow.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(e){return"TR"==e.tagName&&!0}})},"./src/dom_components/model/ComponentText.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"text",droppable:!1,editable:!0}),toHTML:function(){return this.trigger("sync:content",{silent:1}),o.default.prototype.toHTML.apply(this,arguments)}})},"./src/dom_components/model/ComponentTextNode.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{droppable:!1,layerable:!1,editable:!0}),toHTML:function(){return this.get("content").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{isComponent:function(e){var t="";return 3===e.nodeType&&(t={type:"textnode",content:e.textContent}),t}})},"./src/dom_components/model/ComponentVideo.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/dom_components/model/ComponentImage.js"),s=n("./src/dom_components/model/Component.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var l="ytnc";t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"video",tagName:"video",videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"},toolbar:s.default.prototype.defaults.toolbar}),initialize:function(e,t){var n=[];switch(this.get("provider")){case"yt":case l:n=this.getYoutubeTraits();break;case"vi":n=this.getVimeoTraits();break;default:n=this.getSourceTraits()}this.get("src")&&this.parseFromSrc(),this.set("traits",n),o.default.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc)},initToolbar:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.default.prototype.initToolbar.apply(this,t)},parseFromSrc:function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),n=t.query;switch(e){case"yt":case l:case"vi":var r=t.pathname.split("/").pop();this.set("videoId",r),n.autoplay&&this.set("autoplay",1),n.loop&&this.set("loop",1),0===parseInt(n.controls)&&this.set("controls",0),n.color&&this.set("color",n.color),"0"===n.rel&&this.set("rel",0),"1"===n.modestbranding&&this.set("modestbranding",1)}},updateSrc:function(){switch(this.get("provider")){case"yt":this.set("src",this.getYoutubeSrc());break;case l:this.set("src",this.getYoutubeNoCookieSrc());break;case"vi":this.set("src",this.getVimeoSrc())}},getAttrToHTML:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.default.prototype.getAttrToHTML.apply(this,t);switch(this.get("provider")){case"yt":case l:case"vi":break;default:this.get("loop")&&(r.loop="loop"),this.get("autoplay")&&(r.autoplay="autoplay"),this.get("controls")&&(r.controls="controls")}return r},updateTraits:function(){var e=this.get("provider"),t=this.getSourceTraits();switch(e){case"yt":case l:this.set("tagName","iframe"),t=this.getYoutubeTraits();break;case"vi":this.set("tagName","iframe"),t=this.getVimeoTraits();break;default:this.set("tagName","video")}this.loadTraits(t),this.em.trigger("component:toggled")},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:"yt",name:"Youtube"},{value:l,name:"Youtube (no cookie)"},{value:"vi",name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var e=this.get("videoId"),t=this.get("ytUrl");return t+=e+"?",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":""},getYoutubeNoCookieSrc:function(){return this.getYoutubeSrc().replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):""}},{isComponent:function(e){var t="",n=/youtube\.com\/embed/.test(e.src),r=/youtube-nocookie\.com\/embed/.test(e.src),i=/player\.vimeo\.com\/video/.test(e.src),o=n||r||i;return("VIDEO"==e.tagName||"IFRAME"==e.tagName&&o)&&(t={type:"video"},e.src&&(t.src=e.src),o&&(n?t.provider="yt":r?t.provider=l:i&&(t.provider="vi"))),t}})},"./src/dom_components/model/ComponentWrapper.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/model/Component.js");t.default=r.default.extend({},{isComponent:function(){return!1}})},"./src/dom_components/model/Components.js":function(e,t,a){"use strict";a.r(t);var l,n=a("./node_modules/@babel/runtime/helpers/typeof.js"),d=a.n(n),r=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=a.n(r),o=a("./node_modules/backbone/backbone.js"),s=a.n(o),f=a("./node_modules/underscore/underscore.js");function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.Collection.extend({initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.opt=n,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren),this.config=n.config,this.em=n.em,this.domc=n.domc},resetChildren:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:{},i=this,o=r.previousModels;(void 0===o?[]:o).forEach(function(e){return n.removeChildren(e,i,r)}),e.each(function(e){return n.onAdd(e)})},removeChildren:function(e,t,n){var r,i,o,s,a,l,c,u=this,d=2<arguments.length&&void 0!==n?n:{},f=this.domc,h=this.em,p=f?f.allById():{};d.temporary||(r=e.getId(),i=h.get("SelectorManager").getAll(),o=h.get("CssComposer").getAll(),delete p[r],s=o.remove(o.filter(function(e){return e.getSelectors().getFullString()==="#".concat(r)})),i.remove(s.map(function(e){return e.getSelectors().at(0)})),e.opt.temporary||(a=h.get("Commands"),l=e.get("style-signature"),c={target:e},l&&a.run("core:component-style-clear",c),e.removed(),h.trigger("component:remove",e)),e.components().forEach(function(e){return u.removeChildren(e,t,d)}));var g=e.components(),m=h.get("UndoManager");h.stopListening(g),h.stopListening(e),h.stopListening(e.get("classes")),m.remove(e),m.remove(g)},model:function(e,t){var n,r=t.collection.opt,i=r.em,o=i.get("DomComponents").componentTypes;t.em=i,t.config=r.config,t.componentTypes=o,t.domc=r.domc;for(var s=0;s<o.length;s++){if(o[s].id==e.type){n=o[s].model;break}}return n||(n=o[o.length-1].model,i&&e.type&&i.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new n(e,t)},parseString:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.em,i=this.opt.domc,o=r.get("CssComposer"),s=r.get("Parser").parseHtml(e);return(l=l||a("./src/dom_components/model/Component.js").default).checkId(s.html,s.css,i.componentsById),s.css&&o&&!n.temporary&&o.addCollection(s.css,h({},n,{extend:1})),s.html},add:function(n,e){var r=this,i=1<arguments.length&&void 0!==e?e:{};Object(f.isString)(n)?n=this.parseString(n,i):Object(f.isArray)(n)&&n.forEach(function(e,t){Object(f.isString)(e)&&(n[t]=r.parseString(e,i))});var t=Object(f.isArray)(n);return n=(t?n:[n]).filter(function(e){return e}).map(function(e){return r.processDef(e)}),n=t?n:n[0],s.a.Collection.prototype.add.apply(this,[n,i])},processDef:function(e){if(e.cid&&e.ccid)return e;var t,n,r,i,o,s,a=this.em,l=this.config,c=(void 0===l?{}:l).processor,u=e;return!c||(t=c(u=h({},u)))&&(Object(f.each)(u,function(e,t){return delete u[t]}),Object(f.extend)(u,t)),u.$$typeof&&"object"==d()(u.props)&&((u=h({},u)).props=h({},u.props),n=a.get("DomComponents"),r=a.get("Parser").parserHtml,Object(f.each)(u,function(e,t){Object(f.includes)(["props","type"],t)||delete u[t]}),o=(i=u.props).children,delete i.children,delete u.props,s=r.splitPropsFromAttr(i),u.attributes=s.attrs,o&&(u.components=o),u.type?n.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",Object(f.extend)(u,s.props)),u},onAdd:function(e,t,n){var r,i=2<arguments.length&&void 0!==n?n:{},o=this.domc,s=this.em,a=e.getStyle(),l=s&&s.getConfig("avoidInlineStyle");o&&o.Component.ensureInList(e),!Object(f.isEmpty)(a)&&!l&&s&&s.get&&s.getConfig("forceClass")&&!i.temporary&&(r=e.cid,s.get("CssComposer").setClassRule(r,a),e.setStyle({}),e.addClass(r))}})},"./src/dom_components/model/Toolbar.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/dom_components/model/ToolbarButton.js");t.default=i.a.Collection.extend({model:o.default})},"./src/dom_components/model/ToolbarButton.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({defaults:{command:"",attributes:{}}})},"./src/dom_components/view/ComponentCommentView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentTextNodeView.js");t.default=r.default.extend({_createElement:function(){return document.createComment(this.model.get("content"))}})},"./src/dom_components/view/ComponentImageView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({tagName:"img",events:{dblclick:"onActive",click:"initResize",error:"onError",dragstart:"noDrag"},initialize:function(e){var t=this.model;r.default.prototype.initialize.apply(this,arguments),this.listenTo(t,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image");var n=this.config;n.modal&&(this.modal=n.modal),n.am&&(this.am=n.am),this.fetchFile()},fetchFile:function(){var r,e;this.modelOpt.temporary||(e=(r=this.model).get("file"))&&(this.em.get("AssetManager").FileUploader().uploadFile({dataTransfer:{files:[e]}},function(e){var t=e&&e.data&&e.data[0],n=t&&(Object(i.isString)(t)?t:t.src);n&&r.set({src:n})}),r.set("file",""))},updateSrc:function(){var e=this.model,t=this.classEmpty,n=this.$el,r=e.getSrcResult(),i=r&&!e.isDefaultSrc();e.addAttributes({src:r}),n[i?"removeClass":"addClass"](t)},onActive:function(e){e&&e.stopPropagation();var t=this.opts.config.em,n=t?t.get("Editor"):"";n&&this.model.get("editable")&&n.runCommand("open-assets",{target:this.model,types:["image"],accept:"image/*",onSelect:function(){n.Modal.close(),n.AssetManager.setTarget(null)}})},onError:function(){var e=this.model.getSrcResult({fallback:1});e&&(this.el.src=e)},noDrag:function(e){return e.preventDefault(),!1},render:function(){this.renderAttributes(),this.updateSrc();var e=this.$el,t=this.model,n=e.attr("class")||"";return t.get("src")||e.attr("class","".concat(n," ").concat(this.classEmpty).trim()),this.postRender(),this}})},"./src/dom_components/view/ComponentLabelView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentLinkView.js");t.default=r.default.extend({tagName:"span"})},"./src/dom_components/view/ComponentLinkView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentTextView.js");t.default=r.default.extend({render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.default.prototype.render.apply(this,t),this.el.addEventListener("click",this.prevDef,!0),this}})},"./src/dom_components/view/ComponentMapView.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/backbone/backbone.js");var r=n("./src/dom_components/view/ComponentImageView.js");t.default=r.default.extend({tagName:"div",events:{},initialize:function(e){r.default.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"},updateSrc:function(){this.getIframe().src=this.model.get("src")},getIframe:function(){var e;return this.iframe||((e=document.createElement("iframe")).src=this.model.get("src"),e.frameBorder=0,e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e),this.iframe},render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.default.prototype.render.apply(this,t),this.updateClasses(),this.el.appendChild(this.getIframe()),this}})},"./src/dom_components/view/ComponentScriptView.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/backbone/backbone.js");var r=n("./src/dom_components/view/ComponentImageView.js");t.default=r.default.extend({tagName:"script",events:{},render:function(){var e,t,n,r=this.model,i=r.get("src"),o=this.em,s=o&&o.get("scriptCount")?o.get("scriptCount"):0,a="";return i?(a="var "+(t="script"+s)+" = document.createElement('script');\n"+t+".onload = function(){\n"+((e=r.get("onload"))?e+"();\n":"")+"typeof "+(n="script"+(s+1))+"Start == 'function' && "+n+"Start();\n};\n"+t+".src = '"+i+"';\nfunction "+t+"Start() { document.body.appendChild("+t+"); };\n"+(s?"":t+"Start();"),o&&o.set("scriptCount",s+1)):a=r.get("content"),this.el.innerHTML=a,this}})},"./src/dom_components/view/ComponentSvgView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({_createElement:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}})},"./src/dom_components/view/ComponentTableBodyView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({})},"./src/dom_components/view/ComponentTableCellView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({})},"./src/dom_components/view/ComponentTableFootView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({})},"./src/dom_components/view/ComponentTableHeadView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({})},"./src/dom_components/view/ComponentTableRowView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({})},"./src/dom_components/view/ComponentTableView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({events:{}})},"./src/dom_components/view/ComponentTextNodeView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.View.extend({initialize:function(){var e=this.$el,t=this.model;e.data("model",t),t.view=this},_createElement:function(){return document.createTextNode(this.model.get("content"))}})},"./src/dom_components/view/ComponentTextView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./src/utils/mixins.js"),o=n("./src/dom_components/view/ComponentView.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var c=o.default.prototype;t.default=o.default.extend({events:{dblclick:"onActive",input:"onInput"},initialize:function(e){c.initialize.apply(this,arguments),this.disableEditing=this.disableEditing.bind(this);var t=this.model,n=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=n&&n.get("RichTextEditor")},updateContentText:function(e,t,n){(2<arguments.length&&void 0!==n?n:{}).fromDisable||this.disableEditing()},onActive:function(e){if(!this.rteEnabled&&this.model.get("editable")){e&&e.stopPropagation&&e.stopPropagation();var t=this.rte,n=this.em;if(t)try{this.activeRte=t.enable(this,this.activeRte)}catch(e){n.logError(e)}this.toggleEvents(1)}},onDisable:function(){this.disableEditing()},disableEditing:function(){var e=this.model,t=this.rte,n=this.activeRte,r=this.em,i=e.get("editable");if(t&&i){try{t.disable(this,n)}catch(e){r.logError(e)}this.syncContent()}this.toggleEvents()},getContent:function(){var e=(this.rte||{}).activeRte;return e&&"function"==typeof e.getContent?e.getContent():this.getChildrenContainer().innerHTML},syncContent:function(e){var t,n,r,i=0<arguments.length&&void 0!==e?e:{},o=this.model,s=this.rte;(this.rteEnabled||i.force)&&(t=this.getContent(),n=o.components(),r=l({fromDisable:1},i),n.length&&n.reset(null,i),o.set("content","",r),s.customRte?o.set("content",t,r):(i.silent||o.trigger("change:content",o,"",r),n.add(t,i),n.each(function e(t){var n=!!t.get("textable"),r=!["text","default",""].some(function(e){return t.is(e)})||n;t.set(l({_innertext:!r,editable:r&&t.get("editable"),selectable:r,hoverable:r,removable:n,draggable:n,highlightable:0,copyable:n},!n&&{toolbar:""}),i),t.get("components").each(e)}),n.trigger("resetNavigator")))},getModelsFromEl:function(e){for(var t=[],n=(e||this.el).childNodes,r=0;r<n.length;r++){var i=n[r],o=i.__cashData&&i.__cashData.model;o&&(o.components=this.getModelsFromEl(i),o.get("content")&&(o.attributes.content=i.textContent),t.push(o))}return t},onInput:function(){var e=this.em,t=["".concat("component",":update"),"".concat("component",":input")].join(" ");e&&e.trigger(t,this.model)},disablePropagation:function(e){e.stopPropagation()},toggleEvents:function(e){var t=this.em,n={on:s.on,off:s.off},r=e?"on":"off";t.setEditing(e),this.rteEnabled=!!e;var i=[this.el.ownerDocument,document];if(n.off(i,"mousedown",this.disableEditing),n[r](i,"mousedown",this.disableEditing),t[r]("toolbar:run:before",this.disableEditing),this.$el.off("mousedown",this.disablePropagation),this.$el[r]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var o=this.el;o;)o.draggable=!e,(o=o.parentNode)&&"BODY"==o.tagName&&(o=0)}})},"./src/dom_components/view/ComponentVideoView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentImageView.js"),r=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({tagName:"div",events:{},initialize:function(e){r.default.prototype.initialize.apply(this,arguments);var t=this.model,n=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(e){return"change:".concat(e)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,n,this.updateVideo)},updateProvider:function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},updateSrc:function(){var e=this.model,t=this.videoEl;if(t){var n=e.get("provider"),r=e.get("src");switch(n){case"yt":r=e.getYoutubeSrc();break;case"ytnc":r=e.getYoutubeNoCookieSrc();break;case"vi":r=e.getVimeoSrc()}t.src=r}},updateVideo:function(){var e=this.model.get("provider"),t=this.videoEl,n=this.model;switch(e){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:t.loop=n.get("loop"),t.autoplay=n.get("autoplay"),t.controls=n.get("controls"),t.poster=n.get("poster")}},renderByProvider:function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t},renderSource:function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},renderYoutube:function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e},renderYoutubeNoCookie:function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e},renderVimeo:function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e},initVideoEl:function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.default.prototype.render.apply(this,t),this.updateClasses();var r=this.model.get("provider");return this.el.appendChild(this.renderByProvider(r)),this.updateVideo(),this}})},"./src/dom_components/view/ComponentView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),f=n("./node_modules/underscore/underscore.js"),a=n("./src/dom_components/model/Components.js"),l=n("./src/dom_components/view/ComponentsView.js"),c=n("./src/selector_manager/model/Selectors.js"),u=n("./src/utils/dom.js"),d=n("./src/utils/mixins.js");function h(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.View.extend({className:function(){return this.getClasses()},tagName:function(){return this.model.get("tagName")},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,r=t.config||{},i=r.em,o=n.opt||{},s=this.$el,a=this.el,l=r.draggableComponents;this.opts=t,this.modelOpt=o,this.config=r,this.em=i||"",this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=n.get("attributes"),this.classe=this.attr.class||[],this.listenTo(n,"change:style",this.updateStyle),this.listenTo(n,"change:attributes change:_innertext",this.renderAttributes),this.listenTo(n,"change:highlightable",this.updateHighlight),this.listenTo(n,"change:status",this.updateStatus),this.listenTo(n,"change:script",this.reset),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change",this.handleChange),this.listenTo(n,"active",this.onActive),this.listenTo(n,"disable",this.onDisable),s.data("model",n),Object(d.setViewEl)(a,this),(n.view=this)._getFrame()&&n.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=p({},this.events,{},l&&{dragstart:"handleDragStart"}),this.delegateEvents(),o.temporary||this.init(this._clbObj())},_clbObj:function(){var e=this.em,t=this.model,n=this.el;return{editor:e&&e.getEditor(),model:t,el:n}},init:function(){},removed:function(){},onActive:function(){},onDisable:function(){},remove:function(){var e=this;s.a.View.prototype.remove.apply(e,arguments);var t=e.model,n=(e._getFrame()||{}).model;t.components().forEach(function(e){var t=e.getView(n);t&&t.remove()});var r=t.views;return r.splice(r.indexOf(e),1),e.removed(e._clbObj()),e.$el.data({model:"",collection:"",view:""}),delete e.model,delete e.$el,delete e.el.__gjsv,delete e.childrenView,delete e.scriptContainer,delete e.opts,e},handleDragStart:function(e){e.preventDefault(),e.stopPropagation(),this.em.get("Commands").run("tlb-move",{target:this.model,event:e})},initClasses:function(){var e=this.model,t="change:classes",n=e.get("classes");n instanceof c.default&&(this.stopListening(e,t,this.initClasses),this.listenTo(e,t,this.initClasses),this.listenTo(n,"add remove change",this.updateClasses),n.length&&this.importClasses())},initComponents:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,r=this.$el,i=this.childrenView,o=n.get("components"),s=[n,"change:components",this.initComponents];o instanceof a.default&&(r.data("collection",o),i&&i.remove(),this.stopListening.apply(this,s),t.avoidRender||this.renderChildren(),this.listenTo.apply(this,s))},handleChange:function(){var e=this.model,t=Object(f.keys)(e.changed);if(1!==t.length||"status"!==t[0])for(var n in e.emitUpdate(),e.changed)e.emitUpdate(n)},importClasses:function(){var t=this.config.em.get("SelectorManager");t&&this.model.get("classes").each(function(e){t.add(e.get("name"))})},updateStatus:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(this.em,this.el),r=this.model.get("status"),i=(this.pfx,this.ppfx),o="".concat(i,"selected"),s="".concat(o,"-parent"),a="".concat(i,"freezed"),l="".concat(i,"hovered"),c=[o,s,a,l];this.$el.removeClass(c.join(" "));var u=n.getAttribute("class")||"",d="";switch(r){case"selected":d="".concat(u," ").concat(o);break;case"selected-parent":d="".concat(u," ").concat(s);break;case"freezed":d="".concat(u," ").concat(a);break;case"freezed-selected":d="".concat(u," ").concat(a," ").concat(o);break;case"hovered":d=t.avoidHover?"":"".concat(u," ").concat(l)}(d=d.trim())&&n.setAttribute("class",d)},updateHighlight:function(){var e=this.model.get("highlightable");this.setAttribute("data-highlightable",e?1:"")},updateStyle:function(){var e,t=this.model,n=this.em,r=this.el;n&&n.getConfig("avoidInlineStyle")?(t.get("_innertext")?r.removeAttribute("id"):r.id=t.getId(),e=t.getStyle(),Object(f.isEmpty)(e)||t.setStyle(e)):this.setAttribute("style",t.styleToString())},updateClasses:function(){var e=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus()},setAttribute:function(e,t){var n=this.$el;t?n.attr(e,t):n.removeAttr(e)},getClasses:function(){return this.model.getClasses().join(" ")},updateAttributes:function(){var t=[],e=this.model,n=this.$el,r=this.el,i=this.config,o=e.attributes,s=o.highlightable,a=o.textable,l=o.type,c=o._innertext,u=p({"data-gjs-type":l||"default"},i.draggableComponents&&!c?{draggable:!0}:{},{},s?{"data-highlightable":1}:{},{},a?{contenteditable:"false","data-gjs-textable":"true"}:{});Object(f.each)(r.attributes,function(e){return t.push(e.nodeName)}),t.forEach(function(e){return n.removeAttr(e)});var d=p({},u,{},e.getAttributes());Object(f.keys)(d).forEach(function(e){return!1===d[e]&&delete d[e]}),n.attr(d),this.updateStyle()},updateContent:function(){this.getChildrenContainer().innerHTML=this.model.get("content")},prevDef:function(e){e.preventDefault()},updateScript:function(){var e=this.model,t=this.em;e.get("script")&&t&&t.get("Canvas").getCanvasView().updateScript(this)},getChildrenContainer:function(){var e=this.el;return"function"==typeof this.getChildrenSelector?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},getOffsetRect:function(){var r={},i=this.el,o=0,s=0;return function e(t){var n=t.offsetParent;n?(o+=n.offsetTop,s+=n.offsetLeft,e(n)):(r.top=i.offsetTop+o,r.left=i.offsetLeft+s,r.bottom=r.top+i.offsetHeight,r.right=r.left+i.offsetWidth)}(i),r},isInViewport:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).rect,n=this.el.ownerDocument,r=n.body,i=n.defaultView.frameElement,o=t||this.getOffsetRect(),s=o.top,a=o.left,l=this._getFrame().getOffsetRect();return s>=l.scrollTop&&a>=l.scrollLeft&&s<=l.scrollBottom&&a<=i.offsetWidth+r.scrollLeft},scrollIntoView:function(e){var t,n=0<arguments.length&&void 0!==e?e:{},r=this.getOffsetRect();this.isInViewport({rect:r})&&!n.force||(t=this.el,"smooth"!==n.behavior?t.ownerDocument.defaultView.scrollTo(0,r.top):t.scrollIntoView(p({behavior:"smooth",block:"nearest"},n)))},reset:function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),Object(u.replaceWith)(e,this.el),this.render()},_setData:function(){var e=this.model,t=e.components();this.$el.data({model:e,collection:t,view:this})},_getFrame:function(){return this.config.frameView},renderChildren:function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new l.default({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var n=Array.prototype.slice.call(t.el.childNodes),r=0,i=n.length;r<i;r++)e.appendChild(n.shift())},renderAttributes:function(){this.updateAttributes(),this.updateClasses()},render:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),Object(d.setViewEl)(this.el,this),this.postRender()),this},postRender:function(){var e=this.em,t=this.model;this.modelOpt.temporary||(this.onRender(this._clbObj()),e&&e.trigger("component:mount",t))},onRender:function(){}})},"./src/dom_components/view/ComponentsView.js":function(e,t,y){"use strict";y.r(t);var n=y("./node_modules/backbone/backbone.js"),r=y.n(n),b=y("./node_modules/underscore/underscore.js");t.default=r.a.View.extend({initialize:function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},removeChildren:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n?n:{};e.views.forEach(function(e){var t,n;e&&(t=e.childrenView,n=e.scriptContainer,t&&t.stopListening(),n&&n.remove(),e.remove.apply(e))}),e.components().forEach(function(e){return r.removeChildren(e,t,i)})},addTo:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=this.config.em,o=this.collection.indexOf(e);this.addToCollection(e,null,o),i&&!r.temporary&&function e(t){i.trigger("component:add",t),t.components().forEach(e)}(e)},addToCollection:function(e,t,n){this.compView||(this.compView=y("./src/dom_components/view/ComponentView.js").default);for(var r=this.config,i=this.opts,o=this.em,s=t||null,a=r.frameView,l=void 0===a?{}:a,c=l.model&&e.getView(l.model),u=i.componentTypes||o&&o.get("DomComponents").getTypes(),d=e.get("type"),f=this.compView,h=0;h<u.length;h++)if(u[h].id==d){f=u[h].view;break}var p,g,m,v=(c||new f({model:e,config:r,componentTypes:u})).render().el;return s?s.appendChild(v):(g=(p=this.parentEl).childNodes,Object(b.isUndefined)(n)?p.appendChild(v):((m=g.length==n)&&n--,m||!g.length?p.appendChild(v):p.insertBefore(v,g[n]))),v},resetChildren:function(e,t){var n=this,r=(1<arguments.length&&void 0!==t?t:{}).previousModels,i=void 0===r?[]:r;this.parentEl.innerHTML="",i.forEach(function(e){return n.removeChildren(e,n.collection)}),e.each(function(e){return n.addToCollection(e)})},render:function(e){var t=this,n=this.el,r=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(e){return t.addToCollection(e,r)}),n.innerHTML="",n.appendChild(r),this}})},"./src/dom_components/view/ToolbarButtonView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(r),i=n("./node_modules/backbone/backbone.js"),o=n.n(i);function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.a.View.extend({events:function(){return this.model.get("events")||{mousedown:"handleClick"}},attributes:function(){return this.model.get("attributes")},initialize:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).config,n=void 0===t?{}:t;this.em=n.em,this.editor=n.editor},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.editor,n=this.em,r=t.Canvas.getFrameEl().getBoundingClientRect(),i=r.left,o=r.top,s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e,{clientX:e.clientX-i,clientY:e.clientY-o});n.trigger("toolbar:run:before"),this.execCommand(s)},execCommand:function(e){var t={event:e},n=this.model.get("command"),r=this.editor;"function"==typeof n&&n(r,null,t),"string"==typeof n&&r.runCommand(n,t)},render:function(){var e=this.editor,t=this.$el,n=this.model,r=n.get("id"),i=n.get("label"),o=e.getConfig("stylePrefix");return t.addClass("".concat(o,"toolbar-item")),r&&t.addClass("".concat(o,"toolbar-item__").concat(r)),i&&t.append(i),this}})},"./src/dom_components/view/ToolbarView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/domain_abstract/view/DomainViews.js"),i=n("./src/dom_components/view/ToolbarButtonView.js");t.default=r.default.extend({itemView:i.default,initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config={editor:t.editor||"",em:t.em},this.listenTo(this.collection,"reset",this.render)}})},"./src/domain_abstract/model/Styleable.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),c=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js"),o=n("./src/parser/model/ParserHtml.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var d=Object(o.default)().parseStyle;t.default={parseStyle:d,extendStyle:function(e){return u({},this.getStyle(),{},e)},getStyle:function(){return u({},this.get("style")||{})},setStyle:function(e,t){var n=this,r=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};Object(c.isString)(r)&&(r=d(r));var o=this.getStyle(),s=u({},r);this.set("style",s,i);var a=Object(l.shallowDiff)(o,s);return Object(c.keys)(a).forEach(function(e){var t=n.em;n.trigger("change:style:".concat(e)),t&&(t.trigger("styleable:change",n,e),t.trigger("styleable:change:".concat(e),n,e))}),s},addStyle:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:"",i=2<arguments.length&&void 0!==n?n:{};"string"==typeof e?e={prop:r}:i=r||{},e=this.extendStyle(e),this.setStyle(e,i)},removeStyle:function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},styleToString:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=[],r=this.getStyle();for(var i in r){var o=t.important,s=Object(c.isArray)(o)?0<=o.indexOf(i):o,a="".concat(r[i]).concat(s?" !important":""),l="__"==i.substr(0,2);a&&!l&&n.push("".concat(i,":").concat(a,";"))}return n.join("")},getSelectors:function(){return this.get("selectors")||this.get("classes")},getSelectorsString:function(){return this.selectorsToString?this.selectorsToString():this.getSelectors().getFullString()}}},"./src/domain_abstract/model/TypeableCollection.js":function(e,t,n){"use strict";n.r(t);var c=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),i=n.n(r),u=i.a.Model,d=i.a.View;t.default={types:[],initialize:function(){var l=this;this.model=function(){var e,t,n,r,i,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};o&&o.type?(e=l.getBaseType(),n=(t=l.getType(o.type))?t.model:e.model,r=t?t.view:e.view):(n=(t=(i=l.recognizeType(o)).type).model,r=t.view,o=i.attributes);var a=new n(o,s);return a.typeView=r,a};var e=this.init&&this.init.bind(this);e&&e()},recognizeType:function(e){for(var t=this.getTypes(),n=0;n<t.length;n++){var r=t[n],i=r.isType(e);if(i="boolean"==typeof i&&i?{type:r.id}:i)return{type:r,attributes:i}}return{type:this.getBaseType(),attributes:e}},getBaseType:function(){var e=this.getTypes();return e[e.length-1]},getTypes:function(){return this.types},getType:function(e){for(var t=this.getTypes(),n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}},addType:function(t,e){var n=this.getType(t),r=this.getBaseType(),i=n?n.model:r.model,o=n?n.view:r.view,s=e.model,a=e.view,l=e.isType,s=s instanceof u||Object(c.isFunction)(s)?s:i.extend(s||{}),a=a instanceof d||Object(c.isFunction)(a)?a:o.extend(a||{});n?(n.model=s,n.view=a,n.isType=l||n.isType):(e.id=t,e.model=s,e.view=a,e.isType=l||function(e){if(e&&e.type==t)return!0},this.getTypes().unshift(e))}}},"./src/domain_abstract/ui/Input.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=i.a.$;t.default=i.a.View.extend({events:{change:"handleChange"},template:function(){return'<span class="'.concat(this.holderClass(),'"></span>')},inputClass:function(){return"".concat(this.ppfx,"field")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.ppfx||"";this.opts=t,this.ppfx=n,this.em=t.target||{},this.listenTo(this.model,"change:value",this.handleModelChange)},elementUpdated:function(){this.model.trigger("el:change")},setValue:function(e){var t=this.model,n=e||t.get("defaults"),r=this.getInputEl();r&&(r.value=n)},handleModelChange:function(e,t,n){this.setValue(t,n)},handleChange:function(e){e.stopPropagation();var t=this.getInputEl().value;this.model.set({value:t},{fromInput:1}),this.elementUpdated()},getInputEl:function(){var e,t;return this.inputEl||(t=(e=this.model).get("placeholder")||e.get("defaults")||"",this.inputEl=o('<input type="text" placeholder="'.concat(t,'">'))),this.inputEl.get(0)},render:function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this}})},"./src/domain_abstract/ui/InputColor.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(r),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),l=n("./node_modules/underscore/underscore.js"),s=n("./src/utils/ColorPicker.js"),a=n("./src/domain_abstract/ui/Input.js");function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var h=o.a.$;Object(s.default)(h),t.default=a.default.extend({template:function(){var e=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(e,'field-colorp">\n        <div class="').concat(e,'field-colorp-c" data-colorp-c>\n          <div class="').concat(e,'checker-bg"></div>\n        </div>\n      </div>\n    ')},inputClass:function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},setValue:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.model.get("defaults"),i=Object(l.isUndefined)(e)?Object(l.isUndefined)(r)?"":r:e,o=this.getInputEl(),s=this.getColorEl(),a="none"!=i?i:"";o.value=i,s.get(0).style.backgroundColor=a,(n.fromTarget||n.fromInput&&!n.avoidStore)&&(s.spectrum("set",a),this.noneColor="none"==i)},getColorEl:function(){var e,n,t,r,i,o,s,a,l,c,u;return this.colorEl||(e=this.em,t=(n=this).ppfx,r=this.model,i=h('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),o=i.get(0).style,s=e&&e.config?e.config.el:"",a=e&&e.getConfig&&e.getConfig("colorPicker")||{},l=function(e){return(1==e.getAlpha()?e.toHexString():e.toRgbString()).replace(/ /g,"")},c=0,this.$el.find("[data-colorp-c]").append(i),i.spectrum(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){d()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({containerClassName:"".concat(t,"one-bg ").concat(t,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"â¨¯",palette:[]},a,{move:function(e){var t=l(e);o.backgroundColor=t,r.setValueFromInput(t,0)},change:function(e){c=1;var t=l(e);o.backgroundColor=t,r.setValueFromInput(0,0),r.setValueFromInput(t),n.noneColor=0},show:function(e){c=0,u=l(e)},hide:function(){!c&&u&&(n.noneColor&&(u=""),o.backgroundColor=u,i.spectrum("set",u),r.setValueFromInput(u,0))}})),e&&e.on&&e.on("component:selected",function(){c=1,i.spectrum("hide")}),this.colorEl=i),this.colorEl},render:function(){return a.default.prototype.render.call(this),this.getColorEl(),this}})},"./src/domain_abstract/ui/InputNumber.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),p=n("./node_modules/underscore/underscore.js"),o=n("./src/utils/mixins.js"),s=n("./src/domain_abstract/ui/Input.js");i.a.$;t.default=s.default.extend({events:{"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement"},template:function(){var e=this.ppfx;return'\n      <span class="'.concat(e,'input-holder"></span>\n      <span class="').concat(e,'field-units"></span>\n      <div class="').concat(e,'field-arrows" data-arrows>\n        <div class="').concat(e,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(e,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},inputClass:function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},initialize:function(e){s.default.prototype.initialize.apply(this,arguments),Object(p.bindAll)(this,"moveIncrement","upIncrement"),this.doc=document,this.listenTo(this.model,"change:unit",this.handleModelChange)},setValue:function(e,t){var n=t||{},r=this.validateInputValue(e,{deepCheck:1}),i={value:r.value};(r.unit||r.force)&&(i.unit=r.unit),this.model.set(i,n),n.silent&&this.handleModelChange()},handleChange:function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},handleUnitChange:function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},elementUpdated:function(){this.model.trigger("el:change")},handleModelChange:function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},getUnitEl:function(){var n,e,r,t;return this.unitEl||(e=(n=this.model).get("units")||[]).length&&(r=[],e.forEach(function(e){var t=e==n.get("unit")?"selected":"";r.push("<option ".concat(t,">").concat(e,"</option>"))}),(t=document.createElement("div")).innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=t.firstChild),this.unitEl},upArrowClick:function(){var e=this.model,t=e.get("step"),n=parseInt(e.get("value"),10),n=this.normalizeValue(n+t),r=this.validateInputValue(n);e.set("value",r.value),this.elementUpdated()},downArrowClick:function(){var e=this.model,t=e.get("step"),n=parseInt(e.get("value"),10),r=this.normalizeValue(n-t),i=this.validateInputValue(r);e.set("value",i.value),this.elementUpdated()},downIncrement:function(e){e.preventDefault(),this.moved=0;var t=this.model.get("value"),t=this.normalizeValue(t);this.current={y:e.pageY,val:t},Object(o.on)(this.doc,"mousemove",this.moveIncrement),Object(o.on)(this.doc,"mouseup",this.upIncrement)},moveIncrement:function(e){this.moved=1;var t=this.model,n=t.get("step"),r=this.current,i=this.normalizeValue(r.val+(r.y-e.pageY)*n);return this.prValue=this.validateInputValue(i).value,t.set("value",this.prValue,{avoidStore:1}),!1},upIncrement:function(){var e,t=this.model,n=t.get("step");Object(o.off)(this.doc,"mouseup",this.upIncrement),Object(o.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved&&(e=this.prValue-n,t.set("value",e,{avoidStore:1}).set("value",e+n),this.elementUpdated())},normalizeValue:function(e,t){var n,r=1<arguments.length&&void 0!==t?t:0,i=this.model.get("step"),o=0;return isNaN(e)?r:(e=parseFloat(e),Math.floor(e)!==e&&(o=(n=i.toString().split(".")[1])?n.length:0),o?parseFloat(e.toFixed(o)):e)},validateInputValue:function(e,t){var n,r,i,o,s=0,a=t||{},l=this.model,c=Object(p.isUndefined)(e)?"":e,u=l.get("units")||[],d=l.get("unit")||u.length&&u[0]||"",f=l.get("max"),h=l.get("min");return a.deepCheck&&(n=l.get("fixedValues")||[],c&&(r=new RegExp("^"+n.join("|"),"g"),n.length&&r.test(c)?(c=c.match(r)[0],d="",s=1):(i=c+"",c+="",c=parseFloat(c.replace(",",".")),c=isNaN(c)?"":c,o=i.replace(c,""),0<=Object(p.indexOf)(u,o)&&(d=o)))),Object(p.isUndefined)(f)||""===f||(c=f<c?f:c),Object(p.isUndefined)(h)||""===h||(c=c<h?h:c),{force:s,value:c,unit:d}},render:function(){s.default.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this}})},"./src/domain_abstract/view/DomainViews.js":function(e,t,n){"use strict";n.r(t);var f=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.View.extend({itemView:"",itemsView:"",itemType:"type",autoAdd:0,initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length?t:void 0;this.config=r||n.config||{},this.autoAdd&&this.listenTo(this.collection,"add",this.addTo),this.items=[],this.init()},init:function(){},addTo:function(e){this.add(e)},itemViewNotFound:function(e){var t=this.config,n=this.ns,r=t.em,i="".concat(n?"[".concat(n,"]: "):"","'").concat(e,"' type not found");r&&r.logWarning(i)},add:function(e,t){var n,r=this.config,i=this.reuseView,o=this.items,s=this.itemsView,a=void 0===s?{}:s,l=t||null,c=this.itemView,u=e.get(this.itemType);a[u]?c=a[u]:!u||a[u]||Object(f.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],u)||this.itemViewNotFound(u),n=e.view&&i?e.view:new c({model:e,config:r},r),o&&o.push(n);var d=n.render().el;l?l.appendChild(d):this.$el.append(d)},render:function(){var t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(e){this.add(e,t)},this),this.$el.append(t),this.onRender(),this},onRender:function(){},remove:function(){this.clearItems(),i.a.View.prototype.remove.apply(this,arguments)},clearItems:function(){this.items}})},"./src/editor/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"gjs-",components:"",style:"",fromElement:0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"\n    * {\n      box-sizing: border-box;\n    }\n    html, body, [data-gjs-type=wrapper] {\n      min-height: 100%;\n    }\n    body {\n      margin: 0;\n      height: 100%;\n      background-color: #fff\n    }\n    [data-gjs-type=wrapper] {\n      overflow: auto;\n      overflow-x: hidden;\n    }\n\n    * ::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.1)\n    }\n\n    * ::-webkit-scrollbar-thumb {\n      background: rgba(255, 255, 255, 0.2)\n    }\n\n    * ::-webkit-scrollbar {\n      width: 10px\n    }\n  ",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:1,allowScripts:0,showDevices:1,devicePreviewMode:0,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:0,jsInHtml:!0,nativeDnD:1,multipleSelection:1,exportWrapper:0,wrapperIsBody:1,avoidInlineStyle:1,avoidDefaults:1,clearStyles:0,dragMode:0,cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"768px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},styleManager:{sectors:[{name:"General",open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:"Flex",open:!1,buildProps:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:"Decorations",open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]}]},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:0,multiFrames:0}},"./src/editor/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/cash-dom/dist/cash.esm.js"),a=n("./src/editor/config/config.js"),l=n("./src/editor/model/Editor.js"),c=n("./src/editor/view/EditorView.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=u({},a.default,{},e);r.pStylePrefix=r.stylePrefix;var i=new l.default(r),o=new c.default({model:i,config:r});return{$:s.default,editor:i,init:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};return i.init(this,u({},r,{},n)),["I18n","Utils","Config","Commands","Keymaps","Modal","Panels","Canvas","Parser","CodeManager","UndoManager","RichTextEditor","DomComponents",["Components","DomComponents"],"LayerManager",["Layers","LayerManager"],"CssComposer",["Css","CssComposer"],"StorageManager",["Storage","StorageManager"],"AssetManager",["Assets","AssetManager"],"BlockManager",["Blocks","BlockManager"],"TraitManager",["Traits","TraitManager"],"SelectorManager",["Selectors","SelectorManager"],"StyleManager",["Styles","StyleManager"],"DeviceManager",["Devices","DeviceManager"]].forEach(function(e){Array.isArray(e)?t[e[0]]=i.get(e[1]):t[e]=i.get(e)}),i.on("loaded",function(){t.UndoManager.clear(),i.get("modules").forEach(function(e){e.postRender&&e.postRender(o)})}),this},getConfig:function(e){return i.getConfig(e)},getHtml:function(e){return i.getHtml(e)},getCss:function(e){return i.getCss(e)},getJs:function(){return i.getJs()},getComponents:function(){return i.get("DomComponents").getComponents()},getWrapper:function(){return i.get("DomComponents").getWrapper()},setComponents:function(e){return i.setComponents(e),this},addComponents:function(e,t){return this.getWrapper().append(e,t)},getStyle:function(){return i.get("CssComposer").getAll()},setStyle:function(e){return i.setStyle(e),this},getSelected:function(){return i.getSelected()},getSelectedAll:function(){return i.getSelectedAll()},getSelectedToStyle:function(){var e=i.getSelected();if(e)return this.StyleManager.getModelToStyle(e)},select:function(e,t){return i.setSelected(e,t),this},selectAdd:function(e){return i.addSelected(e),this},selectRemove:function(e){return i.removeSelected(e),this},selectToggle:function(e){return i.toggleSelected(e),this},setDevice:function(e){return i.set("device",e),this},getDevice:function(){return i.get("device")},runCommand:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return i.get("Commands").run(e,n)},stopCommand:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return i.get("Commands").stop(e,n)},store:function(e){return i.store(e)},load:function(e){return i.load(e)},getContainer:function(){return r.el},getDirtyCount:function(){return i.getDirtyCount()},refresh:function(){i.refreshCanvas()},setCustomRte:function(e){this.RichTextEditor.customRte=e},setCustomParserCss:function(e){return this.Parser.getConfig().parserCss=e,this},setDragMode:function(e){return i.setDragMode(e),this},log:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return i.log(e,n),this},t:function(){return i.t.apply(i,arguments)},on:function(e,t){return i.on(e,t),this},once:function(e,t){return i.once(e,t),this},off:function(e,t){return i.off(e,t),this},trigger:function(e){return i.trigger.apply(i,arguments),this},destroy:function(){return i.destroyAll()},getEl:function(){return o.el},getModel:function(){return i},render:function(){return o.render(),o.el}}}},"./src/editor/model/Editor.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),l=n("./node_modules/underscore/underscore.js"),f=n("./node_modules/cash-dom/dist/cash.esm.js"),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),a=n("./src/utils/extender.js"),c=n("./src/utils/mixins.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}s.a.$=f.default;var h,p,g=[n("./src/utils/index.js"),n("./src/i18n/index.js"),n("./src/keymaps/index.js"),n("./src/undo_manager/index.js"),n("./src/storage_manager/index.js"),n("./src/device_manager/index.js"),n("./src/parser/index.js"),n("./src/selector_manager/index.js"),n("./src/style_manager/index.js"),n("./src/modal_dialog/index.js"),n("./src/code_manager/index.js"),n("./src/panels/index.js"),n("./src/rich_text_editor/index.js"),n("./src/asset_manager/index.js"),n("./src/css_composer/index.js"),n("./src/trait_manager/index.js"),n("./src/dom_components/index.js"),n("./src/navigator/index.js"),n("./src/canvas/index.js"),n("./src/commands/index.js"),n("./src/block_manager/index.js")],m=s.a.Collection;Object(a.default)({Backbone:s.a,$:s.a.$});var v={debug:console.log,info:console.info,warning:console.warn,error:console.error};t.default=s.a.Model.extend({defaults:function(){return{editing:0,selected:new m,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},initialize:function(e){var o=this,t=0<arguments.length&&void 0!==e?e:{};this.config=t,this.set("Config",t),this.set("modules",[]),this.set("toLoad",[]),this.set("storables",[]),this.set("selected",new m),this.set("dmode",t.dragMode);var n=t.el,r=t.log,i=!0===r?Object(l.keys)(v):Object(l.isArray)(r)?r:[];Object(l.bindAll)(this,"initBaseColorPicker"),n&&t.fromElement&&(this.config.components=n.innerHTML),this.attrsOrig=n?Object(l.toArray)(n.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{}):"",g.forEach(function(e){return o.loadModule(e)}),this.on("change:componentHovered",this.componentHovered,this),this.on("change:changesCount",this.updateChanges,this),i.forEach(function(e){return o.listenLog(e)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(e){var r=e.from,i=e.to;o.listenTo(o,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.trigger.apply(o,[i].concat(t)),o.logWarning("The event '".concat(r,"' is deprecated, replace it with '").concat(i,"'"))})})},getContainer:function(){return this.config.el},listenLog:function(e){this.listenTo(this,"log:".concat(e),v[e])},getConfig:function(e){var t=this.config;return Object(l.isUndefined)(e)?t:t[e]},loadOnStart:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:null,r=this.get("StorageManager");this.get("toLoad").forEach(function(e){e.onLoad()});function i(){t.get("modules").forEach(function(e){return e.postLoad&&e.postLoad(t)}),n&&n()}r&&r.canAutoload()?this.load(i):i()},updateChanges:function(){var e=this,t=this.get("StorageManager"),n=this.get("changesCount");p&&clearTimeout(p),p=setTimeout(function(){return e.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=n?function(e){return 1}:null),t.isAutosave()&&n>=t.getStepsBeforeSave()&&this.store()},loadModule:function(e){var t,n=this.config,r=new(e.default||e),i=r.name.charAt(0).toLowerCase()+r.name.slice(1),o=Object(l.isUndefined)(n[i])?n[r.name]:n[i],s=o||{},a=this.get("StorageManager");return s.pStylePrefix=n.pStylePrefix||"",Object(l.isUndefined)(o)||o||(s._disable=1),r.storageKey&&r.store&&r.load&&a&&(s.stm=a,t="domComponents"==i?"unshift":"push",this.get("storables")[t](r)),s.em=this,r.init(d({},s)),r.private||this.set(r.name,r),r.onLoad&&this.get("toLoad").push(r),this.get("modules").push(r),this},init:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.destroyed&&(this.initialize(n),this.destroyed=0),this.set("Editor",e)},getEditor:function(){return this.get("Editor")},handleUpdates:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n?n:{};i.temporary||(h&&clearInterval(h),h=setTimeout(function(){i.avoidStore||r.set("changesCount",r.get("changesCount")+1,i)},0))},componentHovered:function(e,t,n){var r=this.previous("componentHovered");r&&this.trigger("component:unhovered",r,n),t&&this.trigger("component:hovered",t,n)},getSelected:function(){return this.get("selected").last()},getSelectedAll:function(){return this.get("selected").models},setSelected:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:{},i=Object(l.isArray)(e),o=i?e:[e],s=this.get("selected");i&&this.removeSelected(s.filter(function(e){return!Object(l.contains)(o,e)})),o.forEach(function(e){var t=Object(c.getModel)(e,f.default);t&&!t.get("selectable")||(i||n.removeSelected(s.filter(function(e){return e!==t})),n.addSelected(t,r),0)})},addSelected:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:{},i=Object(c.getModel)(e,f.default);(Object(l.isArray)(i)?i:[i]).forEach(function(e){var t;e&&!e.get("selectable")||(t=n.get("selected"),r.forceChange&&t.remove(e,r),t.push(e,r))})},removeSelected:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.get("selected").remove(Object(c.getModel)(e,f.default),n)},toggleSelected:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:{},i=Object(c.getModel)(e,f.default);(Object(l.isArray)(i)?i:[i]).forEach(function(e){n.get("selected").contains(e)?n.removeSelected(e,r):n.addSelected(e,r)})},setHovered:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=Object(c.getModel)(e,f.default);r&&!r.get("hoverable")||(n.forceChange&&this.set("componentHovered",""),this.set("componentHovered",r,n))},getHovered:function(){return this.get("componentHovered")},setComponents:function(e){return this.get("DomComponents").setComponents(e)},getComponents:function(){var e=this.get("DomComponents"),t=this.get("CodeManager");if(e&&t){var n=e.getComponents();return t.getCode(n,"json")}},setStyle:function(e){for(var t=this.get("CssComposer").getAll(),n=0,r=t.length;n<r;n++)t.pop();return t.add(e),this},getStyle:function(){return this.get("CssComposer").getAll()},setState:function(e){return this.set("state",e),this},getState:function(){return this.get("state")},getHtml:function(){var e=this.config,t=e.exportWrapper,n=e.wrapperIsBody,r=e.jsInHtml?this.getJs():"",i=this.get("DomComponents").getComponent(),o=this.get("CodeManager").getCode(i,"html",{exportWrapper:t,wrapperIsBody:n});return o+=r?"<script>".concat(r,"<\/script>"):""},getCss:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.config,r=n.wrapperIsBody,i=t.avoidProtected,o=Object(l.isUndefined)(t.keepUnusedStyles)?n.keepUnusedStyles:t.keepUnusedStyles,s=this.get("CssComposer"),a=this.get("DomComponents").getComponent();return(i?"":n.protectedCss)+this.get("CodeManager").getCode(a,"css",{cssc:s,wrapperIsBody:r,keepUnusedStyles:o})},getJs:function(){var e=this.get("DomComponents").getWrapper();return this.get("CodeManager").getCode(e,"js").trim()},store:function(t){var n=this,e=this.get("StorageManager"),r={};if(e)return this.get("storables").forEach(function(e){var t=e.store(1);for(var n in t)r[n]=t[n]}),e.store(r,function(e){t&&t(e),n.set("changesCount",0),n.trigger("storage:store",r)}),r},load:function(e){var n=this,r=0<arguments.length&&void 0!==e?e:null;this.getCacheLoad(1,function(t){n.get("storables").forEach(function(e){return e.load(t)}),r&&r(t)})},getCacheLoad:function(e,t){var n=this;if(this.cacheLoad&&!e)return this.cacheLoad;var r=this.get("StorageManager"),i=[];if(!r)return{};this.get("storables").forEach(function(e){var t=e.storageKey,t=Object(l.isFunction)(t)?t():t;(Object(l.isArray)(t)?t:[t]).forEach(function(e){return i.push(e)})}),r.load(i,function(e){n.cacheLoad=e,t&&t(e),setTimeout(function(){return n.trigger("storage:load",e)})})},getDeviceModel:function(){var e=this.get("device");return this.get("DeviceManager").get(e)},runDefault:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.get("Commands").get(this.config.defaultCommand);n&&!this.defaultRunning&&(n.stop(this,this,t),n.run(this,this,t),this.defaultRunning=1)},stopDefault:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.get("Commands").get(this.config.defaultCommand);n&&(n.stop(this,this,t),this.defaultRunning=0)},refreshCanvas:function(){this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset())},clearSelection:function(e){(e||window).getSelection().removeAllRanges()},getCurrentMedia:function(){var e=this.config,t=this.getDeviceModel(),n=e.mediaCondition,r=e.devicePreviewMode,i=t&&t.get("widthMedia");return t&&i&&!r?"(".concat(n,": ").concat(i,")"):""},getWrapper:function(){return this.get("DomComponents").getWrapper()},setCurrentFrame:function(e){return this.set("currentFrame",e)},getCurrentFrame:function(){return this.get("currentFrame")},getCurrentFrameModel:function(){return(this.getCurrentFrame()||{}).model},getDirtyCount:function(){return this.get("changesCount")},getZoomDecimal:function(){return this.get("Canvas").getZoomDecimal()},getZoomMultiplier:function(){return this.get("Canvas").getZoomMultiplier()},setDragMode:function(e){return this.set("dmode",e)},t:function(){var e;return(e=this.get("I18n")).t.apply(e,arguments)},inAbsoluteMode:function(){return"absolute"===this.get("dmode")},destroyAll:function(){var e=this.config,t=this.getEditor(),n=(e.grapesjs||{}).editors,r=void 0===n?[]:n,i=this.attributes,o=i.DomComponents,s=i.CssComposer,a=i.UndoManager,l=i.Panels,c=i.Canvas,u=i.Keymaps,d=i.RichTextEditor;this.stopDefault(),o.clear(),s.clear(),a.clear().removeAll(),l.getPanels().reset(),c.getCanvasView().remove(),u.removeAll(),d.destroy(),this.view.remove(),this.stopListening(),this.clear({silent:!0}),this.destroyed=1,r.splice(r.indexOf(t),1),Object(f.default)(e.el).empty().attr(this.attrsOrig)},setEditing:function(e){return this.set("editing",e),this},isEditing:function(){return!!this.get("editing")},log:function(e,t){var n,r=1<arguments.length&&void 0!==t?t:{},i=r.ns,o=r.level,s=void 0===o?"debug":o;this.trigger("log",e,r),s&&this.trigger("log:".concat(s),e,r),i&&(n="log-".concat(i),this.trigger(n,e,r),s&&this.trigger("".concat(n,":").concat(s),e,r))},logInfo:function(e,t){this.log(e,d({},t,{level:"info"}))},logWarning:function(e,t){this.log(e,d({},t,{level:"warning"}))},logError:function(e,t){this.log(e,d({},t,{level:"error"}))},initBaseColorPicker:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.getConfig(),i=r.colorPicker,o=void 0===i?{}:i,s=r.el,a=r.stylePrefix;return Object(f.default)(e).spectrum(d({containerClassName:"".concat(a,"one-bg ").concat(a,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"â¨¯"},n,{},o))},data:function(e,t,n){var r="_gjs-data";if(e[r]||(e[r]={}),Object(l.isUndefined)(n))return e[r][t];e[r][t]=n}})},"./src/editor/view/EditorView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/utils/mixins.js"),s=i.a.$;t.default=i.a.View.extend({initialize:function(){var e=this,t=this.model;(t.view=this).conf=t.config,this.pn=t.get("Panels"),this.cv=t.get("Canvas"),t.on("loaded",function(){e.pn.active(),e.pn.disableButtons(),setTimeout(function(){t.runDefault(),t.trigger("load",t.get("Editor"))})})},render:function(){this.model;var e=this.$el,t=this.conf,n=t.stylePrefix,r=s(t.el||"body ".concat(t.container));return Object(o.appendStyles)(t.cssIcons,{unique:1,prepand:1}),e.empty(),t.width&&r.css("width",t.width),t.height&&r.css("height",t.height),e.append(this.cv.render()),e.append(this.pn.render()),e.attr("class","".concat(n,"editor ").concat(n,"one-bg ").concat(n,"two-color")),r.addClass("".concat(n,"editor-cont")).empty().append(e),this}})},"./src/i18n/config.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/i18n/locale/en.js");t.default={locale:"en",localeFallback:"en",detectLocale:1,debug:0,messages:{en:r.default}}},"./src/i18n/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/typeof.js"),s=n.n(o),l=n("./node_modules/underscore/underscore.js"),a=n("./src/i18n/config.js");function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function d(e){return!Array.isArray(e)&&null!==e&&"object"===s()(e)}t.default=function(){return{name:"I18n",config:a.default,init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.config=u({},a.default,{},t,{messages:u({},a.default.messages,{},t.messages||{})}),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=t.em,this},getConfig:function(){return this.config},setLocale:function(e){var t=this.em,n=this.config,r={value:e,valuePrev:n.locale};return t&&t.trigger("i18n:locale",r),n.locale=e,this},getLocale:function(){return this.config.locale},getMessages:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.config.messages;return e&&!r[e]&&this._debug("'".concat(e,"' i18n lang not found"),n),e?r[e]:r},setMessages:function(e){var t=this.em;return this.config.messages=e,t&&t.trigger("i18n:update",e),this},addMessages:function(e){var t=this.em,n=this.config.messages;return t&&t.trigger("i18n:add",e),this.setMessages(function e(t){for(var n=u({},arguments.length<=0?void 0:t),r=1;r<arguments.length;r++){var i=u({},r<0||arguments.length<=r?void 0:arguments[r]);for(var o in i){var s=n[o],a=i[o];d(s)&&d(a)?n[o]=e(s,a):n[o]=a}}return n}(n,e)),this},t:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.config,i=n.params||{},o=n.l||this.getLocale(),s=n.lFlb||r.localeFallback,a=this._getMsg(e,o,n);return(a=a||this._getMsg(e,s,n))||this._debug("'".concat(e,"' i18n key not found in '").concat(o,"' lang"),n),a=a&&Object(l.isString)(a)?this._addParams(a,i):a},_localLang:function(){var e=window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},_addParams:function(e,n){var t=new RegExp("{([\\w\\d-]*)}","g");return e.replace(t,function(e,t){return n[t]||""}).trim()},_getMsg:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=this.getMessages(t,r);if(i){var o=i[e];return!o&&0<e.indexOf(".")&&(o=e.split(".").reduce(function(e,t){if(!Object(l.isUndefined)(e))return e[t]},i)),o}},_debug:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.em,i=this.config;(n.debug||i.debug)&&r&&r.logWarning(e)}}}},"./src/i18n/locale/en.js":function(e,t,n){"use strict";n.r(t);var r={placeholder:"eg. Text here"};t.default={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:r,alt:r,title:r,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}}}},"./src/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(r),i=n("./node_modules/cash-dom/dist/cash.esm.js"),a=n("./src/editor/index.js"),l=n("./node_modules/underscore/underscore.js"),o=n("./src/utils/polyfills.js"),c=n("./src/plugin_manager/index.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}Object(o.default)();var d=new c.default,f=[],h={autorender:1,plugins:[],pluginsOpts:{}};t.default={$:i.default,editors:f,plugins:d,version:"0.16.12",init:function(e){var i=0<arguments.length&&void 0!==e?e:{},t=i.container;if(!t)throw new Error("'container' is required");(i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},h,{},i,{grapesjs:this})).el=Object(l.isElement)(t)?t:document.querySelector(t);var o=new a.default(i).init();return i.plugins.forEach(function(e){var t,n=d.get(e),r=i.pluginsOpts[e]||{};n||(n=(t=window[e])&&t.default?t.default:t),n?n(o,r):Object(l.isFunction)(e)?e(o,r):console.warn("Plugin ".concat(e," not found"))}),o.getModel().loadOnStart(),i.autorender&&o.render(),f.push(o),o}}},"./src/keymaps/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),f=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),h=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/keymaster/keymaster.js"),p=n.n(s);function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){var t,r,d={},n={defaults:{"core:undo":{keys:"â+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"â+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"â+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"â+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete"}}};return{keymaster:p.a,name:"Keymaps",getConfig:function(){return r},init:function(e){return r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n,{},0<arguments.length&&void 0!==e?e:{}),t=r.em,this.em=t,this},onLoad:function(){var e=r.defaults;for(var t in e){var n=e[t];this.add(t,n.keys,n.handler)}},add:function(i,e,o,t){var s=3<arguments.length&&void 0!==t?t:{},a=this.em,l=a.get("Commands"),c=a.getEditor(),u=a.get("Canvas"),n={id:i,keys:e,handler:o};return d[i]&&this.remove(i),d[i]=n,p()(e,function(e,t){var n,r={event:e,h:t};o=Object(h.isString)(o)?l.get(o):o,s.prevent&&u.getCanvasView().preventDefault(e),(a.isEditing()||c.Canvas.isInputFocused())&&!s.force||("object"==f()(o)?o.run(c,0,r):o(c,0,r),n=[i,t.shortcut,e],a.trigger.apply(a,["keymap:emit"].concat(n)),a.trigger.apply(a,["keymap:emit:".concat(i)].concat(n)))}),a.trigger("keymap:add",n),n},get:function(e){return d[e]},getAll:function(){return d},remove:function(e){var t=this.em,n=this.get(e);if(n)return delete d[e],p.a.unbind(n.keys),t&&t.trigger("keymap:remove",n),n},removeAll:function(){var t=this;return Object.keys(d).forEach(function(e){return t.remove(e)}),this}}}},"./src/modal_dialog/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"mdl-",title:"",content:"",backdrop:!0}},"./src/modal_dialog/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(r),l=n("./src/modal_dialog/config/config.js"),c=n("./src/modal_dialog/model/Modal.js"),u=n("./src/modal_dialog/view/ModalView.js");function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){var r,o,s={};return{name:"Modal",getConfig:function(){return s},init:function(e){var t=0<arguments.length&&void 0!==e?e:{},i=(s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},l.default,{},t)).em;this.em=i;var n=s.pStylePrefix;return n&&(s.stylePrefix=n+s.stylePrefix),(r=new c.default(s)).on("change:open",function(e,t){return n=t,void((r=i)&&r.trigger("modal:".concat(n?"open":"close")));var n,r}),o=new u.default({model:r,config:s}),this},postRender:function(e){var t=e.model.getConfig().el||e.el;this.render().appendTo(t)},open:function(e){var t=0<arguments.length&&void 0!==e?e:{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),o.show(),this},close:function(){return o.hide(),this},onceClose:function(e){return this.em.once("modal:close",e),this},onceOpen:function(e){return this.em.once("modal:open",e),this},isOpen:function(){return!!r.get("open")},setTitle:function(e){return r.set("title",e),this},getTitle:function(){return r.get("title")},setContent:function(e){return r.set("content"," "),r.set("content",e),this},getContent:function(){return r.get("content")},getContentEl:function(){return o.getContent().get(0)},getModel:function(){return r},render:function(){return o.render().$el}}}},"./src/modal_dialog/model/Modal.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({defaults:{title:"",content:"",open:!1}})},"./src/modal_dialog/view/ModalView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.View.extend({template:function(e){var t=e.pfx,n=e.ppfx,r=e.content,i=e.title;return'<div class="'.concat(t,"dialog ").concat(n,"one-bg ").concat(n,'two-color">\n      <div class="').concat(t,'header">\n        <div class="').concat(t,'title">').concat(i,'</div>\n        <div class="').concat(t,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(t,'content">\n        <div id="').concat(t,'c">').concat(r,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(t,'collector" style="display: none"></div>')},events:{click:"onClick","click [data-close-modal]":"hide"},initialize:function(e){var t=this.model,n=e.config||{},r=n.stylePrefix||"";this.config=n,this.pfx=r,this.ppfx=n.pStylePrefix||"",this.listenTo(t,"change:open",this.updateOpen),this.listenTo(t,"change:title",this.updateTitle),this.listenTo(t,"change:content",this.updateContent)},onClick:function(e){this.config.backdrop&&e.target===this.el&&this.hide()},getCollector:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},getContent:function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},getTitle:function(){return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),this.$title.get(0)},updateContent:function(){var e=this.getContent(),t=e.children(),n=this.getCollector(),r=this.model.get("content");t.length&&n.append(t),e.empty().append(r)},updateTitle:function(){var e=this.getTitle();e&&(e.innerHTML=this.model.get("title"))},updateOpen:function(){this.el.style.display=this.model.get("open")?"":"none"},hide:function(){this.model.set("open",0)},show:function(){this.model.set("open",1)},render:function(){var e=this.$el,t=this.pfx,n=(this.ppfx,this.model.toJSON());return n.pfx=this.pfx,n.ppfx=this.ppfx,e.html(this.template(n)),e.attr("class","".concat(t,"container")),this.updateOpen(),this}})},"./src/navigator/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"",appendTo:"",sortable:1,hidable:1,hideTextnode:1,root:"",showWrapper:1,showHover:1,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:1}},"./src/navigator/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/navigator/config/config.js"),s=n("./src/navigator/view/ItemView.js"),a=n("./node_modules/underscore/underscore.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){var l,t,c={};return{name:"LayerManager",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return(c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default,{},t)).stylePrefix=t.pStylePrefix,l=c.em,this},getConfig:function(){return c},onLoad:function(){t=new s.default({level:0,config:c,opened:c.opened||{},model:l.get("DomComponents").getWrapper()}),l&&l.on("component:selected",this.componentChanged),this.componentChanged()},postRender:function(){var e=c.appendTo,t=c.root;t&&this.setRoot(t),e&&(Object(a.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},setRoot:function(e){return t.setRoot(e),this},getRoot:function(){return t.model},getAll:function(){return t},componentChanged:function(e,t){if(!(1<arguments.length&&void 0!==t?t:{}).fromLayers){var n,r=l.get("opened"),i=l.getSelected(),o=c.scrollLayers,s=i&&i.collection?i.collection.parent:null;for(var a in r)r[a].set("open",0);for(;s;)s.set("open",1),s=(r[s.cid]=s).collection?s.collection.parent:null;i&&o&&((n=i.viewLayer&&i.viewLayer.el)&&n.scrollIntoView(o))}},render:function(){return t.render().el}}}},"./src/navigator/view/ItemView.js":function(e,t,u){"use strict";u.r(t);var d,f=u("./node_modules/underscore/underscore.js"),n=u("./src/utils/mixins.js"),r=u("./node_modules/backbone/backbone.js"),i=u.n(r),o=u("./src/dom_components/view/ComponentView.js"),s=u("./src/dom_components/model/Component.js"),a="contentEditable",l=i.a.$;t.default=i.a.View.extend({events:{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","click [data-toggle-open]":"toggleOpening","dblclick [data-name]":"handleEdit","focusout [data-name]":"handleEditEnd"},template:function(e){var t=this.pfx,n=this.ppfx,r=this.config,i=this.clsNoEdit,o=r.hidable,s=this.countChildren(e),a=s?"":this.clsNoChild,l="".concat(this.clsTitle," ").concat(a),c="".concat(this.clsTitleC," ").concat(n,"one-bg"),u="".concat(this.clsCaret," fa fa-chevron-right"),d="".concat(this.inputNameCls," ").concat(i," ").concat(n,"no-app"),f=this.level+1,h="".concat(30+10*f,"px"),p=e.getName(),g=e.getIcon(),m="".concat(t,"layer");return"\n      ".concat(o?'<i class="'.concat(t,"layer-vis fa fa-eye ").concat(this.isVisible()?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",'\n      <div class="').concat(c,'">\n        <div class="').concat(l,'" style="padding-left: ').concat(h,'" data-toggle-select>\n          <div class="').concat(t,'layer-title-inn">\n            <i class="').concat(u,'" data-toggle-open></i>\n            ').concat(g?'<span class="'.concat(m,'__icon">').concat(g,"</span>"):"",'\n            <span class="').concat(d,'" data-name>').concat(p,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat(s||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div class="').concat(this.clsChildren,'"></div>')},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.opt=t,this.level=t.level,this.config=t.config,this.em=t.config.em,this.ppfx=this.em.get("Config").stylePrefix,this.sorter=t.sorter||"",this.pfx=this.config.stylePrefix,this.parentView=t.parentView;var n=this.pfx,r=this.ppfx,i=this.model,o=i.get("components"),s=i.get("type")||"default";i.set("open",!1),this.listenTo(o,"remove add reset",this.checkChildren),this.listenTo(i,"change:status",this.updateStatus),this.listenTo(i,"change:open",this.updateOpening),this.listenTo(i,"change:layerable",this.updateLayerable),this.listenTo(i,"change:style:display",this.updateVisibility),this.className="".concat(n,"layer ").concat(n,"layer__t-").concat(s," no-select ").concat(r,"two-color"),this.inputNameCls="".concat(r,"layer-name"),this.clsTitleC="".concat(n,"layer-title-c"),this.clsTitle="".concat(n,"layer-title"),this.clsCaret="".concat(n,"layer-caret"),this.clsCount="".concat(n,"layer-count"),this.clsMove="".concat(n,"layer-move"),this.clsChildren="".concat(n,"layer-children"),this.clsNoChild="".concat(n,"layer-no-chld"),this.clsEdit="".concat(this.inputNameCls,"--edit"),this.clsNoEdit="".concat(this.inputNameCls,"--no-edit"),this.$el.data("model",i),this.$el.data("collection",o),i.viewLayer=this},getVisibilityEl:function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},updateVisibility:function(){var e=this.pfx,t=this.model,n="".concat(e,"layer-hidden"),r="none"==t.getStyle().display?"addClass":"removeClass";this.$el[r](n),this.getVisibilityEl()[r]("fa-eye-slash")},toggleVisibility:function(e){e&&e.stopPropagation();var t=this.model,n="__prev-display",r=t.get(n),i=t.getStyle(),o=i.display;"none"==o?(delete i.display,r&&(i.display=r,t.unset(n))):(o&&t.set(n,o),i.display="none"),t.setStyle(i)},handleEdit:function(e){e&&e.stopPropagation();var t=this.em,n=this.$el,r=this.clsNoEdit,i=this.clsEdit,o=this.getInputName();o[a]=!0,o.focus(),t&&t.setEditing(1),n.find(".".concat(this.inputNameCls)).removeClass(r).addClass(i)},handleEditEnd:function(e){e&&e.stopPropagation();var t=this.em,n=this.$el,r=this.clsNoEdit,i=this.clsEdit,o=this.getInputName(),s=o.textContent;o.scrollLeft=0,o[a]=!1,this.model.set({"custom-name":s}),t&&t.setEditing(0),n.find(".".concat(this.inputNameCls)).addClass(r).removeClass(i)},getInputName:function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},updateOpening:function(){var e=this.opt.opened||{},t=this.model,n="fa-chevron-down";t.get("open")?(this.$el.addClass("open"),this.getCaret().addClass(n),e[t.cid]=t):(this.$el.removeClass("open"),this.getCaret().removeClass(n),delete e[t.cid])},toggleOpening:function(e){e.stopPropagation(),this.model.get("components").length&&this.model.set("open",!this.model.get("open"))},handleSelect:function(e){e.stopPropagation();var t,n,r=this.em,i=this.config;r&&(t=this.model,r.setSelected(t,{fromLayers:1}),(n=i.scrollCanvas)&&t.views.forEach(function(e){return e.scrollIntoView(n)}))},handleHover:function(e){e.stopPropagation();var t=this.em,n=this.config,r=this.model;t&&n.showHover&&t.setHovered(r,{fromLayers:1})},startSort:function(e){e.stopPropagation();var t=this.em,n=this.sorter;e.button&&0!==e.button||n&&(n.onStart=function(e){return t.trigger("".concat(s.eventDrag,":start"),e)},n.onMoveClb=function(e){return t.trigger(s.eventDrag,e)},n.startSort(e.target))},freeze:function(){this.$el.addClass(this.pfx+"opac50"),this.model.set("open",0)},unfreeze:function(){this.$el.removeClass(this.pfx+"opac50")},updateStatus:function(){o.default.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover}])},isVisible:function(){var e=this.model.get("style").display;if(!e||"none"!=e)return 1},checkChildren:function(){var e=this.model,t=this.clsNoChild,n=this.countChildren(e),r=this.$el.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),i=this.cnt;i||(i=this.$el.children("[data-count]").get(0),this.cnt=i),r[n?"removeClass":"addClass"](t),i&&(i.innerHTML=n||""),n||e.set("open",0)},countChildren:function(e){var r=0;return e.get("components").each(function(e){var t=this.opt.isCountable,n=this.config.hideTextnode;t&&!t(e,n)||r++},this),r},getCaret:function(){return this.caret&&this.caret.length||(this.pfx,this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},setRoot:function(e){e=Object(f.isString)(e)?this.em.getWrapper().find(e)[0]:e;var t=Object(n.getModel)(e,l);t&&(this.stopListening(),this.model=t,this.initialize(this.opt),this.render())},updateLayerable:function(){(this.parentView||this).render()},render:function(){var e=this.model,t=this.config,n=this.pfx,r=this.ppfx,i=this.opt.isCountable,o=i&&!i(e,t.hideTextnode),s=this.isVisible(),a=this.$el.empty(),l=this.level+1;Object(f.isUndefined)(d)&&(d=u("./src/navigator/view/ItemsView.js").default);var c=new d({collection:e.get("components"),config:this.config,sorter:this.sorter,opened:this.opt.opened,parentView:this,parent:e,level:l}).render().$el;return this.config.showWrapper||1!==l?(a.html(this.template(e)),a.find(".".concat(this.clsChildren)).append(c)):a.append(c),e.get("draggable")&&this.config.sortable||a.children(".".concat(this.clsMove)).remove(),s||(this.className+=" ".concat(n,"hide")),o&&(this.className+=" ".concat(r,"hidden")),a.attr("class",this.className),this.updateOpening(),this.updateStatus(),this.updateVisibility(),this}})},"./src/navigator/view/ItemsView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),l=n("./src/navigator/view/ItemView.js"),c=n("./src/dom_components/model/Component.js");t.default=i.a.View.extend({initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(this.opt=t).config||{};this.level=t.level,this.config=n,this.preview=t.preview,this.ppfx=n.pStylePrefix||"",this.pfx=n.stylePrefix||"",this.parent=t.parent,this.parentView=t.parentView;var r=this.pfx,i=this.ppfx,o=this.parent,s=this.collection;this.listenTo(s,"add",this.addTo),this.listenTo(s,"reset resetNavigator",this.render),this.listenTo(s,"remove",this.removeChildren),this.className="".concat(r,"layers");var a,l=n.em;n.sortable&&!this.opt.sorter&&(a=l.get("Utils"),this.opt.sorter=new a.Sorter({container:n.sortContainer||this.el,containerSel:".".concat(this.className),itemSel:".".concat(r,"layer"),ignoreViewChildren:1,onEndMove:function(e,t,n){var r=t.getSourceModel();l.setSelected(r,{forceChange:1}),l.trigger("".concat(c.eventDrag,":end"),n)},avoidSelectOnEnd:1,nested:1,ppfx:i,pfx:r})),this.sorter=this.opt.sorter||"",this.$el.data("collection",s),o&&this.$el.data("model",o)},removeChildren:function(e){var t=e.viewLayer;t&&(t.remove(),e.viewLayer=0)},addTo:function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},addToCollection:function(e,t,n){var r,i=this.level,o=this.parentView,s=t||null,a=new l.default({level:i,model:e,parentView:o,config:this.config,sorter:this.sorter,isCountable:this.isCountable,opened:this.opt.opened}).render().el;return s?s.appendChild(a):void 0!==n?(r="before",this.$el.children().length==n&&(n--,r="after"),n<0?this.$el.append(a):this.$el.children().eq(n)[r](a)):this.$el.append(a),a},isCountable:function(e,t){var n=e.get("type"),r=e.get("tagName");return!(("textnode"==n||"br"==r)&&t||!e.get("layerable"))},render:function(){var t=this,n=document.createDocumentFragment(),e=this.el;return e.innerHTML="",this.collection.each(function(e){return t.addToCollection(e,n)}),e.appendChild(n),e.className=this.className,this}})},"./src/panels/config/config.js":function(e,t,n){"use strict";n.r(t);var r="sw-visibility",i="export-template",o="open-layers",s="open-blocks",a="fullscreen",l="preview";t.default={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:r,className:"fa fa-square-o",command:r,context:r,attributes:{title:"View components"}},{id:l,className:"fa fa-eye",command:l,context:l,attributes:{title:"Preview"}},{id:a,className:"fa fa-arrows-alt",command:a,context:a,attributes:{title:"Fullscreen"}},{id:i,className:"fa fa-code",command:i,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:"open-sm",className:"fa fa-paint-brush",command:"open-sm",active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:"open-tm",className:"fa fa-cog",command:"open-tm",togglable:0,attributes:{title:"Settings"}},{id:o,className:"fa fa-bars",command:o,togglable:0,attributes:{title:"Open Layer Manager"}},{id:s,className:"fa fa-th-large",command:s,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300}},"./src/panels/index.js":function(e,t,n){"use strict";n.r(t);var s=n("./src/panels/config/config.js"),a=n("./src/panels/model/Panel.js"),l=n("./src/panels/model/Panels.js"),c=(n("./src/panels/view/PanelView.js"),n("./src/panels/view/PanelsView.js"));t.default=function(){var r,i,o={};return{name:"Panels",init:function(e){for(var t in o=e||{},s.default)t in o||(o[t]=s.default[t]);var n=o.pStylePrefix;return n&&(o.stylePrefix=n+o.stylePrefix),r=new l.default(o.defaults),i=new c.default({collection:r,config:o}),this},getPanels:function(){return r},getPanelsEl:function(){return i.el},addPanel:function(e){return r.add(e)},removePanel:function(e){return r.remove(e)},getPanel:function(e){var t=r.where({id:e});return t.length?t[0]:null},addButton:function(e,t){var n=this.getPanel(e);return n?n.get("buttons").add(t):null},removeButton:function(e,t){var n=this.getPanel(e);return n&&n.get("buttons").remove(t)},getButton:function(e,t){var n=this.getPanel(e);if(n){var r=n.get("buttons").where({id:t});return r.length?r[0]:null}return null},render:function(){return i.render().el},active:function(){this.getPanels().each(function(e){e.get("buttons").each(function(e){e.get("active")&&e.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(e){e.get("buttons").each(function(e){e.get("disable")&&e.trigger("change:disable")})})},Panel:a.default}}},"./src/panels/model/Button.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({defaults:{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1},initialize:function(){var e;this.get("buttons").length&&(e=n("./src/panels/model/Buttons.js").default,this.set("buttons",new e(this.get("buttons"))))}})},"./src/panels/model/Buttons.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/panels/model/Button.js");t.default=i.a.Collection.extend({model:o.default,deactivateAllExceptOne:function(n,r){this.forEach(function(e,t){e!==n&&(e.set("active",!1),r&&e.get("buttons").length&&e.get("buttons").deactivateAllExceptOne(n,r))})},deactivateAll:function(e,t){var n=e||"";this.forEach(function(e){e.get("context")==n&&e!==t&&(e.set("active",!1,{silent:1}),e.trigger("updateActive",{fromCollection:1}))})},disableAllButtons:function(e){var n=e||"";this.forEach(function(e,t){e.get("context")==n&&e.set("disable",!0)})},disableAllButtonsExceptOne:function(n,r){this.forEach(function(e,t){e!==n&&(e.set("disable",!0),r&&e.get("buttons").length&&e.get("buttons").disableAllButtonsExceptOne(n,r))})}})},"./src/panels/model/Panel.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/panels/model/Buttons.js");t.default=i.a.Model.extend({defaults:{id:"",content:"",visible:!0,buttons:[],attributes:{}},initialize:function(){this.btn=this.get("buttons")||[],this.buttons=new o.default(this.btn),this.set("buttons",this.buttons)}})},"./src/panels/model/Panels.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/panels/model/Panel.js");t.default=i.a.Collection.extend({model:o.default})},"./src/panels/view/ButtonView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),d=n("./node_modules/underscore/underscore.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}s.a.$;t.default=s.a.View.extend({tagName:function(){return this.model.get("tagName")},events:{click:"clicked"},initialize:function(e){var t=this.model.get("className");this.config=e.config||{},this.em=this.config.em||{};var n=this.config.stylePrefix||"",r=this.config.pStylePrefix||"";this.pfx=n,this.ppfx=this.config.pStylePrefix||"",this.id=n+this.model.get("id"),this.activeCls="".concat(n,"active ").concat(r,"four-color"),this.disableCls="".concat(r,"disabled"),this.btnsVisCls="".concat(n,"visible"),this.className=n+"btn"+(t?" "+t:""),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"change:active updateActive",this.updateActive),this.listenTo(this.model,"checkActive",this.checkActive),this.listenTo(this.model,"change:bntsVis",this.updateBtnsVis),this.listenTo(this.model,"change:attributes",this.updateAttributes),this.listenTo(this.model,"change:className",this.updateClassName),this.listenTo(this.model,"change:disable",this.updateDisable),this.em&&this.em.get&&(this.commands=this.em.get("Commands"))},updateClassName:function(){var e=this.model,t=this.pfx,n=e.get("className"),r=e.get("attributes").class,i="".concat(r||""," ").concat(t,"btn ").concat(n||"");this.$el.attr("class",i.trim())},updateAttributes:function(){var e=this.em,t=this.model,n=this.$el,r=t.get("attributes")||{},i=e&&e.t&&e.t("panels.buttons.titles.".concat(t.id));n.attr(r),i&&n.attr({title:i}),this.updateClassName()},updateBtnsVis:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},updateActive:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,r=this.commands,i=this.$el,o=this.activeCls,s=t.fromCollection,a=n.get("context"),l=n.get("options"),c=n.get("command"),u={};r&&Object(d.isString)(c)?u=r.get(c)||{}:Object(d.isFunction)(c)?u=r.create({run:c}):null!==c&&Object(d.isObject)(c)&&(u=r.create(c)),n.get("active")?(s||n.collection.deactivateAll(a,n),n.set("active",!0,{silent:!0}).trigger("checkActive"),r.runCommand(u,f({},l,{sender:n})),u.noStop&&n.set("active",!1)):(i.removeClass(o),r.stopCommand(u,f({},l,{sender:n,force:1})))},updateDisable:function(){var e=this.disableCls,t=this.model.get("disable");this.$el[t?"addClass":"removeClass"](e)},checkActive:function(){var e=this.model,t=this.$el,n=this.activeCls;e.get("active")?t.addClass(n):t.removeClass(n)},clicked:function(){this.model.get("bntsVis")||this.model.get("disable")||this.toggleActive()},toggleActive:function(){var e=this.model,t=e.attributes,n=t.active,r=t.togglable;n&&!r||(e.set("active",!n),this.em.get("Commands").get("select-comp"),n?e.get("runDefaultCommand")&&this.em.runDefault():e.get("stopDefaultCommand")&&this.em.stopDefault())},render:function(){var e=this.model.get("label"),t=this.$el;return t.empty(),this.updateAttributes(),e&&t.append(e),this.checkActive(),this.updateDisable(),this}})},"./src/panels/view/ButtonsView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/panels/view/ButtonView.js"),s=n("./node_modules/underscore/underscore.js");t.default=i.a.View.extend({initialize:function(e){this.opt=e||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"},addTo:function(e){this.addToCollection(e)},addToCollection:function(e,t){var n=t||null,r=new o.default({model:e,config:this.config,parentM:this.parentM}).render().el;return n?n.appendChild(r):this.$el.append(r),r},render:function(){var t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(e){this.addToCollection(e,t)},this),this.$el.append(t),this.$el.attr("class",Object(s.result)(this,"className")),this}})},"./src/panels/view/PanelView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(r),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),s=n("./src/panels/view/ButtonsView.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.a.View.extend({initialize:function(e){var t=e.config||{},n=this.model;this.config=t,this.pfx=t.stylePrefix||"",this.ppfx=t.pStylePrefix||"",this.buttons=n.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+n.get("id"),this.listenTo(n,"change:appendContent",this.appendContent),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change:visible",this.toggleVisible),n.view=this},appendContent:function(){this.$el.append(this.model.get("appendContent"))},updateContent:function(){this.$el.html(this.model.get("content"))},toggleVisible:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},attributes:function(){return this.model.get("attributes")},initResize:function(){var e,t,n,r,i,o,d,s=this.config.em,a=s?s.get("Editor"):"",l=this.model.get("resizable");a&&l&&(2==(t=(e=!(o=0)===l?[1,1,1,1]:l).length)?(n=e[0],i=e[0],r=e[1],o=e[1]):4==t&&(n=e[0],r=e[1],i=e[2],o=e[3]),(d=a.Utils.Resizer.init(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){c()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({tc:n,cr:r,bc:i,cl:o,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:a.getConfig().stylePrefix,onEnd:function(){s&&s.trigger("change:canvasOffset")},posFetcher:function(e,t){var n=t.target,r=e.style,i=d.getConfig(),o=i.keyWidth,s=i.keyHeight,a=e.getBoundingClientRect(),l="container"==n,c=r[o],u=r[s];return{left:0,top:0,width:c&&!l?parseFloat(c):a.width,height:u&&!l?parseFloat(u):a.height}}},l))).blur=function(){},d.focus(this.el))},render:function(){var e,t=this.$el,n=this.ppfx,r="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");return t.addClass(r),this.buttons.length&&(e=new s.default({collection:this.buttons,config:this.config}),t.append(e.render().el)),t.append(this.model.get("content")),this}})},"./src/panels/view/PanelsView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),l=n("./src/panels/view/PanelView.js");t.default=i.a.View.extend({initialize:function(e){this.opt=e||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.render),this.listenTo(t,"remove",this.onRemove),this.className=this.pfx+"panels"},onRemove:function(e){var t=e.view;t&&t.remove()},addTo:function(e){this.addToCollection(e)},addToCollection:function(e,t){var n=t||null,r=this.config,i=e.get("el"),o=new l.default({el:i,model:e,config:r}),s=o.render().el,a=e.get("appendTo");return i||(a?document.querySelector(a).appendChild(s):n?n.appendChild(s):this.$el.append(s)),o.initResize(),s},render:function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(e){return t.addToCollection(e,n)}),e.append(n),e.attr("class",this.className),this}})},"./src/parser/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null}},"./src/parser/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./src/parser/config/config.js"),a=n("./src/parser/model/ParserCss.js"),l=n("./src/parser/model/ParserHtml.js");function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){var r,i,n={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",getConfig:function(){return n},init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return(n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s.default,{},t)).Parser=this,r=new l.default(n),i=new a.default(n),this.em=n.em,this.parserCss=i,this.parserHtml=r,this},parseHtml:function(e){var t=this.em,n=this.compTypes;return r.compTypes=t?t.get("DomComponents").getTypes():n,r.parse(e,i)},parseCss:function(e){return i.parse(e)}}}},"./src/parser/model/BrowserParserCss.js":function(e,t,n){"use strict";n.r(t),n.d(t,"parseSelector",function(){return E}),n.d(t,"parseStyle",function(){return P}),n.d(t,"parseCondition",function(){return D}),n.d(t,"createNode",function(){return A}),n.d(t,"parseNode",function(){return i});var r=n("./node_modules/underscore/underscore.js"),O={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},_=Object(r.keys)(O),T=["5","6","11","15"],h=["font-face","page","counter-style","viewport"],E=function(e){for(var t=[],n=[],r=(0<arguments.length&&void 0!==e?e:"").split(","),i=0,o=r.length;i<o;i++){var s,a=r[i].trim();/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)?(s=a.split(".").filter(Boolean),n.push(s)):t.push(a)}return{result:n,add:t}},P=function(e){for(var t=e.style,n={},r=0,i=t.length;r<i;r++){var o=t[r],s=t.getPropertyValue(o),a=t.getPropertyPriority(o);n[o]="".concat(s).concat(a?" !".concat(a):"")}return n},D=function(e){return(e.conditionText||e.media&&e.media.mediaText||e.name||e.selectorText||"").trim()},A=function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==n?n:{},o={},s=e.length,a=e[s-1],l=a?a.split(/:(.+)/):[],c=l[1],u=i.atRule,d=i.selectorsAdd,f=i.mediaText;return 0<=h.indexOf(u)&&(o.singleAtRule=1),u&&(o.atRuleType=u),d&&(o.selectorsAdd=d),f&&(o.mediaText=f),c&&(e[s-1]=l[0],o.state=c,l.splice(l.length-1,1)),o.selectors=e,o.style=r,o},i=function e(t){for(var n=[],r=t.cssRules||[],i=0,o=r.length;i<o;i++){var s=r[i],a=s.type.toString(),l=0,c="",u="",d=s.selectorText||s.keyText,f=0<=T.indexOf(a);if(f)l=1,c=O[a],u=D(s);else if(0<=_.indexOf(a)){for(var h=e(s),u=D(s),p=0,g=h.length;p<g;p++){var m=h[p];u&&(m.mediaText=u),m.atRuleType=O[a]}n=n.concat(h)}if(d||f){for(var v,y,b=P(s),w=E(d),x=w.add,C=void 0,j=0,S=(d=w.result).length;j<S;j++){var k=A(d[j],b,{atRule:O[a]});n.push(k),C=k}x.length&&(v=x.join(", "),C?C.selectorsAdd=v:(y={selectors:[],selectorsAdd:v,style:b},l&&(y.singleAtRule=l),c&&(y.atRuleType=c),u&&(y.mediaText=u),n.push(y)))}}return n};t.default=function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t);var n=t.sheet;return document.head.removeChild(t),i(n)}},"./src/parser/model/ParserCss.js":function(e,t,n){"use strict";n.r(t);var l=n("./node_modules/underscore/underscore.js"),c=n("./src/parser/model/BrowserParserCss.js");t.default=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{parse:function(e){var t=this,n=[],r=a.parserCss,i=a.em,o=void 0===i?{}:i,s=o&&o.get&&o.get("Editor");return(r?r(e,s):Object(c.default)(e)).forEach(function(e){return n=n.concat(t.checkNode(e))}),n},checkNode:function(e){var t,n,r,i,o,s=e.selectors,a=e.style;return Object(l.isString)(s)&&(t=[],r=(n=Object(c.parseSelector)(s)).result,i=n.add.join(", "),o={atRule:e.atRule,mediaText:e.params},r.length?r.forEach(function(e){t.push(Object(c.createNode)(e,a,o))}):t.push(Object(c.createNode)([],a,o)),i&&(t[t.length-1].selectorsAdd=i),e=t),e}}}},"./src/parser/model/ParserHtml.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),L=n.n(r),u=n("./node_modules/underscore/underscore.js");t.default=function(D){var A=D,M="data-gjs-";return{compTypes:"",modelAttrStart:M,splitPropsFromAttr:function(e){var a=this,t=0<arguments.length&&void 0!==e?e:{},l={},c={};return Object(u.each)(t,function(e,t){if(0===t.indexOf(a.modelAttrStart)){var n=t.replace(M,""),r=e.length,i=e&&Object(u.isString)(e),o=i&&e.substr(0,1),s=i&&e.substr(r-1);e="false"!==(e="true"===e||e)&&e;try{e="{"==o&&"}"==s||"["==o&&"]"==s?JSON.parse(e):e}catch(e){}l[n]=e}else c[t]=e}),{props:l,attrs:c}},parseStyle:function(e){for(var t={},n=e.split(";"),r=0,i=n.length;r<i;r++){var o,s=n[r].trim();s&&(t[(o=s.split(":"))[0].trim()]=o.slice(1).join(":").trim())}return t},parseClass:function(e){for(var t=[],n=e.split(" "),r=0,i=n.length;r<i;r++){var o=n[r].trim();o&&t.push(o)}return t},parseNode:function(e){for(var t=[],n=e.childNodes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.attributes||[],a=s.length,l=t[t.length-1],c=o.childNodes.length,u=this.compTypes,d={};if(u){var f="",h=o.getAttribute&&o.getAttribute("".concat(M,"type"));if(h)d={type:h};else{for(var p=0;p<u.length;p++){var g=u[p];if(f=g.model.isComponent(o)){"object"!==L()(f)&&(f={type:g.id});break}}d=f}}d.tagName||(d.tagName=o.tagName?o.tagName.toLowerCase():""),a&&(d.attributes={});for(var m,v=0;v<a;v++){var y=s[v].nodeName,b=s[v].nodeValue;if("style"==y)d.style=this.parseStyle(b);else if("class"==y)d.classes=this.parseClass(b);else{if("contenteditable"==y)continue;if(0===y.indexOf(M)){var w=y.replace(M,""),x=b.length,C=b&&b.substr(0,1),j=b&&b.substr(x-1);b="false"!==(b="true"===b||b)&&b;try{b="{"==C&&"}"==j||"["==C&&"]"==j?JSON.parse(b):b}catch(e){}d[w]=b}else d.attributes[y]=b}}if(c&&!d.components&&(m=o.childNodes[0],1===c&&3===m.nodeType?(d.type||(d.type="text"),d.content=m.nodeValue):d.components=this.parseNode(o)),"textnode"==d.type){if(l&&"textnode"==l.type){l.content+=d.content;continue}if(!D.keepEmptyTextNodes){var S=o.nodeValue;if(" "!=S&&!S.trim())continue}}var k=d.components;if(!d.type&&k){for(var O=1,_=0,T=0;T<k.length;T++){var E=k[T],P=E.type;if(["text","textnode"].indexOf(P)<0&&A.textTags.indexOf(E.tagName)<0){O=0;break}"textnode"==P&&(_=1)}O&&_&&(d.type="text")}!d.tagName&&"textnode"!=d.type||t.push(d)}return t},parse:function(e,t){var n=A.em&&A.em.get("Config")||{},r={html:"",css:""},i=document.createElement("div");i.innerHTML=e;var o=i.querySelectorAll("script"),s=o.length;if(!n.allowScripts)for(;s--;)o[s].parentNode.removeChild(o[s]);if(t){for(var a="",l=i.querySelectorAll("style"),c=l.length;c--;)a=l[c].innerHTML+a,l[c].parentNode.removeChild(l[c]);a&&(r.css=t.parse(a))}var u=this.parseNode(i);return 1==u.length&&(u=u[0]),r.html=u,r}}}},"./src/plugin_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={plugins:[]}},"./src/plugin_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/plugin_manager/config/config.js");t.default=function(e){var t=e||{};for(var n in i.default)n in t||(t[n]=i.default[n]);var r={};return{add:function(e,t){return r[e]?r[e]:r[e]=t},get:function(e){return r[e]},getAll:function(){return r}}}},"./src/rich_text_editor/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link"]}},"./src/rich_text_editor/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),d=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),f=n("./src/rich_text_editor/model/RichTextEditor.js"),h=n("./src/utils/mixins.js"),p=n("./src/rich_text_editor/config/config.js");function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){function o(){var e=a.style;e.top="-1000px",e.left="-1000px",e.display="none"}var a,l,c,u={};return{customRte:null,name:"RichTextEditor",getConfig:function(){return u},init:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},p.default,{},t)).pStylePrefix;return n&&(u.stylePrefix=n+u.stylePrefix),this.pfx=u.stylePrefix,u.actions,(a=document.createElement("div")).className="".concat(n,"rte-toolbar ").concat(n,"one-bg"),c=this.initRte(document.createElement("div")),Object(h.on)(a,"mousedown",function(e){return e.stopPropagation()}),this},destroy:function(){var e=this.customRte;c&&c.destroy(),e&&e.destroy&&e.destroy(),c=a=0,this.actionbar=0,this.actions=0},postRender:function(e){var t=e.model.get("Canvas");a.style.pointerEvents="all",o(),t.getToolsEl().appendChild(a)},initRte:function(e){var t=this.pfx,n=a,r=this.actionbar,i=this.actions||d()(u.actions),o={actionbar:"".concat(t,"actionbar"),button:"".concat(t,"action"),active:"".concat(t,"active"),inactive:"".concat(t,"inactive"),disabled:"".concat(t,"disabled")},s=new f.default({el:e,classes:o,actions:i,actionbar:r,actionbarContainer:n});return c&&c.setEl(e),s.actionbar&&(this.actionbar=s.actionbar),s.actions&&(this.actions=s.actions),s},add:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};n.name=e,c.addAction(n,{sync:1})},get:function(t){var n;return c.getActions().forEach(function(e){e.name==t&&(n=e)}),n},getAll:function(){return c.getActions()},remove:function(e){var t,n,r=this.getAll(),i=this.get(e);return i&&(t=i.btn,n=r.indexOf(i),t.parentNode.removeChild(t),r.splice(n,1)),i},getToolbarEl:function(){return a},updatePosition:function(){var e=u.em.get("Canvas"),t=a.style,n=e.getTargetToElementFixed(l,a,{event:"rteToolbarPosUpdate"});t.top=n.top+"px",t.left="0px"},enable:function(e,t){l=e.el;var n,r=u.em.get("Canvas"),i=u.em,o=e.getChildrenContainer(),s=this.customRte;return r.getElementPos(l),a.style.display="",t=s?s.enable(o,t):this.initRte(o).enable(),i&&(setTimeout(this.updatePosition.bind(this),0),n="change:canvasOffset canvasScroll frame:scroll component:update",i.off(n,this.updatePosition,this),i.on(n,this.updatePosition,this),i.trigger("rte:enable",e,t)),t},disable:function(e,t){var n=u.em,r=this.customRte,i=e.getChildrenContainer();r?r.disable(i,t):t&&t.disable(),o(),n&&n.trigger("rte:disable",e,t)}}}},"./src/rich_text_editor/model/RichTextEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(o),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(s),u=n("./src/utils/mixins.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function f(e){var t=e.selection().anchorNode,n=t&&t.parentNode,r=t&&t.nextSibling;return n&&"A"==n.nodeName||r&&"A"==r.nodeName}var h="_rte",p=1,g=0,m=-1,v={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(e){return e.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(e){return e.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(e){return e.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<strike>S</strike>",attributes:{title:"Strike-through"},result:function(e){return e.exec("strikeThrough")}},link:{icon:'<span style="transform:rotate(45deg)">&supdsub;</span>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(e){return e&&e.selection()&&f(e)?p:g},result:function(e){f(e)?e.exec("unlink"):e.insertHTML('<a class="link" href="">'.concat(e.selection(),"</a>"))}}},y=function(){function l(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c()(this,l);var n=e.el;if(n[h])return n[h];(n[h]=this).setEl(n),this.updateActiveActions=this.updateActiveActions.bind(this);var r=e.actions||[];r.forEach(function(e,t){"string"==typeof e?e=v[e]:v[e.name]&&(e=d({},v[e.name],{},e)),r[t]=e});var i=r.length?r:Object.keys(v).map(function(e){return v[e]});e.classes=d({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},{},e.classes);var o,s=e.classes,a=e.actionbar;return this.actionbar=a,this.settings=e,this.classes=s,this.actions=i,a||(o=e.actionbarContainer,(a=document.createElement("div")).className=s.actionbar,o.appendChild(a),this.actionbar=a,i.forEach(function(e){return t.addAction(e)})),e.styleWithCSS&&this.exec("styleWithCSS"),this.syncActions(),this}return a()(l,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(e){this.el=e,this.doc=e.ownerDocument}},{key:"updateActiveActions",value:function(){var u=this;this.getActions().forEach(function(e){var t=e.btn,n=e.update,r=d({},u.classes),i=r.active,o=r.inactive,s=r.disabled,a=e.state,l=e.name,c=u.doc;if(t.className=t.className.replace(i,"").trim(),t.className=t.className.replace(o,"").trim(),t.className=t.className.replace(s,"").trim(),a)switch(a(u,c)){case p:t.className+=" ".concat(i);break;case g:t.className+=" ".concat(o);break;case m:t.className+=" ".concat(s)}else c.queryCommandSupported(l)&&c.queryCommandState(l)&&(t.className+=" ".concat(i));n&&n(u,e)})}},{key:"enable",value:function(){return this.enabled||(this.actionbarEl().style.display="",this.el.contentEditable=!0,Object(u.on)(this.el,"mouseup keyup",this.updateActiveActions),this.syncActions(),this.updateActiveActions(),this.el.focus(),this.enabled=1),this}},{key:"disable",value:function(){return this.actionbarEl().style.display="none",this.el.contentEditable=!1,Object(u.off)(this.el,"mouseup keyup",this.updateActiveActions),this.enabled=0,this}},{key:"syncActions",value:function(){var n=this;this.getActions().forEach(function(t){var e;n.settings.actionbar&&(!t.state||t.state&&0<=t.state(n,n.doc))&&(e=t.event||"click",t.btn["on".concat(e)]=function(e){t.result(n,t),n.updateActiveActions()})})}},{key:"addAction",value:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).sync,r=document.createElement("span"),i=e.icon,o=e.attributes||{};for(var s in r.className=this.classes.button,e.btn=r,o)r.setAttribute(s,o[s]);"string"==typeof i?r.innerHTML=i:r.appendChild(i),this.actionbarEl().appendChild(r),n&&(this.actions.push(e),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;this.doc.execCommand(e,!1,n)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(e){var t,n,r=this.doc,i=r.getSelection();i&&i.rangeCount&&(t=r.createElement("div"),(n=i.getRangeAt(0)).deleteContents(),t.innerHTML=e,Array.prototype.slice.call(t.childNodes).forEach(function(e){n.insertNode(e),0}),i.removeAllRanges(),i.addRange(n),this.el.focus())}}]),l}()},"./src/selector_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:0}},"./src/selector_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),a=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js"),c=n("./src/selector_manager/config/config.js"),u=n("./src/selector_manager/model/Selector.js"),d=n("./src/selector_manager/model/Selectors.js"),f=n("./src/selector_manager/view/ClassTagsView.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(e){return Object(a.isString)(e)&&"#"==e[0]}function g(e){return Object(a.isString)(e)&&"."==e[0]}t.default=function(e){var o,s=e||{};return{Selector:u.default,Selectors:d.default,name:"SelectorManager",getConfig:function(){return s},init:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(s=h({},c.default,{},t)).em,r=s.pStylePrefix;return this.em=n,r&&(s.stylePrefix=r+s.stylePrefix),this.selectorTags=new f.default({collection:new d.default([],{em:n,config:s}),config:s}),(o=new d.default(s.selectors)).on("add",function(e){return n.trigger("selector:add",e)}),o.on("remove",function(e){return n.trigger("selector:remove",e)}),o.on("change",function(e){return n.trigger("selector:update",e,e.previousAttributes(),e.changedAttributes())}),n.on("change:state",function(e,t){return n.trigger("selector:state",t)}),this},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(a.isElement)(e)?e:document.querySelector(e)).appendChild(this.render([]))},select:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=Array.isArray(e)?e:[e],i=this.em.get("StyleManager").setTarget(r,n).filter(function(e){return e}).map(function(e){return Object(l.isComponent)(e)||Object(l.isRule)(e)&&!e.get("selectorsAdd")?e:e.getSelectorsString()});return this.selectorTags.componentChanged({targets:i}),this},setState:function(e){return this.em.setState(e),this},getState:function(){return this.em.setState()},addSelector:function(e,t){var n=h({},1<arguments.length&&void 0!==t?t:{});Object(a.isObject)(e)?n=e:n.name=e,p(n.name)?(n.name=n.name.substr(1),n.type=u.default.TYPE_ID):g(n.name)&&(n.name=n.name.substr(1)),n.label&&!n.name&&(n.name=this.escapeName(n.label));var r=n.name,i=r?this.get(r,n.type):o.where(n)[0];return i||o.add(n,{config:s})},getSelector:function(e,t){var n=1<arguments.length&&void 0!==t?t:u.default.TYPE_CLASS;return p(e)?(e=e.substr(1),n=u.default.TYPE_ID):g(e)&&(e=e.substr(1)),o.where({name:e,type:n})[0]},add:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:{};return Object(a.isArray)(e)?e.map(function(e){return n.addSelector(e,r)}):this.addSelector(e,r)},addClass:function(e){var t=this,n=[];return Object(a.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(e){return n.push(t.addSelector(e))}),n},get:function(e,t){var n=this;if(Object(a.isArray)(e)){var r=[];return e.map(function(e){return n.getSelector(e)}).filter(function(e){return e}).forEach(function(e){return r.indexOf(e)<0&&r.push(e)}),r}return this.getSelector(e,t)},getAll:function(){return o},escapeName:function(e){var t=s.escapeName;return t?t(e):u.default.escapeName(e)},render:function(e){return e&&(this.selectorTags=new f.default({collection:new d.default(e),config:s})),this.selectorTags.render().el}}}},"./src/selector_manager/model/Selector.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),c=n.n(r).a.Model.extend({idAttribute:"name",defaults:{name:"",label:"",type:1,active:!0,private:!1,protected:!1},initialize:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).config,r=void 0===n?{}:n,i=this.get("name"),o=this.get("label");i?o||this.set("label",i):this.set("name",o);var s=this.get("name"),a=r.escapeName,l=a?a(s):c.escapeName(s);this.set("name",l)},getFullName:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).escape,n=this.get("name"),r="";switch(this.get("type")){case 1:r=".";break;case 2:r="#"}return r+(t?t(n):n)}},{TYPE_CLASS:1,TYPE_ID:2,escapeName:function(e){return"".concat(e).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")}});t.default=c},"./src/selector_manager/model/Selectors.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),s=n("./src/selector_manager/model/Selector.js");t.default=o.a.Collection.extend({model:s.default,modelId:function(e){return"".concat(e.name,"_").concat(e.type||s.default.TYPE_CLASS)},getStyleable:function(){return Object(r.filter)(this.models,function(e){return e.get("active")&&!e.get("private")})},getValid:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).noDisabled;return Object(r.filter)(this.models,function(e){return!e.get("private")}).filter(function(e){return t?e.get("active"):1})},getFullString:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=[];return(e||this).forEach(function(e){return r.push(e.getFullName(n))}),r.join("").trim()}})},"./src/selector_manager/view/ClassTagView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),s="contentEditable";t.default=i.a.View.extend({template:function(){var e=this.pfx,t=this.model,n=this.config,r=t.get("label")||"";return'\n      <span id="'.concat(e,'checkbox" class="').concat(e,'tag-status" data-tag-status></span>\n      <span id="').concat(e,'tag-label" data-tag-name>').concat(r,'</span>\n      <span id="').concat(e,'close" class="').concat(e,'tag-close" data-tag-remove>\n        ').concat(n.iconTagRemove,"\n      </span>\n    ")},events:{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"},initialize:function(e){var t=e.config||{};this.config=t,this.coll=e.coll||null,this.pfx=t.stylePrefix||"",this.ppfx=t.pStylePrefix||"",this.em=t.em,this.listenTo(this.model,"change:active",this.updateStatus)},getInputEl:function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},startEditTag:function(){var e=this.em,t=this.getInputEl();t[s]=!0,t.focus(),e&&e.setEditing(1)},endEditTag:function(){var e,t=this.model,n=this.getInputEl(),r=n.textContent,i=this.em,o=i&&i.get("SelectorManager");n[s]=!1,i&&i.setEditing(0),o&&(e=o.escapeName(r),o.get(e)?n.innerText=t.get("label"):t.set({name:e,label:r}))},changeStatus:function(){var e=this.model;e.set("active",!e.get("active"))},removeTag:function(){var e=this.em,t=this.model;(e&&e.getSelectedAll()).forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},updateStatus:function(){var e=this.model,t=this.$el,n=this.config,r=n.iconTagOn,i=n.iconTagOff,o=t.find("[data-tag-status]");e.get("active")?(o.html(r),t.removeClass("opac50")):(o.html(i),t.addClass("opac50"))},render:function(){var e=this.pfx,t=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(e,"tag ").concat(t,"three-bg")),this.updateStatus(),this}})},"./src/selector_manager/view/ClassTagsView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(r),u=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),a=n("./src/selector_manager/view/ClassTagView.js");t.default=o.a.View.extend({template:function(e){var t=e.labelInfo,n=e.labelStates,r=e.labelHead,i=e.iconSync,o=e.iconAdd,s=e.pfx,a=e.ppfx;return'\n    <div id="'.concat(s,'up" class="').concat(s,'header">\n      <div id="').concat(s,'label" class="').concat(s,'header-label">').concat(r,'</div>\n      <div id="').concat(s,'status-c" class="').concat(s,'header-status">\n        <span id="').concat(s,'input-c" data-states-c>\n          <div class="').concat(a,"field ").concat(a,'select">\n            <span id="').concat(a,'input-holder">\n              <select id="').concat(s,'states" data-states>\n                <option value="">').concat(n,'</option>\n              </select>\n            </span>\n            <div class="').concat(a,'sel-arrow">\n              <div class="').concat(a,'d-s-arrow"></div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div id="').concat(s,'tags-field" class="').concat(a,'field">\n      <div id="').concat(s,'tags-c" data-selectors></div>\n      <input id="').concat(s,'new" data-input/>\n      <span id="').concat(s,'add-tag" class="').concat(s,"tags-btn ").concat(s,'tags-btn__add" data-add>\n        ').concat(o,'\n      </span>\n      <span class="').concat(s,"tags-btn ").concat(s,'tags-btn__sync" style="display: none" data-sync-style>\n        ').concat(i,'\n      </span>\n    </div>\n    <div class="').concat(s,'sels-info">\n      <div class="').concat(s,'label-sel">').concat(t,':</div>\n      <div class="').concat(s,'sels" data-selected></div>\n      <div style="clear:both"></div>\n    </div>')},events:{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config=t.config||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.pfx+"tags",this.stateInputId=this.pfx+"states",this.stateInputC=this.pfx+"input-c",this.states=this.config.states||[];var n=this.config.em,r=this.getStyleEmitter(),i=this.collection;this.target=this.config.em,this.em=n;this.listenTo(n,"component:toggled component:update:classes",this.componentChanged),this.listenTo(r,"styleManager:update",this.componentChanged),this.listenTo(n,"component:update:classes change:state",this.__handleStateChange),this.listenTo(n,"styleable:change change:device",this.checkSync),this.listenTo(i,"add",this.addNew),this.listenTo(i,"reset",this.renderClasses),this.listenTo(i,"remove",this.tagRemoved),this.delegateEvents()},syncStyle:function(){var n,e=this.em,t=this.getTarget(),r=e.get("CssComposer"),i=this.getCommonSelectors({opts:{noDisabled:1}}),o=e.get("state"),s=e.getCurrentMedia(),a=[],l=r.get(i,o,s)||r.add(i,o,s);this.getTargets().forEach(function(e){var t=r.getIdRule(e.getId(),{state:o,mediaText:s});n=t.getStyle(),t.setStyle({}),a.push(t)}),n&&l.addStyle(n),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:i,mediaText:s,rule:l,ruleComponents:a,state:o})},getStyleEmitter:function(){var e=this.em,t=e&&e.get("StyleManager");return t&&t.getEmitter()||{}},tagRemoved:function(){this.updateStateVis()},getStateOptions:function(){var e=this.states,t=this.em,n=[];return e.forEach(function(e){return n.push('<option value="'.concat(e.name,'">').concat(t.t("selectorManager.states.".concat(e.name))||e.label||e.name,"</option>"))}),n.join("")},addNew:function(e){this.addToClasses(e)},startNewTag:function(){this.$addBtn.css({display:"none"}),this.$input.show().focus()},endNewTag:function(){this.$addBtn.css({display:""}),this.$input.hide().val("")},onInputKeyUp:function(e){13===e.keyCode?this.addNewTag(this.$input.val()):27===e.keyCode&&this.endNewTag()},checkStates:function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},componentChanged:Object(u.debounce)(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).targets;this.updateSelection(e)}),updateSelection:function(e){var t=e||this.getTargets(),n=[];return(t=Object(u.isArray)(t)?t:[t])&&t.length&&(n=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(t),n},getCommonSelectors:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.targets,r=t.opts,i=void 0===r?{}:r,o=(n||this.getTargets()).map(function(e){return e.getSelectors&&e.getSelectors().getValid(i)}).filter(function(e){return e});return this._commonSelectors.apply(this,s()(o))},_commonSelectors:function(){for(var n=this,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length?1===t.length?t[0]:2===t.length?t[0].filter(function(e){return 0<=t[1].indexOf(e)}):t.slice(1).reduce(function(e,t){return n._commonSelectors(e,t)},t[0]):[]},checkSync:Object(u.debounce)(function(){var e,t,n=this.$btnSyncEl,r=this.config,i=this.collection,o=this.getTarget();o&&r.componentFirst&&i.length&&(e=o.getStyle(),t=!Object(u.isEmpty)(e)),n&&n[t?"show":"hide"]()}),getTarget:function(){return this.target.getSelected()},getTargets:function(){return this.target.getSelectedAll()},updateStateVis:function(e){var t=this.em,n=t&&t.getConfig("avoidInlineStyle"),r=this.collection.length||n?"":"none";this.getStatesC().css("display",r),this.updateSelector(e)},__handleStateChange:function(){this.updateSelector(this.getTargets())},updateSelector:function(e){var t=this,n=this.el.querySelector("[data-selected]"),r=[],i=e||this.getTargets();(i=Object(u.isArray)(i)?i:[i]).forEach(function(e){return r.push(t.__getName(e))}),n&&(n.innerHTML=r.join(", ")),this.checkStates()},__getName:function(e){var t=this.pfx,n=this.config,r=this.em,i=n.selectedName,o=n.componentFirst;if(Object(u.isString)(e))s='<span class="'.concat(t,'sel-gen">').concat(e,"</span>");else{if(!e||!e.get)return;var s,a=e.getSelectors().getStyleable(),l=r.get("state"),c=e.getId?'<span class="'.concat(t,'sel-cmp">').concat(e.getName(),'</span><span class="').concat(t,'sel-id">#').concat(e.getId(),"</span>"):"";s=(s=this.collection.getFullString(a))?'<span class="'.concat(t,'sel-rule">').concat(s,"</span>"):e.get("selectorsAdd")||c,s=o&&c?c:s,s+=l?'<span class="'.concat(t,'sel-state">:').concat(l,"</span>"):"",s=i?i({result:s,state:l,target:e}):s}return s&&'<span class="'.concat(t,'sel">').concat(s,"</span>")},stateChanged:function(e){var t=this.em,n=e.target.value;t.set("state",n)},addNewTag:function(e){var t,n=this,r=this.em;e.trim()&&(r&&(t=r.get("SelectorManager").add({label:e}),this.getTargets().forEach(function(e){e.getSelectors().add(t),n.collection.add(t),n.updateStateVis()})),this.endNewTag())},addToClasses:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,r=this.getClasses(),i=new a.default({model:e,config:this.config,coll:this.collection}).render().el;return n?n.appendChild(i):r.append(i),i},renderClasses:function(){var t=this,n=document.createDocumentFragment(),e=this.getClasses();e.empty(),this.collection.each(function(e){return t.addToClasses(e,n)}),e.append(n)},getClasses:function(){return this.$el.find("[data-selectors]")},getStates:function(){var e;return this.$states||(e=this.$el.find("[data-states]"),this.$states=e[0]&&e),this.$states},getStatesC:function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},render:function(){var e=this.em,t=this.pfx,n=this.ppfx,r=this.config,i=this.$el,o=this.el,s=r.render,a={iconSync:r.iconSync,iconAdd:r.iconAdd,labelHead:e.t("selectorManager.label"),labelStates:e.t("selectorManager.emptyState"),labelInfo:e.t("selectorManager.selected"),ppfx:n,pfx:t,el:o};i.html(this.template(a));var l=s&&s(a);l&&l!==o&&i.empty().append(l),this.$input=i.find("[data-input]"),this.$addBtn=i.find("[data-add]"),this.$classes=i.find("#"+t+"tags-c"),this.$btnSyncEl=i.find("[data-sync-style]"),this.$input.hide();var c=this.getStates();return c&&c.append(this.getStateOptions()),this.renderClasses(),i.attr("class","".concat(this.className," ").concat(n,"one-bg ").concat(n,"two-color")),this}})},"./src/storage_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={id:"gjs-",autosave:1,autoload:1,type:"local",stepsBeforeSave:1,storeComponents:1,storeStyles:1,storeHtml:1,storeCss:1,checkLocal:1,params:{},headers:{},urlStore:"",urlLoad:"",beforeSend:function(){},onComplete:function(){},contentTypeJson:!0,credentials:"include",fetchOptions:""}},"./src/storage_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(r),u=n("./src/storage_manager/config/config.js"),d=n("./src/storage_manager/model/LocalStorage.js"),f=n("./src/storage_manager/model/RemoteStorage.js");function h(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=function(){var n,l={},r={},i={},o="storage:start",s="storage:end",a="storage:error";return{name:"StorageManager",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return l=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){c()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},u.default,{},t),n=l.em,l._disable&&(l.type=0),i.remote=new f.default(l),i.local=new d.default(l),l.currentStorage=l.type,this.loadDefaultProviders().setCurrent(l.type),this},getConfig:function(){return l},isAutosave:function(){return!!l.autosave},setAutosave:function(e){return l.autosave=!!e,this},getStepsBeforeSave:function(){return l.stepsBeforeSave},setStepsBeforeSave:function(e){return l.stepsBeforeSave=e,this},add:function(e,t){return r[e]=t,this},get:function(e){return r[e]||null},getStorages:function(){return r},getCurrent:function(){return l.currentStorage},setCurrent:function(e){return l.currentStorage=e,this},store:function(e,t){var n=this,r=this.get(this.getCurrent()),i={};for(var o in this.onStart("store",e),e)i[l.id+o]=e[o];return r?r.store(i,function(e){t&&t(e),n.onEnd("store",e)},function(e){n.onError("store",e)}):null},load:function(e,i){var o=this,t=this.get(this.getCurrent()),n=[],s={};"string"==typeof e&&(e=[e]),this.onStart("load",e);for(var r=0,a=e.length;r<a;r++)n.push(l.id+e[r]);t?t.load(n,function(e){var t=new RegExp("^"+l.id);for(var n in e){var r=n.replace(t,"");s[r]=e[n]}i&&i(s),o.onEnd("load",s)},function(e){i&&i(s),o.onError("load",e)}):i&&i(s)},loadDefaultProviders:function(){for(var e in i)this.add(e,i[e]);return this},getCurrentStorage:function(){return this.get(this.getCurrent())},onStart:function(e,t){n&&(n.trigger(o),e&&n.trigger("".concat(o,":").concat(e),t))},onEnd:function(e,t){n&&(n.trigger(s),e&&n.trigger("".concat(s,":").concat(e),t))},onError:function(e,t){n&&(n.trigger(a,t),e&&n.trigger("".concat(a,":").concat(e),t),this.onEnd(e,t))},canAutoload:function(){return this.getCurrentStorage()&&this.getConfig().autoload}}}},"./src/storage_manager/model/LocalStorage.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r);t.default=i.a.Model.extend({defaults:{checkLocal:!0},store:function(e,t){for(var n in this.checkStorageEnvironment(),e)localStorage.setItem(n,e[n]);"function"==typeof t&&t()},load:function(e,t){this.checkStorageEnvironment();for(var n={},r=0,i=e.length;r<i;r++){var o=localStorage.getItem(e[r]);o&&(n[e[r]]=o)}return"function"==typeof t&&t(n),n},remove:function(e){this.checkStorageEnvironment();for(var t=0,n=e.length;t<n;t++)localStorage.removeItem(e[t])},checkStorageEnvironment:function(){this.get("checkLocal")&&!localStorage&&console.warn("Your browser doesn't support localStorage")}})},"./src/storage_manager/model/RemoteStorage.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),w=n.n(r),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),s=n("./src/utils/fetch.js"),x=n("./node_modules/underscore/underscore.js");function C(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.a.Model.extend({fetch:s.default,defaults:{urlStore:"",urlLoad:"",params:{},beforeSend:function(){},onComplete:function(){},contentTypeJson:!1,credentials:"include",fetchOptions:""},onStart:function(){this.get("em");var e=this.get("beforeSend");e&&e()},onError:function(e,t){var n;t?t(e):(n=this.get("em"),console.error(e),n&&n.trigger("storage:error",e))},onResponse:function(e,t){var n=this.get("em"),r=this.get("onComplete"),i=this.get("contentTypeJson")&&(e&&"string"==typeof e)?JSON.parse(e):e;r&&r(i),t&&t(i),n&&n.trigger("storage:response",i)},store:function(e,t,n){var r={};for(var i in e)r[i]=e[i];this.request(this.get("urlStore"),{body:r},t,n)},load:function(e,t,n){this.request(this.get("urlLoad"),{method:"get"},t,n)},request:function(e,t,n,r){var i,o,s=this,a=1<arguments.length&&void 0!==t?t:{},l=2<arguments.length&&void 0!==n?n:null,c=3<arguments.length&&void 0!==r?r:null,u=this.get("contentTypeJson"),d=this.get("headers")||{},f=this.get("params"),h="X-Requested-With",p="Content-Type",g=a.body||{};for(var m in f)g[m]=f[m];if(Object(x.isUndefined)(d[h])&&(d[h]="XMLHttpRequest"),Object(x.isUndefined)(d[p])&&u&&(d[p]="application/json; charset=utf-8"),u)o=JSON.stringify(g);else for(var v in o=new FormData,g)o.append(v,g[v]);"post"===(i={method:a.method||"post",credentials:this.get("credentials"),headers:d}).method&&(i.body=o);var y=this.get("fetchOptions")||{},b=Object(x.isFunction)(y)?y(i):i;this.onStart(),this.fetch(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(n,!0).forEach(function(e){w()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},i,{},b||{})).then(function(e){return 1==(e.status/200|0)?e.text():e.text().then(function(e){return Promise.reject(e)})}).then(function(e){return s.onResponse(e,l)}).catch(function(e){return s.onError(e,c)})}})},"./src/style_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"sm-",sectors:[],appendTo:"",hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:0,avoidComputed:["width","height"]}},"./src/style_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/underscore/underscore.js"),a=n("./src/style_manager/config/config.js"),l=n("./src/style_manager/model/Sectors.js"),c=n("./src/style_manager/model/Properties.js"),u=n("./src/style_manager/view/SectorsView.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var n,o,r,b={};return{name:"StyleManager",getConfig:function(){return b},init:function(e){var t=(b=d({},a.default,{},e)).pStylePrefix;return this.em=b.em,t&&(b.stylePrefix=t+b.stylePrefix),n=new c.default,o=new l.default([],b),r=new u.default({collection:o,target:b.em,config:b}),this},onLoad:function(){o.add(b.sectors,{silent:!0})},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(s.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},addSector:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=this.getSector(e);return i||(t.id=e,i=o.add(t,r)),i},getSector:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=o.where({id:e})[0];return!r&&n.warn&&this._logNoSector(e),r},removeSector:function(e){return this.getSectors().remove(this.getSector(e,{warn:1}))},getSectors:function(){return o},addProperty:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=this.getSector(e,{warn:1}),o=null;return i&&(o=i.get("properties").add(t,r)),o},getProperty:function(e,t){var n=this.getSector(e,{warn:1}),r=null;return n&&(r=1==(r=n.get("properties").where({property:t})).length?r[0]:r),r},removeProperty:function(e,t){var n=this.getProperties(e);return n&&n.remove(this.getProperty(e,t))},getProperties:function(e){var t=null,n=this.getSector(e,{warn:1});return n&&(t=n.get("properties")),t},getModelToStyle:function(e,t){var n,r,i,o,s,a,l,c,u,d,f,h,p=1<arguments.length&&void 0!==t?t:{},g=b.em,m=p.skipAdd,v=e.get("classes"),y=e.getId();return g&&(n=g.getConfig(),r=g.get("UndoManager"),i=g.get("CssComposer"),s=(o=g.get("SelectorManager"))?o.getConfig():{},a=n.devicePreviewMode?"":g.get("state"),c=(l=v.getStyleable()).length,u=!s.componentFirst||p.useClasses,d={state:a},r.stop(),c&&u?(f=g.getCurrentMedia(),(h=i.get(l,a,f))||m||(h=i.add(l,a,f))):n.avoidInlineStyle&&((h=i.getIdRule(y,d))||m||(h=i.setIdRule(y,{},d)),e.is("wrapper")&&h.set("wrapper",1)),h&&(e=h),r.start()),e},addType:function(e,t){n.addType(e,t)},getType:function(e){return n.getType(e)},getTypes:function(){return n.getTypes()},createType:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.model,i=void 0===r?{}:r,o=n.view,s=void 0===o?{}:o,a=this.getType(e);if(a)return new a.view(d({model:new a.model(i),config:b},s))},setTarget:function(e,t){return r.setTarget(e,t)},getEmitter:function(){return r.propTarget},render:function(){return r.render().el},_logNoSector:function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))}}}},"./src/style_manager/model/Layer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),s=n("./src/style_manager/model/Properties.js");t.default=i.a.Model.extend({defaults:{index:"",value:"",values:{},active:!1,preview:!1,properties:[]},initialize:function(){var e=this.get("properties"),t=this.get("value");this.set("properties",e instanceof s.default?e:new s.default(e));var n=this.get("properties");if(n.forEach(this.onPropAdd,this),this.listenTo(n,"add",this.onPropAdd),!t){var r="",i=this.get("values");for(var o in i)r+=" "+i[o];this.set("value",r.trim())}},onPropAdd:function(e){var t=this.collection;e.parent=t&&t.property},getPropertyAt:function(e){return this.get("properties").at(e)},getPropertyValue:function(t){var n="";return this.get("properties").each(function(e){e.get("property")==t&&(n=e.getFullValue())}),n},getFullValue:function(){var t=[];return this.get("properties").each(function(e){return t.push(e.getFullValue())}),t.join(" ").trim()}})},"./src/style_manager/model/Layers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),l=n("./src/style_manager/model/Layer.js");function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=a.a.Collection.extend({model:l.default,initialize:function(){this.idx=1,this.on("add",this.onAdd),this.on("reset",this.onReset)},onAdd:function(e,t,n){n.noIncrement||e.set("index",this.idx++),n.active&&this.active(this.indexOf(e))},onReset:function(){this.idx=1},getSeparator:function(){var e=this.property;return e?e.get("layerSeparator"):", "},getLayersFromValue:function(n){var t=this,r=[];return n.replace(/\(([\w\s,.]*)\)/g,function(e){var t=e.replace(/,\s*/g,",");n=n.replace(e,t)}),(n?n.split(this.getSeparator()):[]).forEach(function(e){r.push({properties:t.properties.parseValue(e)})}),r},getLayersFromStyle:function(t){var o=[],e=this.properties;return e.each(function(i){var e=t[i.get("property")];(e?e.split(", "):[]).forEach(function(e,t){e=i.parseValue(e.trim()).value;var n=o[t],r=u({},i.attributes,{},{value:e});n?n.properties.push(r):o[t]={properties:[r]}})}),o.forEach(function(n){var r=n.properties.map(function(e){return e.property});e.each(function(e){var t=e.get("property");r.indexOf(t)<0&&n.properties.push(u({},e.attributes))})}),o},active:function(e){this.each(function(e){return e.set("active",0)});var t=this.at(e);t&&t.set("active",1)},getFullValue:function(){var t=[];return this.each(function(e){return t.push(e.getFullValue())}),t.join(this.getSeparator())},getPropertyValues:function(n,r){var i=[];return this.each(function(e){var t=e.getPropertyValue(n);t?i.push(t):Object(o.isUndefined)(r)||i.push(r)}),i.join(", ")}})},"./src/style_manager/model/Properties.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/backbone/backbone.js"),s=n.n(i),a=n("./src/domain_abstract/model/TypeableCollection.js"),l=n("./src/style_manager/model/Property.js"),c=n("./src/style_manager/model/PropertyStack.js"),u=n("./src/style_manager/view/PropertyStackView.js"),d=n("./src/style_manager/model/PropertyComposite.js"),f=n("./src/style_manager/view/PropertyCompositeView.js"),h=n("./src/style_manager/view/PropertyFileView.js"),p=n("./src/style_manager/view/PropertyColorView.js"),g=n("./src/style_manager/model/PropertySelect.js"),m=n("./src/style_manager/view/PropertySelectView.js"),v=n("./src/style_manager/model/PropertyRadio.js"),y=n("./src/style_manager/view/PropertyRadioView.js"),b=n("./src/style_manager/model/PropertySlider.js"),w=n("./src/style_manager/view/PropertySliderView.js"),x=n("./src/style_manager/model/PropertyInteger.js"),C=n("./src/style_manager/view/PropertyIntegerView.js"),j=n("./src/style_manager/view/PropertyView.js");function S(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=s.a.Collection.extend(a.default).extend({types:[{id:"stack",model:c.default,view:u.default,isType:function(e){if(e&&"stack"==e.type)return e}},{id:"composite",model:d.default,view:f.default,isType:function(e){if(e&&"composite"==e.type)return e}},{id:"file",model:l.default,view:h.default,isType:function(e){if(e&&"file"==e.type)return e}},{id:"color",model:l.default,view:p.default,isType:function(e){if(e&&"color"==e.type)return e}},{id:"select",model:g.default,view:m.default,isType:function(e){if(e&&"select"==e.type)return e}},{id:"radio",model:v.default,view:y.default,isType:function(e){if(e&&"radio"==e.type)return e}},{id:"slider",model:b.default,view:w.default,isType:function(e){if(e&&"slider"==e.type)return e}},{id:"integer",model:x.default,view:C.default,isType:function(e){if(e&&"integer"==e.type)return e}},{id:"base",model:l.default,view:j.default,isType:function(e){return e.type="base",e}}],deepClone:function(){var e=this.clone();return e.reset(e.map(function(e){var t=e.clone();return t.typeView=e.typeView,t})),e},parseValue:function(e){var r=this,i=[];return e.split(" ").forEach(function(e,t){var n=r.at(t);n&&i.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n.attributes,{},{value:e}))}),i},getFullValue:function(){var t="";return this.each(function(e){return t+="".concat(e.getFullValue()," ")}),t.trim()}})},"./src/style_manager/model/Property.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),d=n("./node_modules/underscore/underscore.js"),a=n("./src/utils/mixins.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var u=s.a.Model.extend({defaults:{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:0,important:0,toRequire:0,requires:null,requiresParent:null},initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{},i=this.get("id")||"",o=this.get("name")||"";this.get("property")||this.set("property",(o||i).replace(/ /g,"-"));var s=this.get("property");this.get("id")||this.set("id",s),o||this.set("name",Object(a.capitalize)(s).replace(/-/g," ")),u.callInit(this,n,r)},init:function(){},clearValue:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.set({value:void 0,status:""},t),this},setValue:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:1,i=2<arguments.length&&void 0!==n?n:{},o=this.parseValue(e),s=!r;s||this.set({value:""},{avoidStore:s,silent:!0}),this.set(o,c({avoidStore:s},i))},setValueFromInput:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};this.setValue(e,t,c({},r,{fromInput:1}))},parseValue:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r={value:e},i="!important";if(Object(d.isString)(e)&&-1!==e.indexOf(i)&&(r.value=e.replace(i,"").trim(),r.important=1),!this.get("functionName")&&!n.complete)return r;var o,s=[],a="".concat(r.value),l=a.indexOf("(")+1,c=a.lastIndexOf(")"),u=a.substring(0,l-1);return u&&(r.functionName=u),s.push(l),0<=c&&s.push(c),r.value=String.prototype.substring.apply(a,s),n.numeric&&(o=parseFloat(r.value),r.unit=r.value.replace(o,""),r.value=o),r},splitValues:function(e,t){var n=1<arguments.length&&void 0!==t?t:",",r=[],i="",o=0;return(e||"").split("").forEach(function(e){"("==e?(o++,i+="("):")"==e&&0<o?(o--,i+=")"):e===n&&0==o?(r.push(i),i=""):i+=e}),""!==i&&r.push(i),r.map(function(e){return e.trim()})},getDefaultValue:function(){return this.get("defaults")},getFullValue:function(e){var t=this.get("functionName"),n=this.getDefaultValue(),r=Object(d.isUndefined)(e)?this.get("value"):e,i=!Object(d.isUndefined)(r)&&""!==r;return r&&n&&r===n?n:(t&&i&&(r="".concat(t,"(").concat(r,")")),i&&this.get("important")&&(r="".concat(r," !important")),r||"")}},{callParentInit:function(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:{};e.prototype.initialize.apply(t,[n,c({},i,{skipInit:1})])},callInit:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};r.skipInit||e.init(t,r)}});t.default=u},"./src/style_manager/model/PropertyComposite.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=s.n(n),a=s("./src/style_manager/model/Property.js");function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=a.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},a.default.prototype.defaults,{detached:0,properties:[],separator:" "}),initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};a.default.callParentInit(a.default,this,n,r);var i=this.get("properties")||[],o=s("./src/style_manager/model/Properties.js").default;this.set("properties",new o(i)),this.listenTo(this,"change:value",this.updateValues),a.default.callInit(this,n,r)},clearValue:function(e){return this.get("properties").each(function(e){return e.clearValue()}),a.default.prototype.clearValue.apply(this,arguments)},updateValues:function(){var r=this.getFullValue().split(this.getSplitSeparator());this.get("properties").each(function(e,t){var n=r.length;r[t]||r[t%n+(1!=n&&n%2?1:0)]})},getSplitSeparator:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},getDefaultValue:function(e){var n=this.get("defaults");return n&&!e?n:(n="",this.get("properties").each(function(e,t){return n+="".concat(e.getDefaultValue()," ")}),n.trim())},getFullValue:function(){return this.get("detached")?"":this.get("properties").getFullValue()},getPropertyAt:function(e){return this.get("properties").at(e)}})},"./src/style_manager/model/PropertyFactory.js":function(e,t,n){"use strict";n.r(t),t.default=function(){return{build:function(e){var t=[];"string"==typeof e&&(e=[e]);for(var n=0,r=e.length;n<r;n++){var i={},o=e[n];switch(i.property=o){case"border-radius-c":i.property="border-radius"}switch(o){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":i.fixedValues=["initial","inherit","auto"];break;case"font-size":i.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":i.fixedValues=["normal","initial","inherit"]}switch(o){case"float":case"position":case"text-align":i.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":i.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":i.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":i.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":i.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":i.type="stack";break;case"background-image":i.type="file"}switch(o){case"float":case"background-color":case"text-shadow":i.defaults="none";break;case"display":i.defaults="block";break;case"flex-direction":i.defaults="row";break;case"flex-wrap":i.defaults="nowrap";break;case"justify-content":i.defaults="flex-start";break;case"align-items":case"align-content":i.defaults="stretch";break;case"align-self":i.defaults="auto";break;case"position":i.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":i.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":i.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":i.defaults=1;break;case"box-shadow-blur":i.defaults="5px";break;case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":i.defaults="auto";break;case"font-family":i.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":i.defaults="medium";break;case"font-weight":i.defaults="400";break;case"letter-spacing":case"line-height":i.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":i.defaults="black";break;case"text-align":i.defaults="left";break;case"border-style":i.defaults="solid";break;case"box-shadow-type":i.defaults="";break;case"background-repeat":i.defaults="repeat";break;case"background-position":i.defaults="left top";break;case"background-attachment":i.defaults="scroll";break;case"transition-property":i.defaults="width";break;case"transition-duration":i.defaults="2";break;case"transition-timing-function":i.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":i.defaults="visible"}switch(o){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":i.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":i.requiresParent={display:["flex"]}}switch(o){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":i.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":i.units=["px","%","vw"];break;case"flex-basis":i.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":i.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":i.units=["px","em","rem","%"];break;case"border-width":i.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":i.units=["px"];break;case"transition-duration":i.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":i.units=["deg"]}switch(o){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":i.min=0}switch(o){case"text-shadow":case"box-shadow":case"background":i.preview=!0}switch(o){case"background":i.detached=!0}switch(o){case"transform-rotate-x":i.functionName="rotateX";break;case"transform-rotate-y":i.functionName="rotateY";break;case"transform-rotate-z":i.functionName="rotateZ";break;case"transform-scale-x":i.functionName="scaleX";break;case"transform-scale-y":i.functionName="scaleY";break;case"transform-scale-z":i.functionName="scaleZ";break;case"background-image":i.functionName="url"}switch(o){case"float":i.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":i.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":i.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":i.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":i.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":i.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":i.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":i.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":i.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var s=", sans-serif",a=["Arial, Helvetica"+s,"Arial Black, Gadget"+s,"Brush Script MT"+s,"Comic Sans MS, cursive"+s,"Courier New, Courier, monospace","Georgia, serif","Helvetica, serif","Impact, Charcoal"+s,"Lucida Sans Unicode, Lucida Grande"+s,"Tahoma, Geneva"+s,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+s,"Verdana, Geneva"+s];i.list=[];for(var l=0,c=a.length;l<c;l++){var u={};u.value=a[l],u.name=a[l].split(",")[0],i.list.push(u)}break;case"font-weight":i.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":i.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":i.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":i.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":i.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":i.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":i.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":i.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":i.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":i.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":i.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":i.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(o){case"margin":i.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":i.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":i.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":i.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":i.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":i.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":i.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":i.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":i.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}t.push(i)}return t}}}},"./src/style_manager/model/PropertyInteger.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/model/Property.js"),a=n("./src/domain_abstract/ui/InputNumber.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=s.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s.default.prototype.defaults,{units:[],unit:"",step:1,min:"",max:""}),initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};s.default.callParentInit(s.default,this,n,r);var i=this.get("unit"),o=this.get("units");this.input=new a.default({model:this}),o.length&&!i&&this.set("unit",o[0]),s.default.callInit(this,n,r)},clearValue:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.set({value:void 0,unit:void 0},t),this},parseValue:function(e){var t=s.default.prototype.parseValue.apply(this,arguments),n=this.input.validateInputValue(t.value,{deepCheck:1}),r=n.value,i=n.unit;return t.value=r,t.unit=i,t},getFullValue:function(){var e=this.get("value"),t=this.get("unit"),e=Object(o.isUndefined)(e)?"":e,t=!Object(o.isUndefined)(t)&&e?t:"";return e="".concat(e).concat(t),s.default.prototype.getFullValue.apply(this,[e])}})},"./src/style_manager/model/PropertyRadio.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(o),a=n("./src/style_manager/model/Property.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=a.default.extend({defaults:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},a.default.prototype.defaults,{options:[],full:1})},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.onOptionChange)},onOptionChange:function(){this.set("list",this.get("options"))},getOptions:function(){var e=this.attributes,t=e.options,n=e.list;return t&&t.length?t:n},setOptions:function(e){var t=0<arguments.length&&void 0!==e?e:[];return this.set("options",t),this},addOption:function(e){var t;return e&&(t=this.getOptions(),this.setOptions([].concat(i()(t),[e]))),this}})},"./src/style_manager/model/PropertySelect.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/style_manager/model/PropertyRadio.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults(),{full:0})}})},"./src/style_manager/model/PropertySlider.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/style_manager/model/PropertyInteger.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{showInput:1})})},"./src/style_manager/model/PropertyStack.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),a=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/model/PropertyComposite.js"),l=n("./src/style_manager/model/Layers.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=s.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s.default.prototype.defaults,{layers:[],layerSeparator:", ",prepend:0,preview:0}),initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};s.default.callParentInit(s.default,this,n,r);var i=this.get("layers"),o=new l.default(i);o.property=this,o.properties=this.get("properties"),this.set("layers",o),s.default.callInit(this,n,r)},getLayers:function(){return this.get("layers")},getCurrentLayer:function(){return this.getLayers().filter(function(e){return e.get("active")})[0]},getFullValue:function(){return this.get("detached")?"":this.get("layers").getFullValue()},getValueFromStyle:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.getLayers().getLayersFromStyle(t);return new l.default(n).getFullValue()},clearValue:function(){return this.getLayers().reset(),s.default.prototype.clearValue.apply(this,arguments)},getValueFromTarget:function(e){var t=this.attributes,n=t.detached,r=t.property,i=t.properties,o=e.getStyle(),s={};return i.forEach(function(e){var t=e.get("property"),n=o[t];n&&(s[t]=n)}),n?Object(a.keys)(s).length?s:"":o[r]},getLayersFromTarget:function(){}})},"./src/style_manager/model/Sector.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),p=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/model/Properties.js"),o=n("./src/style_manager/model/PropertyFactory.js");t.default=i.a.Model.extend({defaults:{id:"",name:"",open:!0,buildProps:"",extendBuilded:1,properties:[]},initialize:function(e){var t=e||{},n=this.buildProperties(t.buildProps),r=this.get("name")||"",i=[];this.get("id")||this.set("id",r.replace(/ /g,"_").toLowerCase()),i=n?this.extendProperties(n):this.get("properties");var o=new s.default(i);(o.sector=this).set("properties",o)},extendProperties:function(e,t,n){for(var r=e.length,i=t||this.get("properties"),o=this.get("extendBuilded"),s=[],a=0,l=i.length;a<l;a++){for(var c=i[a],u=0,d=0;d<r;d++){var f,h=e[d];c.property!=h.property&&c.id!=h.property||((f=c.properties)&&f.length&&(c.properties=this.extendProperties(h.properties||[],f,1)),e[d]=o?Object(p.extend)(h,c):c,s[d]=e[d],u=1)}u||(e.push(c),s.push(c))}return n?s.filter(function(e){return e}):e},buildProperties:function(e){var t=e||[];if(t.length)return this.propFactory||(this.propFactory=new o.default),this.propFactory.build(t)}})},"./src/style_manager/model/Sectors.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/style_manager/model/Sector.js");t.default=i.a.Collection.extend({model:o.default})},"./src/style_manager/view/LayerView.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),s=n.n(r),l=n("./src/style_manager/view/PropertiesView.js");t.default=s.a.View.extend({events:{click:"active","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"},template:function(e){var t=this.pfx,n=this.ppfx,r=this.em,i="".concat(r&&r.t("styleManager.layer")," ").concat(e.get("index"));return'\n      <div id="'.concat(t,'move" class="').concat(n,'no-touch-actions" data-move-layer>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div id="').concat(t,'label">').concat(i,'</div>\n      <div id="').concat(t,'preview-box">\n      \t<div id="').concat(t,'preview" data-preview></div>\n      </div>\n      <div id="').concat(t,'close-layer" class="').concat(t,'btn-close" data-close-layer>\n        &Cross;\n      </div>\n      <div id="').concat(t,'inputs" data-properties></div>\n      <div style="clear:both"></div>\n    ')},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model;this.stackModel=t.stackModel,this.config=t.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.sorter=t.sorter||null,this.propsConfig=t.propsConfig||{},this.customPreview=t.onPreview,this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change:active",this.updateVisibility),this.listenTo(n.get("properties"),"change",this.updatePreview),n.view=this,n.set({droppable:0,draggable:1}),this.$el.data("model",n)},initSorter:function(){this.sorter&&this.sorter.startSort(this.el)},removeItem:function(e){e&&e.stopPropagation(),this.remove()},remove:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,r=this.props,i=n.collection,o=this.stackModel;s.a.View.prototype.remove.apply(this,arguments),i&&i.contains(n)&&i.remove(n),o&&o.set&&(o.set({stackIndex:null},{silent:!0}),t.fromTarget||o.trigger("updateValue")),r&&r.remove()},onPreview:function(e){var t=this.stackModel,s=t&&t.get("detached"),a=e.split(" "),l=[],c={};return this.model.get("properties").each(function(e,t){var n,r,i=e.get("property"),o=s?e.getFullValue():a[t]||"";o&&"integer"==e.get("type")&&(r=parseInt(o,10),n=o.replace(r,""),o=(r=(r=3<(r=isNaN(r)?0:r)?3:r)<-3?-3:r)+n),l.push(o),c[i]=o}),s?c:l.join(" ")},updatePreview:function(){var e,n,t=this.stackModel,r=this.customPreview,i=this.getPreviewEl(),o=this.model.getFullValue(),s=r?r(o):this.onPreview(o);s&&t&&i&&(e=i.style,Object(a.isString)(s)?e[t.get("property")]=s:(n=[],Object(a.each)(s,function(e,t){return n.push("".concat(t,":").concat(e))}),i.setAttribute("style",n.join(";"))))},getPropertiesWrapper:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},getPreviewEl:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},active:function(){var e=this.model,t=e.collection;t.active(t.indexOf(e))},updateVisibility:function(){var e=this.pfx,t=this.getPropertiesWrapper(),n=this.model.get("active");t.style.display=n?"":"none",this.$el[n?"addClass":"removeClass"]("".concat(e,"active"))},render:function(){var e=this.propsConfig,t=this.model,n=this.el,r=this.pfx,i=t.get("preview"),o=new l.default({collection:t.get("properties"),config:this.config,target:e.target,customValue:e.customValue,propTarget:e.propTarget,onChange:e.onChange}),s=o.render().el;return n.innerHTML=this.template(t),n.className="".concat(r,"layer").concat(i?"":" ".concat(r,"no-preview")),this.props=o,this.getPropertiesWrapper().appendChild(s),this.updateVisibility(),this.updatePreview(),this}})},"./src/style_manager/view/LayersView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),d=n("./src/style_manager/view/LayerView.js");t.default=i.a.View.extend({initialize:function(e){this.config=e.config||{},this.stackModel=e.stackModel,this.preview=e.preview,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.propsConfig=e.propsConfig;var t=this.pfx,n=this.ppfx,r=this.collection;this.className="".concat(t,"layers ").concat(n,"field"),this.listenTo(r,"add",this.addTo),this.listenTo(r,"deselectAll",this.deselectAll),this.listenTo(r,"reset",this.reset),this.items=[];var i=this.config.em||"",o=i?i.get("Utils"):"";this.sorter=o?new o.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(t,"layers"),itemSel:".".concat(t,"layer"),pfx:this.config.pStylePrefix}):"",(r.view=this).$el.data("model",r),this.$el.data("collection",r)},addTo:function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},addToCollection:function(e,t,n){var r=t||null,i=this.stackModel,o=this.config,s=this.sorter,a=this.propsConfig;void 0!==this.preview&&e.set("preview",this.preview);var l,c=new d.default({model:e,config:o,sorter:s,stackModel:i,propsConfig:a}),u=c.render().el;return this.items.push(c),r?r.appendChild(u):void 0!==n?(l="before",this.$el.children().length==n&&(n--,l="after"),n<0?this.$el.append(u):this.$el.children().eq(n)[l](u)):this.$el.append(u),u},deselectAll:function(){this.$el.find("."+this.pfx+"layer").removeClass(this.pfx+"active")},reset:function(e,t){this.clearItems(t),this.render()},render:function(){var t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(e){this.addToCollection(e,t)},this),this.$el.append(t),this.$el.attr("class",this.className),this.sorter&&(this.sorter.plh=null),this},remove:function(){this.clearItems(),i.a.View.prototype.remove.apply(this,arguments)},clearItems:function(t){this.items.forEach(function(e){return e.remove(t)}),this.items=[]}})},"./src/style_manager/view/PropertiesView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),a=n("./src/utils/dom.js");t.default=i.a.View.extend({initialize:function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix||"",this.target=e.target||{},this.propTarget=e.propTarget||{},this.onChange=e.onChange,this.onInputRender=e.onInputRender||{},this.customValue=e.customValue||{},this.properties=[];var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.render)},addTo:function(e,t,n){this.add(e,null,n)},add:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=t||this.el,o=new e.typeView({model:e,name:e.get("name"),id:this.pfx+e.get("property"),target:this.target,propTarget:this.propTarget,onChange:this.onChange,onInputRender:this.onInputRender,config:this.config});"composite"!=e.get("type")&&(o.customValue=this.customValue),o.render();var s=o.el;this.properties.push(o),o.updateVisibility(),Object(a.appendAtIndex)(i,s,r.at)},render:function(){var t=this,e=this.$el;this.clearItems();var n=document.createDocumentFragment();return this.collection.each(function(e){return t.add(e,n)}),e.empty(),e.append(n),e.attr("class","".concat(this.pfx,"properties")),this},remove:function(){i.a.View.prototype.remove.apply(this,arguments),this.clearItems()},clearItems:function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]}})},"./src/style_manager/view/PropertyColorView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/style_manager/view/PropertyIntegerView.js"),s=n("./src/domain_abstract/ui/InputColor.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({setValue:function(e,t){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n=1<arguments.length&&void 0!==t?t:{},{silent:1});this.inputInst.setValue(e,n)},onRender:function(){var e,t;this.input||(e=this.ppfx,t=new s.default({target:this.target,model:this.model,ppfx:e}).render(),this.el.querySelector(".".concat(e,"fields")).appendChild(t.el),this.$input=t.inputEl,this.$color=t.colorEl,this.input=this.$input.get(0),this.inputInst=t)}})},"./src/style_manager/view/PropertyCompositeView.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(n),o=r("./node_modules/backbone/backbone.js"),s=r.n(o),a=r("./src/style_manager/view/PropertyView.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var c=s.a.$;t.default=a.default.extend({templateInput:function(){var e=this.pfx;return'\n      <div class="'.concat(e,"field ").concat(e,'composite">\n        <span id="').concat(e,'input-holder"></span>\n      </div>\n    ')},inputValueChanged:function(){if(!this.model.get("detached")){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.inputValueChanged.apply(this,t)}},clear:function(e){var t=this.properties;t&&t.forEach(function(e){return e.clear()}),a.default.prototype.clear.apply(this,arguments)},onRender:function(){var e,n=this.model,t=n.get("properties")||[];this.properties=[],t.length&&(this.$input||(this.$input=c('<input type="hidden" value="0">'),this.input=this.$input.get(0)),this.props||(this.props=n.get("properties")),this.$props||(this.props.each(function(e,t){e&&"composite"==e.get("type")&&(this.props.remove(e),console.warn("Nested composite types not yet allowed.")),e.parent=n},this),e=new(r("./src/style_manager/view/PropertiesView.js").default)(this.getPropsConfig()),this.$props=e.render().$el,this.properties=e.properties,this.$el.find("#".concat(this.pfx,"input-holder")).append(this.$props)))},getPropsConfig:function(){var n=this,r=this.model,e={config:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.config,{highlightComputed:0}),collection:this.props,target:this.target,propTarget:this.propTarget,onChange:function(e,t,n){r.set("value",r.getFullValue(),n)},customValue:function(e,t){return n.valueOnIndex(t,e)}};return r.get("detached")&&delete e.onChange,e},valueOnIndex:function(e,t){var n=this.getTargetValue({ignoreDefault:1});return n?n.split(this.model.getSplitSeparator())[e]:t&&t.getTargetValue({ignoreCustomValue:1,ignoreDefault:1})},clearCached:function(){a.default.prototype.clearCached.apply(this,arguments),this.$input=null,this.props=null,this.$props=null}})},"./src/style_manager/view/PropertyFileView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),s=n("./src/style_manager/view/PropertyView.js"),a=o.a.$;t.default=s.default.extend({templateInput:function(){var e=this.pfx,t=this.em;return'\n    <div class="'.concat(e,"field ").concat(e,"file\">\n      <div id='").concat(e,"input-holder'>\n        <div class=\"").concat(e,'btn-c">\n          <button class="').concat(e,'btn" id="').concat(e,'images" type="button">\n            ').concat(t.t("styleManager.fileButton"),'\n          </button>\n        </div>\n        <div style="clear:both;"></div>\n      </div>\n      <div id="').concat(e,'preview-box">\n        <div id="').concat(e,'preview-file"></div>\n        <div id="').concat(e,'close">&Cross;</div>\n      </div>\n    </div>\n    ')},init:function(){var e=this.em;this.modal=e.get("Modal"),this.am=e.get("AssetManager"),this.events["click #"+this.pfx+"close"]="removeFile",this.events["click #"+this.pfx+"images"]="openAssetManager",this.delegateEvents()},onRender:function(){var e;this.$input||(e=this.model.getDefaultValue(),this.$input=a('<input placeholder="'.concat(e,'">'))),this.$preview||(this.$preview=this.$el.find("#"+this.pfx+"preview-file")),this.$previewBox||(this.$previewBox=this.$el.find("#"+this.pfx+"preview-box")),this.setValue(this.componentValue,0)},clearCached:function(){s.default.prototype.clearCached.apply(this,arguments),this.$preview=null,this.$previewBox=null},setValue:function(e,t){s.default.prototype.setValue.apply(this,arguments),this.setPreviewView(e&&e!=this.model.getDefaultValue()),this.setPreview(e)},setPreviewView:function(e){var t=this.$previewBox;t&&t[e?"addClass":"removeClass"]("".concat(this.pfx,"show")),t&&t.css({display:e?"block":"none"})},spreadUrl:function(e){this.model.set("value",e),this.setPreviewView(1)},setPreview:function(e){var t=this.$preview;e=e&&e.indexOf("url(")<0?"url(".concat(e,")"):e,t&&t.css("background-image",e)},cleanValue:function(){this.setPreviewView(0),this.model.set({value:""},{silent:!0})},removeFile:function(){this.model.set("value",this.model.getDefaultValue());for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.default.prototype.cleanValue.apply(this,t),this.setPreviewView(0)},openAssetManager:function(){var n=this,e=this.em,r=this.modal,t=e?e.get("Editor"):"";t&&t.runCommand("open-assets",{types:["image"],accept:"image/*",target:this.getTargetModel(),onClick:function(){},onDblClick:function(){},onSelect:function(e){r.close();var t=Object(i.isString)(e)?e:e.get("src");n.spreadUrl(t)}})}})},"./src/style_manager/view/PropertyIntegerView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/style_manager/view/PropertyView.js"),s=i.a.$;t.default=o.default.extend({templateInput:function(){return""},init:function(){var e=this.model;this.listenTo(e,"change:unit",this.modelValueChanged),this.listenTo(e,"el:change",this.elementUpdated),this.listenTo(e,"change:units",this.render)},setValue:function(e){var t=this.model.parseValue(e);e="".concat(t.value).concat(t.unit),this.inputInst.setValue(e,{silent:1})},onRender:function(){var e,t=this.ppfx;this.input||((e=this.model.input).ppfx=t,e.render(),this.el.querySelector(".".concat(t,"fields")).appendChild(e.el),this.$input=e.inputEl,this.unit=e.unitEl,this.$unit=s(this.unit),this.input=this.$input.get(0),this.inputInst=e)},clearCached:function(){o.default.prototype.clearCached.apply(this,arguments),this.unit=null,this.$unit=null}})},"./src/style_manager/view/PropertyRadioView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/style_manager/view/PropertyView.js");t.default=r.default.extend({templateInput:function(){this.pfx;var e=this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'field-radio">\n      </div>\n    ')},onRender:function(){var o,e,s=this.pfx,a=this.ppfx,l="".concat(a,"radio-item-label"),t=this.model,c=t.get("property"),n=t.get("list")||t.get("options")||[],u=t.cid,d="".concat(s,"radio ").concat(s,"radio-").concat(c);this.input||n&&n.length&&(o="",n.forEach(function(e){var t=e.className?"".concat(e.className," ").concat(s,"icon ").concat(l):"",n="".concat(c,"-").concat(e.value,"-").concat(u),r=e.name||e.value,i=e.title?'title="'.concat(e.title,'"'):"";o+='\n            <div class="'.concat(a,'radio-item">\n              <input type="radio" class="').concat(d,'" id="').concat(n,'" name="').concat(c,"-").concat(u,'" value="').concat(e.value,'"/>\n              <label class="').concat(t||l,'" ').concat(i,' for="').concat(n,'">').concat(t?"":r,"</label>\n            </div>\n          ")}),(e=this.el.querySelector(".".concat(a,"field"))).innerHTML='<div class="'.concat(a,'radio-items">').concat(o,"</div>"),this.input=e.firstChild)},getInputValue:function(){var e=this.getCheckedEl();return e?e.value:""},getCheckedEl:function(){var e=this.getInputEl();return e?e.querySelector("input:checked"):""},setValue:function(e){var t,n=this.model,r=e||n.get("value")||n.getDefaultValue(),i=this.getInputEl(),o=i?i.querySelector('[value="'.concat(r,'"]')):"";o?o.checked=!0:(t=this.getCheckedEl())&&(t.checked=!1)}})},"./src/style_manager/view/PropertySelectView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./src/style_manager/view/PropertyView.js");i.a.$;t.default=o.default.extend({templateInput:function(){var e=this.pfx,t=this.ppfx;return'\n      <div class="'.concat(t,"field ").concat(t,'select">\n        <span id="').concat(e,'input-holder"></span>\n        <div class="').concat(t,'sel-arrow">\n          <div class="').concat(t,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.default.prototype.initialize.apply(this,t),this.listenTo(this.model,"change:options",this.updateOptions)},updateOptions:function(){this.input=null,this.onRender()},onRender:function(){var o,e,t=this.pfx,n=this.model.getOptions();this.input||(o="",n.forEach(function(e){var t=e.name||e.value,n=e.style?e.style.replace(/"/g,"&quot;"):"",r=n?'style="'.concat(n,'"'):"",i=e.value.replace(/"/g,"&quot;");o+='<option value="'.concat(i,'" ').concat(r,">").concat(t,"</option>")}),(e=this.el.querySelector("#".concat(t,"input-holder"))).innerHTML="<select>".concat(o,"</select>"),this.input=e.firstChild)}})},"./src/style_manager/view/PropertySliderView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./src/style_manager/view/PropertyIntegerView.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}t.default=o.default.extend({events:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.events,{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},templateInput:function(e){var t=this.ppfx;return'\n      <div class="'.concat(t,"field ").concat(t,'field-range">\n        <input type="range"\n          min="').concat(e.get("min"),'"\n          max="').concat(e.get("max"),'"\n          step="').concat(e.get("step"),'"/>\n      </div>\n    ')},getSliderEl:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},inputValueChanged:function(){var e=this.model,t=e.get("step");this.getInputEl().value=this.getSliderEl().value;var n=this.getInputValue()-t;e.set("value",n,{avoidStore:1}).set("value",n+t),this.elementUpdated()},inputValueChangedSoft:function(){this.getInputEl().value=this.getSliderEl().value,this.model.set("value",this.getInputValue(),{avoidStore:1}),this.elementUpdated()},setValue:function(e){var t=this.model.parseValue(e);this.getSliderEl().value=parseFloat(t.value),o.default.prototype.setValue.apply(this,arguments)},onRender:function(){o.default.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},clearCached:function(){o.default.prototype.clearCached.apply(this,arguments),this.slider=null}})},"./src/style_manager/view/PropertyStackView.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),C=r("./node_modules/underscore/underscore.js"),s=r("./src/style_manager/view/PropertyCompositeView.js"),i=r("./src/style_manager/view/LayersView.js");function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var h=new(r("./src/code_manager/model/CssGenerator.js").default);t.default=s.default.extend({templateInput:function(){var e=this.pfx;this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'stack">\n        <button type="button" id="').concat(e,'add" data-add-layer>+</button>\n        <div data-layers-wrapper></div>\n      </div>\n    ')},init:function(){var e=this.model;this.pfx;e.set("stackIndex",null),this.events["click [data-add-layer]"]="addLayer",this.listenTo(e,"change:stackIndex",this.indexChanged),this.listenTo(e,"updateValue",this.inputValueChanged),this.delegateEvents();var t=this.getPropsConfig();this.layers=new i.default({collection:this.getLayers(),stackModel:e,preview:e.get("preview"),config:this.config,propsConfig:t});var n=r("./src/style_manager/view/PropertiesView.js").default;this.propsView=new n({target:this.target,collection:e.get("properties"),stackModel:e,config:this.config,onChange:t.onChange,propTarget:t.propTarget})},targetUpdated:function(){var e,t=this;if(this.model.get("detached"))e=this._getTargetData(),this.setStatus(e.status),this.checkVisibility();else{for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e=s.default.prototype.targetUpdated.apply(this,r)}setTimeout(function(){return t.refreshLayers(e)})},getLayers:function(){return this.model.get("layers")},indexChanged:function(){var e=this.model;this.getLayers().active(e.get("stackIndex"))},addLayer:function(){var e=this.model,t=this.getLayers(),n=e.get("prepend"),r=e.get("properties").deepClone();r.each(function(e){return e.set("value","")});var i=t.add({properties:r},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({active:1},n&&{at:0}));this.inputValueChanged({up:1}),e.set("stackIndex",t.indexOf(i))},inputValueChanged:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model;t.up&&this.elementUpdated(),n.get("detached")?n.get("properties").each(function(e){return e.trigger("change:value")}):n.set("value",this.getLayerValues())},setValue:function(){},getLayerValues:function(){return this.getLayers().getFullValue()},_getClassRule:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.em,r=t.skipAdd,i=void 0===r?1:r,o=n.getSelected(),s=n.get("StyleManager").getModelToStyle(o,{skipAdd:i,useClasses:1});return s!==o&&s},_getParentTarget:function(t,e){for(var n,r=1<arguments.length&&void 0!==e?e:{},i=this.em,o=this.model.get("property"),s=r.isValid||function(e){return e.getStyle()[o]},a=i.get("CssComposer").getAll().filter(function(e){return e.selectorsToString()===t.getSelectorsString()}).reduce(function(e,t){return e[t.getAtRule()]=t,e},{}),l=h.sortMediaObject(a).map(function(e){return e.value}),c=l.indexOf(t),u=l.splice(0,c),d=u.length-1;-1<d;d--){var f=u[d];if(s(f)){n=f;break}}return n},refreshLayers:function(e){var t,n,r,i,o,s,a,l,c,u=0<arguments.length&&void 0!==e?e:{},d=[],f=this.model,h=this.em,p=this.getLayers(),g=f.get("detached"),m=f.get("property"),v=this.getTarget(),y=this.getComputedValue(),b=h.getSelected(),w={fromTarget:1},d=g?(l=u.targetValue||{},o=function(e){var t=f.get("properties").at(0).get("property");return e&&!Object(C.isUndefined)(e.getStyle()[t])},!Object(C.keys)(l).length&&y&&b&&(s={isValid:o},l=(a=this._getParentTarget(v,s))?a.getStyle():(n=this._getClassRule(),a=!(r=o(n)&&n.getStyle())&&this._getParentTarget(this._getClassRule({skipAdd:0}),s),i=o(a)&&a.getStyle(),r||i||{})),t=l,p.getLayersFromStyle(l)):(!(c=this.getTargetValue({ignoreDefault:1}))&&y&&(c=(a=this._getParentTarget(v))?a.getStyle()[m]:(i=(a=!(r=(n=this._getClassRule())&&n.getStyle()[m])&&this._getParentTarget(this._getClassRule({skipAdd:0})))&&a.getStyle()[m],r||i||y)),t=c=c==f.getDefaultValue()?"":c,p.getLayersFromValue(c)),x=f.getLayersFromTarget(v,{resultValue:t,layersObj:d})||d;p.reset(null,w),p.add(x,w),f.set({stackIndex:null},{silent:!0})},getTargetValue:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,r=n.attributes.detached,i=this.getTarget(),o=s.default.prototype.getTargetValue.call(this,t);return Object(C.isUndefined)(o)&&!r?o=n.getValueFromStyle(i.getStyle()):r&&(o=n.getValueFromTarget(i)),o},getPropsConfig:function(){var l=this,c=l.model;return{target:l.target,propTarget:l.propTarget,onChange:function(e,t,n){var r,i,o,s,a=t.model;c.get("detached")?(r=a.get("property"),i=a.getDefaultValue(),o=l.getLayers().getPropertyValues(r,i),t.updateTargetStyle(o,null,n)):"updated"==c.get("status")&&(s=c.getFullValue(),c.set("value",s,n),s||t.updateTargetStyle(s,null,n))}}},onRender:function(){var e=this.el,t=this.layers,n=this.propsView,r=e.querySelector("[data-layers-wrapper]");n.render(),r.appendChild(t.render().el)}})},"./src/style_manager/view/PropertyView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),d=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),v=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js");function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h="data-clear-style";t.default=a.a.View.extend({template:function(e){var t=this.pfx;return'\n      <div class="'.concat(t,'label">\n        ').concat(this.templateLabel(e),'\n      </div>\n      <div class="').concat(this.ppfx,'fields">\n        ').concat(this.templateInput(e),"\n      </div>\n    ")},templateLabel:function(e){var t=this.pfx,n=this.em,r=e.parent,i=e.attributes,o=i.icon,s=void 0===o?"":o,a=i.info,l=void 0===a?"":a,c=i.id,u=i.name,d=n&&n.t("styleManager.properties.".concat(c))||u;return'\n      <span class="'.concat(t,"icon ").concat(s,'" title="').concat(l,'">\n        ').concat(d,"\n      </span>\n      ").concat(r?"":'<b class="'.concat(t,'clear" ').concat(h,">&Cross;</b>"),"\n    ")},templateInput:function(e){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(e.getDefaultValue(),'"/>\n      </div>\n    ')},events:o()({change:"inputValueChanged"},"click [".concat(h,"]"),"clear"),initialize:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};Object(v.bindAll)(this,"targetUpdated"),this.config=n.config||{};var r=this.config.em;this.em=r,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.target=n.target||{},this.propTarget=n.propTarget||{},this.onChange=n.onChange,this.onInputRender=n.onInputRender||{},this.customValue=n.customValue||{};var i=this.model;this.property=i.get("property"),this.input=null;var o=this.pfx;this.inputHolderId="#"+o+"input-holder",this.sector=i.collection&&i.collection.sector,i.view=this,i.get("value")||i.set("value",i.getDefaultValue()),r&&r.on("update:component:style:".concat(this.property),this.targetUpdated);var s=i.get("requires");s&&Object.keys(s).forEach(function(e){r&&r.on("component:styleUpdate:".concat(e),t.targetUpdated)}),this.listenTo(this.propTarget,"update styleManager:update",this.targetUpdated),this.listenTo(i,"destroy remove",this.remove),this.listenTo(i,"change:value",this.modelValueChanged),this.listenTo(i,"targetUpdated",this.targetUpdated),this.listenTo(i,"change:visible",this.updateVisibility),this.listenTo(i,"change:status",this.updateStatus),this.listenTo(i,"change:name change:className change:full",this.render);var a=this.init&&this.init.bind(this);a&&a()},updateStatus:function(){var e=this.model,t=e.get("status"),n=e.parent,r=this.pfx,i=this.ppfx,o=this.config,s="".concat(i,"four-color"),a="".concat(i,"color-warn"),l=this.$el.children(".".concat(r,"label")),c=this.getClearEl(),u=c?c.style:{};switch(l.removeClass("".concat(s," ").concat(a)),u.display="none",t){case"updated":n||l.addClass(s),o.clearProperties&&(u.display="inline");break;case"computed":l.addClass(a)}},clear:function(e){var t=this;e&&e.stopPropagation(),this.model.clearValue(),setTimeout(function(){return t.targetUpdated()})},getClearEl:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(h,"]"))),this.clearEl},getTarget:function(){return this.getTargetModel()},getTargets:function(){return this.propTarget.targets||[this.getTarget()]},getTargetModel:function(){return this.propTarget&&this.propTarget.model},getHelperModel:function(){return this.propTarget&&this.propTarget.helper},inputValueChanged:function(e){e&&e.stopPropagation(),this.model.setValueFromInput(this.getInputValue()),this.elementUpdated()},elementUpdated:function(){this.setStatus("updated")},setStatus:function(e){this.model.set("status",e);var t=this.model.parent;t&&"updated"==e&&t.set("status",e)},emitUpdateTarget:Object(v.debounce)(function(){var e=this.config.em;e&&e.trigger("styleManager:update:target",this.getTarget())}),_getTargetData:function(){var e=this.model,t=this.config,n=this.getTargetValue({ignoreDefault:1}),r=e.getDefaultValue(),i=this.getComputedValue(),o="",s="";return n?(o=n,t.highlightChanged&&(s="updated")):i&&t.showComputed&&i!=r?(o=i,t.highlightComputed&&(s="computed")):(o=r,s=""),{value:o,status:s,targetValue:n,defaultValue:r,computedValue:i}},targetUpdated:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};if(this.emitUpdateTarget(),this.checkVisibility()){var i=this.config.em,o=this.model,s=o.get("property"),a=this._getTargetData(),l=a.status,c=a.value,u=f({status:l,value:c},d()(a,["status","value"]));return this.setStatus(l),o.setValue(c,0,f({fromTarget:1},r)),i&&(i.trigger("styleManager:change",this,s,c,u),i.trigger("styleManager:change:".concat(s),this,c,u),this._emitUpdate(u)),u}},_emitUpdate:function(e){var t,n,r,i=0<arguments.length&&void 0!==e?e:{},o=this.em,s=this.model;o&&(t=s.get("property"),r=(n=f({},this._getEventData(),{},i)).id,o.trigger("style:update",n),o.trigger("style:update:".concat(t),n),t!==r&&o.trigger("style:update:".concat(r),n))},_getEventData:function(){var e=this.model;return{propertyView:this,targets:this.getTargets(),value:e.getFullValue(),property:e,id:e.get("id"),name:e.get("property")}},checkVisibility:function(){var e=1;return this.config.hideNotStylable&&(this.isTargetStylable()&&this.isComponentStylable()?this.show():(this.hide(),e=0),this.sector&&this.sector.trigger("updateVisibility")),e},getTargetValue:function(e){var t,n,r=0<arguments.length&&void 0!==e?e:{},i=this.model,o=this.getTargetModel(),s=this.customValue;return o&&((t=o.getStyle()[i.get("property")])||r.ignoreDefault||(t=i.getDefaultValue()),"function"!=typeof s||r.ignoreCustomValue||(n=s(this,i.collection.indexOf(i),t))&&(t=n)),t},getComputedValue:function(){var e=this.propTarget,t=e.computed||{},n=e.computedDefault||{},r=this.config.avoidComputed||[],i=this.model.get("property"),o=r.indexOf(i)<0,s=t[i],a=n[Object(l.camelCase)(i)];return t&&o&&a!==s&&s||""},getInputValue:function(){var e=this.getInputEl();return e?e.value:""},modelValueChanged:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n?n:{},o=this.model.getFullValue();i.fromInput||this.setValue(o),i.fromTarget||this.getTargets().forEach(function(e){return r.__updateTarget(e,i)})},__updateTarget:function(e,t){var n,r=1<arguments.length&&void 0!==t?t:{},i=this.model,o=this.config.em,s=i.get("property"),a=i.getFullValue(),l=this.onChange;e&&this.isTargetStylable(e)&&this.isComponentStylable()&&(r.fromTarget||(l&&!r.fromParent?l(e,this,r):this.updateTargetStyle(a,null,f({},r,{target:e}))),n=o&&o.getSelected(),o&&n&&(r.noEmit||o.trigger("component:update",n),o.trigger("component:styleUpdate",n,s),o.trigger("component:styleUpdate:".concat(s),n)),this._emitUpdate())},updateTargetStyle:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=(1<arguments.length&&void 0!==t?t:"")||this.model.get("property"),o=r.target||this.getTarget(),s=o.getStyle();e?s[i]=e:delete s[i],r.avoidStore?s.__=1:delete s.__,o.setStyle(s,r);var a=this.getHelperModel();a&&a.setStyle(s,r)},isTargetStylable:function(e){var n,t,r,i,o=e||this.getTarget(),s=this.model,a=s.get("id"),l=s.get("property"),c=s.get("toRequire"),u=o.get("unstylable"),d=o.get("stylable-require"),f=s.get("requires"),h=s.get("requiresParent"),p=this.sector?this.sector.collection:null,g=this.em?this.em.getSelected():null,m=o.get("stylable");return Object(v.isArray)(m)&&(m=0<=m.indexOf(l)),Object(v.isArray)(u)&&(m=u.indexOf(l)<0),c&&(m=!e||d&&(0<=d.indexOf(a)||0<=d.indexOf(l))),p&&f&&(n=Object.keys(f),p.each(function(e){e.get("properties").each(function(e){var t;Object(v.includes)(n,e.id)&&(t=f[e.id],m=m&&Object(v.includes)(t,e.get("value")))})})),h&&((r=(t=g&&g.parent())&&t.getEl())?(i=window.getComputedStyle(r),Object(v.each)(h,function(e,t){m=m&&i[t]&&Object(v.includes)(e,i[t])})):m=!1),m},isComponentStylable:function(){var e=this.em,t=e&&e.getSelected();return!t||this.isTargetStylable(t)},setRawValue:function(e){this.setValue(this.model.parseValue(e))},setValue:function(e){var t=this.model,n=Object(v.isUndefined)(e)?t.getDefaultValue():e,r=this.getInputEl();r&&(r.value=n)},getInputEl:function(){return this.input||(this.input=this.el.querySelector("input")),this.input},updateVisibility:function(){this.el.style.display=this.model.get("visible")?"block":"none"},show:function(){this.model.set("visible",1)},hide:function(){this.model.set("visible",0)},cleanValue:function(){this.setValue("")},clearCached:function(){this.clearEl=null,this.input=null,this.$input=null},render:function(){this.clearCached();var e=this.pfx,t=this.model,n=this.el,r=t.get("property"),i=t.get("full"),o=t.get("className")||"",s="".concat(e,"property");n.innerHTML=this.template(t),n.className="".concat(s," ").concat(e).concat(t.get("type")," ").concat(s,"__").concat(r," ").concat(o).trim(),n.className+=i?" ".concat(s,"--full"):"",this.updateStatus();var a=this.onRender&&this.onRender.bind(this);a&&a(),this.setValue(t.get("value"),{fromTarget:1})}})},"./src/style_manager/view/SectorView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),o=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/view/PropertiesView.js");t.default=i.a.View.extend({template:Object(o.template)('\n  <div class="<%= pfx %>title" data-sector-title>\n    <i id="<%= pfx %>caret" class="fa"></i>\n    <%= label %>\n  </div>'),events:{"click [data-sector-title]":"toggle"},initialize:function(e){this.config=e.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.target=e.target||{},this.propTarget=e.propTarget||{},this.caretR="fa-caret-right",this.caretD="fa-caret-down";var t=this.model;this.listenTo(t,"change:open",this.updateOpen),this.listenTo(t,"updateVisibility",this.updateVisibility),this.listenTo(t,"destroy remove",this.remove)},updateVisibility:function(){var t;this.model.get("properties").each(function(e){e.get("visible")&&(t=1)}),this.el.style.display=t?"block":"none"},updateOpen:function(){this.model.get("open")?this.show():this.hide()},show:function(){this.$el.addClass(this.pfx+"open"),this.getPropertiesEl().style.display="",this.$caret.removeClass(this.caretR).addClass(this.caretD)},hide:function(){this.$el.removeClass(this.pfx+"open"),this.getPropertiesEl().style.display="none",this.$caret.removeClass(this.caretD).addClass(this.caretR)},getPropertiesEl:function(){return this.$el.find(".".concat(this.pfx,"properties")).get(0)},toggle:function(){var e=this.model.get("open")?0:1;this.model.set("open",e)},render:function(){var e=this.pfx,t=this.model,n=this.em,r=this.$el,i=t.attributes,o=i.id,s=i.name,a=n&&n.t("styleManager.sectors.".concat(o))||s;return r.html(this.template({pfx:e,label:a})),this.$caret=r.find("#".concat(e,"caret")),this.renderProperties(),r.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(o," no-select")),this.updateOpen(),this},renderProperties:function(){var e,t=this.model.get("properties");t&&(e=new s.default({collection:t,target:this.target,propTarget:this.propTarget,config:this.config}),this.$el.append(e.render().el))}})},"./src/style_manager/view/SectorsView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(r),i=n("./node_modules/backbone/backbone.js"),l=n.n(i),c=n("./node_modules/underscore/underscore.js"),u=n("./src/utils/mixins.js"),d=n("./src/utils/dom.js"),f=n("./src/style_manager/view/SectorView.js");function h(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var p="hc-state";t.default=l.a.View.extend({initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.config||{};this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.target=t.target||{},this.config=n;var r={};Object(c.extend)(r,l.a.Events);var i=document.body,o=document.createElement("el-".concat((new Date).getTime()));i.appendChild(o),r.computedDefault=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},window.getComputedStyle(o)),i.removeChild(o),this.propTarget=r;var s=this.collection;this.listenTo(s,"add",this.addTo),this.listenTo(s,"reset",this.render),this.listenTo(this.target,"component:toggled component:update:classes change:state change:device frame:resized",this.targetUpdated)},addTo:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};this.addToCollection(e,null,r)},toggleStateCls:function(e,t){var n=1<arguments.length?t:void 0;(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){var t=e.getEl();t&&t.classList&&t.classList[n?"add":"remove"](p)})},targetUpdated:function(e){var t,n,r,i,o=this.target,s=this.propTarget,a=o.getSelectedAll(),l=o.getSelected(),c=e&&e.toHTML?e:l;c&&this.toggleStateCls([c]),l&&(t=o.get("Config").devicePreviewMode?"":o.get("state"),n=o.get("SelectorManager").getConfig().componentFirst,r=l.getEl(),s.helper=null,s.targets=null,r&&Object(u.isTaggableNode)(r)&&(i=t?":".concat(t):null,s.computed=window.getComputedStyle(r,i)),l=o.get("StyleManager").getModelToStyle(l),t&&(function(e){var t=0<arguments.length&&void 0!==e?e:{},n=o.get("CssComposer"),r=n.getAll(),i=n.getClassRule(p);i?(r.remove(i),r.add(i)):i=n.setClassRule(p),i.set("important",1),i.setStyle(t),s.helper=i}(l.getStyle()),this.toggleStateCls(a,1)),s.model=l,n&&(s.targets=a),s.trigger("update"))},setTarget:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.target,r=Object(c.isArray)(e)?e:[e],o=n.targetIsClass,s=n.stylable,a=[];r.forEach(function(t){var e,n,r=t;Object(c.isString)(t)&&(n=i.get("CssComposer").getAll(),o&&(e=n.filter(function(e){return e.get("selectors").getFullString()===t})[0]),e=(e=e||n.filter(function(e){return e.get("selectorsAdd")===t})[0])||n.add({selectors:[],selectorsAdd:t}),s&&e.set({stylable:s}),r=e),a.push(r)});var l=this.propTarget;return l.targets=a,l.trigger("update"),a},addToCollection:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=this.pfx,o=this.target,s=this.propTarget,a=this.config,l=this.el,c=t||l,u=new f.default({model:e,id:"".concat(i).concat(e.get("id")),name:e.get("name"),properties:e.get("properties"),target:o,propTarget:s,config:a}).render().el;return Object(d.appendAtIndex)(c,u,r.at),u},render:function(){var t=this,n=document.createDocumentFragment(),e=this.$el,r=this.pfx,i=this.ppfx;return e.empty(),this.collection.each(function(e){return t.addToCollection(e,n)}),e.append(n),e.addClass("".concat(r,"sectors ").concat(i,"one-bg ").concat(i,"two-color")),this}})},"./src/trait_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]}},"./src/trait_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),o=n("./src/trait_manager/config/config.js"),s=n("./src/trait_manager/view/TraitsView.js");t.default=function(){var r,n={};return{TraitsView:s.default,name:"TraitManager",getConfig:function(){return n},init:function(e){n=0<arguments.length&&void 0!==e?e:{},Object(i.defaults)(n,o.default);var t=n.pStylePrefix;return t&&(n.stylePrefix="".concat(t).concat(n.stylePrefix)),r=new s.default({collection:[],editor:n.em,config:n}),this},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(i.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},getTraitsViewer:function(){return r},addType:function(e,t){var n=r.itemView;r.itemsView[e]=n.extend(t)},getType:function(e){return r.itemsView[e]},render:function(){return r.render().el}}}},"./src/trait_manager/model/Trait.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),a=n("./node_modules/underscore/underscore.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.Model.extend({defaults:{type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]},initialize:function(){var e,t=this.get("target"),n=this.get("name"),r=this.get("changeProp");t&&(this.target=t,this.unset("target"),e=r?"change:".concat(n):"change:attributes:".concat(n),this.listenTo(t,e,this.targetUpdated))},props:function(){return this.attributes},targetUpdated:function(){var e=this.getTargetValue();this.set({value:e},{fromTarget:1})},getTargetValue:function(){var e=this.get("name"),t=this.target,n=this.get("changeProp")?t.get(e):t.getAttributes()[e];return Object(a.isUndefined)(n)?"":n},setTargetValue:function(e,t){var n,r,i=1<arguments.length&&void 0!==t?t:{},o=this.target,s=this.get("name");Object(a.isUndefined)(e)||("false"===(n=e)?n=!1:"true"===e&&(n=!0),this.get("changeProp")?o.set(s,n,i):((r=c({},o.get("attributes")))[s]=n,o.set("attributes",r,i)))},setValueFromInput:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:1,i=2<arguments.length&&void 0!==n?n:{},o={value:e};this.set(o,c({},i,{avoidStore:1})),r&&(this.set("value","",i),this.set(o,i))},getInitValue:function(){var e,t,n=this.target,r=this.get("name");return n&&(e=n.get("attributes"),t=this.get("changeProp")?n.get(r):e[r]),t||this.get("value")||this.get("default")}})},"./src/trait_manager/model/TraitFactory.js":function(e,t,n){"use strict";n.r(t),t.default=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{build:function(e){var t=[];"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++){var r={},i=e[n];switch(r.name=i){case"target":r.type="select"}switch(i){case"target":r.options=o.optionsTarget}t.push(r)}return t}}}},"./src/trait_manager/model/Traits.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),u=n.n(r),d=n("./node_modules/underscore/underscore.js"),i=n("./src/trait_manager/model/Trait.js"),f=n("./src/trait_manager/model/TraitFactory.js");t.default=u.a.Collection.extend({model:i.default,initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.em=n.em||"",this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)},handleReset:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).previousModels;(void 0===n?[]:n).forEach(function(e){return e.trigger("remove")})},handleAdd:function(e){var t=this.target;t&&(e.target=t)},setTarget:function(e){this.target=e},add:function(e,t){var n=this.em;if(Object(d.isString)(e)||Object(d.isArray)(e)){var r=n&&n.get&&n.get("TraitManager"),i=r&&r.getConfig(),o=Object(f.default)(i);Object(d.isString)(e)&&(e=[e]);for(var s=0,a=e.length;s<a;s++){var l=e[s],c=Object(d.isString)(l)?o.build(l)[0]:l;c.target=this.target,e[s]=c}}return u.a.Collection.prototype.add.apply(this,[e,t])}})},"./src/trait_manager/view/TraitButtonView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./src/trait_manager/view/TraitView.js");t.default=i.default.extend({events:{"click button":"handleClick"},templateInput:"",handleClick:function(){var e=this.model,t=this.em,n=e.get("command");n&&(Object(r.isString)(n)?t.get("Commands").run(n):n(t.get("Editor"),e))},renderLabel:function(){this.model.get("label")&&i.default.prototype.renderLabel.apply(this,arguments)},getInputEl:function(){var e=this.model,t=this.ppfx,n=e.props(),r=n.labelButton,i=n.text,o=n.full,s=r||i,a="".concat(t,"btn");return'<button type="button" class="'.concat(a,"-prim").concat(o?" ".concat(a,"--full"):"",'">').concat(s,"</button>")}})},"./src/trait_manager/view/TraitCheckboxView.js":function(e,t,n){"use strict";n.r(t);var f=n("./node_modules/underscore/underscore.js"),h=n("./src/trait_manager/view/TraitView.js");t.default=h.default.extend({appendInput:0,templateInput:function(){var e=this.ppfx,t=this.clsField;return'<label class="'.concat(t,'" data-input>\n    <i class="').concat(e,'chk-icon"></i>\n  </label>')},onChange:function(){var e=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(e))},getCheckedValue:function(e){var t=e,n=this.model.attributes,r=n.valueTrue,i=n.valueFalse;return t&&!Object(f.isUndefined)(r)&&(t=r),t||Object(f.isUndefined)(i)||(t=i),t},getInputEl:function(){for(var e=!this.$input,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o,s,a,l,c,u,d=h.default.prototype.getInputEl.apply(this,n);return e&&(s=this.model,a=this.target,(l=s.attributes).valueTrue,c=l.valueFalse,u=s.get("name"),s.get("changeProp")?o=i=a.get(u):i=!(!(o=a.get("attributes")[u])&&""!==o),Object(f.isUndefined)(c)||o!==c||(i=!1),d.checked=i),d}})},"./src/trait_manager/view/TraitColorView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/trait_manager/view/TraitView.js"),i=n("./src/domain_abstract/ui/InputColor.js");t.default=r.default.extend({templateInput:"",getInputEl:function(){var e,t,n;return this.input||(e=this.model,t=this.getModelValue(),(n=new i.default({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render()).setValue(t,{fromTarget:1}),this.input=n.el),this.input}})},"./src/trait_manager/view/TraitNumberView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/trait_manager/view/TraitView.js"),i=n("./src/domain_abstract/ui/InputNumber.js");t.default=r.default.extend({getValueForTarget:function(){var e=this.model.attributes,t=e.value,n=e.unit;return t?t+n:""},getInputEl:function(){var e,t;return this.input||(e=this.getModelValue(),t=new i.default({contClass:this.ppfx+"field-int",model:this.model,ppfx:this.ppfx}),this.input=t.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,this.model.set("value",e),this.$input.val(e),this.input=t.el),this.input}})},"./src/trait_manager/view/TraitSelectView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/backbone/backbone.js"),i=n.n(r),c=n("./node_modules/underscore/underscore.js"),o=n("./src/trait_manager/view/TraitView.js"),u=i.a.$;t.default=o.default.extend({init:function(){this.listenTo(this.model,"change:options",this.rerender)},templateInput:function(){var e=this.ppfx,t=this.clsField;return'<div class="'.concat(t,'">\n      <div data-input></div>\n      <div class="').concat(e,'sel-arrow">\n        <div class="').concat(e,'d-s-arrow"></div>\n      </div>\n    </div>')},getInputEl:function(){var e,s,a,t,l,n;return this.$input||(e=this.model,s=this.em,a=e.get("name"),t=e.get("options")||[],l="<select>",t.forEach(function(e){var t,n,r,i="";Object(c.isString)(e)?n=t=e:(t=e.name||e.label||e.value,n="".concat(Object(c.isUndefined)(e.value)?e.id:e.value).replace(/"/g,"&quot;"),i+=(r=e.style?e.style.replace(/"/g,"&quot;"):"")?' style="'.concat(r,'"'):"");var o=s.t("traitManager.traits.options.".concat(a,".").concat(n))||t;l+='<option value="'.concat(n,'"').concat(i,">").concat(o,"</option>")}),l+="</select>",this.$input=u(l),n=e.getTargetValue(),Object(c.isUndefined)(n)||this.$input.val(n)),this.$input.get(0)}})},"./src/trait_manager/view/TraitView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(o),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),u=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js");function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var f=a.a.$;t.default=a.a.View.extend({events:{},eventCapture:["change"],appendInput:1,attributes:function(){return this.model.get("attributes")},templateLabel:function(){var e=this.ppfx,t=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(t,'">').concat(t,"</div>")},templateInput:function(){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},initialize:function(e){var i=this,t=(0<arguments.length&&void 0!==e?e:{}).config,n=void 0===t?{}:t,o=this.model,r=this.eventCapture,s=o.target,a=o.attributes.type;this.config=n,this.em=n.em,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.target=s;var l=this.ppfx;this.clsField="".concat(l,"field ").concat(l,"field-").concat(a),[["change:value",this.onValueChange],["remove",this.removeView]].forEach(function(e){var t=c()(e,2),n=t[0],r=t[1];o.off(n,r),i.listenTo(o,n,r)}),(o.view=this).listenTo(o,"change:label",this.render),this.listenTo(o,"change:placeholder",this.rerender),r.forEach(function(e){return i.events[e]="onChange"}),this.delegateEvents(),this.init()},getClbOpts:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},removeView:function(){this.remove(),this.removed()},init:function(){},removed:function(){},onRender:function(){},onUpdate:function(){},onEvent:function(){},onChange:function(e){var t=this.getInputElem();t&&!Object(u.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.getClbOpts(),{event:e}))},getValueForTarget:function(){return this.model.get("value")},setInputValue:function(e){var t=this.getInputElem();t&&(t.value=e)},onValueChange:function(e,t,n){var r,i=2<arguments.length&&void 0!==n?n:{};i.fromTarget?(this.setInputValue(e.get("value")),this.postUpdate()):(r=this.getValueForTarget(),e.setTargetValue(r,i))},renderLabel:function(){var e=this.$el,t=this.target,n=this.getLabel(),r=this.templateLabel(t);this.createLabel&&(r=this.createLabel({label:n,component:t,trait:this})||""),e.find("[data-label]").append(r)},getLabel:function(){var e=this.em,t=this.model.attributes,n=t.label,r=t.name;return e.t("traitManager.traits.labels.".concat(r))||Object(l.capitalize)(n||r).replace(/-/g," ")},getComponent:function(){return this.target},getInputEl:function(){var e,t,n,r,i,o,s,a,l,c;return this.$input||(e=this.em,n=(t=this.model).attributes.name,r=t.get("placeholder")||t.get("default")||"",i=t.get("type")||"text",o=t.get("min"),s=t.get("max"),a=this.getModelValue(),l=f('<input type="'.concat(i,'" placeholder="').concat(r,'">')),c=e.t("traitManager.traits.attributes.".concat(n))||{},l.attr(c),Object(u.isUndefined)(a)||(t.set({value:a},{silent:!0}),l.prop("value",a)),o&&l.prop("min",o),s&&l.prop("max",s),this.$input=l),this.$input.get(0)},getInputElem:function(){var e=this.input,t=this.$input;return e||t&&t.get&&t.get(0)||this.getElInput()},getModelValue:function(){var e,t,n=this.model,r=this.target,i=n.get("name");return t=n.get("changeProp")?r.get(i):(e=r.get("attributes"),n.get("value")||e[i]),Object(u.isUndefined)(t)?"":t},getElInput:function(){return this.elInput},renderField:function(){var e=this.$el,t=this.appendInput,n=this.model,r=e.find("[data-input]"),i=r[r.length-1],o=(o=n.el)||(this.createInput?this.createInput(this.getClbOpts()):this.getInputEl());Object(u.isString)(o)?(i.innerHTML=o,this.elInput=i.firstChild):(t?i.appendChild(o):i.insertBefore(o,i.firstChild),this.elInput=o),n.el=this.elInput},hasLabel:function(){var e=this.model.attributes.label;return!this.noLabel&&!1!==e},rerender:function(){this.model.el=null,this.render()},postUpdate:function(){this.onUpdate(this.getClbOpts())},render:function(){var e=this.$el,t=this.pfx,n=this.ppfx,r=this.model.attributes.type,i=this.hasLabel&&this.hasLabel(),o="".concat(t,"trait");this.$input=null;var s='<div class="'.concat(o,'">\n      ').concat(i?'<div class="'.concat(n,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(n,"field-wrp ").concat(n,"field-wrp--").concat(r,'" data-input>\n        ').concat(this.templateInput?Object(u.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return e.empty().append(s),i&&this.renderLabel(),this.renderField(),this.el.className="".concat(o,"__wrp"),this.postUpdate(),this.onRender(this.getClbOpts()),this}})},"./src/trait_manager/view/TraitsView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/domain_abstract/view/DomainViews.js"),i=n("./src/trait_manager/view/TraitView.js"),o=n("./src/trait_manager/view/TraitSelectView.js"),s=n("./src/trait_manager/view/TraitCheckboxView.js"),a=n("./src/trait_manager/view/TraitNumberView.js"),l=n("./src/trait_manager/view/TraitColorView.js"),c=n("./src/trait_manager/view/TraitButtonView.js");t.default=r.default.extend({ns:"Traits",itemView:i.default,reuseView:1,itemsView:{text:i.default,number:a.default,select:o.default,checkbox:s.default,color:l.default,button:c.default},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.config||{};this.config=n,this.em=t.editor,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.className=this.pfx+"traits";this.listenTo(this.em,"component:toggled",this.updatedCollection),this.updatedCollection()},updatedCollection:function(){var e=this.ppfx,t=this.em.getSelected();this.el.className="".concat(this.className," ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=t?t.get("traits"):[],this.render()}})},"./src/undo_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone-undo/Backbone.Undo.js"),a=n.n(o);function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var n,r,i,o,s={maximumStackLength:500};return{name:"UndoManager",init:function(e){i=l({},0<arguments.length&&void 0!==e?e:{},{},s),n=i.em,this.em=n,(r=new a.a(l({track:!0,register:[]},i))).changeUndoType("change",{condition:!1}),r.changeUndoType("add",{on:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};if(!r.avoidStore)return{object:t,before:void 0,after:e,options:l({},r)}}}),r.changeUndoType("remove",{on:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};if(!r.avoidStore)return{object:t,before:e,after:void 0,options:l({},r)}}});var t={on:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};if(o=o||e.previousAttributes(),!r.avoidStore){var i={object:e,before:o,after:e.toJSON()};return o=null,i}},undo:function(e,t){e.set(t)},redo:function(e,t,n){e.set(n)}};return["style","attributes","content","src"].forEach(function(e){return r.addUndoType("change:".concat(e),t)}),r.on("undo redo",function(){return n.trigger("component:toggled change:canvasOffset")}),["undo","redo"].forEach(function(e){return r.on(e,function(){return n.trigger(e)})}),this},getConfig:function(){return i},add:function(e){return r.register(e),this},remove:function(e){return r.unregister(e),this},removeAll:function(){return r.unregisterAll(),this},start:function(){return r.startTracking(),this},stop:function(){return r.stopTracking(),this},undo:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return n.isEditing()||r.undo(t),this},undoAll:function(){return r.undoAll(),this},redo:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return n.isEditing()||r.redo(t),this},redoAll:function(){return r.redoAll(),this},hasUndo:function(){return r.isAvailable("undo")},hasRedo:function(){return r.isAvailable("redo")},getStack:function(){return r.stack},getStackGroup:function(){var n=[],r=[];return this.getStack().forEach(function(e){var t=e.get("magicFusionIndex");r.indexOf(t)<0&&(r.push(t),n.push(e))}),n},getPointer:function(){return this.getStack().pointer},clear:function(){return r.clear(),this},getInstance:function(){return r}}}},"./src/utils/ColorPicker.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),H=n.n(r);t.default=function(Ie,Fe){var e,$e={beforeShow:n,move:n,change:n,show:n,hide:n,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},Re=[],ze=!!/msie/i.exec(window.navigator.userAgent),Ve=((e=document.createElement("div").style).cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")),He=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Be=function(){var e="";if(ze)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function t(e,t){return!!~(""+e).indexOf(t)}function Ue(e,t,n,r){for(var i=[],o=0;o<e.length;o++){var s,a,l,c,u=e[o];u?(a=(s=Ke(u)).toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",a+=Ke.equals(t,u)?" sp-thumb-active":"",l=s.toString(r.preferredFormat||"rgb"),c=Ve?"background-color:"+s.toRgbString():"filter:"+s.toFilter(),i.push('<span title="'+l+'" data-color="'+s.toRgbString()+'" class="'+a+'"><span class="sp-thumb-inner" style="'+c+';"></span></span>')):i.push(Ie("<div />").append(Ie('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}return"<div class='sp-cf "+n+"'>"+i.join("")+"</div>"}function o(e,t){var n,r,i,o,s,a,l,p=(s=t,a=e,(l=Ie.extend({},$e,s)).callbacks={move:We(l.move,a),change:We(l.change,a),show:We(l.show,a),hide:We(l.hide,a),beforeShow:We(l.beforeShow,a)},l),g=p.flat,c=p.showSelectionPalette,u=p.localStorageKey,d=p.theme,f=p.callbacks,h=(n=Me,function(){var e=this,t=arguments;i&&clearTimeout(o),!i&&o||(o=setTimeout(function(){o=null,n.apply(e,t)},r))}),m=!(r=10),v=!1,y=0,b=0,w=0,x=0,C=0,j=0,S=0,k=0,O=0,_=0,T=1,E=[],P=[],D={},A=p.selectionPalette.slice(0),M=p.maxSelectionSize,L="sp-dragging",N=null,I=e.ownerDocument,F=(I.body,Ie(e)),$=!1,R=Ie(Be,I).addClass(d),z=R.find(".sp-picker-container"),V=R.find(".sp-color"),H=R.find(".sp-dragger"),B=R.find(".sp-hue"),U=R.find(".sp-slider"),q=R.find(".sp-alpha-inner"),W=R.find(".sp-alpha"),G=R.find(".sp-alpha-handle"),Y=R.find(".sp-input"),K=R.find(".sp-palette"),X=R.find(".sp-initial"),Q=R.find(".sp-cancel"),Z=R.find(".sp-clear"),J=R.find(".sp-choose"),ee=R.find(".sp-palette-toggle"),te=F.is("input"),ne=te&&"color"===F.attr("type")&&Ye(),re=te&&!g,ie=re?Ie(He).addClass(d).addClass(p.className).addClass(p.replacerClassName):Ie([]),oe=re?ie:F,se=ie.find(".sp-preview-inner"),ae=p.color||te&&F.val(),le=!1,ce=p.preferredFormat,ue=!p.showButtons||p.clickoutFiresChange,de=!ae,fe=p.allowEmpty&&!ne;function he(){if(p.showPaletteOnly&&(p.showPalette=!0),ee.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),p.palette){E=p.palette.slice(0),P=Ie.isArray(E[0])?E:[E],D={};for(var e=0;e<P.length;e++)for(var t=0;t<P[e].length;t++){var n=Ke(P[e][t]).toRgbString();D[n]=!0}}R.toggleClass("sp-flat",g),R.toggleClass("sp-input-disabled",!p.showInput),R.toggleClass("sp-alpha-enabled",p.showAlpha),R.toggleClass("sp-clear-enabled",fe),R.toggleClass("sp-buttons-disabled",!p.showButtons),R.toggleClass("sp-palette-buttons-disabled",!p.togglePaletteOnly),R.toggleClass("sp-palette-disabled",!p.showPalette),R.toggleClass("sp-palette-only",p.showPaletteOnly),R.toggleClass("sp-initial-disabled",!p.showInitial),R.addClass(p.className).addClass(p.containerClassName),Me()}function pe(){if(u&&window.localStorage){try{var e=window.localStorage[u].split(",#");1<e.length&&(delete window.localStorage[u],Ie.each(e,function(e,t){ge(t)}))}catch(e){}try{A=window.localStorage[u].split(";")}catch(e){}}}function ge(e){if(c){var t=Ke(e).toRgbString();if(!D[t]&&-1===Ie.inArray(t,A))for(A.push(t);A.length>M;)A.shift();if(u&&window.localStorage)try{window.localStorage[u]=A.join(";")}catch(e){}}}function me(){var n=Te(),e=Ie.map(P,function(e,t){return Ue(e,n,"sp-palette-row sp-palette-row-"+t,p)});pe(),A&&e.push(Ue(function(){var e=[];if(p.showPalette)for(var t=0;t<A.length;t++){var n=Ke(A[t]).toRgbString();D[n]||e.push(A[t])}return e.reverse().slice(0,p.maxSelectionSize)}(),n,"sp-palette-row sp-palette-row-selection",p)),K.html(e.join(""))}function ve(){var e,t;p.showInitial&&(e=le,t=Te(),X.html(Ue([e,t],t,"sp-palette-row-initial",p)))}function ye(){(b<=0||y<=0||x<=0)&&Me(),v=!0,R.addClass(L),N=null,F.trigger("dragstart.spectrum",[Te()])}function be(){v=!1,R.removeClass(L),F.trigger("dragstop.spectrum",[Te()])}function we(){var e,t=Y.val();null!==t&&""!==t||!fe?(e=Ke(t)).isValid()?(_e(e),Ae(!0)):Y.addClass("sp-validation-error"):(_e(null),Ae(!0))}function xe(){(m?ke:Ce)()}function Ce(){var e,t=Ie.Event("beforeShow.spectrum");m?Me():(F.trigger("beforeShow.spectrum",[Te()]),!1===f.beforeShow(Te())||t.isDefaultPrevented()||(function(){for(var e=0;e<Re.length;e++)Re[e]&&Re[e].hide()}(),m=!0,(e=Ie(I)).bind("keydown.spectrum",je),e.bind("click.spectrum",Se),Ie(window).bind("resize.spectrum",h),ie.addClass("sp-active"),R.removeClass("sp-hidden"),Me(),Pe(),le=Te(),ve(),f.show(le),F.trigger("show.spectrum",[le])))}function je(e){27===e.keyCode&&ke()}function Se(e){2!=e.button&&(v||(ue?Ae(!0):Oe(),ke()))}function ke(){m&&!g&&(m=!1,Ie(I).unbind("keydown.spectrum",je),Ie(I).unbind("click.spectrum",Se),Ie(window).unbind("resize.spectrum",h),ie.removeClass("sp-active"),R.addClass("sp-hidden"),f.hide(Te()),F.trigger("hide.spectrum",[Te()]))}function Oe(){_e(le,!0)}function _e(e,t){var n,r;Ke.equals(e,Te())?Pe():(!e&&fe?de=!0:(de=!1,r=(n=Ke(e)).toHsv(),k=r.h%360/360,O=r.s,_=r.v,T=r.a),Pe(),n&&n.isValid()&&!t&&(ce=p.preferredFormat||n.getFormat()))}function Te(e){return e=e||{},fe&&de?null:Ke.fromRatio({h:k,s:O,v:_,a:Math.round(100*T)/100},{format:e.format||ce})}function Ee(){Pe(),f.move(Te()),F.trigger("move.spectrum",[Te()])}function Pe(){Y.removeClass("sp-validation-error"),De();var e=Ke.fromRatio({h:k,s:1,v:1});V.css("background-color",e.toHexString());var t=ce;T<1&&(0!==T||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n,r,i,o,s,a=Te({format:t}),l="";se.removeClass("sp-clear-display"),se.css("background-color","transparent"),!a&&fe?se.addClass("sp-clear-display"):(n=a.toHexString(),r=a.toRgbString(),Ve||1===a.alpha?se.css("background-color",r):(se.css("background-color","transparent"),se.css("filter",a.toFilter())),p.showAlpha&&((i=a.toRgb()).a=0,s="linear-gradient(left, "+(o=Ke(i).toRgbString())+", "+n+")",ze?q.css("filter",Ke(o).toFilter({gradientType:1},n)):(q.css("background","-webkit-"+s),q.css("background","-moz-"+s),q.css("background","-ms-"+s),q.css("background","linear-gradient(to right, "+o+", "+n+")"))),l=a.toString(t)),p.showInput&&Y.val(l),p.showPalette&&me(),ve()}function De(){var e,t,n,r,i=O,o=_;fe&&de?(G.hide(),U.hide(),H.hide()):(G.show(),U.show(),H.show(),e=i*y,t=b-o*b,e=Math.max(-w,Math.min(y-w,e-w)),t=Math.max(-w,Math.min(b-w,t-w)),H.css({top:t+"px",left:e+"px"}),n=T*C,G.css({left:n-j/2+"px"}),r=k*x,U.css({top:r-S+"px"}))}function Ae(e){var t=Te(),n="",r=!Ke.equals(t,le);t&&(n=t.toString(ce),ge(t)),te&&F.val(n),e&&r&&(f.change(t),F.trigger("change",[t]))}function Me(){var e,t,n,r,i,o,s,a,l,c,u,d,f,h;m&&(y=V.width(),b=V.height(),w=H.height(),B.width(),x=B.height(),S=U.height(),C=W.width(),j=G.width(),g||(R.css("position","absolute"),p.offset?R.offset(p.offset):R.offset((t=oe,n=(e=R).outerWidth(),r=e.outerHeight(),i=t.outerHeight(),o=e[0].ownerDocument,s=o.documentElement,a=s.clientWidth,l=s.clientHeight,c=Ie(o).scrollLeft(),u=Ie(o).scrollTop(),d=a+c,f=l+u,(h=t.offset()).top+=i,h.left-=Math.min(h.left,h.left+n>d&&n<d?Math.abs(h.left+n-d):0),h.top-=Math.min(h.top,h.top+r>f&&r<f?Math.abs(+(r+i)):0),h))),De(),p.showPalette&&me(),F.trigger("reflow.spectrum"))}function Le(){ke(),$=!0,F.attr("disabled",!0),oe.addClass("sp-disabled")}!function(){var e;function t(e){return e.data&&e.data.ignore?(_e(Ie(e.target).closest(".sp-thumb-el").data("color")),Ee()):(_e(Ie(e.target).closest(".sp-thumb-el").data("color")),Ee(),Ae(!0),p.hideAfterPaletteSelect&&ke()),!1}ze&&R.find("*:not(input)").attr("unselectable","on"),he(),re&&F.after(ie).hide(),fe||Z.hide(),g?F.after(R).hide():(1!==(e="parent"===p.appendTo?F.parent():Ie(p.appendTo)).length&&(e=Ie("body")),e.append(R)),pe(),oe.bind("click.spectrum touchstart.spectrum",function(e){$||xe(),e.stopPropagation(),Ie(e.target).is("input")||e.preventDefault()}),!F.is(":disabled")&&!0!==p.disabled||Le(),R.click(qe),Y.change(we),Y.bind("paste",function(){setTimeout(we,1)}),Y.keydown(function(e){13==e.keyCode&&we()}),Q.text(p.cancelText),Q.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Oe(),ke()}),Z.attr("title",p.clearText),Z.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),de=!0,Ee(),g&&Ae(!0)}),J.text(p.chooseText),J.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),ze&&Y.is(":focus")&&Y.trigger("change"),Y.hasClass("sp-validation-error")||(Ae(!0),ke())}),ee.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),ee.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),p.showPaletteOnly=!p.showPaletteOnly,p.showPaletteOnly||g||R.css("left","-="+(z.outerWidth(!0)+5)),he()}),Ge(W,function(e,t,n){T=e/C,de=!1,n.shiftKey&&(T=Math.round(10*T)/10),Ee()},ye,be),Ge(B,function(e,t){k=parseFloat(t/x),de=!1,p.showAlpha||(T=1),Ee()},ye,be),Ge(V,function(e,t,n){var r,i,o;n.shiftKey?N||(r=O*y,i=b-_*b,o=Math.abs(e-r)>Math.abs(t-i),N=o?"x":"y"):N=null;var s=!N||"y"===N;N&&"x"!==N||(O=parseFloat(e/y)),s&&(_=parseFloat((b-t)/b)),de=!1,p.showAlpha||(T=1),Ee()},ye,be),ae?(_e(ae),Pe(),ce=p.preferredFormat||Ke(ae).format,ge(ae)):Pe(),g&&Ce();var n=ze?"mousedown.spectrum":"click.spectrum touchstart.spectrum";K.delegate(".sp-thumb-el",n,t),X.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},t)}();var Ne={show:Ce,hide:ke,toggle:xe,reflow:Me,option:function(e,t){return e===Fe?Ie.extend({},p):t===Fe?p[e]:(p[e]=t,"preferredFormat"===e&&(ce=p.preferredFormat),void he())},enable:function(){$=!1,F.attr("disabled",!1),oe.removeClass("sp-disabled")},disable:Le,offset:function(e){p.offset=e,Me()},set:function(e){_e(e),Ae()},get:Te,destroy:function(){F.show(),oe.unbind("click.spectrum touchstart.spectrum"),R.remove(),ie.remove(),Re[Ne.id]=null},container:R};return Ne.id=Re.push(Ne)-1,Ne}function n(){}function qe(e){e.stopPropagation()}function We(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function Ge(s,a,t,e){a=a||function(){},t=t||function(){},e=e||function(){};var l=document,c=!1,u={},d=0,f=0,h="ontouchstart"in window,n={};function p(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function r(e){if(c){if(ze&&l.documentMode<9&&!e.button)return g();var t=e&&e.touches&&e.touches[0],n=t&&t.pageX||e.pageX,r=t&&t.pageY||e.pageY,i=Math.max(0,Math.min(n-u.left,f)),o=Math.max(0,Math.min(r-u.top,d));h&&p(e),a.apply(s,[i,o,e])}}function g(){c&&(Ie(l).unbind(n),Ie(l.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(s,arguments)},0)),c=!1}n.selectstart=p,n.dragstart=p,n["touchmove mousemove"]=r,n["touchend mouseup"]=g,Ie(s).bind("touchstart mousedown",function(e){(e.which?3==e.which:2==e.button)||c||!1!==t.apply(s,arguments)&&(c=!0,d=Ie(s).height(),f=Ie(s).width(),u=Ie(s).offset(),Ie(l).bind(n),Ie(l.body).addClass("sp-dragging"),r(e),p(e))})}function Ye(){return Ie.fn.spectrum.inputTypeColorSupport()}var s="spectrum.id";Ie.fn.spectrum=function(n,e){if("string"!=typeof n)return this.spectrum("destroy").each(function(){var e=o(this,Ie.extend({},n,Ie(this).data()));Ie(this).data(s,e.id)});var r=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=Re[Ie(this).data(s)];if(e){var t=e[n];if(!t)throw new Error("Spectrum: no such method: '"+n+"'");"get"==n?r=e.get():"container"==n?r=e.container:"option"==n?r=e.option.apply(e,i):"destroy"==n?(e.destroy(),Ie(this).removeData(s)):t.apply(e,i)}}),r},Ie.fn.spectrum.load=!0,Ie.fn.spectrum.loadOpts={},Ie.fn.spectrum.draggable=Ge,Ie.fn.spectrum.defaults=$e,Ie.fn.spectrum.inputTypeColorSupport=function e(){var t;return void 0===e._cachedResult&&(t=Ie("<input type='color'/>")[0],e._cachedResult="color"===t.type&&""!==t.value),e._cachedResult},Ie.spectrum={},Ie.spectrum.localization={},Ie.spectrum.palettes={},Ie.fn.spectrum.processNativeColorInputs=function(){var e=Ie("input[type=color]");e.length&&!Ye()&&e.spectrum({preferredFormat:"hex6"})};var a=/^[\s,#]+/,l=/\s+$/,i=0,c=Math,u=c.round,d=c.min,f=c.max,r=c.random,Ke=function e(t,n){if(n=n||{},(t=t||"")instanceof e)return t;if(!(this instanceof e))return new e(t,n);var r=function(e){var t={r:0,g:0,b:0},n=1,r=!1,i=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(l,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=V.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=V.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=V.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=V.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=V.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=V.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=V.hex8.exec(e))return{a:function(e){return N(e)/255}(t[1]),r:N(t[2]),g:N(t[3]),b:N(t[4]),format:n?"name":"hex8"};if(t=V.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:n?"name":"hex"};if(t=V.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==H()(e)&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=function(e,t,n){return{r:255*M(e,255),g:255*M(t,255),b:255*M(n,255)}}(e.r,e.g,e.b),r=!0,i="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=F(e.s),e.v=F(e.v),t=function(e,t,n){e=6*M(e,360),t=M(t,100),n=M(n,100);var r=c.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(e.h,e.s,e.v),r=!0,i="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=F(e.s),e.l=F(e.l),t=function(e,t,n){var r,i,o;function s(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}{var a,l;e=M(e,360),t=M(t,100),n=M(n,100),0===t?r=i=o=n:(r=s(l=2*n-(a=n<.5?n*(1+t):n+t-n*t),a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3))}return{r:255*r,g:255*i,b:255*o}}(e.h,e.s,e.l),r=!0,i="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=A(n),{ok:r,format:e.format||i,r:d(255,f(t.r,0)),g:d(255,f(t.g,0)),b:d(255,f(t.b,0)),a:n}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=u(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=r.ok,this._tc_id=i++};function h(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i=f(e,t,n),o=d(e,t,n),s=(i+o)/2;if(i==o)r=l=0;else{var a=i-o,l=.5<s?a/(2-i-o):a/(i+o);switch(i){case e:r=(t-n)/a+(t<n?6:0);break;case t:r=(n-e)/a+2;break;case n:r=(e-t)/a+4}r/=6}return{h:r,s:l,l:s}}function p(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i=f(e,t,n),o=d(e,t,n),s=i,a=i-o,l=0===i?0:a/i;if(i==o)r=0;else{switch(i){case e:r=(t-n)/a+(t<n?6:0);break;case t:r=(n-e)/a+2;break;case n:r=(e-t)/a+4}r/=6}return{h:r,s:l,v:s}}function g(e,t,n,r){var i=[I(u(e).toString(16)),I(u(t).toString(16)),I(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,n,r){var i;return[I((i=r,Math.round(255*parseFloat(i)).toString(16))),I(u(e).toString(16)),I(u(t).toString(16)),I(u(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.s-=t/100,n.s=L(n.s),Ke(n)}function y(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.s+=t/100,n.s=L(n.s),Ke(n)}function b(e){return Ke(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.l+=t/100,n.l=L(n.l),Ke(n)}function x(e,t){t=0===t?0:t||10;var n=Ke(e).toRgb();return n.r=f(0,d(255,n.r-u(-t/100*255))),n.g=f(0,d(255,n.g-u(-t/100*255))),n.b=f(0,d(255,n.b-u(-t/100*255))),Ke(n)}function C(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.l-=t/100,n.l=L(n.l),Ke(n)}function j(e,t){var n=Ke(e).toHsl(),r=(u(n.h)+t)%360;return n.h=r<0?360+r:r,Ke(n)}function S(e){var t=Ke(e).toHsl();return t.h=(t.h+180)%360,Ke(t)}function k(e){var t=Ke(e).toHsl(),n=t.h;return[Ke(e),Ke({h:(n+120)%360,s:t.s,l:t.l}),Ke({h:(n+240)%360,s:t.s,l:t.l})]}function O(e){var t=Ke(e).toHsl(),n=t.h;return[Ke(e),Ke({h:(n+90)%360,s:t.s,l:t.l}),Ke({h:(n+180)%360,s:t.s,l:t.l}),Ke({h:(n+270)%360,s:t.s,l:t.l})]}function _(e){var t=Ke(e).toHsl(),n=t.h;return[Ke(e),Ke({h:(n+72)%360,s:t.s,l:t.l}),Ke({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=Ke(e).toHsl(),i=360/n,o=[Ke(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(Ke(r));return o}function E(e,t){t=t||6;for(var n=Ke(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(Ke({h:r,s:i,v:o})),o=(o+a)%1;return s}Ke.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=A(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return m(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*M(this._r,255))+"%",g:u(100*M(this._g,255))+"%",b:u(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*M(this._r,255))+"%, "+u(100*M(this._g,255))+"%, "+u(100*M(this._b,255))+"%)":"rgba("+u(100*M(this._r,255))+"%, "+u(100*M(this._g,255))+"%, "+u(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&D[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";return e&&(n=Ke(e).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&0<=this._a;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(j,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},Ke.fromRatio=function(e,t){if("object"==H()(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:F(e[r]));e=n}return Ke(e,t)},Ke.equals=function(e,t){return!(!e||!t)&&Ke(e).toRgbString()==Ke(t).toRgbString()},Ke.random=function(){return Ke.fromRatio({r:r(),g:r(),b:r()})},Ke.mix=function(e,t,n){n=0===n?0:n||50;var r=Ke(e).toRgb(),i=Ke(t).toRgb(),o=n/100,s=2*o-1,a=i.a-r.a,l=s*a==-1?s:(s+a)/(1+s*a),c=1-(l=(l+1)/2),u={r:i.r*l+r.r*c,g:i.g*l+r.g*c,b:i.b*l+r.b*c,a:i.a*o+r.a*(1-o)};return Ke(u)},Ke.readability=function(e,t){var n=Ke(e),r=Ke(t),i=n.toRgb(),o=r.toRgb(),s=n.getBrightness(),a=r.getBrightness(),l=Math.max(i.r,o.r)-Math.min(i.r,o.r)+Math.max(i.g,o.g)-Math.min(i.g,o.g)+Math.max(i.b,o.b)-Math.min(i.b,o.b);return{brightness:Math.abs(s-a),color:l}},Ke.isReadable=function(e,t){var n=Ke.readability(e,t);return 125<n.brightness&&500<n.color},Ke.mostReadable=function(e,t){for(var n=null,r=0,i=!1,o=0;o<t.length;o++){var s=Ke.readability(e,t[o]),a=125<s.brightness&&500<s.color,l=s.brightness/125*3+s.color/500;(a&&!i||a&&i&&r<l||!a&&!i&&r<l)&&(i=a,r=l,n=Ke(t[o]))}return n};var P=Ke.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=Ke.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(P);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function M(e,t){var n;"string"==typeof(n=e)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var r,i="string"==typeof(r=e)&&-1!=r.indexOf("%");return e=d(t,f(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),c.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function L(e){return d(1,f(0,e))}function N(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}var $,R,z,V=(R="[\\s|\\(]+("+($="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?",z="[\\s|\\(]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?",{rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+z),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=Ke,Ie(function(){Ie.fn.spectrum.load&&Ie.fn.spectrum.processNativeColorInputs()})}},"./src/utils/Dragger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return d});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(o),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(a),v=n("./node_modules/underscore/underscore.js"),c=n("./src/utils/mixins.js");function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b=function(){return{x:0,y:0}},d=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},Object(v.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(e),this.delta=b(),this}return l()(t,[{key:"setOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.opts=y({},this.opts,{},t)}},{key:"toggleDrag",value:function(e){var t=this.getDocumentEl(),n=this.getContainerEl(),r=this.getWindowEl(),i=e?"on":"off",o={on:c.on,off:c.off};o[i](n,"mousemove dragover",this.drag),o[i](t,"mouseup dragend touchend",this.stop),o[i](t,"keydown",this.keyHandle),o[i](r,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.lastScroll,t=this.delta,n=this.getScrollInfo(),r={x:n.x-e.x,y:n.y-e.y};this.move(t.x+r.x,t.y+r.y),this.lastScrollDiff=r}},{key:"start",value:function(e){var t=this.opts,n=t.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(e),this.guidesStatic=Object(v.result)(t,"guidesStatic")||[],this.guidesTarget=Object(v.result)(t,"guidesTarget")||[],Object(v.isFunction)(n)&&n(e,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=b(),this.globScrollDiff=b(),this.drag(e)}},{key:"drag",value:function(e){var n=this,r=this.opts,t=this.lastScrollDiff,i=this.globScrollDiff,o=r.onDrag,s=this.startPointer,a=this.getPointerPos(e),l={x:i.x+t.x,y:i.y+t.y};this.globScrollDiff=l;var c={x:a.x-s.x+l.x,y:a.y-s.y+l.y};this.lastScrollDiff=b();var u=this.lockedAxis;"x"===(u=e.shiftKey?!u&&this.detectAxisLock(c.x,c.y):null)?c.x=s.x:"y"===u&&(c.y=s.y);function d(t){["x","y"].forEach(function(e){return t[e]=t[e]*Object(v.result)(r,"scale")}),n.delta=t,n.move(t.x,t.y),Object(v.isFunction)(o)&&o(e,n)}var f,h,p,g,m=y({},c);this.currentPointer=a,this.lockedAxis=u,this.lastScroll=this.getScrollInfo(),d(c),this.guidesTarget.length&&(h=(f=this.snapGuides(m)).newDelta,p=f.trgX,g=f.trgY,(p||g)&&d(h)),0===e.which&&this.stop(e)}},{key:"snapGuides",value:function(c){var u=this,r=c,d=this.trgX,f=this.trgY;return this.guidesTarget.forEach(function(l){l.x&&u.trgX||l.y&&u.trgY||(l.active=0,u.guidesStatic.forEach(function(e){var t,n,r,i,o,s,a;l.y&&e.x||l.x&&e.y||(t=l.y&&e.y,r=l[n=t?"y":"x"],i=e[n],o=c[n],s=t?f:d,u.isPointIn(r,i)&&Object(v.isUndefined)(s)&&(a=o-(r-i),u.setGuideLock(l,a)))}))}),d=this.trgX,f=this.trgY,["x","y"].forEach(function(e){var t=e.toUpperCase(),n=u["trg".concat(t)];n&&!u.isPointIn(c[e],n.lock)&&(u.setGuideLock(n,null),n=null),n&&!Object(v.isUndefined)(n.lock)&&(r[e]=n.lock)}),{newDelta:r,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(e,t,n){var r=(2<arguments.length&&void 0!==n?n:{}).offset||this.opts.snapOffset;return t<=e&&e<=t+r||e<=t&&t-r<=e}},{key:"setGuideLock",value:function(e,t){var n=Object(v.isUndefined)(e.x)?"Y":"X",r="trg".concat(n);return null!==t?(e.active=1,e.lock=t,this[r]=e):(delete e.active,delete e.lock,delete this[r]),e}},{key:"stop",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.delta,i=n.cancel,o=i?0:r.x,s=i?0:r.y;this.toggleDrag(),this.lockedAxis=null,this.move(o,s,1);var a=this.opts.onEnd;Object(v.isFunction)(a)&&a(e,this,{cancelled:i})}},{key:"keyHandle",value:function(e){Object(c.isEscKey)(e)&&this.stop(e,{cancel:1})}},{key:"move",value:function(e,t,n){var r,i,o,s=this.el,a=this.opts,l=this.startPosition;l&&(r=a.setPosition,i=l.x+e,o=l.y+t,this.position={x:i,y:o,end:n},Object(v.isFunction)(r)&&r(this.position),s&&(s.style.left="".concat(i,"px"),s.style.top="".concat(o,"px")))}},{key:"getContainerEl",value:function(){var e=this.opts.container;return e?[e]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow})}},{key:"getDocumentEl",value:function(e){var t,n=this.opts.doc;return e=e||this.el,this.docs||(t=[document],e&&t.push(e.ownerDocument),n&&t.push(n),this.docs=t),this.docs}},{key:"getPointerPos",value:function(e){var t=this.opts.getPointerPosition,n=Object(c.getPointerEvent)(e);return t?t(e):{x:n.clientX,y:n.clientY}}},{key:"getStartPosition",value:function(){var e=this.el,t=this.opts.getPosition,n=b();return Object(v.isFunction)(t)?n=t():e&&(n={x:parseFloat(e.style.left),y:parseFloat(e.style.top)}),n}},{key:"getScrollInfo",value:function(){var e=this.opts.doc,t=e&&e.body;return{y:t?t.scrollTop:0,x:t?t.scrollLeft:0}}},{key:"detectAxisLock",value:function(e,t){var n=e,r=t,i=Math.abs(n),o=Math.abs(r);return i<=r||r<=-i?"x":o<n||n<-o?"y":void 0}}]),t}()},"./src/utils/Droppable.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),l=n("./src/utils/mixins.js"),d=n("./node_modules/underscore/underscore.js"),o=function(){function o(e,t){var n=this;s()(this,o),this.em=e;var r=t||e.get("Canvas").getFrames().map(function(e){return e.get("root").getEl()}),i=Array.isArray(r)?r:[r];return this.el=r,this.counter=0,Object(d.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),i.forEach(function(e){return n.toggleEffects(e,1)}),this}return a()(o,[{key:"toggleEffects",value:function(e,t){var n={on:l.on,off:l.off},r=t?"on":"off";n[r](e,"dragenter",this.handleDragEnter),n[r](e,"dragover",this.handleDragOver),n[r](e,"drop",this.handleDrop),n[r](e,"dragleave",this.handleDragLeave)}},{key:"endDrop",value:function(e,t){var n=this.em,r=this.dragStop;this.counter=0,this.over=0,r&&r(e),n.runDefault({preserveSelected:1}),n.trigger("canvas:dragend",t)}},{key:"handleDragLeave",value:function(e){this.updateCounter(-1,e)}},{key:"updateCounter",value:function(e,t){this.counter+=e,0===this.counter&&this.endDrop(1,t)}},{key:"handleDragEnter",value:function(t){var e,n,r,l,c,u,i,o,s,a,d=this,f=this.em,h=t.dataTransfer;this.updateCounter(1,t),this.over||(this.over=1,e=f.get("Utils"),r=(n=f.get("Canvas")).getBody(),l=f.get("dragContent")||"<br>",f.stopDefault(),s=f.inAbsoluteMode()?(c=f.get("DomComponents").getWrapper(),u=c.append({})[0],i=f.get("Commands").run("core:component-drag",{event:t,guidesInfo:1,center:1,target:u,onEnd:function(e,t,n){var r,i,o,s,a;n.cancelled||(r=c.append(l)[0],o=(i=u.getStyle()).left,s=i.top,a=i.position,r.addStyle({left:o,top:s,position:a}),d.handleDragEnd(r,h)),u.remove()}}),o=function(e){return i.stop(t,{cancel:e})},function(e){return l=e}):((a=new e.Sorter({em:f,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:r,placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(e){return d.handleDragEnd(e,h)},document:n.getFrameEl().contentDocument})).setDropContent(l),a.startSort(),this.sorter=a,o=function(e){e&&(a.moved=0),a.endMove()},function(e){return a.setDropContent(e)}),this.dragStop=o,this.dragContent=s,f.trigger("canvas:dragenter",h,l))}},{key:"handleDragEnd",value:function(e,t){var n;e&&((n=this.em).set("dragResult",e),n.trigger("canvas:drop",t,e))}},{key:"handleDragOver",value:function(e){e.preventDefault(),this.em.trigger("canvas:dragover",e)}},{key:"handleDrop",value:function(e){e.preventDefault();var t=this.dragContent,n=e.dataTransfer,r=this.getContentByData(n).content;e.target.style.border="",r&&t&&t(r),this.endDrop(!r,e)}},{key:"getContentByData",value:function(e){var t,n=this.em,r=e.types,i=e.files||[],o=n.get("dragContent"),s=e.getData("text");if(i.length){s=[];for(var a=0;a<i.length;a++){var l=i[a],c=l.type.split("/")[0];"image"==c&&s.push({type:c,file:l,attributes:{alt:l.name}})}}else{o?s=o:0<=Object(d.indexOf)(r,"text/html")?s=e.getData("text/html").replace(/<\/?meta[^>]*>/g,""):0<=Object(d.indexOf)(r,"text/uri-list")?s={type:"link",attributes:{href:s},content:s}:0<=Object(d.indexOf)(r,"text/json")&&((t=e.getData("text/json"))&&(s=JSON.parse(t)))}var u={content:s};return n.trigger("canvas:dragdata",e,u),u}}]),o}()},"./src/utils/Resizer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(r),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(i),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(a),d=n("./node_modules/underscore/underscore.js"),g=n("./src/utils/mixins.js");function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var u={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:32,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},f=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o()(this,t),this.setOptions(e),Object(d.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return l()(t,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.opts=Object(d.defaults)(t,u),this.setup()}},{key:"setup",value:function(){var i=this.opts,e=i.prefix||"",t=i.appendTo||document.body,n=this.container;for(n||((n=document.createElement("div")).className="".concat(e,"resizer-c"),t.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var o={};for(var r in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(e){return o[e]=i[e]?(t=e,n=i.prefix||"",(r=document.createElement("i")).className=n+"resizer-h "+n+"resizer-h-"+t,r.setAttribute("data-"+n+"handler",t),r):"";var t,n,r}),o){var s=o[r];s&&n.appendChild(s)}this.handlers=o,this.mousePosFetcher=i.mousePosFetcher,this.updateTarget=i.updateTarget,this.posFetcher=i.posFetcher,this.onStart=i.onStart,this.onMove=i.onMove,this.onEnd=i.onEnd,this.onUpdateContainer=i.onUpdateContainer}},{key:"toggleFrames",value:function(t){var e;this.opts.silentFrames&&(e=document.querySelectorAll("iframe"),Object(d.each)(e,function(e){return e.style.pointerEvents=t?"none":""}))}},{key:"isHandler",value:function(e){var t=this.handlers;for(var n in t)if(t[n]===e)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(e,t){var n,r,i,o=1<arguments.length&&void 0!==t?t:{},s=this.posFetcher||"";return s?s(e,o):(r=n||window,{left:(i=e.getBoundingClientRect()).left+r.pageXOffset,top:i.top+r.pageYOffset,width:i.width,height:i.height})}},{key:"focus",value:function(e){e&&e===this.el||(this.el=e,this.updateContainer({forceShow:1}),Object(g.on)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&(Object(g.off)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(e){var t,n,r,i,o;0===e.button&&(e.preventDefault(),e.stopPropagation(),t=this.el,r="data-"+(n=this.opts||{}).prefix+"handler",i=this.getElementPos(t,{target:"el"}),this.handlerAttr=e.target.getAttribute(r),this.clickedHandler=e.target,this.startDim={t:i.top,l:i.left,w:i.width,h:i.height},this.rectDim={t:i.top,l:i.left,w:i.width,h:i.height},this.startPos={x:e.clientX,y:e.clientY},o=this.getDocumentEl(),Object(g.on)(o,"mousemove",this.move),Object(g.on)(o,"keydown",this.handleKeyDown),Object(g.on)(o,"mouseup",this.stop),Object(d.isFunction)(this.onStart)&&this.onStart(e,{docs:o,config:n,el:t,resizer:this}),this.toggleFrames(1),this.move(e))}},{key:"move",value:function(e){var t=this.onMove,n=this.mousePosFetcher,r=n?n(e):{x:e.clientX,y:e.clientY};this.currentPos=r,this.delta={x:r.x-this.startPos.x,y:r.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(0),t&&t(e),0===e.which&&this.stop(e)}},{key:"stop",value:function(e){var t=this.opts,n=this.getDocumentEl();Object(g.off)(n,"mousemove",this.move),Object(g.off)(n,"keydown",this.handleKeyDown),Object(g.off)(n,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),Object(d.isFunction)(this.onEnd)&&this.onEnd(e,{docs:n,config:t})}},{key:"updateRect",value:function(e){var t,n=this.el,r=this.opts,i=this.rectDim,o=this.updateTarget,s=this.getSelectedHandler(),a=r.unitHeight,l=r.unitWidth,c=r.keyWidth,u=r.keyHeight;Object(d.isFunction)(o)?o(n,i,{store:e,selectedHandler:s,resizer:this,config:r}):((t=n.style)[c]=i.w+l,t[u]=i.h+a),this.updateContainer()}},{key:"updateContainer",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.opts,r=this.container,i=this.el,o=r.style;!n.avoidContainerUpdate&&i&&t.forceShow&&(o.display="block"),this.onUpdateContainer({el:r,resizer:this,opts:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n,{},t)})}},{key:"getSelectedHandler",value:function(){var e=this.handlers;if(this.selectedHandler)for(var t in e)if(e[t]===this.selectedHandler)return t}},{key:"handleKeyDown",value:function(e){27===e.keyCode&&(this.rectDim=this.startDim,this.stop(e))}},{key:"handleMouseDown",value:function(e){var t=e.target;this.isHandler(t)?(this.selectedHandler=t,this.start(e)):t!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(e){var t,n=this.opts||{},r=n.step,i=this.startDim,o=n.minDim,s=n.maxDim,a=e.delta.x,l=e.delta.y,c=i.w,u=i.h,d={t:0,l:0,w:c,h:u};if(e){var f=e.handlerAttr;~f.indexOf("r")&&(t=Object(g.normalizeFloat)(c+a*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),d.w=t),~f.indexOf("b")&&(t=Object(g.normalizeFloat)(u+l*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),d.h=t),~f.indexOf("l")&&(t=Object(g.normalizeFloat)(c-a*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),d.w=t),~f.indexOf("t")&&(t=Object(g.normalizeFloat)(u-l*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),d.h=t);var h,p=n.ratioDefault?!e.keys.shift:e.keys.shift;return f.indexOf("c")<0&&p&&(h=i.w/i.h,d.w/d.h>h?d.h=Math.round(d.w/h):d.w=Math.round(d.h*h)),~f.indexOf("l")&&(d.l=i.w-d.w),~f.indexOf("t")&&(d.t=i.h-d.h),d}}}]),t}();t.default={init:function(e){return new f(e)}}},"./src/utils/Sorter.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/backbone/backbone.js"),O=n.n(o),g=n("./node_modules/underscore/underscore.js"),_=n("./src/utils/mixins.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E=O.a.$;t.default=O.a.View.extend({initialize:function(e){this.opt=e||{},Object(g.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var t=e||{};this.elT=0,this.elL=0,this.borderOffset=t.borderOffset||10;var n=t.container;this.el="string"==typeof n?document.querySelector(n):n,this.$el=E(this.el),this.containerSel=t.containerSel||"div",this.itemSel=t.itemSel||"div",this.draggable=t.draggable||!0,this.nested=t.nested||0,this.pfx=t.pfx||"",this.ppfx=t.ppfx||"",this.freezeClass=t.freezeClass||this.pfx+"freezed",this.onStart=t.onStart||"",this.onEndMove=t.onEndMove||"",this.direction=t.direction||"v",this.onMoveClb=t.onMove||"",this.relative=t.relative||0,this.ignoreViewChildren=t.ignoreViewChildren||0,this.ignoreModels=t.ignoreModels||0,this.plh=t.placer||"",this.wmargin=t.wmargin||0,this.offTop=t.offsetTop||0,this.offLeft=t.offsetLeft||0,this.document=t.document||document,this.$document=E(this.document),this.dropContent=null,this.em=t.em||"",this.dragHelper=null,this.canvasRelative=t.canvasRelative||0,this.selectOnEnd=!t.avoidSelectOnEnd,this.scale=t.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return Object(g.result)(this,scale)||1},getContainerEl:function(e){var t;return e&&(this.el=e),this.el||(t=this.opt.container,this.el="string"==typeof t?document.querySelector(t):t,this.$el=E(this.el)),this.el},getDocuments:function(e){var t=this.em,n=e?e.ownerDocument:t&&t.get("Canvas").getBody().ownerDocument,r=[document];return n&&r.push(n),r},updateOffset:function(){var e=this.em.get("canvasOffset")||{};this.offTop=e.top,this.offLeft=e.left},setDropContent:function(e){this.dropModel=null,this.dropContent=e},updateTextViewCursorPosition:function(e){var t,n=this.em.get("Canvas"),r=n.getDocument(),i=null;r.caretRangeFromPoint?(t=Object(_.getPointerEvent)(e),i=r.caretRangeFromPoint(t.clientX,t.clientY)):e.rangeParent&&(i=r.createRange()).setStart(e.rangeParent,e.rangeOffset);var o=n.getWindow().getSelection();n.getFrameEl().focus(),o.removeAllRanges(),i&&o.addRange(i)},setContentEditable:function(e,t){var n;!e||(n=e.getEl()).contentEditable!=t&&(n.contentEditable=t)},toggleSortCursor:function(e){var t=this.em,n=t&&t.get("Canvas");n&&(e?n.startAutoscroll():n.stopAutoscroll())},setDragHelper:function(e,t){for(var n=t||"",r=e.cloneNode(1),i=e.getBoundingClientRect(),o=getComputedStyle(e),s="",a=0;a<o.length;a++){var l=o[a];s+="".concat(l,":").concat(o.getPropertyValue(l),";")}document.body.appendChild(r),r.className+=" ".concat(this.pfx,"bdrag"),r.setAttribute("style",s),(this.dragHelper=r).style.width="".concat(i.width,"px"),r.style.height="".concat(i.height,"px"),n&&this.moveDragHelper(n),this.em&&E(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),E(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(e){var t,n,r,i,o,s,a,l=e.target.ownerDocument;this.dragHelper&&l&&(s=e.pageY,a=e.pageX,o=i=0,t=(l.defaultView||l.parentWindow).frameElement,n=this.dragHelper.style,t&&(i=(r=t.getBoundingClientRect()).top+document.documentElement.scrollTop,o=r.left+document.documentElement.scrollLeft,s=e.clientY,a=e.clientX),n.top=s+i+"px",n.left=a+o+"px")},matches:function(e,t){return _.matches.call(e,t)},closest:function(e,t){if(e){for(var n=e.parentNode;n&&1===n.nodeType;){if(this.matches(n,t))return n;n=n.parentNode}return null}},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},createPlaceholder:function(){var e=this.pfx,t=document.createElement("div"),n=document.createElement("div");return t.className=e+"placeholder",t.style.display="none",t.style["pointer-events"]="none",n.className=e+"placeholder-int",t.appendChild(n),t},startSort:function(e,t){var n,r=1<arguments.length&&void 0!==t?t:{},i=this.em,o=this.itemSel,s=this.containerSel,a=this.getContainerEl(r.container),l=this.getDocuments(e),c=this.onStart,u=this.plh;this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,e&&!this.matches(e,"".concat(o,", ").concat(s))&&(e=this.closest(e,o)),this.eV=e,u||(u=this.createPlaceholder(),a.appendChild(u),this.plh=u),e&&((n=this.getSourceModel(e))&&n.set&&n.set("status","freezed"),this.srcModel=n),Object(_.on)(a,"mousemove dragover",this.onMove),Object(_.on)(l,"mouseup dragend touchend",this.endMove),Object(_.on)(l,"keydown",this.rollback),c&&c({target:n,parent:n&&n.parent(),index:n&&n.index()}),i&&i.clearSelection(),this.toggleSortCursor(1),i&&i.trigger("sorter:drag:start",e,n)},getTargetModel:function(e){var t=e||this.target;return E(t).data("model")},getSourceModel:function(e,t){function n(e){return e&&o&&e.opt&&e.opt.avoidChildren&&r.isTextableActive(e,o)}var r=this,i=1<arguments.length&&void 0!==t?t:{},o=i.target,s=i.avoidChildren,a=void 0===s?1:s,l=this.em,c=this.eV,u=e||c,d=this.dropModel,f=this.dropContent;if(f&&l){if(n(d)&&(d=null),!d){var h=l.get("DomComponents").getComponents(),p={avoidChildren:a,avoidStore:1,avoidUpdateStyle:1},g=h.add(f,T({},p,{temporary:1}));if(d=(d=h.remove(g,p))instanceof Array?d[0]:d,n(this.dropModel=d))return this.getSourceModel(u,{target:o,avoidChildren:0})}return d}return u&&E(u).data("model")},selectTargetModel:function(e){var t;e instanceof O.a.Collection||((t=this.targetModel)&&t!==this.srcModel&&t.set("status",""),e&&e.set&&(e.set("status","selected-parent"),this.targetModel=e))},onMove:function(e){var t=e,n=this.em,r=this.onMoveClb,i=this.plh;this.moved=1;var o=i.style.display;o&&"none"!==o||(i.style.display="block");var s=this.offset(this.el);this.elT=this.wmargin?Math.abs(s.top):s.top,this.elL=this.wmargin?Math.abs(s.left):s.left;var a,l=e.pageY-this.elT+this.el.scrollTop,c=e.pageX-this.elL+this.el.scrollLeft;this.canvasRelative&&n&&(c=(a=n.get("Canvas").getMouseRelativeCanvas(e,{noScroll:1})).x,l=a.y),this.rX=c,this.rY=l,this.eventMove=e;var u,d=this.getSourceModel(),f=this.dimsFromTarget(e.target,c,l),h=this.target,p=h&&this.getTargetModel(h);this.selectTargetModel(p),p||(i.style.display="none"),h&&(this.lastDims=f,u=this.findPosition(f,c,l),this.isTextableActive(d,p)?(this.activeTextModel=p,this.setContentEditable(p,!0),i.style.display="none",this.lastPos=u,this.updateTextViewCursorPosition(t)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==u.index&&this.lastPos.method==u.method||(this.movePlaceholder(this.plh,f,u,this.prevTargetDim),this.$plh||(this.$plh=E(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=u)),Object(g.isFunction)(r)&&r({event:e,target:d,parent:p,index:u.index+("after"==u.method?1:0)}),n&&n.trigger("sorter:drag",{target:h,targetModel:p,sourceModel:d,dims:f,pos:u,x:c,y:l}))},isTextableActive:function(e,t){return e&&e.get&&e.get("textable")&&t&&t.is("text")},disableTextable:function(){var e=this.activeTextModel;e&&e.getView().disableEditing()},isInFlow:function(e,t){if(!e)return!1;t=t||document.body;e.offsetHeight;return!!this.styleInFlow(e,t)},styleInFlow:function(e,t){if(!Object(_.isTextNode)(e)){var n=e.style||{},r=E(e),i=t&&E(t);if(!(n.overflow&&"visible"!==n.overflow||"none"!==r.css("float")||i&&"flex"==i.css("display")&&"column"!==i.css("flex-direction"))){switch(n.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(r.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}},validTarget:function(e,t){var n=this.getTargetModel(e),r=this.getSourceModel(t,{target:n}),i={valid:!0,src:t=r&&r.view&&r.view.el,srcModel:r,trg:e=n&&n.view&&n.view.el,trgModel:n};if(!t||!e)return i.valid=!1,i;var o=(o=r.get("draggable"))instanceof Array?o.join(", "):o;i.dragInfo=o,o=Object(g.isString)(o)?this.matches(e,o):o,i.draggable=o;var s=n.get("droppable");return s=(s=s instanceof O.a.Collection?1:s)instanceof Array?s.join(", "):s,i.dropInfo=s,s=Object(g.isString)(s)?this.matches(t,s):s,s=o&&this.isTextableActive(r,n)?1:s,(i.droppable=s)&&o||(i.valid=!1),i},dimsFromTarget:function(e,t,n){var r,i=this.em,o=[];if(!e)return o;if(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e)return o;if(this.prevTarget&&this.prevTarget!=e&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var s=this.validTarget(e);if(i&&i.trigger("sorter:drag:validation",s),!s.valid&&this.targetP)return this.dimsFromTarget(this.targetP,t,n);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}return this.prevTarget==e&&(o=this.cacheDims),this.target=this.prevTarget,!this.nearBorders(this.prevTargetDim,t,n)&&(this.nested||this.cacheDims.length)||(r=this.targetP)&&this.validTarget(r).valid&&(o=this.cacheDimsP,this.target=r),this.lastPos=null,o},getTargetFromEl:function(e){var t,n=e,r=this.targetPrev,i=this.em,o=this.containerSel,s=this.itemSel;if(this.matches(n,"".concat(s,", ").concat(o))||(n=this.closest(n,s)),this.draggable instanceof Array&&(n=this.closest(n,this.draggable.join(","))),r&&r!=n&&(this.targetPrev=""),!this.targetPrev){t=this.closest(n,o);var a=this.validTarget(n);if(i&&i.trigger("sorter:drag:validation",a),!a.valid&&t)return this.getTargetFromEl(t);this.targetPrev=n}return this.nearElBorders(n)&&(t=this.closest(n,o))&&this.validTarget(t).valid&&(n=t),n},nearElBorders:function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.body,r=this.getCurrentPos(),i=r.x,o=r.y,s=t.top+n.scrollTop,a=t.left+n.scrollLeft,l=t.width,c=t.height;if(o<s+10||s+c-10<o||i<a+10||a+l-10<i)return 1},getCurrentPos:function(){var e=this.eventMove;return{x:e.pageX||0,y:e.pageY||0}},getDim:function(e){var t,n,r,i,o,s,a,l,c=this.em;return a=this.canvasRelative&&c?(n=(t=c.get("Canvas")).getElementPos(e,{noScroll:1}),r=t.getElementOffsets(e),i=n.top-r.marginTop,o=n.left-r.marginLeft,s=n.height+r.marginTop+r.marginBottom,n.width+r.marginLeft+r.marginRight):(l=this.offset(e),i=this.relative?e.offsetTop:l.top-(this.wmargin?-1:1)*this.elT,o=this.relative?e.offsetLeft:l.left-(this.wmargin?-1:1)*this.elL,s=e.offsetHeight,e.offsetWidth),[i,o,s,a]},getChildrenDim:function(s){var a=this,l=[];if(!s)return l;var e,t=this.getTargetModel(s);return t&&t.view&&!this.ignoreViewChildren&&(e=t.getCurrentView?t.getCurrentView():t.view,s=e.getChildrenContainer()),Object(g.each)(s.children,function(e,t){var n,r,i=Object(_.getModel)(e,E),o=i&&i.index?i.index():t;(Object(_.isTextNode)(e)||a.matches(e,a.itemSel))&&(n=a.getDim(e),r="v"==(r=a.direction)||"h"!=r&&a.isInFlow(e,s),n.push(r,e,o),l.push(n))}),l},nearBorders:function(e,t,n){var r=0,i=this.borderOffset,o=t||0,s=n||0,a=e[0],l=e[1],c=e[2],u=e[3];return(s<a+i||a+c-i<s||o<l+i||l+u-i<o)&&(r=1),!!r},findPosition:function(e,t,n){for(var r={index:0,indexEl:0,method:"before"},i=0,o=0,s=0,a=0,l=0,c=0,u=0,d=0,f=0,h=e.length;f<h;f++)if(s=(d=e[f])[1]+d[3],u=d[0]+d[2],l=d[1]+d[3]/2,c=d[0]+d[2]/2,!(o&&d[1]>o||a&&a<=c||i&&s<i))if(r.index=f,r.indexEl=d[6],d[4]){if(n<c){r.method="before";break}r.method="after"}else n<u&&(a=u),t<l?(o=l,r.method="before"):(i=l,r.method="after");return r},movePlaceholder:function(e,t,n,r){var i=0,o=0,s=0,a=0,l=n.method,c=t[n.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),c)c[4]?(s=c[3]+"px",a="auto",i="before"==l?+c[0]:+(c[0]+c[2]),o=c[1]):(s="auto",a=+c[2]+"px",i=c[0]+0,o="before"==l?+c[1]:+(c[1]+c[3]),e.classList.remove("horizontal"),e.classList.add("vertical"));else{if(!this.nested)return void(e.style.display="none");r&&(i=r[0]+5,o=r[1]+5,s=parseInt(r[3])-10+"px",a="auto")}e.style.top=i+"px",e.style.left=o+"px",s&&(e.style.width=s),a&&(e.style.height=a)},endMove:function(){var e,t,n=this,r=this.eV,i=[],o=this.getDocuments(),s=this.getContainerEl(),a=this.onEndMove,l=this.target,c=this.lastPos;Object(_.off)(s,"mousemove dragover",this.onMove),Object(_.off)(o,"mouseup dragend touchend",this.endMove),Object(_.off)(o,"keydown",this.rollback),this.plh.style.display="none",r&&(e=this.getSourceModel(),this.selectOnEnd&&e&&e.set&&(e.set("status",""),e.set("status","selected"))),this.moved&&(t=this.toMove,(Object(g.isArray)(t)?t:t?[t]:[r]).forEach(function(e){i.push(n.move(l,e,c))})),this.plh&&(this.plh.style.display="none");var u,d=this.dragHelper;d&&(d.parentNode.removeChild(d),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,Object(g.isFunction)(a)&&(u={target:e,parent:e&&e.parent(),index:e&&e.index()},i.length?i.forEach(function(e){return a(e,n,u)}):a(null,this,T({},u,{cancelled:1})))},move:function(e,t,n){var r=this.em,i=this.activeTextModel,o=this.dropContent,s=Object(_.getElement)(t);r&&r.trigger("component:dragEnd:before",e,s,n);var a,l,c,u,d,f,h,p,g=[],m=n.indexEl,v=this.validTarget(e,s),y=E(e).data("collection"),b=v.srcModel,w=v.droppable,x=v.draggable,C=v.dropInfo,j=v.dragInfo,S=v.trgModel,w=S instanceof O.a.Collection?1:w,k=this.isTextableActive(b,S);return y&&w&&x?(u={at:m="after"===n.method?m+1:m,noIncrement:1},o?(a=o,u.silent=!1,u.avoidUpdateStyle=1):(u.temporary=1,l=y.add({},T({},u)),b.collection&&(a=b.collection.remove(b,{temporary:1}))),k?(d=i.getView(),i.trigger("active"),f=d.activeRte,h=b.getEl(),delete b.opt.temporary,b.getView().render(),h.setAttribute("data-gjs-textable","true"),p=h.outerHTML,f.insertHTML&&f.insertHTML(p)):c=y.add(a,u),o?this.dropContent=null:y.remove(l),this.prevTarget=null):(y||g.push("Target collection not found"),w||g.push("Target is not droppable, accepts [".concat(C,"]")),x||g.push("Component not draggable, acceptable by [".concat(j,"]")),console.warn("Invalid target position: "+g.join(", "))),r&&r.trigger("component:dragEnd",y,a,g),r&&r.trigger("sorter:drag:end",{targetCollection:y,modelToDrop:a,warns:g,validResult:v,dst:e,srcEl:s}),c},rollback:function(e){Object(_.off)(this.getDocuments(),"keydown",this.rollback),27==(e.which||e.keyCode)&&(this.moved=0,this.endMove())}})},"./src/utils/dom.js":function(e,t,n){"use strict";n.r(t),n.d(t,"motionsEv",function(){return r}),n.d(t,"empty",function(){return i}),n.d(t,"replaceWith",function(){return o}),n.d(t,"appendAtIndex",function(){return a}),n.d(t,"append",function(){return l}),n.d(t,"createEl",function(){return c}),n.d(t,"createCustomEvent",function(){return u}),n.d(t,"appendVNodes",function(){return d});var s=n("./node_modules/underscore/underscore.js"),r="transitionend oTransitionEnd transitionend webkitTransitionEnd",i=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},o=function(e,t){e.parentNode.replaceChild(t,e)},a=function(e,t,n){var r=e.childNodes,i=r.length,o=Object(s.isUndefined)(n)?i:n;Object(s.isString)(t)&&(e.insertAdjacentHTML("beforeEnd",t),t=e.lastChild,e.removeChild(t)),i<=o?e.appendChild(t):e.insertBefore(t,r[o])},l=function(e,t){return a(e,t)},c=function(e,t,n){var r=1<arguments.length&&void 0!==t?t:"",i=2<arguments.length?n:void 0,o=document.createElement(e);return r&&Object(s.each)(r,function(e,t){return o.setAttribute(t,e)}),i&&(Object(s.isString)(i)?o.innerHTML=i:o.appendChild(i)),o},u=function(e,t){var n;try{n=new window[t](e.type,e)}catch(e){(n=document.createEvent(t)).initEvent(e.type,!0,!0)}return n.keyCodeVal=e.keyCode,n._parentEvent=e,["keyCode","which"].forEach(function(e){Object.defineProperty(n,e,{get:function(){return this.keyCodeVal}})}),n},d=function(i,e){var t=1<arguments.length&&void 0!==e?e:[];(Array.isArray(t)?t:[t]).forEach(function(e){var t=e.tag||"div",n=e.attributes||{},r=document.createElement(t);Object(s.each)(n,function(e,t){r.setAttribute(t,e)}),i.appendChild(r)})}},"./src/utils/extender.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/underscore/underscore.js");t.default=function(e){var t,r,i,n=e.$;n&&"jQuery"!==n.prototype.constructor.name&&((t=n.fn).hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var e=this.get(0);return e&&e.focus(),this},t.bind=function(e,t){return this.on(e,t)},t.unbind=function(e,t){if(Object(o.isObject)(e)){for(var n in e)e.hasOwnProperty(n)&&this.off(n,e[n]);return this}return this.off(e,t)},t.click=function(e){return e?this.on("click",e):this.trigger("click")},t.change=function(e){return e?this.on("change",e):this.trigger("change")},t.keydown=function(e){return e?this.on("keydown",e):this.trigger("keydown")},t.delegate=function(e,t,n,r){return r=r||n,this.on(t,e,function(e){e.data=n,r(e)})},t.scrollLeft=function(){var e=this.get(0),t=(e=9==e.nodeType?e.defaultView:e)instanceof Window?e:null;return t?t.pageXOffset:e.scrollLeft||0},t.scrollTop=function(){var e=this.get(0),t=(e=9==e.nodeType?e.defaultView:e)instanceof Window?e:null;return t?t.pageYOffset:e.scrollTop||0},r=n.prototype.offset,t.offset=function(e){var t,n;return e&&(t=e.top,n=e.left),void 0!==t&&this.css("top","".concat(t,"px")),void 0!==n&&this.css("left","".concat(n,"px")),r.call(this)},n.map=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n},i=Array.prototype.indexOf,n.inArray=function(e,t,n){return null==t?-1:i.call(t,e,n)},n.Event=function(e,t){if(!(this instanceof n.Event))return new n.Event(e,t);this.type=e,this.isDefaultPrevented=function(){return!1}})}},"./src/utils/fetch.js":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/promise-polyfill/src/index.js");window.Promise=window.Promise||s.default,t.default="function"==typeof fetch?fetch.bind():function(i,o){return new s.default(function(t,e){var n=new XMLHttpRequest;for(var r in n.open(o.method||"get",i),n.withCredentials="include"==o.credentials,o.headers||{})n.setRequestHeader(r,o.headers[r]);n.onload=function(e){return t({status:n.status,statusText:n.statusText,text:function(){return s.default.resolve(n.responseText)}})},n.onerror=e,n.upload&&o.onProgress&&(n.upload.onprogress=o.onProgress),o.body?n.send(o.body):n.send()})}},"./src/utils/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/Dragger.js"),i=n("./src/utils/Sorter.js"),o=n("./src/utils/Resizer.js");t.default=function(){return{name:"Utils",init:function(){return this},Sorter:i.default,Resizer:o.default,Dragger:r.default}}},"./src/utils/mixins.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isCommentNode",function(){return b}),n.d(t,"isTaggableNode",function(){return w}),n.d(t,"on",function(){return u}),n.d(t,"off",function(){return d}),n.d(t,"hasDnd",function(){return m}),n.d(t,"upFirst",function(){return h}),n.d(t,"matches",function(){return o}),n.d(t,"getModel",function(){return x}),n.d(t,"getElRect",function(){return C}),n.d(t,"camelCase",function(){return p}),n.d(t,"isTextNode",function(){return y}),n.d(t,"getKeyCode",function(){return S}),n.d(t,"getKeyChar",function(){return k}),n.d(t,"isEscKey",function(){return O}),n.d(t,"getElement",function(){return v}),n.d(t,"shallowDiff",function(){return a}),n.d(t,"normalizeFloat",function(){return g}),n.d(t,"getPointerEvent",function(){return j}),n.d(t,"getUnitFromValue",function(){return f}),n.d(t,"capitalize",function(){return _}),n.d(t,"getViewEl",function(){return P}),n.d(t,"setViewEl",function(){return D}),n.d(t,"appendStyles",function(){return s}),n.d(t,"isComponent",function(){return T}),n.d(t,"isRule",function(){return E});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),l=n.n(r),c=n("./node_modules/underscore/underscore.js"),i=window.Element.prototype,o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector,s=function e(t,n){var r,i,o,s=1<arguments.length&&void 0!==n?n:{},a=Object(c.isArray)(t)?l()(t):[t];a.length&&(!(r=a.shift())||s.unique&&document.querySelector('link[href="'.concat(r,'"]'))||(i=document.head,(o=document.createElement("link")).href=r,o.rel="stylesheet",s.prepand?i.insertBefore(o,i.firstChild):i.appendChild(o)),e(a))},a=function(e,t){var n,r,i={},o=Object(c.keys)(t);for(var s in e){e.hasOwnProperty(s)&&(n=e[s],r=t[s],0<=o.indexOf(s)?n!==r&&(i[s]=r):i[s]=null)}for(var a in t)t.hasOwnProperty(a)&&Object(c.isUndefined)(e[a])&&(i[a]=t[a]);return i},u=function(e,n,r){n=n.split(/\s+/),e=e instanceof Array?e:[e];for(var t=0;t<n.length;++t)!function(t){e.forEach(function(e){return e.addEventListener(n[t],r)})}(t)},d=function(e,n,r){n=n.split(/\s+/),e=e instanceof Array?e:[e];for(var t=0;t<n.length;++t)!function(t){e.forEach(function(e){return e.removeEventListener(n[t],r)})}(t)},f=function(e){return e.replace(parseFloat(e),"")},h=function(e){return e[0].toUpperCase()+e.toLowerCase().slice(1)},p=function(e){var t=e.split("-").filter(String);return t[0].toLowerCase()+t.slice(1).map(h)},g=function(e,t,n){var r,i=1<arguments.length&&void 0!==t?t:1,o=2<arguments.length&&void 0!==n?n:0,s=0;return isNaN(e)?o:(e=parseFloat(e),Math.floor(e)!==e&&(s=(r=i.toString().split(".")[1])?r.length:0),s?parseFloat(e.toFixed(s)):e)},m=function(e){return"draggable"in document.createElement("i")&&(e?e.get("Config").nativeDnD:1)},v=function(e){return Object(c.isElement)(e)||y(e)?e:e&&e.getEl?e.getEl():void 0},y=function(e){return e&&3===e.nodeType},b=function(e){return e&&8===e.nodeType},w=function(e){return e&&!y(e)&&!b(e)},x=function(e,t){var n=e;return Object(c.isElement)(e)&&(n=t(e).data("model")),n},C=function(e){var t,n,r={top:0,left:0,width:0,height:0};return e?(y(e)&&((n=document.createRange()).selectNode(e),t=n.getBoundingClientRect(),n.detach()),t||(e.getBoundingClientRect?e.getBoundingClientRect():r)):r},j=function(e){return e.touches&&e.touches[0]?e.touches[0]:e},S=function(e){return e.which||e.keyCode},k=function(e){return String.fromCharCode(S(e))},O=function(e){return 27===S(e)},_=function(e){return e&&e.charAt(0).toUpperCase()+e.substring(1)},T=function(e){return e&&e.toHTML},E=function(e){return e&&e.toCSS},P=function(e){return e.__gjsv},D=function(e,t){e.__gjsv=t}},"./src/utils/polyfills.js":function(e,t,n){"use strict";n.r(t),t.default=function(){var t;!function(){for(var e,t=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],r=0;r<n.length;r++){if(e=n[r][1].exec(t))break}return!!e}()||(t=DOMImplementation.prototype.createHTMLDocument,DOMImplementation.prototype.createHTMLDocument=function(e){return e=e||"",t.apply(document.implementation,[e])})}}},i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/index.js").default;function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r});
//# sourceMappingURL=core.min.js.map
