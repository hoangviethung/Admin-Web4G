function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);function i(){}var r=0;return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function g(e){return null!=e&&e===e.window}var t=[],k=C.document,i=Object.getPrototypeOf,a=t.slice,m=t.concat,l=t.push,r=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,s=v.toString,c=s.call(Object),b={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},u={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,r,o=(n=n||k).createElement("script");if(o.text=e,t)for(i in u)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var h="3.4.1",S=function(e,t){return new S.fn.init(e,t)},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function f(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!y(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:h,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(S.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||S.isPlainObject(n)?n:{},r=!1,s[t]=S.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},S.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=i(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&s.call(n)===c)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(f(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(d,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(f(Object(e))?S.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!=s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(f(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return m.apply([],s)},guid:1,support:b}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){function h(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function r(){x()}var e,f,w,o,s,p,d,g,_,l,c,x,C,a,k,m,u,v,b,S="sizzle"+ +new Date,y=n.document,O=0,i=0,T=le(),j=le(),E=le(),P=le(),D=function(e,t){return e===t&&(c=!0),0},A={}.hasOwnProperty,t=[],M=t.pop,I=t.push,L=t.push,N=t.slice,F=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",$="\\["+H+"*("+R+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+H+"*\\]",V=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",W=new RegExp(H+"+","g"),B=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),q=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),Y=new RegExp(H+"|>"),G=new RegExp(V),K=new RegExp("^"+R+"$"),X={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,ie=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{L.apply(t=N.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){L={apply:t.length?function(e,t){I.apply(e,N.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(t,e,n,i){var r,o,s,a,l,c,u,h=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:y)!==C&&x(e),e=e||C,k)){if(11!==d&&(l=te.exec(t)))if(r=l[1]){if(9===d){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&b(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return L.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&f.getElementsByClassName&&e.getElementsByClassName)return L.apply(n,e.getElementsByClassName(r)),n}if(f.qsa&&!P[t+" "]&&(!m||!m.test(t))&&(1!==d||"object"!==e.nodeName.toLowerCase())){if(u=t,h=e,1===d&&Y.test(t)){for((a=e.getAttribute("id"))?a=a.replace(re,oe):e.setAttribute("id",a=S),o=(c=p(t)).length;o--;)c[o]="#"+a+" "+ve(c[o]);u=c.join(","),h=ne.test(t)&&ge(e.parentNode)||e}try{return L.apply(n,h.querySelectorAll(u)),n}catch(e){P(t,!0)}finally{a===S&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,i)}function le(){var n=[];function i(e,t){return n.push(e+" ")>w.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function ce(e){return e[S]=!0,e}function ue(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&se(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pe(s){return ce(function(o){return o=+o,ce(function(e,t){for(var n,i=s([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=ae.support={},s=ae.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},x=ae.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:y;return i!==C&&9===i.nodeType&&i.documentElement&&(a=(C=i).documentElement,k=!s(C),y!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",r,!1):n.attachEvent&&n.attachEvent("onunload",r)),f.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ue(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ee.test(C.getElementsByClassName),f.getById=ue(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),f.getById?(w.filter.ID=function(e){var t=e.replace(ie,h);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var n=e.replace(ie,h);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},u=[],m=[],(f.qsa=ee.test(C.querySelectorAll))&&(ue(function(e){a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+H+"*(?:value|"+z+")"),e.querySelectorAll("[id~="+S+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||m.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+H+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=ee.test(v=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){f.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),u.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),u=u.length&&new RegExp(u.join("|")),t=ee.test(a.compareDocumentPosition),b=t||ee.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===y&&b(y,e)?-1:t===C||t.ownerDocument===y&&b(y,t)?1:l?F(l,e)-F(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===C?-1:t===C?1:r?-1:o?1:l?F(l,e)-F(l,t):0;if(r===o)return de(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?de(s[i],a[i]):s[i]===y?-1:a[i]===y?1:0}),C},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&x(e),f.matchesSelector&&k&&!P[t+" "]&&(!u||!u.test(t))&&(!m||!m.test(t)))try{var n=v.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){P(t,!0)}return 0<ae(t,C,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!==C&&x(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==C&&x(e);var n=w.attrHandle[t.toLowerCase()],i=n&&A.call(w.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==i?i:f.attributes||!k?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(re,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],i=0,r=0;if(c=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(D),c){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return l=null,e},o=ae.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(w=ae.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,h),e[3]=(e[3]||e[4]||e[5]||"").replace(ie,h),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,h).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=ae.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(W," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,g,m){var v="nth"!==p.slice(0,3),b="last"!==p.slice(-4),y="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,s,a,l,c=v!=b?"nextSibling":"previousSibling",u=e.parentNode,h=y&&e.nodeName.toLowerCase(),d=!n&&!y,f=!1;if(u){if(v){for(;c;){for(s=e;s=s[c];)if(y?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[b?u.firstChild:u.lastChild],b&&d){for(f=(a=(i=(r=(o=(s=u)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===O&&i[1])&&i[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(f=a=0)||l.pop();)if(1===s.nodeType&&++f&&s===e){r[p]=[O,a,f];break}}else if(d&&(f=a=(i=(r=(o=(s=e)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===O&&i[1]),!1===f)for(;(s=++a&&s&&s[c]||(f=a=0)||l.pop())&&((y?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((r=(o=s[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[O,f]),s!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,o){var t,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return s[S]?s(o):1<s.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,i=s(e,o),r=i.length;r--;)e[n=F(e,i[r])]=!(t[n]=i[r])}):function(e){return s(e,0,t)}):s}},pseudos:{not:ce(function(e){var i=[],r=[],a=d(e.replace(B,"$1"));return a[S]?ce(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,n){return i[0]=e,a(i,null,n,r),i[0]=null,!r.pop()}}),has:ce(function(t){return function(e){return 0<ae(t,e).length}}),contains:ce(function(t){return t=t.replace(ie,h),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:ce(function(n){return K.test(n||"")||ae.error("unsupported lang: "+n),n=n.replace(ie,h).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:pe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(a,e,t){var l=e.dir,c=e.next,u=c||l,h=t&&"parentNode"===u,d=i++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||h)return a(e,t,n);return!1}:function(e,t,n){var i,r,o,s=[O,d];if(n){for(;e=e[l];)if((1===e.nodeType||h)&&a(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||h)if(r=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[l]||e;else{if((i=r[u])&&i[0]===O&&i[1]===d)return s[2]=i[2];if((r[u]=s)[2]=a(e,t,n))return!0}return!1}}function ye(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function we(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function _e(f,p,g,m,v,e){return m&&!m[S]&&(m=_e(m)),v&&!v[S]&&(v=_e(v,e)),ce(function(e,t,n,i){var r,o,s,a=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!e&&p?u:we(u,a,f,n,i),d=g?v||(e?f:c||m)?[]:t:h;if(g&&g(h,d,n,i),m)for(r=we(d,l),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(d[l[o]]=!(h[l[o]]=s));if(e){if(v||f){if(v){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);v(null,d=[],r,i)}for(o=d.length;o--;)(s=d[o])&&-1<(r=v?F(e,s):a[o])&&(e[r]=!(t[r]=s))}}else d=we(d===t?d.splice(c,d.length):d),v?v(null,t,d,i):L.apply(t,d)})}function xe(m,v){function e(e,t,n,i,r){var o,s,a,l=0,c="0",u=e&&[],h=[],d=_,f=e||y&&w.find.TAG("*",r),p=O+=null==d?1:Math.random()||.1,g=f.length;for(r&&(_=t===C||t||r);c!==g&&null!=(o=f[c]);c++){if(y&&o){for(s=0,t||o.ownerDocument===C||(x(o),n=!k);a=m[s++];)if(a(o,t||C,n)){i.push(o);break}r&&(O=p)}b&&((o=!a&&o)&&l--,e&&u.push(o))}if(l+=c,b&&c!==l){for(s=0;a=v[s++];)a(u,h,t,n);if(e){if(0<l)for(;c--;)u[c]||h[c]||(h[c]=M.call(i));h=we(h)}L.apply(i,h),r&&!e&&0<h.length&&1<l+v.length&&ae.uniqueSort(i)}return r&&(O=p,_=d),u}var b=0<v.length,y=0<m.length;return b?ce(e):e}return me.prototype=w.filters=w.pseudos,w.setFilters=new me,p=ae.tokenize=function(e,t){var n,i,r,o,s,a,l,c=j[e+" "];if(c)return t?0:c.slice(0);for(s=e,a=[],l=w.preFilter;s;){for(o in n&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),w.filter)!(i=X[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):j(e,a).slice(0)},d=ae.compile=function(e,t){var n,i=[],r=[],o=E[e+" "];if(!o){for(n=(t=t||p(e)).length;n--;)(o=function e(t){for(var r,n,i,o=t.length,s=w.relative[t[0].type],a=s||w.relative[" "],l=s?1:0,c=be(function(e){return e===r},a,!0),u=be(function(e){return-1<F(r,e)},a,!0),h=[function(e,t,n){var i=!s&&(n||t!==_)||((r=t).nodeType?c:u)(e,t,n);return r=null,i}];l<o;l++)if(n=w.relative[t[l].type])h=[be(ye(h),n)];else{if((n=w.filter[t[l].type].apply(null,t[l].matches))[S]){for(i=++l;i<o&&!w.relative[t[i].type];i++);return _e(1<l&&ye(h),1<l&&ve(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(B,"$1"),n,l<i&&e(t.slice(l,i)),i<o&&e(t=t.slice(i)),i<o&&ve(t))}h.push(n)}return ye(h)}(t[n]))[S]?i.push(o):r.push(o);(o=E(e,xe(r,i))).selector=e}return o},g=ae.select=function(e,t,n,i){var r,o,s,a,l,c="function"==typeof e&&e,u=!i&&p(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&k&&w.relative[o[1].type]){if(!(t=(w.find.ID(s.matches[0].replace(ie,h),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=X.needsContext.test(e)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((l=w.find[a])&&(i=l(s.matches[0].replace(ie,h),ne.test(o[0].type)&&ge(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&ve(o)))return L.apply(n,i),n;break}}return(c||d(e,u))(i,t,!k,n,!t||ne.test(e)&&ge(t.parentNode)||t),n},f.sortStable=S.split("").sort(D).join("")===S,f.detectDuplicates=!!c,x(),f.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||he(z,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),ae}(C);S.find=p,S.expr=p.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=p.uniqueSort,S.text=p.getText,S.isXMLDoc=p.isXML,S.contains=p.contains,S.escapeSelector=p.escape;function x(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&S(e).is(n))break;i.push(e)}return i}function O(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var T=S.expr.match.needsContext;function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(e,n,i){return y(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?S.grep(e,function(e){return e===n!==i}):"string"!=typeof n?S.grep(e,function(e){return-1<r.call(n,e)!==i}):S.filter(n,e,i)}S.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?S.find.matchesSelector(i,e)?[i]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<i;t++)if(S.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)S.find(e,r[t],n);return 1<i?S.uniqueSort(n):n},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&T.test(e)?S(e):e||[],!1).length}});var D,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||D,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:A.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:k,!0)),E.test(i[1])&&S.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=k.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=S.fn,D=S(k);var M=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&S(e);if(!T.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?r.call(S(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return O((e.parentNode||{}).firstChild,e)},children:function(e){return O(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(j(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(i,r){S.fn[i]=function(e,t){var n=S.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(I[i]||S.uniqueSort(n),M.test(i)&&n.reverse()),this.pushStack(n)}});var N=/[^\x20\t\r\n\f]+/g;function F(e){return e}function z(e){throw e}function H(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},S.each(e.match(N)||[],function(e,t){n[t]=!0}),n):S.extend({},i);function r(){for(a=a||i.once,s=o=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&i.stopOnFalse&&(u=l.length,t=!1);i.memory||(t=!1),o=!1,a&&(l=t?[]:"")}var o,t,s,a,l=[],c=[],u=-1,h={add:function(){return l&&(t&&!o&&(u=l.length-1,c.push(t)),function n(e){S.each(e,function(e,t){y(t)?i.unique&&h.has(t)||l.push(t):t&&t.length&&"string"!==_(t)&&n(t)})}(arguments),t&&!o&&r()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<S.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return a=c=[],t||o||(l=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),o||r()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var r=arguments;return S.Deferred(function(i){S.each(o,function(e,t){var n=y(r[t[4]])&&r[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var l=0;function c(r,o,s,a){return function(){function e(){var e,t;if(!(r<l)){if((e=s.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?a?t.call(e,c(l,o,F,a),c(l,o,z,a)):(l++,t.call(e,c(l,o,F,a),c(l,o,z,a),c(l,o,F,o.notifyWith))):(s!==F&&(n=void 0,i=[e]),(a||o.resolveWith)(n,i))}}var n=this,i=arguments,t=a?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),l<=r+1&&(s!==z&&(n=void 0,i=[e]),o.rejectWith(n,i))}};r?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(c(0,e,y(i)?i:F,e.notifyWith)),o[1][3].add(c(0,e,y(t)?t:F)),o[2][3].add(c(0,e,y(n)?n:z))}).promise()},promise:function(e){return null!=e?S.extend(e,s):s}},a={};return S.each(o,function(e,t){var n=t[2],i=t[5];s[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){r[t]=this,o[t]=1<arguments.length?a.call(arguments):e,--n||s.resolveWith(r,o)}}var n=arguments.length,i=n,r=Array(i),o=a.call(arguments),s=S.Deferred();if(n<=1&&(H(e,s.done(t(i)).resolve,s.reject,!n),"pending"===s.state()||y(o[i]&&o[i].then)))return s.then();for(;i--;)H(o[i],t(i),s.reject);return s.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&R.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var $=S.Deferred();function V(){k.removeEventListener("DOMContentLoaded",V),C.removeEventListener("load",V),S.ready()}S.fn.ready=function(e){return $.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||$.resolveWith(k,[S])}}),S.ready.then=$.then,"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?C.setTimeout(S.ready):(k.addEventListener("DOMContentLoaded",V),C.addEventListener("load",V));var W=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===_(n))for(a in r=!0,n)W(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),c&&(t=s?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(S(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},B=/^-ms-/,U=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function Y(e){return e.replace(B,"ms-").replace(U,q)}function G(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function K(){this.expando=S.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[Y(t)]=n;else for(i in t)r[Y(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in i?[t]:t.match(N)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!S.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var X=new K,Q=new K,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function ee(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Z.test(r)?JSON.parse(r):r)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||X.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,i,r,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Q.set(this,n)}):W(this,function(e){var t;return o&&void 0===e?void 0!==(t=Q.get(o,n))||void 0!==(t=ee(o,n))?t:void 0:void this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=Q.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&0===(i=s[t].name).indexOf("data-")&&(i=Y(i.slice(5)),ee(o,i,r[i]));X.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=X.get(e,t),n&&(!i||Array.isArray(n)?i=X.access(e,t,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),i=n.length,r=n.shift(),o=S._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){S.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:S.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||o.resolveWith(s,[s])}var i,r=1,o=S.Deferred(),s=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=X.get(s[a],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],re=k.documentElement,oe=function(e){return S.contains(e.ownerDocument,e)},se={composed:!0};re.getRootNode&&(oe=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});function ae(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r}var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===S.css(e,"display")};function ce(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return S.css(e,t,"")},l=a(),c=n&&n[3]||(S.cssNumber[t]?"":"px"),u=e.nodeType&&(S.cssNumber[t]||"px"!==c&&+l)&&ne.exec(S.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)S.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,S.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ue={};function he(e,t){for(var n,i,r,o,s,a,l,c=[],u=0,h=e.length;u<h;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(c[u]=X.get(i,"display")||null,c[u]||(i.style.display="")),""===i.style.display&&le(i)&&(c[u]=(l=s=o=void 0,s=(r=i).ownerDocument,a=r.nodeName,(l=ue[a])||(o=s.body.appendChild(s.createElement(a)),l=S.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),ue[a]=l)))):"none"!==n&&(c[u]="none",X.set(i,"display",n)));for(u=0;u<h;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}S.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){le(this)?S(this).show():S(this).hide()})}});var de=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&j(e,t)?S.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var be,ye,we=/<|&#?\w+;/;function _e(e,t,n,i,r){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===_(o))S.merge(d,o.nodeType?[o]:o);else if(we.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(fe.exec(o)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,s.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;S.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&-1<S.inArray(o,i))r&&r.push(o);else if(c=oe(o),s=me(h.appendChild(o),"script"),c&&ve(s),n)for(u=0;o=s[u++];)pe.test(o.type||"")&&n.push(o);return h}be=k.createDocumentFragment().appendChild(k.createElement("div")),(ye=k.createElement("input")).setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),be.appendChild(ye),b.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue;var xe=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ke=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Oe(){return!1}function Te(e,t){return e===function(){try{return k.activeElement}catch(e){}}()==("focus"===t)}function je(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)je(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Oe;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return S().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),e.each(function(){S.event.add(this,t,r,i,n)})}function Ee(e,r,o){o?(X.set(e,r,!1),S.event.add(e,r,{namespace:!1,handler:function(e){var t,n,i=X.get(this,r);if(1&e.isTrigger&&this[r]){if(i.length)(S.event.special[r]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),X.set(this,r,i),t=o(this,r),this[r](),i!==(n=X.get(this,r))||t?X.set(this,r,!1):n={},i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else i.length&&(X.set(this,r,{value:S.event.trigger(S.extend(i[0],S.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,r)&&S.event.add(e,r,Se)}S.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=X.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&S.find.matchesSelector(re,r),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(N)||[""]).length;c--;)f=g=(a=ke.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=S.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=S.event.special[f]||{},u=S.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),S.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=X.hasData(e)&&X.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(f=g=(a=ke.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!r&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||S.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)S.event.remove(e,f+t[c],n,i,!0);S.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=S.event.fix(e),l=new Array(arguments.length),c=(X.get(this,"events")||{})[a.type]||[],u=S.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?-1<S(r,this).index(c):S.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return de.test(t.type)&&t.click&&j(t,"input")&&Ee(t,"click",Se),!1},trigger:function(e){var t=this||e;return de.test(t.type)&&t.click&&j(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return de.test(t.type)&&t.click&&j(t,"input")&&X.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ee(this,e,Te),!1},trigger:function(){return Ee(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){S.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),S.fn.extend({on:function(e,t,n,i){return je(this,e,t,n,i)},one:function(e,t,n,i){return je(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,S(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each(function(){S.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,i,r,o,s,a,l,c;if(1===t.nodeType){if(X.hasData(e)&&(o=X.access(e),s=X.set(t,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)S.event.add(t,r,c[r][n]);Q.hasData(e)&&(a=Q.access(e),l=S.extend({},a),Q.set(t,l))}}function ze(n,i,r,o){i=m.apply([],i);var e,t,s,a,l,c,u=0,h=n.length,d=h-1,f=i[0],p=y(f);if(p||1<h&&"string"==typeof f&&!b.checkClone&&Ae.test(f))return n.each(function(e){var t=n.eq(e);p&&(i[0]=f.call(this,e,t.html())),ze(t,i,r,o)});if(h&&(t=(e=_e(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(a=(s=S.map(me(e,"script"),Le)).length;u<h;u++)l=e,u!==d&&(l=S.clone(l,!0,!0),a&&S.merge(s,me(l,"script"))),r.call(n[u],l,u);if(a)for(c=s[s.length-1].ownerDocument,S.map(s,Ne),u=0;u<a;u++)l=s[u],pe.test(l.type||"")&&!X.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):w(l.textContent.replace(Me,""),l,c))}return n}function He(e,t,n){for(var i,r=t?S.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(me(i)),i.parentNode&&(n&&oe(i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}S.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,l,c,u=e.cloneNode(!0),h=oe(e);if(!(b.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(s=me(u),i=0,r=(o=me(e)).length;i<r;i++)a=o[i],l=s[i],"input"===(c=l.nodeName.toLowerCase())&&de.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||me(e),s=s||me(u),i=0,r=o.length;i<r;i++)Fe(o[i],s[i]);else Fe(e,u);return 0<(s=me(u,"script")).length&&ve(s,!h&&me(e,"script")),u},cleanData:function(e){for(var t,n,i,r=S.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return W(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return ze(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)})},prepend:function(){return ze(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ie(this,e)).insertBefore(e,t.firstChild)})},before:function(){return ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!ge[(fe.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return ze(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(me(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){S.fn[e]=function(e){for(var t,n=[],i=S(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),S(i[o])[s](t),l.apply(n,t.get());return this.pushStack(n)}});var Re,$e,Ve,We,Be,Ue,qe,Ye=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Ge=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ke=new RegExp(ie.join("|"),"i");function Xe(){var e;qe&&(Ue.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",qe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(Ue).appendChild(qe),e=C.getComputedStyle(qe),Re="1%"!==e.top,Be=12===Qe(e.marginLeft),qe.style.right="60%",We=36===Qe(e.right),$e=36===Qe(e.width),qe.style.position="absolute",Ve=12===Qe(qe.offsetWidth/3),re.removeChild(Ue),qe=null)}function Qe(e){return Math.round(parseFloat(e))}function Ze(e,t,n){var i,r,o,s,a=e.style;return(n=n||Ge(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||oe(e)||(s=S.style(e,t)),!b.pixelBoxStyles()&&Ye.test(s)&&Ke.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Ue=k.createElement("div"),(qe=k.createElement("div")).style&&(qe.style.backgroundClip="content-box",qe.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===qe.style.backgroundClip,S.extend(b,{boxSizingReliable:function(){return Xe(),$e},pixelBoxStyles:function(){return Xe(),We},pixelPosition:function(){return Xe(),Re},reliableMarginLeft:function(){return Xe(),Be},scrollboxSize:function(){return Xe(),Ve}}));var et=["Webkit","Moz","ms"],tt=k.createElement("div").style,nt={};function it(e){var t=S.cssProps[e]||nt[e];return t||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,ot=/^--/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var i=ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ct(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=S.css(e,n+ie[s],!0,r)),i?("content"===n&&(l-=S.css(e,"padding"+ie[s],!0,r)),"margin"!==n&&(l-=S.css(e,"border"+ie[s]+"Width",!0,r))):(l+=S.css(e,"padding"+ie[s],!0,r),"padding"!==n?l+=S.css(e,"border"+ie[s]+"Width",!0,r):a+=S.css(e,"border"+ie[s]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function ut(e,t,n){var i=Ge(e),r=(!b.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,i),o=r,s=Ze(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(s)){if(!n)return s;s="auto"}return(!b.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===S.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===S.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ct(e,t,n||(r?"border":"content"),o,i,s)+"px"}function ht(e,t,n,i,r){return new ht.prototype.init(e,t,n,i,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=Y(t),l=ot.test(t),c=e.style;if(l||(t=it(a)),s=S.cssHooks[t]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=ne.exec(n))&&r[1]&&(n=ce(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(S.cssNumber[a]?"":"px")),b.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=Y(t);return ot.test(t)||(t=it(a)),(s=S.cssHooks[t]||S.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ze(e,t,i)),"normal"===r&&t in at&&(r=at[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),S.each(["height","width"],function(e,l){S.cssHooks[l]={get:function(e,t,n){if(t)return!rt.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,l,n):ae(e,st,function(){return ut(e,l,n)})},set:function(e,t,n){var i,r=Ge(e),o=!b.scrollboxSize()&&"absolute"===r.position,s=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,r),a=n?ct(e,l,n,s,r):0;return s&&o&&(a-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(r[l])-ct(e,l,"border",!1,r)-.5)),a&&(i=ne.exec(t))&&"px"!==(i[3]||"px")&&(e.style[l]=t,t=S.css(e,l)),lt(0,t,a)}}}),S.cssHooks.marginLeft=Je(b.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(r,o){S.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+ie[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(S.cssHooks[r+o].set=lt)}),S.fn.extend({css:function(e,t){return W(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Ge(e),r=t.length;s<r;s++)o[t[s]]=S.css(e,t[s],!1,i);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),(S.Tween=ht).prototype={constructor:ht,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,n=ht.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=ht.prototype.init,S.fx.step={};var dt,ft,pt,gt,mt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;function bt(){ft&&(!1===k.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(bt):C.setTimeout(bt,S.fx.interval),S.fx.tick())}function yt(){return C.setTimeout(function(){dt=void 0}),dt=Date.now()}function wt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ie[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function _t(e,t,n){for(var i,r=(xt.tweeners[t]||[]).concat(xt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function xt(o,e,t){var n,s,i=0,r=xt.prefilters.length,a=S.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=dt||yt(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return a.notifyWith(o,[c,n,t]),n<1&&r?t:(r||a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:dt||yt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)c.tweens[t].run(1);return e?(a.notifyWith(o,[c,1,0]),a.resolveWith(o,[c,e])):a.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=Y(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=S.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);i<r;i++)if(n=xt.prefilters[i].call(c,o,u,c.opts))return y(n.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return S.map(u,_t,c),y(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(xt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=y(e)?(t=e,["*"]):e.match(N)).length;i<r;i++)n=e[i],xt.tweeners[n]=xt.tweeners[n]||[],xt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,u,h="width"in t||"height"in t,d=this,f={},p=e.style,g=e.nodeType&&le(e),m=X.get(e,"fxshow");for(i in n.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],mt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||S.style(e,i)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(f))for(i in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=X.get(e,"display")),"none"===(u=S.css(e,"display"))&&(c?u=c:(he([e],!0),c=e.style.display||c,u=S.css(e,"display"),he([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(e,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&he([e],!0),d.done(function(){for(i in g||he([e]),X.remove(e,"fxshow"),f)S.style(e,i,f[i])})),l=_t(g?m[i]:0,i,d),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?xt.prefilters.unshift(e):xt.prefilters.push(e)}}),S.speed=function(e,t,n){var i=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(e,t,n,i){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=xt(this,S.extend({},t),s);(o||X.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),s=S.speed(e,n,i);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(r,e,o){function s(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=S.timers,i=X.get(this);if(t)i[t]&&i[t].stop&&s(i[t]);else for(t in i)i[t]&&i[t].stop&&vt.test(t)&&s(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=X.get(this),n=t[s+"queue"],i=t[s+"queueHooks"],r=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===s&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,i){var r=S.fn[i];S.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(wt(i,!0),e,t,n)}}),S.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){S.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),dt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ft||(ft=!0,bt())},S.fx.stop=function(){ft=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,e){return i=S.fx&&S.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,i);t.stop=function(){C.clearTimeout(n)}})},pt=k.createElement("input"),gt=k.createElement("select").appendChild(k.createElement("option")),pt.type="checkbox",b.checkOn=""!==pt.value,b.optSelected=gt.selected,(pt=k.createElement("input")).value="t",pt.type="radio",b.radioValue="t"===pt.value;var Ct,kt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return W(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(r=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?Ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=S.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!b.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(N);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),Ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var s=kt[t]||S.find.attr;kt[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=kt[o],kt[o]=i,i=null!=s(e,t,n)?o:null,kt[o]=r),i}});var St=/^(?:input|select|textarea|button)$/i,Ot=/^(?:a|area)$/i;function Tt(e){return(e.match(N)||[]).join(" ")}function jt(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}S.fn.extend({prop:function(e,t){return W(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each(function(e){S(this).addClass(t.call(this,e,jt(this)))});if((e=Et(t)).length)for(;n=this[l++];)if(r=jt(n),i=1===n.nodeType&&" "+Tt(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=Tt(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each(function(e){S(this).removeClass(t.call(this,e,jt(this)))});if(!arguments.length)return this.attr("class","");if((e=Et(t)).length)for(;n=this[l++];)if(r=jt(n),i=1===n.nodeType&&" "+Tt(r)+" "){for(s=0;o=e[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=Tt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,t){var o=typeof r,s="string"==o||Array.isArray(r);return"boolean"==typeof t&&s?t?this.addClass(r):this.removeClass(r):y(r)?this.each(function(e){S(this).toggleClass(r.call(this,e,jt(this),t),t)}):this.each(function(){var e,t,n,i;if(s)for(t=0,n=S(this),i=Et(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=o||((e=jt(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&X.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+Tt(jt(t))+" ").indexOf(i))return!0;return!1}});var Pt=/\r/g;S.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=y(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Pt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:Tt(S.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(((n=i[l]).selected||l===r)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=S(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=S.makeArray(t),s=r.length;s--;)((i=r[s]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},b.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),b.focusin="onfocusin"in C;function Dt(e){e.stopPropagation()}var At=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(e,t,n,i){var r,o,s,a,l,c,u,h=[n||k],d=v.call(e,"type")?e.type:e,f=v.call(e,"namespace")?e.namespace.split("."):[],p=u=o=n=n||k;if(3!==n.nodeType&&8!==n.nodeType&&!At.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),a=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!g(n)){for(s=c.delegateType||d,At.test(s+d)||(p=p.parentNode);p;p=p.parentNode)h.push(p),o=p;o===(n.ownerDocument||k)&&h.push(o.defaultView||o.parentWindow||C)}for(r=0;(p=h[r++])&&!e.isPropagationStopped();)u=p,e.type=1<r?s:c.bindType||d,(l=(X.get(p,"events")||{})[e.type]&&X.get(p,"handle"))&&l.apply(p,t),(l=a&&p[a])&&l.apply&&G(p)&&(e.result=l.apply(p,t),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),t)||!G(n)||a&&y(n[d])&&!g(n)&&((o=n[a])&&(n[a]=null),S.event.triggered=d,e.isPropagationStopped()&&u.addEventListener(d,Dt),n[d](),e.isPropagationStopped()&&u.removeEventListener(d,Dt),S.event.triggered=void 0,o&&(n[a]=o)),e.result}},simulate:function(e,t,n){var i=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(i,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),b.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){S.event.simulate(i,e.target,S.event.fix(e))}S.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=X.access(e,i);t||e.addEventListener(n,r,!0),X.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=X.access(e,i)-1;t?X.access(e,i,t):(e.removeEventListener(n,r,!0),X.remove(e,i))}}});var Mt=C.location,It=Date.now(),Lt=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var Nt=/\[\]$/,Ft=/\r?\n/g,zt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;S.param=function(e,t){function n(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var i,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,o){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Nt.test(i)?o(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==_(e))o(i,e);else for(t in e)n(i+"["+t+"]",e[t],r,o)}(i,e[i],t,n);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Ht.test(this.nodeName)&&!zt.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Ft,"\r\n")}}):{name:t.name,value:n.replace(Ft,"\r\n")}}).get()}});var Rt=/%20/g,$t=/#.*$/,Vt=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Ut=/^\/\//,qt={},Yt={},Gt="*/".concat("*"),Kt=k.createElement("a");function Xt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(N)||[];if(y(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Qt(t,r,o,s){var a={},l=t===Yt;function c(e){var i;return a[e]=!0,S.each(t[e]||[],function(e,t){var n=t(r,o,s);return"string"!=typeof n||l||a[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!a["*"]&&c("*")}function Zt(e,t){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&S.extend(!0,e,i),e}Kt.href=Mt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,S.ajaxSettings),t):Zt(S.ajaxSettings,e)},ajaxPrefilter:Xt(qt),ajaxTransport:Xt(Yt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,h,d,n,f,i,p,g,r,o,m=S.ajaxSetup({},t),v=m.context||m,b=m.context&&(v.nodeType||v.jquery)?S(v):S.event,y=S.Deferred(),w=S.Callbacks("once memory"),_=m.statusCode||{},s={},a={},l="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=Wt.exec(d);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(e,t){return null==p&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==p&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)x.always(e[x.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||l;return u&&u.abort(t),c(0,t),this}};if(y.promise(x),m.url=((e||m.url||Mt.href)+"").replace(Ut,Mt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(N)||[""],null==m.crossDomain){i=k.createElement("a");try{i.href=m.url,i.href,m.crossDomain=Kt.protocol+"//"+Kt.host!=i.protocol+"//"+i.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=S.param(m.data,m.traditional)),Qt(qt,m,t,x),p)return x;for(r in(g=S.event&&m.global)&&0==S.active++&&S.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Bt.test(m.type),h=m.url.replace($t,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Rt,"+")):(o=m.url.slice(h.length),m.data&&(m.processData||"string"==typeof m.data)&&(h+=(Lt.test(h)?"&":"?")+m.data,delete m.data),!1===m.cache&&(h=h.replace(Vt,"$1"),o=(Lt.test(h)?"&":"?")+"_="+It+++o),m.url=h+o),m.ifModified&&(S.lastModified[h]&&x.setRequestHeader("If-Modified-Since",S.lastModified[h]),S.etag[h]&&x.setRequestHeader("If-None-Match",S.etag[h])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Gt+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(v,x,m)||p))return x.abort();if(l="abort",w.add(m.complete),x.done(m.success),x.fail(m.error),u=Qt(Yt,m,t,x)){if(x.readyState=1,g&&b.trigger("ajaxSend",[x,m]),p)return x;m.async&&0<m.timeout&&(f=C.setTimeout(function(){x.abort("timeout")},m.timeout));try{p=!1,u.send(s,c)}catch(e){if(p)throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,n,i){var r,o,s,a,l,c=t;p||(p=!0,f&&C.clearTimeout(f),u=void 0,d=i||"",x.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s=s||r}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(m,x,n)),a=function(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(m,a,x,r),r?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(S.lastModified[h]=l),(l=x.getResponseHeader("etag"))&&(S.etag[h]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=a.state,o=a.data,r=!(s=a.error))):(s=c,!e&&c||(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",r?y.resolveWith(v,[o,c,x]):y.rejectWith(v,[x,c,s]),x.statusCode(_),_=void 0,g&&b.trigger(r?"ajaxSuccess":"ajaxError",[x,m,r?o:s]),w.fireWith(v,[x,c]),g&&(b.trigger("ajaxComplete",[x,m]),--S.active||S.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,r){S[r]=function(e,t,n,i){return y(t)&&(i=i||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:r,dataType:i,data:t,success:n},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e,t){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},en=S.ajaxSettings.xhr();b.cors=!!en&&"withCredentials"in en,b.ajax=en=!!en,S.ajaxTransport(function(r){var o,s;if(b.cors||en&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Jt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&C.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),k.head.appendChild(i[0])},abort:function(){r&&r()}}});var tn,nn=[],rn=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nn.pop()||S.expando+"_"+It++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,s=!1!==e.jsonp&&(rn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(rn,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=C[i],C[i]=function(){o=arguments},n.always(function(){void 0===r?S(C).removeProp(i):C[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,nn.push(i)),o&&y(r)&&r(o[0]),o=r=void 0}),"script"}),b.createHTMLDocument=((tn=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(b.createHTMLDocument?((i=(t=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,t.head.appendChild(i)):t=k),o=!n&&[],(r=E.exec(e))?[t.createElement(r[1])]:(r=_e([e],t,o),o&&o.length&&S(o).remove(),S.merge([],r.childNodes)));var i,r,o},S.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return-1<a&&(i=Tt(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<s.length&&S.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?S("<div>").append(S.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=S.css(e,"position"),u=S(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=S.css(e,"top"),l=S.css(e,"left"),r=("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(i=u.position()).top,i.left):(s=parseFloat(o)||0,parseFloat(l)||0),y(t)&&(t=t.call(e,n,S.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):u.css(h)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===S.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),r.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-S.css(i,"marginTop",!0),left:t.left-r.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;S.fn[t]=function(e){return W(this,function(e,t,n){var i;return g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n?i?i[r]:e[t]:void(i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n)},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Je(b.pixelPosition,function(e,t){if(t)return t=Ze(e,n),Ye.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(s,a){S.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,o){S.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return W(this,function(e,t,n){var i;return g(e)?0===o.indexOf("outer")?e["inner"+s]:e.document.documentElement["client"+s]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+s],i["scroll"+s],e.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?S.css(e,t,r):S.style(e,t,n,r)},a,n?e:void 0,n)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),S.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=a.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(a.call(arguments)))}).guid=e.guid=e.guid||S.guid++,r},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=j,S.isFunction=y,S.isWindow=g,S.camelCase=Y,S.type=_,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var on=C.jQuery,sn=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=sn),e&&C.jQuery===S&&(C.jQuery=on),S},e||(C.jQuery=C.$=S),S}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap={},e.jQuery)}(this,function(e,p){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;var t="transitionend";function n(e){var t=this,n=!1;return p(this).one(g.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||g.triggerTransitionEnd(t)},e),this}var g={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t,n=e.getAttribute("data-target");n&&"#"!==n||(n=(t=e.getAttribute("href"))&&"#"!==t?t.trim():"");try{return document.querySelector(n)?n:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=p(e).css("transition-duration"),n=p(e).css("transition-delay"),i=parseFloat(t),r=parseFloat(n);return i||r?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){p(e).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=t[i],s=o&&g.isElement(o)?"element":null==(a=o)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?g.findShadowRoot(e.parentNode):null;var t=e.getRootNode();return t instanceof ShadowRoot?t:null},jQueryDetection:function(){if(void 0===p)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=p.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};g.jQueryDetection(),p.fn.emulateTransitionEnd=n,p.event.special[g.TRANSITION_END]={bindType:t,delegateType:t,handle:function(e){if(p(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var r="alert",o="bs.alert",a=p.fn[r],c=function(){function i(e){this._element=e}var e=i.prototype;return e.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},e.dispose=function(){p.removeData(this._element,o),this._element=null},e._getRootElement=function(e){var t=g.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n=n||p(e).closest(".alert")[0]},e._triggerCloseEvent=function(e){var t=p.Event("close.bs.alert");return p(e).trigger(t),t},e._removeElement=function(t){var e,n=this;p(t).removeClass("show"),p(t).hasClass("fade")?(e=g.getTransitionDurationFromElement(t),p(t).one(g.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(e)):this._destroyElement(t)},e._destroyElement=function(e){p(e).detach().trigger("closed.bs.alert").remove()},i._jQueryInterface=function(n){return this.each(function(){var e=p(this),t=e.data(o);t||(t=new i(this),e.data(o,t)),"close"===n&&t[n](this)})},i._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},s(i,null,[{key:"VERSION",get:function(){return"4.5.2"}}]),i}();p(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',c._handleDismiss(new c)),p.fn[r]=c._jQueryInterface,p.fn[r].Constructor=c,p.fn[r].noConflict=function(){return p.fn[r]=a,c._jQueryInterface};var u="button",h="bs.button",d=p.fn[u],f="active",m='[data-toggle^="button"]',v='input:not([type="hidden"])',b=function(){function n(e){this._element=e}var e=n.prototype;return e.toggle=function(){var e,t,n=!0,i=!0,r=p(this._element).closest('[data-toggle="buttons"]')[0];!r||(e=this._element.querySelector(v))&&("radio"===e.type&&(e.checked&&this._element.classList.contains(f)?n=!1:(t=r.querySelector(".active"))&&p(t).removeClass(f)),n&&("checkbox"!==e.type&&"radio"!==e.type||(e.checked=!this._element.classList.contains(f)),p(e).trigger("change")),e.focus(),i=!1),this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(f)),n&&p(this._element).toggleClass(f))},e.dispose=function(){p.removeData(this._element,h),this._element=null},n._jQueryInterface=function(t){return this.each(function(){var e=p(this).data(h);e||(e=new n(this),p(this).data(h,e)),"toggle"===t&&e[t]()})},s(n,null,[{key:"VERSION",get:function(){return"4.5.2"}}]),n}();p(document).on("click.bs.button.data-api",m,function(e){var t=e.target,n=t;if(p(t).hasClass("btn")||(t=p(t).closest(".btn")[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var i=t.querySelector(v);if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void e.preventDefault();("LABEL"!==n.tagName||i&&"checkbox"!==i.type)&&b._jQueryInterface.call(p(t),"toggle")}}).on("focus.bs.button.data-api blur.bs.button.data-api",m,function(e){var t=p(e.target).closest(".btn")[0];p(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),p(window).on("load.bs.button.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,n=e.length;t<n;t++){var i=e[t],r=i.querySelector(v);r.checked||r.hasAttribute("checked")?i.classList.add(f):i.classList.remove(f)}for(var o=0,s=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<s;o++){var a=e[o];"true"===a.getAttribute("aria-pressed")?a.classList.add(f):a.classList.remove(f)}}),p.fn[u]=b._jQueryInterface,p.fn[u].Constructor=b,p.fn[u].noConflict=function(){return p.fn[u]=d,b._jQueryInterface};var y="carousel",w="bs.carousel",_="."+w,x=p.fn[y],C={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},k={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},S="next",O="prev",T="slid"+_,j="active",E=".active.carousel-item",P={TOUCH:"touch",PEN:"pen"},D=function(){function o(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=o.prototype;return e.next=function(){this._isSliding||this._slide(S)},e.nextWhenVisible=function(){!document.hidden&&p(this._element).is(":visible")&&"hidden"!==p(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(O)},e.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(g.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(e){var t=this;this._activeElement=this._element.querySelector(E);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)p(this._element).one(T,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();var i=n<e?S:O;this._slide(i,this._items[e])}},e.dispose=function(){p(this._element).off(_),p.removeData(this._element,w),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(e){return e=l({},C,e),g.typeCheckConfig(y,e,k),e},e._handleSwipe=function(){var e,t=Math.abs(this.touchDeltaX);t<=40||(e=t/this.touchDeltaX,(this.touchDeltaX=0)<e&&this.prev(),e<0&&this.next())},e._addEventListeners=function(){var t=this;this._config.keyboard&&p(this._element).on("keydown.bs.carousel",function(e){return t._keydown(e)}),"hover"===this._config.pause&&p(this._element).on("mouseenter.bs.carousel",function(e){return t.pause(e)}).on("mouseleave.bs.carousel",function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var e,t,n=this;this._touchSupported&&(e=function(e){n._pointerEvent&&P[e.originalEvent.pointerType.toUpperCase()]?n.touchStartX=e.originalEvent.clientX:n._pointerEvent||(n.touchStartX=e.originalEvent.touches[0].clientX)},t=function(e){n._pointerEvent&&P[e.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=e.originalEvent.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(e){return n.cycle(e)},500+n._config.interval))},p(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(e){return e.preventDefault()}),this._pointerEvent?(p(this._element).on("pointerdown.bs.carousel",e),p(this._element).on("pointerup.bs.carousel",t),this._element.classList.add("pointer-event")):(p(this._element).on("touchstart.bs.carousel",e),p(this._element).on("touchmove.bs.carousel",function(e){var t;(t=e).originalEvent.touches&&1<t.originalEvent.touches.length?n.touchDeltaX=0:n.touchDeltaX=t.originalEvent.touches[0].clientX-n.touchStartX}),p(this._element).on("touchend.bs.carousel",t)))},e._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},e._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},e._getItemByDirection=function(e,t){var n=e===S,i=e===O,r=this._getItemIndex(t),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return t;var s=(r+(e===O?-1:1))%this._items.length;return-1==s?this._items[this._items.length-1]:this._items[s]},e._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(E)),r=p.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:i,to:n});return p(this._element).trigger(r),r},e._setActiveIndicatorElement=function(e){var t,n;this._indicatorsElement&&(t=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),p(t).removeClass(j),(n=this._indicatorsElement.children[this._getItemIndex(e)])&&p(n).addClass(j))},e._slide=function(e,t){var n,i,r,o,s,a=this,l=this._element.querySelector(E),c=this._getItemIndex(l),u=t||l&&this._getItemByDirection(e,l),h=this._getItemIndex(u),d=Boolean(this._interval),f=e===S?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right");u&&p(u).hasClass(j)?this._isSliding=!1:this._triggerSlideEvent(u,f).isDefaultPrevented()||l&&u&&(this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(u),r=p.Event(T,{relatedTarget:u,direction:f,from:c,to:h}),p(this._element).hasClass("slide")?(p(u).addClass(i),g.reflow(u),p(l).addClass(n),p(u).addClass(n),(o=parseInt(u.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=o):this._config.interval=this._config.defaultInterval||this._config.interval,s=g.getTransitionDurationFromElement(l),p(l).one(g.TRANSITION_END,function(){p(u).removeClass(n+" "+i).addClass(j),p(l).removeClass(j+" "+i+" "+n),a._isSliding=!1,setTimeout(function(){return p(a._element).trigger(r)},0)}).emulateTransitionEnd(s)):(p(l).removeClass(j),p(u).addClass(j),this._isSliding=!1,p(this._element).trigger(r)),d&&this.cycle())},o._jQueryInterface=function(i){return this.each(function(){var e=p(this).data(w),t=l({},C,p(this).data());"object"==typeof i&&(t=l({},t,i));var n="string"==typeof i?i:t.slide;if(e||(e=new o(this,t),p(this).data(w,e)),"number"==typeof i)e.to(i);else if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}else t.interval&&t.ride&&(e.pause(),e.cycle())})},o._dataApiClickHandler=function(e){var t,n,i,r=g.getSelectorFromElement(this);!r||(t=p(r)[0])&&p(t).hasClass("carousel")&&(n=l({},p(t).data(),p(this).data()),(i=this.getAttribute("data-slide-to"))&&(n.interval=!1),o._jQueryInterface.call(p(t),n),i&&p(t).data(w).to(i),e.preventDefault())},s(o,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return C}}]),o}();p(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",D._dataApiClickHandler),p(window).on("load.bs.carousel.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,n=e.length;t<n;t++){var i=p(e[t]);D._jQueryInterface.call(i,i.data())}}),p.fn[y]=D._jQueryInterface,p.fn[y].Constructor=D,p.fn[y].noConflict=function(){return p.fn[y]=x,D._jQueryInterface};var A="collapse",M="bs.collapse",I=p.fn[A],L={toggle:!0,parent:""},N={toggle:"boolean",parent:"(string|element)"},F="show",z="collapse",H="collapsing",R="collapsed",$='[data-toggle="collapse"]',V=function(){function a(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll($)),i=0,r=n.length;i<r;i++){var o=n[i],s=g.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&0<a.length&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=a.prototype;return e.toggle=function(){p(this._element).hasClass(F)?this.hide():this.show()},e.show=function(){var e,t,n,i,r,o,s=this;this._isTransitioning||p(this._element).hasClass(F)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return"string"==typeof s._config.parent?e.getAttribute("data-parent")===s._config.parent:e.classList.contains(z)})).length&&(e=null),e&&(t=p(e).not(this._selector).data(M))&&t._isTransitioning||(n=p.Event("show.bs.collapse"),p(this._element).trigger(n),n.isDefaultPrevented()||(e&&(a._jQueryInterface.call(p(e).not(this._selector),"hide"),t||p(e).data(M,null)),i=this._getDimension(),p(this._element).removeClass(z).addClass(H),this._element.style[i]=0,this._triggerArray.length&&p(this._triggerArray).removeClass(R).attr("aria-expanded",!0),this.setTransitioning(!0),r="scroll"+(i[0].toUpperCase()+i.slice(1)),o=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,function(){p(s._element).removeClass(H).addClass(z+" "+F),s._element.style[i]="",s.setTransitioning(!1),p(s._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(o),this._element.style[i]=this._element[r]+"px")))},e.hide=function(){var e=this;if(!this._isTransitioning&&p(this._element).hasClass(F)){var t=p.Event("hide.bs.collapse");if(p(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",g.reflow(this._element),p(this._element).addClass(H).removeClass(z+" "+F);var i=this._triggerArray.length;if(0<i)for(var r=0;r<i;r++){var o=this._triggerArray[r],s=g.getSelectorFromElement(o);null!==s&&(p([].slice.call(document.querySelectorAll(s))).hasClass(F)||p(o).addClass(R).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[n]="";var a=g.getTransitionDurationFromElement(this._element);p(this._element).one(g.TRANSITION_END,function(){e.setTransitioning(!1),p(e._element).removeClass(H).addClass(z).trigger("hidden.bs.collapse")}).emulateTransitionEnd(a)}}},e.setTransitioning=function(e){this._isTransitioning=e},e.dispose=function(){p.removeData(this._element,M),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(e){return(e=l({},L,e)).toggle=Boolean(e.toggle),g.typeCheckConfig(A,e,N),e},e._getDimension=function(){return p(this._element).hasClass("width")?"width":"height"},e._getParent=function(){var e,n=this;g.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var t='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',i=[].slice.call(e.querySelectorAll(t));return p(i).each(function(e,t){n._addAriaAndCollapsedClass(a._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function(e,t){var n=p(e).hasClass(F);t.length&&p(t).toggleClass(R,!n).attr("aria-expanded",n)},a._getTargetFromElement=function(e){var t=g.getSelectorFromElement(e);return t?document.querySelector(t):null},a._jQueryInterface=function(i){return this.each(function(){var e=p(this),t=e.data(M),n=l({},L,e.data(),"object"==typeof i&&i?i:{});if(!t&&n.toggle&&"string"==typeof i&&/show|hide/.test(i)&&(n.toggle=!1),t||(t=new a(this,n),e.data(M,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},s(a,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return L}}]),a}();p(document).on("click.bs.collapse.data-api",$,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=p(this),t=g.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(t));p(i).each(function(){var e=p(this),t=e.data(M)?"toggle":n.data();V._jQueryInterface.call(e,t)})}),p.fn[A]=V._jQueryInterface,p.fn[A].Constructor=V,p.fn[A].noConflict=function(){return p.fn[A]=I,V._jQueryInterface};var W="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,B=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(W&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}();var U=W&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},B))}};function q(e){return e&&"[object Function]"==={}.toString.call(e)}function Y(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function G(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function K(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Y(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:K(G(e))}function X(e){return e&&e.referenceNode?e.referenceNode:e}var Q=W&&!(!window.MSInputMethodContext||!document.documentMode),Z=W&&/MSIE 10/.test(navigator.userAgent);function J(e){return 11===e?Q:10!==e&&Q||Z}function ee(e){if(!e)return document.documentElement;for(var t=J(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Y(n,"position")?ee(n):n:e?e.ownerDocument.documentElement:document.documentElement}function te(e){return null!==e.parentNode?te(e.parentNode):e}function ne(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&ee(s.firstElementChild)!==s?ee(l):l;var c=te(e);return c.host?ne(c.host,t):ne(e,te(t).host)}function ie(e,t){var n="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"!==i&&"HTML"!==i)return e[n];var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[n]}function re(e,t){var n="x"===t?"Left":"Top",i="Left"==n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function oe(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],J(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function se(e){var t=e.body,n=e.documentElement,i=J(10)&&getComputedStyle(n);return{height:oe("Height",t,n,i),width:oe("Width",t,n,i)}}var ae=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},le=function(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e};function ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function de(e){return he({},e,{right:e.left+e.width,bottom:e.top+e.height})}function fe(e){var t,n,i={};try{J(10)?(i=e.getBoundingClientRect(),t=ie(e,"top"),n=ie(e,"left"),i.top+=t,i.left+=n,i.bottom+=t,i.right+=n):i=e.getBoundingClientRect()}catch(e){}var r,o={left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top},s="HTML"===e.nodeName?se(e.ownerDocument):{},a=s.width||e.clientWidth||o.width,l=s.height||e.clientHeight||o.height,c=e.offsetWidth-a,u=e.offsetHeight-l;return(c||u)&&(c-=re(r=Y(e),"x"),u-=re(r,"y"),o.width-=c,o.height-=u),de(o)}function pe(e,t,n){var i=2<arguments.length&&void 0!==n&&n,r=J(10),o="HTML"===t.nodeName,s=fe(e),a=fe(t),l=K(e),c=Y(t),u=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);i&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d,f,p=de({top:s.top-a.top-u,left:s.left-a.left-h,width:s.width,height:s.height});return p.marginTop=0,p.marginLeft=0,!r&&o&&(d=parseFloat(c.marginTop),f=parseFloat(c.marginLeft),p.top-=u-d,p.bottom-=u-d,p.left-=h-f,p.right-=h-f,p.marginTop=d,p.marginLeft=f),(r&&!i?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=function(e,t,n){var i=2<arguments.length&&void 0!==n&&n,r=ie(t,"top"),o=ie(t,"left"),s=i?-1:1;return e.top+=r*s,e.bottom+=r*s,e.left+=o*s,e.right+=o*s,e}(p,t)),p}function ge(e){if(!e||!e.parentElement||J())return document.documentElement;for(var t=e.parentElement;t&&"none"===Y(t,"transform");)t=t.parentElement;return t||document.documentElement}function me(e,t,n,i,r){var o,s,a,l,c,u=4<arguments.length&&void 0!==r&&r,h={top:0,left:0},d=u?ge(e):ne(e,X(t));"viewport"===i?h=function(e,t){var n=1<arguments.length&&void 0!==t&&t,i=e.ownerDocument.documentElement,r=pe(e,i),o=Math.max(i.clientWidth,window.innerWidth||0),s=Math.max(i.clientHeight,window.innerHeight||0),a=n?0:ie(i),l=n?0:ie(i,"left");return de({top:a-r.top+r.marginTop,left:l-r.left+r.marginLeft,width:o,height:s})}(d,u):(o=void 0,"scrollParent"===i?"BODY"===(o=K(G(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===i?e.ownerDocument.documentElement:i,s=pe(o,d,u),"HTML"!==o.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===Y(t,"position"))return!0;var i=G(t);return!!i&&e(i)}(d)?h=s:(l=(a=se(e.ownerDocument)).height,c=a.width,h.top+=s.top-s.marginTop,h.bottom=l+s.top,h.left+=s.left-s.marginLeft,h.right=c+s.left));var f="number"==typeof(n=n||0);return h.left+=f?n:n.left||0,h.top+=f?n:n.top||0,h.right-=f?n:n.right||0,h.bottom-=f?n:n.bottom||0,h}function ve(e,t,i,n,r,o){var s=5<arguments.length&&void 0!==o?o:0;if(-1===e.indexOf("auto"))return e;var a=me(i,n,s,r),l={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(l).map(function(e){return he({key:e},l[e],{area:(t=l[e]).width*t.height});var t}).sort(function(e,t){return t.area-e.area}),u=c.filter(function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight}),h=0<u.length?u[0].key:c[0].key,d=e.split("-")[1];return h+(d?"-"+d:"")}function be(e,t,n,i){var r=3<arguments.length&&void 0!==i?i:null;return pe(n,r?ge(t):ne(t,X(n)),r)}function ye(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function we(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function _e(e,t,n){n=n.split("-")[0];var i=ye(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=t[s]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[c]:t[we(a)],r}function xe(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ce(e,n,t){return(void 0===t?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=xe(e,function(e){return e[t]===n});return e.indexOf(i)}(e,"name",t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&q(t)&&(n.offsets.popper=de(n.offsets.popper),n.offsets.reference=de(n.offsets.reference),n=t(n,e))}),n}function ke(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function Se(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function Oe(e){var t=e.ownerDocument;return t?t.defaultView:window}function Te(e,t,n,i){n.updateBound=i,Oe(e).addEventListener("resize",n.updateBound,{passive:!0});var r=K(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(n,i,{passive:!0}),o||e(K(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function je(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Oe(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Ee(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Pe(n,i){Object.keys(i).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&Ee(i[e])&&(t="px"),n.style[e]=i[e]+t})}function De(e,t){function n(e){return e}var i=e.offsets,r=i.popper,o=i.reference,s=Math.round,a=Math.floor,l=s(o.width),c=s(r.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?u||h||l%2==c%2?s:a:n,f=t?s:n;return{left:d(l%2==1&&c%2==1&&!h&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:d(r.right)}}var Ae=W&&/Firefox/i.test(navigator.userAgent);function Me(e,t,n){var i,r,o=xe(e,function(e){return e.name===t}),s=!!o&&e.some(function(e){return e.name===n&&e.enabled&&e.order<o.order});return s||(i="`"+t+"`",r="`"+n+"`",console.warn(r+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")),s}var Ie=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Le=Ie.slice(3);function Ne(e,t){var n=1<arguments.length&&void 0!==t&&t,i=Le.indexOf(e),r=Le.slice(i+1).concat(Le.slice(0,i));return n?r.reverse():r}var Fe="flip",ze="clockwise",He="counterclockwise";function Re(e,r,o,t){var s=[0,0],a=-1!==["right","left"].indexOf(t),n=e.split(/(\+|\-)/).map(function(e){return e.trim()}),i=n.indexOf(xe(n,function(e){return-1!==e.search(/,|\s/)}));n[i]&&-1===n[i].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/;return(-1!==i?[n.slice(0,i).concat([n[i].split(l)[0]]),[n[i].split(l)[1]].concat(n.slice(i+1))]:[n]).map(function(e,t){var n=(1===t?!a:a)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return e;if(0!==s.indexOf("%"))return"vh"!==s&&"vw"!==s?o:("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return de(a)[t]/100*o}(e,n,r,o)})}).forEach(function(n,i){n.forEach(function(e,t){Ee(e)&&(s[i]+=e*("-"===n[t-1]?-1:1))})}),s}var $e={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,n,i,r,o,s,a,l=e.placement,c=l.split("-")[0],u=l.split("-")[1];return u&&(n=(t=e.offsets).reference,i=t.popper,s=(r=-1!==["bottom","top"].indexOf(c))?"width":"height",a={start:ue({},o=r?"left":"top",n[o]),end:ue({},o,n[o]+n[s]-i[s])},e.offsets.popper=he({},i,a[u])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0,l=Ee(+n)?[+n,0]:Re(n,o,s,a);return"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,i){var t=i.boundariesElement||ee(e.instance.popper);e.instance.reference===t&&(t=ee(t));var n=Se("transform"),r=e.instance.popper.style,o=r.top,s=r.left,a=r[n];r.top="",r.left="",r[n]="";var l=me(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed);r.top=o,r.left=s,r[n]=a,i.boundaries=l;var c=i.priority,u=e.offsets.popper,h={primary:function(e){var t=u[e];return u[e]<l[e]&&!i.escapeWithReference&&(t=Math.max(u[e],l[e])),ue({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=u[t];return u[e]>l[e]&&!i.escapeWithReference&&(n=Math.min(u[t],l[e]-("right"===e?u.width:u.height))),ue({},t,n)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=he({},u,h[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(e.offsets.popper[l]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Me(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",u=l?"Top":"Left",h=u.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",p=ye(i)[c];a[f]-p<s[h]&&(e.offsets.popper[h]-=s[h]-(a[f]-p)),a[h]+p>s[f]&&(e.offsets.popper[h]+=a[h]+p-s[f]),e.offsets.popper=de(e.offsets.popper);var g=a[h]+a[c]/2-p/2,m=Y(e.instance.popper),v=parseFloat(m["margin"+u]),b=parseFloat(m["border"+u+"Width"]),y=g-e.offsets.popper[h]-v-b,y=Math.max(Math.min(s[c]-p,y),0);return e.arrowElement=i,e.offsets.arrow=(ue(n={},h,Math.round(y)),ue(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(m,v){if(ke(m.instance.modifiers,"inner"))return m;if(m.flipped&&m.placement===m.originalPlacement)return m;var b=me(m.instance.popper,m.instance.reference,v.padding,v.boundariesElement,m.positionFixed),y=m.placement.split("-")[0],w=we(y),_=m.placement.split("-")[1]||"",x=[];switch(v.behavior){case Fe:x=[y,w];break;case ze:x=Ne(y);break;case He:x=Ne(y,!0);break;default:x=v.behavior}return x.forEach(function(e,t){if(y!==e||x.length===t+1)return m;y=m.placement.split("-")[0],w=we(y);var n,i=m.offsets.popper,r=m.offsets.reference,o=Math.floor,s="left"===y&&o(i.right)>o(r.left)||"right"===y&&o(i.left)<o(r.right)||"top"===y&&o(i.bottom)>o(r.top)||"bottom"===y&&o(i.top)<o(r.bottom),a=o(i.left)<o(b.left),l=o(i.right)>o(b.right),c=o(i.top)<o(b.top),u=o(i.bottom)>o(b.bottom),h="left"===y&&a||"right"===y&&l||"top"===y&&c||"bottom"===y&&u,d=-1!==["top","bottom"].indexOf(y),f=!!v.flipVariations&&(d&&"start"===_&&a||d&&"end"===_&&l||!d&&"start"===_&&c||!d&&"end"===_&&u),p=!!v.flipVariationsByContent&&(d&&"start"===_&&l||d&&"end"===_&&a||!d&&"start"===_&&u||!d&&"end"===_&&c),g=f||p;(s||h||g)&&(m.flipped=!0,(s||h)&&(y=x[t+1]),g&&(_="end"===(n=_)?"start":"start"===n?"end":n),m.placement=y+(_?"-"+_:""),m.offsets.popper=he({},m.offsets.popper,_e(m.instance.popper,m.offsets.reference,m.placement)),m=Ce(m.instance.modifiers,m,"flip"))}),m},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=we(t),e.offsets.popper=de(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Me(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=xe(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=xe(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,l=void 0!==o?o:t.gpuAcceleration,c=ee(e.instance.popper),u=fe(c),h={position:r.position},d=De(e,window.devicePixelRatio<2||!Ae),f="bottom"===n?"top":"bottom",p="right"===i?"left":"right",g=Se("transform"),m=void 0,v=void 0,v="bottom"==f?"HTML"===c.nodeName?-c.clientHeight+d.bottom:-u.height+d.bottom:d.top,m="right"==p?"HTML"===c.nodeName?-c.clientWidth+d.right:-u.width+d.right:d.left;l&&g?(h[g]="translate3d("+m+"px, "+v+"px, 0)",h[f]=0,h[p]=0,h.willChange="transform"):(s="bottom"==f?-1:1,a="right"==p?-1:1,h[f]=v*s,h[p]=m*a,h.willChange=f+", "+p);var b={"x-placement":e.placement};return e.attributes=he({},b,e.attributes),e.styles=he({},h,e.styles),e.arrowStyles=he({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Pe(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&Pe(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=be(r,t,e,n.positionFixed),s=ve(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Pe(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Ve=(le(We,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=be(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=ve(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=_e(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ce(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,ke(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Se("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=Te(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return je.call(this)}}]),We);function We(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};ae(this,We),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=U(this.update.bind(this)),this.options=he({},We.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(he({},We.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=he({},We.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return he({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&q(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}Ve.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ve.placements=Ie,Ve.Defaults=$e;var Be="dropdown",Ue="bs.dropdown",qe="."+Ue,Ye=".data-api",Ge=p.fn[Be],Ke=new RegExp("38|40|27"),Xe="hide"+qe,Qe="hidden"+qe,Ze="click"+qe+Ye,Je="keydown"+qe+Ye,et="disabled",tt="show",nt="dropdown-menu-right",it='[data-toggle="dropdown"]',rt=".dropdown-menu",ot={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},st={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},at=function(){function c(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=c.prototype;return e.toggle=function(){var e;this._element.disabled||p(this._element).hasClass(et)||(e=p(this._menu).hasClass(tt),c._clearMenus(),e||this.show(!0))},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||p(this._element).hasClass(et)||p(this._menu).hasClass(tt))){var t={relatedTarget:this._element},n=p.Event("show.bs.dropdown",t),i=c._getParentFromElement(this._element);if(p(i).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===Ve)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var r=this._element;"parent"===this._config.reference?r=i:g.isElement(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&p(i).addClass("position-static"),this._popper=new Ve(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===p(i).closest(".navbar-nav").length&&p(document.body).children().on("mouseover",null,p.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),p(this._menu).toggleClass(tt),p(i).toggleClass(tt).trigger(p.Event("shown.bs.dropdown",t))}}},e.hide=function(){var e,t,n;this._element.disabled||p(this._element).hasClass(et)||!p(this._menu).hasClass(tt)||(e={relatedTarget:this._element},t=p.Event(Xe,e),n=c._getParentFromElement(this._element),p(n).trigger(t),t.isDefaultPrevented()||(this._popper&&this._popper.destroy(),p(this._menu).toggleClass(tt),p(n).toggleClass(tt).trigger(p.Event(Qe,e))))},e.dispose=function(){p.removeData(this._element,Ue),p(this._element).off(qe),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;p(this._element).on("click.bs.dropdown",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(e){return e=l({},this.constructor.Default,p(this._element).data(),e),g.typeCheckConfig(Be,e,this.constructor.DefaultType),e},e._getMenuElement=function(){var e;return this._menu||(e=c._getParentFromElement(this._element))&&(this._menu=e.querySelector(rt)),this._menu},e._getPlacement=function(){var e=p(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=p(this._menu).hasClass(nt)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":p(this._menu).hasClass(nt)&&(t="bottom-end"),t},e._detectNavbar=function(){return 0<p(this._element).closest(".navbar").length},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),l({},e,this._config.popperConfig)},c._jQueryInterface=function(t){return this.each(function(){var e=p(this).data(Ue);if(e||(e=new c(this,"object"==typeof t?t:null),p(this).data(Ue,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},c._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(it)),n=0,i=t.length;n<i;n++){var r,o,s=c._getParentFromElement(t[n]),a=p(t[n]).data(Ue),l={relatedTarget:t[n]};e&&"click"===e.type&&(l.clickEvent=e),a&&(r=a._menu,p(s).hasClass(tt)&&(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&p.contains(s,e.target)||(o=p.Event(Xe,l),p(s).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&p(document.body).children().off("mouseover",null,p.noop),t[n].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),p(r).removeClass(tt),p(s).removeClass(tt).trigger(p.Event(Qe,l))))))}},c._getParentFromElement=function(e){var t,n=g.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},c._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||p(e.target).closest(rt).length)):Ke.test(e.which))&&!this.disabled&&!p(this).hasClass(et)){var t=c._getParentFromElement(this),n=p(t).hasClass(tt);if(n||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!n||n&&(27===e.which||32===e.which))return 27===e.which&&p(t.querySelector(it)).trigger("focus"),void p(this).trigger("click");var i,r=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(e){return p(e).is(":visible")});0!==r.length&&(i=r.indexOf(e.target),38===e.which&&0<i&&i--,40===e.which&&i<r.length-1&&i++,i<0&&(i=0),r[i].focus())}}},s(c,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return ot}},{key:"DefaultType",get:function(){return st}}]),c}();p(document).on(Je,it,at._dataApiKeydownHandler).on(Je,rt,at._dataApiKeydownHandler).on(Ze+" keyup.bs.dropdown.data-api",at._clearMenus).on(Ze,it,function(e){e.preventDefault(),e.stopPropagation(),at._jQueryInterface.call(p(this),"toggle")}).on(Ze,".dropdown form",function(e){e.stopPropagation()}),p.fn[Be]=at._jQueryInterface,p.fn[Be].Constructor=at,p.fn[Be].noConflict=function(){return p.fn[Be]=Ge,at._jQueryInterface};var lt="modal",ct="bs.modal",ut="."+ct,ht=p.fn[lt],dt={backdrop:!0,keyboard:!0,focus:!0,show:!0},ft={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},pt="hidden"+ut,gt="show"+ut,mt="focusin"+ut,vt="resize"+ut,bt="click.dismiss"+ut,yt="keydown.dismiss"+ut,wt="mousedown.dismiss"+ut,_t="modal-open",xt="fade",Ct="show",kt="modal-static",St=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ot=".sticky-top",Tt=function(){function r(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=r.prototype;return e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e.show=function(e){var t,n=this;this._isShown||this._isTransitioning||(p(this._element).hasClass(xt)&&(this._isTransitioning=!0),t=p.Event(gt,{relatedTarget:e}),p(this._element).trigger(t),this._isShown||t.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),p(this._element).on(bt,'[data-dismiss="modal"]',function(e){return n.hide(e)}),p(this._dialog).on(wt,function(){p(n._element).one("mouseup.dismiss.bs.modal",function(e){p(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)})))},e.hide=function(e){var t,n,i,r=this;e&&e.preventDefault(),this._isShown&&!this._isTransitioning&&(t=p.Event("hide.bs.modal"),p(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented()&&(this._isShown=!1,(n=p(this._element).hasClass(xt))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),p(document).off(mt),p(this._element).removeClass(Ct),p(this._element).off(bt),p(this._dialog).off(wt),n?(i=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,function(e){return r._hideModal(e)}).emulateTransitionEnd(i)):this._hideModal()))},e.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return p(e).off(ut)}),p(document).off(mt),p.removeData(this._element,ct),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(e){return e=l({},dt,e),g.typeCheckConfig(lt,e,ft),e},e._triggerBackdropTransition=function(){var e=this;if("static"===this._config.backdrop){var t=p.Event("hidePrevented.bs.modal");if(p(this._element).trigger(t),t.defaultPrevented)return;var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(kt);var i=g.getTransitionDurationFromElement(this._dialog);p(this._element).off(g.TRANSITION_END),p(this._element).one(g.TRANSITION_END,function(){e._element.classList.remove(kt),n||p(e._element).one(g.TRANSITION_END,function(){e._element.style.overflowY=""}).emulateTransitionEnd(e._element,i)}).emulateTransitionEnd(i),this._element.focus()}else this.hide()},e._showElement=function(e){var t=this,n=p(this._element).hasClass(xt),i=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),p(this._dialog).hasClass("modal-dialog-scrollable")&&i?i.scrollTop=0:this._element.scrollTop=0,n&&g.reflow(this._element),p(this._element).addClass(Ct),this._config.focus&&this._enforceFocus();function r(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,p(t._element).trigger(s)}var o,s=p.Event("shown.bs.modal",{relatedTarget:e});n?(o=g.getTransitionDurationFromElement(this._dialog),p(this._dialog).one(g.TRANSITION_END,r).emulateTransitionEnd(o)):r()},e._enforceFocus=function(){var t=this;p(document).off(mt).on(mt,function(e){document!==e.target&&t._element!==e.target&&0===p(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown?p(this._element).on(yt,function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()}):this._isShown||p(this._element).off(yt)},e._setResizeEvent=function(){var t=this;this._isShown?p(window).on(vt,function(e){return t.handleUpdate(e)}):p(window).off(vt)},e._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){p(document.body).removeClass(_t),e._resetAdjustments(),e._resetScrollbar(),p(e._element).trigger(pt)})},e._removeBackdrop=function(){this._backdrop&&(p(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(e){var t,n,i=this,r=p(this._element).hasClass(xt)?xt:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",r&&this._backdrop.classList.add(r),p(this._backdrop).appendTo(document.body),p(this._element).on(bt,function(e){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:e.target===e.currentTarget&&i._triggerBackdropTransition()}),r&&g.reflow(this._backdrop),p(this._backdrop).addClass(Ct),!e)return;if(!r)return void e();var o=g.getTransitionDurationFromElement(this._backdrop);p(this._backdrop).one(g.TRANSITION_END,e).emulateTransitionEnd(o)}else{!this._isShown&&this._backdrop?(p(this._backdrop).removeClass(Ct),t=function(){i._removeBackdrop(),e&&e()},p(this._element).hasClass(xt)?(n=g.getTransitionDurationFromElement(this._backdrop),p(this._backdrop).one(g.TRANSITION_END,t).emulateTransitionEnd(n)):t()):e&&e()}},e._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var e,t,n,i,r=this;this._isBodyOverflowing&&(e=[].slice.call(document.querySelectorAll(St)),t=[].slice.call(document.querySelectorAll(Ot)),p(e).each(function(e,t){var n=t.style.paddingRight,i=p(t).css("padding-right");p(t).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")}),p(t).each(function(e,t){var n=t.style.marginRight,i=p(t).css("margin-right");p(t).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")}),n=document.body.style.paddingRight,i=p(document.body).css("padding-right"),p(document.body).data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")),p(document.body).addClass(_t)},e._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(St));p(e).each(function(e,t){var n=p(t).data("padding-right");p(t).removeData("padding-right"),t.style.paddingRight=n||""});var t=[].slice.call(document.querySelectorAll(Ot));p(t).each(function(e,t){var n=p(t).data("margin-right");void 0!==n&&p(t).css("margin-right",n).removeData("margin-right")});var n=p(document.body).data("padding-right");p(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},r._jQueryInterface=function(n,i){return this.each(function(){var e=p(this).data(ct),t=l({},dt,p(this).data(),"object"==typeof n&&n?n:{});if(e||(e=new r(this,t),p(this).data(ct,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](i)}else t.show&&e.show(i)})},s(r,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return dt}}]),r}();p(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t,n=this,i=g.getSelectorFromElement(this);i&&(t=document.querySelector(i));var r=p(t).data(ct)?"toggle":l({},p(t).data(),p(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var o=p(t).one(gt,function(e){e.isDefaultPrevented()||o.one(pt,function(){p(n).is(":visible")&&n.focus()})});Tt._jQueryInterface.call(p(t),r,this)}),p.fn[lt]=Tt._jQueryInterface,p.fn[lt].Constructor=Tt,p.fn[lt].noConflict=function(){return p.fn[lt]=ht,Tt._jQueryInterface};var jt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Et={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Pt=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Dt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function At(e,o,t){if(0===e.length)return e;if(t&&"function"==typeof t)return t(e);for(var n=(new window.DOMParser).parseFromString(e,"text/html"),s=Object.keys(o),a=[].slice.call(n.body.querySelectorAll("*")),i=function(e){var t=a[e],n=t.nodeName.toLowerCase();if(-1===s.indexOf(t.nodeName.toLowerCase()))return t.parentNode.removeChild(t),"continue";var i=[].slice.call(t.attributes),r=[].concat(o["*"]||[],o[n]||[]);i.forEach(function(e){!function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===jt.indexOf(n)||Boolean(e.nodeValue.match(Pt)||e.nodeValue.match(Dt));for(var i=t.filter(function(e){return e instanceof RegExp}),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return 1}(e,r)&&t.removeAttribute(e.nodeName)})},r=0,l=a.length;r<l;r++)i(r);return n.body.innerHTML}var Mt="tooltip",It="bs.tooltip",Lt="."+It,Nt=p.fn[Mt],Ft="bs-tooltip",zt=new RegExp("(^|\\s)"+Ft+"\\S+","g"),Ht=["sanitize","whiteList","sanitizeFn"],Rt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},$t={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Vt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:Et,popperConfig:null},Wt="show",Bt={HIDE:"hide"+Lt,HIDDEN:"hidden"+Lt,SHOW:"show"+Lt,SHOWN:"shown"+Lt,INSERTED:"inserted"+Lt,CLICK:"click"+Lt,FOCUSIN:"focusin"+Lt,FOCUSOUT:"focusout"+Lt,MOUSEENTER:"mouseenter"+Lt,MOUSELEAVE:"mouseleave"+Lt},Ut="fade",qt="show",Yt="hover",Gt="focus",Kt=function(){function i(e,t){if(void 0===Ve)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var e=i.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=p(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),p(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(p(this.getTipElement()).hasClass(qt))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),p.removeData(this.element,this.constructor.DATA_KEY),p(this.element).off(this.constructor.EVENT_KEY),p(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&p(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===p(this.element).css("display"))throw new Error("Please use show on visible elements");var e=p.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){p(this.element).trigger(e);var n=g.findShadowRoot(this.element),i=p.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!i)return;var r=this.getTipElement(),o=g.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&p(r).addClass(Ut);var s="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);var l=this._getContainer();p(r).data(this.constructor.DATA_KEY,this),p.contains(this.element.ownerDocument.documentElement,this.tip)||p(r).appendTo(l),p(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Ve(this.element,r,this._getPopperConfig(a)),p(r).addClass(qt),"ontouchstart"in document.documentElement&&p(document.body).children().on("mouseover",null,p.noop);var c,u=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,p(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};p(this.tip).hasClass(Ut)?(c=g.getTransitionDurationFromElement(this.tip),p(this.tip).one(g.TRANSITION_END,u).emulateTransitionEnd(c)):u()}},e.hide=function(e){function t(){i._hoverState!==Wt&&r.parentNode&&r.parentNode.removeChild(r),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),p(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),e&&e()}var n,i=this,r=this.getTipElement(),o=p.Event(this.constructor.Event.HIDE);p(this.element).trigger(o),o.isDefaultPrevented()||(p(r).removeClass(qt),"ontouchstart"in document.documentElement&&p(document.body).children().off("mouseover",null,p.noop),this._activeTrigger.click=!1,this._activeTrigger[Gt]=!1,this._activeTrigger[Yt]=!1,p(this.tip).hasClass(Ut)?(n=g.getTransitionDurationFromElement(r),p(r).one(g.TRANSITION_END,t).emulateTransitionEnd(n)):t(),this._hoverState="")},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(e){p(this.getTipElement()).addClass(Ft+"-"+e)},e.getTipElement=function(){return this.tip=this.tip||p(this.config.template)[0],this.tip},e.setContent=function(){var e=this.getTipElement();this.setElementContent(p(e.querySelectorAll(".tooltip-inner")),this.getTitle()),p(e).removeClass(Ut+" "+qt)},e.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=At(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?p(t).parent().is(e)||e.empty().append(t):e.text(p(t).text())},e.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},e._getPopperConfig=function(e){var t=this;return l({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:g.isElement(this.config.container)?p(this.config.container):p(document).find(this.config.container)},e._getAttachment=function(e){return $t[e.toUpperCase()]},e._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(e){var t,n;"click"===e?p(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(e){return i.toggle(e)}):"manual"!==e&&(t=e===Yt?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,n=e===Yt?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT,p(i.element).on(t,i.config.selector,function(e){return i._enter(e)}).on(n,i.config.selector,function(e){return i._leave(e)}))}),this._hideModalHandler=function(){i.element&&i.hide()},p(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==e||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||p(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),p(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?Gt:Yt]=!0),p(t.getTipElement()).hasClass(qt)||t._hoverState===Wt?t._hoverState=Wt:(clearTimeout(t._timeout),t._hoverState=Wt,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===Wt&&t.show()},t.config.delay.show):t.show())},e._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||p(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),p(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?Gt:Yt]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},e._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},e._getConfig=function(e){var t=p(this.element).data();return Object.keys(t).forEach(function(e){-1!==Ht.indexOf(e)&&delete t[e]}),"number"==typeof(e=l({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),g.typeCheckConfig(Mt,e,this.constructor.DefaultType),e.sanitize&&(e.template=At(e.template,e.whiteList,e.sanitizeFn)),e},e._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},e._cleanTipClass=function(){var e=p(this.getTipElement()),t=e.attr("class").match(zt);null!==t&&t.length&&e.removeClass(t.join(""))},e._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},e._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(p(e).removeClass(Ut),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},i._jQueryInterface=function(n){return this.each(function(){var e=p(this).data(It),t="object"==typeof n&&n;if((e||!/dispose|hide/.test(n))&&(e||(e=new i(this,t),p(this).data(It,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},s(i,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return Vt}},{key:"NAME",get:function(){return Mt}},{key:"DATA_KEY",get:function(){return It}},{key:"Event",get:function(){return Bt}},{key:"EVENT_KEY",get:function(){return Lt}},{key:"DefaultType",get:function(){return Rt}}]),i}();p.fn[Mt]=Kt._jQueryInterface,p.fn[Mt].Constructor=Kt,p.fn[Mt].noConflict=function(){return p.fn[Mt]=Nt,Kt._jQueryInterface};var Xt="popover",Qt="bs.popover",Zt="."+Qt,Jt=p.fn[Xt],en="bs-popover",tn=new RegExp("(^|\\s)"+en+"\\S+","g"),nn=l({},Kt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),rn=l({},Kt.DefaultType,{content:"(string|element|function)"}),on={HIDE:"hide"+Zt,HIDDEN:"hidden"+Zt,SHOW:"show"+Zt,SHOWN:"shown"+Zt,INSERTED:"inserted"+Zt,CLICK:"click"+Zt,FOCUSIN:"focusin"+Zt,FOCUSOUT:"focusout"+Zt,MOUSEENTER:"mouseenter"+Zt,MOUSELEAVE:"mouseleave"+Zt},sn=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var r=i.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(e){p(this.getTipElement()).addClass(en+"-"+e)},r.getTipElement=function(){return this.tip=this.tip||p(this.config.template)[0],this.tip},r.setContent=function(){var e=p(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var e=p(this.getTipElement()),t=e.attr("class").match(tn);null!==t&&0<t.length&&e.removeClass(t.join(""))},i._jQueryInterface=function(n){return this.each(function(){var e=p(this).data(Qt),t="object"==typeof n?n:null;if((e||!/dispose|hide/.test(n))&&(e||(e=new i(this,t),p(this).data(Qt,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},s(i,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return nn}},{key:"NAME",get:function(){return Xt}},{key:"DATA_KEY",get:function(){return Qt}},{key:"Event",get:function(){return on}},{key:"EVENT_KEY",get:function(){return Zt}},{key:"DefaultType",get:function(){return rn}}]),i}(Kt);p.fn[Xt]=sn._jQueryInterface,p.fn[Xt].Constructor=sn,p.fn[Xt].noConflict=function(){return p.fn[Xt]=Jt,sn._jQueryInterface};var an="scrollspy",ln="bs.scrollspy",cn="."+ln,un=p.fn[an],hn={offset:10,method:"auto",target:""},dn={offset:"number",method:"string",target:"(string|element)"},fn="active",pn=".nav, .list-group",gn=".nav-link",mn=".list-group-item",vn="position",bn=function(){function n(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+gn+","+this._config.target+" "+mn+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,p(this._scrollElement).on("scroll.bs.scrollspy",function(e){return n._process(e)}),this.refresh(),this._process()}var e=n.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":vn,r="auto"===this._config.method?e:this._config.method,o=r===vn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var t,n=g.getSelectorFromElement(e);if(n&&(t=document.querySelector(n)),t){var i=t.getBoundingClientRect();if(i.width||i.height)return[p(t)[r]().top+o,n]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){p.removeData(this._element,ln),p(this._scrollElement).off(cn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(e){var t;return"string"!=typeof(e=l({},hn,"object"==typeof e&&e?e:{})).target&&g.isElement(e.target)&&((t=p(e.target).attr("id"))||(t=g.getUID(an),p(e.target).attr("id",t)),e.target="#"+t),g.typeCheckConfig(an,e,dn),e},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;){this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),n=p([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass(fn),n.addClass(fn)):(n.addClass(fn),n.parents(pn).prev(gn+", "+mn).addClass(fn),n.parents(pn).prev(".nav-item").children(gn).addClass(fn)),p(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains(fn)}).forEach(function(e){return e.classList.remove(fn)})},n._jQueryInterface=function(t){return this.each(function(){var e=p(this).data(ln);if(e||(e=new n(this,"object"==typeof t&&t),p(this).data(ln,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return hn}}]),n}();p(window).on("load.bs.scrollspy.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var n=p(e[t]);bn._jQueryInterface.call(n,n.data())}}),p.fn[an]=bn._jQueryInterface,p.fn[an].Constructor=bn,p.fn[an].noConflict=function(){return p.fn[an]=un,bn._jQueryInterface};var yn="bs.tab",wn=p.fn.tab,_n="active",xn=".active",Cn="> li > .active",kn=function(){function i(e){this._element=e}var e=i.prototype;return e.show=function(){var e,t,n,i,r,o,s,a,l=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&p(this._element).hasClass(_n)||p(this._element).hasClass("disabled")||(t=p(this._element).closest(".nav, .list-group")[0],n=g.getSelectorFromElement(this._element),t&&(i="UL"===t.nodeName||"OL"===t.nodeName?Cn:xn,r=(r=p.makeArray(p(t).find(i)))[r.length-1]),o=p.Event("hide.bs.tab",{relatedTarget:this._element}),s=p.Event("show.bs.tab",{relatedTarget:r}),r&&p(r).trigger(o),p(this._element).trigger(s),s.isDefaultPrevented()||o.isDefaultPrevented()||(n&&(e=document.querySelector(n)),this._activate(this._element,t),a=function(){var e=p.Event("hidden.bs.tab",{relatedTarget:l._element}),t=p.Event("shown.bs.tab",{relatedTarget:r});p(r).trigger(e),p(l._element).trigger(t)},e?this._activate(e,e.parentNode,a):a()))},e.dispose=function(){p.removeData(this._element,yn),this._element=null},e._activate=function(e,t,n){function i(){return o._transitionComplete(e,s,n)}var r,o=this,s=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?p(t).children(xn):p(t).find(Cn))[0],a=n&&s&&p(s).hasClass("fade");s&&a?(r=g.getTransitionDurationFromElement(s),p(s).removeClass("show").one(g.TRANSITION_END,i).emulateTransitionEnd(r)):i()},e._transitionComplete=function(e,t,n){var i,r,o;t&&(p(t).removeClass(_n),(i=p(t.parentNode).find("> .dropdown-menu .active")[0])&&p(i).removeClass(_n),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)),p(e).addClass(_n),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),g.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&p(e.parentNode).hasClass("dropdown-menu")&&((r=p(e).closest(".dropdown")[0])&&(o=[].slice.call(r.querySelectorAll(".dropdown-toggle")),p(o).addClass(_n)),e.setAttribute("aria-expanded",!0)),n&&n()},i._jQueryInterface=function(n){return this.each(function(){var e=p(this),t=e.data(yn);if(t||(t=new i(this),e.data(yn,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},s(i,null,[{key:"VERSION",get:function(){return"4.5.2"}}]),i}();p(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),kn._jQueryInterface.call(p(this),"show")}),p.fn.tab=kn._jQueryInterface,p.fn.tab.Constructor=kn,p.fn.tab.noConflict=function(){return p.fn.tab=wn,kn._jQueryInterface};var Sn="toast",On="bs.toast",Tn="."+On,jn=p.fn[Sn],En="click.dismiss"+Tn,Pn="show",Dn="showing",An={animation:"boolean",autohide:"boolean",delay:"number"},Mn={animation:!0,autohide:!0,delay:500},In=function(){function i(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var e=i.prototype;return e.show=function(){var e,t,n=this,i=p.Event("show.bs.toast");p(this._element).trigger(i),i.isDefaultPrevented()||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),e=function(){n._element.classList.remove(Dn),n._element.classList.add(Pn),p(n._element).trigger("shown.bs.toast"),n._config.autohide&&(n._timeout=setTimeout(function(){n.hide()},n._config.delay))},this._element.classList.remove("hide"),g.reflow(this._element),this._element.classList.add(Dn),this._config.animation?(t=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,e).emulateTransitionEnd(t)):e())},e.hide=function(){var e;this._element.classList.contains(Pn)&&(e=p.Event("hide.bs.toast"),p(this._element).trigger(e),e.isDefaultPrevented()||this._close())},e.dispose=function(){this._clearTimeout(),this._element.classList.contains(Pn)&&this._element.classList.remove(Pn),p(this._element).off(En),p.removeData(this._element,On),this._element=null,this._config=null},e._getConfig=function(e){return e=l({},Mn,p(this._element).data(),"object"==typeof e&&e?e:{}),g.typeCheckConfig(Sn,e,this.constructor.DefaultType),e},e._setListeners=function(){var e=this;p(this._element).on(En,'[data-dismiss="toast"]',function(){return e.hide()})},e._close=function(){function e(){n._element.classList.add("hide"),p(n._element).trigger("hidden.bs.toast")}var t,n=this;this._element.classList.remove(Pn),this._config.animation?(t=g.getTransitionDurationFromElement(this._element),p(this._element).one(g.TRANSITION_END,e).emulateTransitionEnd(t)):e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},i._jQueryInterface=function(n){return this.each(function(){var e=p(this),t=e.data(On);if(t||(t=new i(this,"object"==typeof n&&n),e.data(On,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](this)}})},s(i,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"DefaultType",get:function(){return An}},{key:"Default",get:function(){return Mn}}]),i}();p.fn[Sn]=In._jQueryInterface,p.fn[Sn].Constructor=In,p.fn[Sn].noConflict=function(){return p.fn[Sn]=jn,In._jQueryInterface},e.Alert=c,e.Button=b,e.Carousel=D,e.Collapse=V,e.Dropdown=at,e.Modal=Tt,e.Popover=sn,e.Scrollspy=bn,e.Tab=kn,e.Toast=In,e.Tooltip=Kt,e.Util=g,Object.defineProperty(e,"__esModule",{value:!0})}),function(l,h,g,m){"use strict";var e,r,o,s,d,t,c,f,u,i,n,a,p,v;function b(e,t){var n,i,r,o=[],s=0;e&&e.isDefaultPrevented()||(e.preventDefault(),t=t||{},e&&e.data&&(t=u(e.data.options,t)),n=t.$target||g(e.currentTarget).trigger("blur"),(r=g.fancybox.getInstance())&&r.$trigger&&r.$trigger.is(n)||(o=t.selector?g(t.selector):(i=n.attr("data-fancybox")||"")?(o=e.data?e.data.items:[]).length?o.filter('[data-fancybox="'+i+'"]'):g('[data-fancybox="'+i+'"]'):[n],(s=g(o).index(n))<0&&(s=0),(r=g.fancybox.open(o,t,s)).$trigger=n))}l.console=l.console||{info:function(e){}},g&&(g.fn.fancybox?console.info("fancyBox already initialized"):(e={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:g.noop,beforeLoad:g.noop,afterLoad:g.noop,beforeShow:g.noop,afterShow:g.noop,beforeClose:g.noop,afterClose:g.noop,onActivate:g.noop,onDeactivate:g.noop,clickContent:function(e,t){return"image"===e.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(e,t){return"image"===e.type&&"toggleControls"},clickSlide:function(e,t){return"image"===e.type?"toggleControls":"close"},dblclickContent:function(e,t){return"image"===e.type&&"zoom"},dblclickSlide:function(e,t){return"image"===e.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},r=g(l),o=g(h),s=0,d=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(e){return l.setTimeout(e,1e3/60)},t=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(e){l.clearTimeout(e)},c=function(){var e,t=h.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==m)return n[e];return"transitionend"}(),f=function(e){return e&&e.length&&e[0].offsetHeight},u=function(e,t){var n=g.extend(!0,{},e,t);return g.each(t,function(e,t){g.isArray(t)&&(n[e]=t)}),n},i=function(e,t,n){var i=this;i.opts=u({index:n},g.fancybox.defaults),g.isPlainObject(t)&&(i.opts=u(i.opts,t)),g.fancybox.isMobile&&(i.opts=u(i.opts,i.opts.mobile)),i.id=i.opts.id||++s,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(e),i.group.length&&i.init()},g.extend(i.prototype,{init:function(){var t,n,i=this,r=i.group[i.currIndex].opts;r.closeExisting&&g.fancybox.close(!0),g("body").addClass("fancybox-active"),!g.fancybox.getInstance()&&!1!==r.hideScrollbar&&!g.fancybox.isMobile&&h.body.scrollHeight>l.innerHeight&&(g("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-h.documentElement.clientWidth)+"px;}</style>"),g("body").addClass("compensate-for-scrollbar")),n="",g.each(r.buttons,function(e,t){n+=r.btnTpl[t]||""}),t=g(i.translate(i,r.baseTpl.replace("{{buttons}}",n).replace("{{arrows}}",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr("id","fancybox-container-"+i.id).addClass(r.baseClass).data("FancyBox",i).appendTo(r.parentEl),i.$refs={container:t},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(e){i.$refs[e]=t.find(".fancybox-"+e)}),i.trigger("onInit"),i.activate(),i.jumpTo(i.currIndex)},translate:function(e,t){var n=e.opts.i18n[e.opts.lang]||e.opts.i18n.en;return t.replace(/\{\{(\w+)\}\}/g,function(e,t){return n[t]===m?e:n[t]})},addContent:function(e){var t,c=this,n=g.makeArray(e);g.each(n,function(e,t){var n,i,r,o,s,a={},l={};g.isPlainObject(t)?l=(a=t).opts||t:"object"===g.type(t)&&g(t).length?(l=(n=g(t)).data()||{},(l=g.extend(!0,{},l,l.options)).$orig=n,a.src=c.opts.src||l.src||n.attr("href"),a.type||a.src||(a.type="inline",a.src=t)):a={type:"html",src:t+""},a.opts=g.extend(!0,{},c.opts,l),g.isArray(l.buttons)&&(a.opts.buttons=l.buttons),g.fancybox.isMobile&&a.opts.mobile&&(a.opts=u(a.opts,a.opts.mobile)),i=a.type||a.opts.type,o=a.src||"",!i&&o&&((r=o.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="video",a.opts.video.format||(a.opts.video.format="video/"+("ogv"===r[1]?"ogg":r[1]))):o.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":o.match(/\.(pdf)((\?|#).*)?$/i)?(i="iframe",a=g.extend(!0,a,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===o.charAt(0)&&(i="inline")),i?a.type=i:c.trigger("objectNeedsType",a),a.contentType||(a.contentType=-1<g.inArray(a.type,["html","inline","ajax"])?"html":a.type),a.index=c.group.length,"auto"==a.opts.smallBtn&&(a.opts.smallBtn=-1<g.inArray(a.type,["html","inline","ajax"])),"auto"===a.opts.toolbar&&(a.opts.toolbar=!a.opts.smallBtn),a.$thumb=a.opts.$thumb||null,a.opts.$trigger&&a.index===c.opts.index&&(a.$thumb=a.opts.$trigger.find("img:first"),a.$thumb.length&&(a.opts.$orig=a.opts.$trigger)),a.$thumb&&a.$thumb.length||!a.opts.$orig||(a.$thumb=a.opts.$orig.find("img:first")),a.$thumb&&!a.$thumb.length&&(a.$thumb=null),a.thumb=a.opts.thumb||(a.$thumb?a.$thumb[0].src:null),"function"===g.type(a.opts.caption)&&(a.opts.caption=a.opts.caption.apply(t,[c,a])),"function"===g.type(c.opts.caption)&&(a.opts.caption=c.opts.caption.apply(t,[c,a])),a.opts.caption instanceof g||(a.opts.caption=a.opts.caption===m?"":a.opts.caption+""),"ajax"===a.type&&1<(s=o.split(/\s+/,2)).length&&(a.src=s.shift(),a.opts.filter=s.shift()),a.opts.modal&&(a.opts=g.extend(!0,a.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),c.group.push(a)}),Object.keys(c.slides).length&&(c.updateControls(),(t=c.Thumbs)&&t.isActive&&(t.create(),t.focus()))},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-fancybox-close]",function(e){e.stopPropagation(),e.preventDefault(),i.close(e)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(e){e.stopPropagation(),e.preventDefault(),i.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(e){e.stopPropagation(),e.preventDefault(),i.next()}).on("click.fb","[data-fancybox-zoom]",function(e){i[i.isScaledDown()?"scaleToActual":"scaleToFit"]()}),r.on("orientationchange.fb resize.fb",function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?(i.requestId&&t(i.requestId),i.requestId=d(function(){i.update(e)})):(i.current&&"iframe"===i.current.type&&i.$refs.stage.hide(),setTimeout(function(){i.$refs.stage.show(),i.update(e)},g.fancybox.isMobile?600:250))}),o.on("keydown.fb",function(e){var t=(g.fancybox?g.fancybox.getInstance():null).current,n=e.keyCode||e.which;if(9!=n){if(!(!t.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||g(e.target).is("input,textarea,video,audio,select")))return 8===n||27===n?(e.preventDefault(),void i.close(e)):37===n||38===n?(e.preventDefault(),void i.previous()):39===n||40===n?(e.preventDefault(),void i.next()):void i.trigger("afterKeydown",e,n)}else t.opts.trapFocus&&i.focus(e)}),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,o.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(e){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1}),i.idleInterval=l.setInterval(function(){i.idleSecondsCounter++,i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&!i.isDragging&&(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls())},1e3))},removeEvents:function(){r.off("orientationchange.fb resize.fb"),o.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(e){return this.jumpTo(this.currPos-1,e)},next:function(e){return this.jumpTo(this.currPos+1,e)},jumpTo:function(e,i){var t,n,r,o,s,a,l,c,u,h=this,d=h.group.length;if(!(h.isDragging||h.isClosing||h.isAnimating&&h.firstRun)){if(e=parseInt(e,10),!(r=h.current?h.current.opts.loop:h.opts.loop)&&(e<0||d<=e))return!1;if(t=h.firstRun=!Object.keys(h.slides).length,s=h.current,h.prevIndex=h.currIndex,h.prevPos=h.currPos,o=h.createSlide(e),1<d&&((r||o.index<d-1)&&h.createSlide(e+1),(r||0<o.index)&&h.createSlide(e-1)),h.current=o,h.currIndex=o.index,h.currPos=o.pos,h.trigger("beforeShow",t),h.updateControls(),o.forcedDuration=m,g.isNumeric(i)?o.forcedDuration=i:i=o.opts[t?"animationDuration":"transitionDuration"],i=parseInt(i,10),n=h.isMoved(o),o.$slide.addClass("fancybox-slide--current"),t)return o.opts.animationEffect&&i&&h.$refs.container.css("transition-duration",i+"ms"),h.$refs.container.addClass("fancybox-is-open").trigger("focus"),h.loadSlide(o),void h.preload("image");a=g.fancybox.getTranslate(s.$slide),l=g.fancybox.getTranslate(h.$refs.stage),g.each(h.slides,function(e,t){g.fancybox.stop(t.$slide,!0)}),s.pos!==o.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),n?(u=a.left-(s.pos*a.width+s.pos*s.opts.gutter),g.each(h.slides,function(e,t){t.$slide.removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var n=t.pos*a.width+t.pos*t.opts.gutter;g.fancybox.setTranslate(t.$slide,{top:0,left:n-l.left+u}),t.pos!==o.pos&&t.$slide.addClass("fancybox-slide--"+(t.pos>o.pos?"next":"previous")),f(t.$slide),g.fancybox.animate(t.$slide,{top:0,left:(t.pos-o.pos)*a.width+(t.pos-o.pos)*t.opts.gutter},i,function(){t.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),t.pos===h.currPos&&h.complete()})})):i&&o.opts.transitionEffect&&(c="fancybox-animated fancybox-fx-"+o.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>o.pos?"next":"previous")),g.fancybox.animate(s.$slide,c,i,function(){s.$slide.removeClass(c).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),o.isLoaded?h.revealContent(o):h.loadSlide(o),h.preload("image")}},createSlide:function(e){var t,n=this,i=e%n.group.length;return i=i<0?n.group.length+i:i,!n.slides[e]&&n.group[i]&&(t=g('<div class="fancybox-slide"></div>').appendTo(n.$refs.stage),n.slides[e]=g.extend(!0,{},n.group[i],{pos:e,$slide:t,isLoaded:!1}),n.updateSlide(n.slides[e])),n.slides[e]},scaleToActual:function(e,t,n){var i,r,o,s,a,l=this,c=l.current,u=c.$content,h=g.fancybox.getTranslate(c.$slide).width,d=g.fancybox.getTranslate(c.$slide).height,f=c.width,p=c.height;l.isAnimating||l.isMoved()||!u||"image"!=c.type||!c.isLoaded||c.hasError||(l.isAnimating=!0,g.fancybox.stop(u),e=e===m?.5*h:e,t=t===m?.5*d:t,(i=g.fancybox.getTranslate(u)).top-=g.fancybox.getTranslate(c.$slide).top,i.left-=g.fancybox.getTranslate(c.$slide).left,s=f/i.width,a=p/i.height,r=.5*h-.5*f,o=.5*d-.5*p,h<f&&(0<(r=i.left*s-(e*s-e))&&(r=0),r<h-f&&(r=h-f)),d<p&&(0<(o=i.top*a-(t*a-t))&&(o=0),o<d-p&&(o=d-p)),l.updateCursor(f,p),g.fancybox.animate(u,{top:o,left:r,scaleX:s,scaleY:a},n||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(e){var t,n=this,i=n.current,r=i.$content;n.isAnimating||n.isMoved()||!r||"image"!=i.type||!i.isLoaded||i.hasError||(n.isAnimating=!0,g.fancybox.stop(r),t=n.getFitPos(i),n.updateCursor(t.width,t.height),g.fancybox.animate(r,{top:t.top,left:t.left,scaleX:t.width/r.width(),scaleY:t.height/r.height()},e||366,function(){n.isAnimating=!1}))},getFitPos:function(e){var t,n,i,r,o=e.$content,s=e.$slide,a=e.width||e.opts.width,l=e.height||e.opts.height,c={};return!!(e.isLoaded&&o&&o.length)&&(t=g.fancybox.getTranslate(this.$refs.stage).width,n=g.fancybox.getTranslate(this.$refs.stage).height,t-=parseFloat(s.css("paddingLeft"))+parseFloat(s.css("paddingRight"))+parseFloat(o.css("marginLeft"))+parseFloat(o.css("marginRight")),n-=parseFloat(s.css("paddingTop"))+parseFloat(s.css("paddingBottom"))+parseFloat(o.css("marginTop"))+parseFloat(o.css("marginBottom")),a&&l||(a=t,l=n),t-.5<(a*=i=Math.min(1,t/a,n/l))&&(a=t),n-.5<(l*=i)&&(l=n),"image"===e.type?(c.top=Math.floor(.5*(n-l))+parseFloat(s.css("paddingTop")),c.left=Math.floor(.5*(t-a))+parseFloat(s.css("paddingLeft"))):"video"===e.contentType&&(a/(r=e.opts.width&&e.opts.height?a/l:e.opts.ratio||16/9)<l?l=a/r:l*r<a&&(a=l*r)),c.width=a,c.height=l,c)},update:function(n){var i=this;g.each(i.slides,function(e,t){i.updateSlide(t,n)})},updateSlide:function(e,t){var n=this,i=e&&e.$content,r=e.width||e.opts.width,o=e.height||e.opts.height,s=e.$slide;n.adjustCaption(e),i&&(r||o||"video"===e.contentType)&&!e.hasError&&(g.fancybox.stop(i),g.fancybox.setTranslate(i,n.getFitPos(e)),e.pos===n.currPos&&(n.isAnimating=!1,n.updateCursor())),n.adjustLayout(e),s.length&&(s.trigger("refresh"),e.pos===n.currPos&&n.$refs.toolbar.add(n.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",s.get(0).scrollHeight>s.get(0).clientHeight)),n.trigger("onUpdate",e,t)},centerSlide:function(e){var t=this,n=t.current,i=n.$slide;!t.isClosing&&n&&(i.siblings().css({transform:"",opacity:""}),i.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),g.fancybox.animate(i,{top:0,left:0,opacity:1},e===m?0:e,function(){i.css({transform:"",opacity:""}),n.isComplete||t.complete()},!1))},isMoved:function(e){var t,n,i=e||this.current;return!!i&&(n=g.fancybox.getTranslate(this.$refs.stage),t=g.fancybox.getTranslate(i.$slide),!i.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(t.top-n.top)||.5<Math.abs(t.left-n.left)))},updateCursor:function(e,t){var n,i,r=this.current,o=this.$refs.container;r&&!this.isClosing&&this.Guestures&&(o.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),i=!!(n=this.canPan(e,t))||this.isZoomable(),o.toggleClass("fancybox-is-zoomable",i),g("[data-fancybox-zoom]").prop("disabled",!i),n?o.addClass("fancybox-can-pan"):i&&("zoom"===r.opts.clickContent||g.isFunction(r.opts.clickContent)&&"zoom"==r.opts.clickContent(r))?o.addClass("fancybox-can-zoomIn"):r.opts.touch&&(r.opts.touch.vertical||1<this.group.length)&&"video"!==r.contentType&&o.addClass("fancybox-can-swipe"))},isZoomable:function(){var e,t=this.current;if(t&&!this.isClosing&&"image"===t.type&&!t.hasError){if(!t.isLoaded)return!0;if((e=this.getFitPos(t))&&(t.width>e.width||t.height>e.height))return!0}return!1},isScaledDown:function(e,t){var n=!1,i=this.current,r=i.$content;return e!==m&&t!==m?n=e<i.width&&t<i.height:r&&(n=(n=g.fancybox.getTranslate(r)).width<i.width&&n.height<i.height),n},canPan:function(e,t){var n=this.current,i=null,r=!1;return"image"===n.type&&(n.isComplete||e&&t)&&!n.hasError&&(r=this.getFitPos(n),e!==m&&t!==m?i={width:e,height:t}:n.isComplete&&(i=g.fancybox.getTranslate(n.$content)),i&&r&&(r=1.5<Math.abs(i.width-r.width)||1.5<Math.abs(i.height-r.height))),r},loadSlide:function(n){var e,t,i,r=this;if(!n.isLoading&&!n.isLoaded){if(!(n.isLoading=!0)===r.trigger("beforeLoad",n))return n.isLoading=!1;switch(e=n.type,(t=n.$slide).off("refresh").trigger("onReset").addClass(n.opts.slideClass),e){case"image":r.setImage(n);break;case"iframe":r.setIframe(n);break;case"html":r.setContent(n,n.src||n.content);break;case"video":r.setContent(n,n.opts.video.tpl.replace(/\{\{src\}\}/gi,n.src).replace("{{format}}",n.opts.videoFormat||n.opts.video.format||"").replace("{{poster}}",n.thumb||""));break;case"inline":g(n.src).length?r.setContent(n,g(n.src)):r.setError(n);break;case"ajax":r.showLoading(n),i=g.ajax(g.extend({},n.opts.ajax.settings,{url:n.src,success:function(e,t){"success"===t&&r.setContent(n,e)},error:function(e,t){e&&"abort"!==t&&r.setError(n)}})),t.one("onReset",function(){i.abort()});break;default:r.setError(n)}return!0}},setImage:function(t){var e,n=this;setTimeout(function(){var e=t.$image;n.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||n.showLoading(t)},50),n.checkSrcset(t),t.$content=g('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,(e=h.createElement("img")).onerror=function(){g(this).remove(),t.$ghost=null},e.onload=function(){n.afterLoad(t)},t.$ghost=g(e).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),n.setBigImage(t)},checkSrcset:function(e){var t,n,i,r,o=e.opts.srcset||e.opts.image.srcset;if(o){i=l.devicePixelRatio||1,r=l.innerWidth*i,(n=o.split(",").map(function(e){var i={};return e.trim().split(/\s+/).forEach(function(e,t){var n=parseInt(e.substring(0,e.length-1),10);if(0===t)return i.url=e;n&&(i.value=n,i.postfix=e[e.length-1])}),i})).sort(function(e,t){return e.value-t.value});for(var s=0;s<n.length;s++){var a=n[s];if("w"===a.postfix&&a.value>=r||"x"===a.postfix&&a.value>=i){t=a;break}}!t&&n.length&&(t=n[n.length-1]),t&&(e.src=t.url,e.width&&e.height&&"w"==t.postfix&&(e.height=e.width/e.height*t.value,e.width=t.value),e.opts.srcset=o)}},setBigImage:function(t){var n=this,e=h.createElement("img"),i=g(e);t.$image=i.one("error",function(){n.setError(t)}).one("load",function(){var e;t.$ghost||(n.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),n.afterLoad(t)),n.isClosing||(t.opts.srcset&&((e=t.opts.sizes)&&"auto"!==e||(e=(1<t.width/t.height&&1<r.width()/r.height()?"100":Math.round(t.width/t.height*100))+"vw"),i.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!n.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),n.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(e.complete||"complete"==e.readyState)&&i.naturalWidth&&i.naturalHeight?i.trigger("load"):e.error&&i.trigger("error")},resolveImageSlideSize:function(e,t,n){var i=parseInt(e.opts.width,10),r=parseInt(e.opts.height,10);e.width=t,e.height=n,0<i&&(e.width=i,e.height=Math.floor(i*n/t)),0<r&&(e.width=Math.floor(r*t/n),e.height=r)},setIframe:function(r){var o,t=this,s=r.opts.iframe,a=r.$slide;r.$content=g('<div class="fancybox-content'+(s.preload?" fancybox-is-hidden":"")+'"></div>').css(s.css).appendTo(a),a.addClass("fancybox-slide--"+r.contentType),r.$iframe=o=g(s.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(s.attr).appendTo(r.$content),s.preload?(t.showLoading(r),o.on("load.fb error.fb",function(e){this.isReady=1,r.$slide.trigger("refresh"),t.afterLoad(r)}),a.on("refresh.fb",function(){var e,t=r.$content,n=s.css.width,i=s.css.height;if(1===o[0].isReady){try{e=o.contents().find("body")}catch(e){}e&&e.length&&e.children().length&&(a.css("overflow","visible"),t.css({width:"100%","max-width":"100%",height:"9999px"}),n===m&&(n=Math.ceil(Math.max(e[0].clientWidth,e.outerWidth(!0)))),t.css("width",n||"").css("max-width",""),i===m&&(i=Math.ceil(Math.max(e[0].clientHeight,e.outerHeight(!0)))),t.css("height",i||""),a.css("overflow","auto")),t.removeClass("fancybox-is-hidden")}})):t.afterLoad(r),o.attr("src",r.src),a.one("onReset",function(){try{g(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(e){}g(this).off("refresh.fb").empty(),r.isLoaded=!1,r.isRevealed=!1})},setContent:function(e,t){var n;this.isClosing||(this.hideLoading(e),e.$content&&g.fancybox.stop(e.$content),e.$slide.empty(),(n=t)&&n.hasOwnProperty&&n instanceof g&&t.parent().length?((t.hasClass("fancybox-content")||t.parent().hasClass("fancybox-content"))&&t.parents(".fancybox-slide").trigger("onReset"),e.$placeholder=g("<div>").hide().insertAfter(t),t.css("display","inline-block")):e.hasError||("string"===g.type(t)&&(t=g("<div>").append(g.trim(t)).contents()),e.opts.filter&&(t=g("<div>").html(t).find(e.opts.filter))),e.$slide.one("onReset",function(){g(this).find("video,audio").trigger("pause"),e.$placeholder&&(e.$placeholder.after(t.removeClass("fancybox-content").hide()).remove(),e.$placeholder=null),e.$smallBtn&&(e.$smallBtn.remove(),e.$smallBtn=null),e.hasError||(g(this).empty(),e.isLoaded=!1,e.isRevealed=!1)}),g(t).appendTo(e.$slide),g(t).is("video,audio")&&(g(t).addClass("fancybox-video"),g(t).wrap("<div></div>"),e.contentType="video",e.opts.width=e.opts.width||g(t).attr("width"),e.opts.height=e.opts.height||g(t).attr("height")),e.$content=e.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),e.$content.siblings().hide(),e.$content.length||(e.$content=e.$slide.wrapInner("<div></div>").children().first()),e.$content.addClass("fancybox-content"),e.$slide.addClass("fancybox-slide--"+e.contentType),this.afterLoad(e))},setError:function(e){e.hasError=!0,e.$slide.trigger("onReset").removeClass("fancybox-slide--"+e.contentType).addClass("fancybox-slide--error"),e.contentType="html",this.setContent(e,this.translate(e,e.opts.errorTpl)),e.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(e){(e=e||this.current)&&!e.$spinner&&(e.$spinner=g(this.translate(this,this.opts.spinnerTpl)).appendTo(e.$slide).hide().fadeIn("fast"))},hideLoading:function(e){(e=e||this.current)&&e.$spinner&&(e.$spinner.stop().remove(),delete e.$spinner)},afterLoad:function(e){this.isClosing||(e.isLoading=!1,e.isLoaded=!0,this.trigger("afterLoad",e),this.hideLoading(e),!e.opts.smallBtn||e.$smallBtn&&e.$smallBtn.length||(e.$smallBtn=g(this.translate(e,e.opts.btnTpl.smallBtn)).appendTo(e.$content)),e.opts.protect&&e.$content&&!e.hasError&&(e.$content.on("contextmenu.fb",function(e){return 2==e.button&&e.preventDefault(),!0}),"image"===e.type&&g('<div class="fancybox-spaceball"></div>').appendTo(e.$content)),this.adjustCaption(e),this.adjustLayout(e),e.pos===this.currPos&&this.updateCursor(),this.revealContent(e))},adjustCaption:function(e){var t,n=e||this.current,i=n.opts.caption,r=n.opts.preventCaptionOverlap,o=this.$refs.caption,s=!1;o.toggleClass("fancybox-caption--separate",r),r&&i&&i.length&&(n.pos!==this.currPos?((t=o.clone().appendTo(o.parent())).children().eq(0).empty().html(i),s=t.outerHeight(!0),t.empty().remove()):this.$caption&&(s=this.$caption.outerHeight(!0)),n.$slide.css("padding-bottom",s||""))},adjustLayout:function(e){var t,n,i,r,o=e||this.current;o.isLoaded&&!0!==o.opts.disableLayoutFix&&(o.$content.css("margin-bottom",""),o.$content.outerHeight()>o.$slide.height()+.5&&(i=o.$slide[0].style["padding-bottom"],r=o.$slide.css("padding-bottom"),0<parseFloat(r)&&(t=o.$slide[0].scrollHeight,o.$slide.css("padding-bottom",0),Math.abs(t-o.$slide[0].scrollHeight)<1&&(n=r),o.$slide.css("padding-bottom",i))),o.$content.css("margin-bottom",n))},revealContent:function(e){var t,n,i,r,o=this,s=e.$slide,a=!1,l=!1,c=o.isMoved(e),u=e.isRevealed;return e.isRevealed=!0,t=e.opts[o.firstRun?"animationEffect":"transitionEffect"],i=e.opts[o.firstRun?"animationDuration":"transitionDuration"],i=parseInt(e.forcedDuration===m?i:e.forcedDuration,10),!c&&e.pos===o.currPos&&i||(t=!1),"zoom"===t&&(e.pos===o.currPos&&i&&"image"===e.type&&!e.hasError&&(l=o.getThumbPos(e))?a=o.getFitPos(e):t="fade"),"zoom"===t?(o.isAnimating=!0,a.scaleX=a.width/l.width,a.scaleY=a.height/l.height,"auto"==(r=e.opts.zoomOpacity)&&(r=.1<Math.abs(e.width/e.height-l.width/l.height)),r&&(l.opacity=.1,a.opacity=1),g.fancybox.setTranslate(e.$content.removeClass("fancybox-is-hidden"),l),f(e.$content),void g.fancybox.animate(e.$content,a,i,function(){o.isAnimating=!1,o.complete()})):(o.updateSlide(e),t?(g.fancybox.stop(s),n="fancybox-slide--"+(e.pos>=o.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+t,s.addClass(n).removeClass("fancybox-slide--current"),e.$content.removeClass("fancybox-is-hidden"),f(s),"image"!==e.type&&e.$content.hide().show(0),void g.fancybox.animate(s,"fancybox-slide--current",i,function(){s.removeClass(n).css({transform:"",opacity:""}),e.pos===o.currPos&&o.complete()},!0)):(e.$content.removeClass("fancybox-is-hidden"),u||!c||"image"!==e.type||e.hasError||e.$content.hide().fadeIn("fast"),void(e.pos===o.currPos&&o.complete())))},getThumbPos:function(e){var t,n,i,r,o,s,a,l,c,u=e.$thumb;return!!(u&&(a=u[0])&&a.ownerDocument===h&&(g(".fancybox-container").css("pointer-events","none"),l={x:a.getBoundingClientRect().left+a.offsetWidth/2,y:a.getBoundingClientRect().top+a.offsetHeight/2},c=h.elementFromPoint(l.x,l.y)===a,g(".fancybox-container").css("pointer-events",""),c))&&(n=g.fancybox.getTranslate(u),i=parseFloat(u.css("border-top-width")||0),r=parseFloat(u.css("border-right-width")||0),o=parseFloat(u.css("border-bottom-width")||0),s=parseFloat(u.css("border-left-width")||0),t={top:n.top+i,left:n.left+s,width:n.width-r-s,height:n.height-i-o,scaleX:1,scaleY:1},0<n.width&&0<n.height&&t)},complete:function(){var e,n=this,t=n.current,i={};!n.isMoved()&&t.isLoaded&&(t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),n.preload("inline"),f(t.$slide),t.$slide.addClass("fancybox-slide--complete"),g.each(n.slides,function(e,t){t.pos>=n.currPos-1&&t.pos<=n.currPos+1?i[t.pos]=t:t&&(g.fancybox.stop(t.$slide),t.$slide.off().remove())}),n.slides=i),n.isAnimating=!1,n.updateCursor(),n.trigger("afterShow"),t.opts.video.autoStart&&t.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),n.next()}),t.opts.autoFocus&&"html"===t.contentType&&((e=t.$content.find("input[autofocus]:enabled:visible:first")).length?e.trigger("focus"):n.focus(null,!0)),t.$slide.scrollTop(0).scrollLeft(0))},preload:function(e){var t,n;this.group.length<2||(n=this.slides[this.currPos+1],(t=this.slides[this.currPos-1])&&t.type===e&&this.loadSlide(t),n&&n.type===e&&this.loadSlide(n))},focus:function(e,t){var n,i,r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");this.isClosing||((n=(n=!e&&this.current&&this.current.isComplete?this.current.$slide.find("*:visible"+(t?":not(.fancybox-close-small)":"")):this.$refs.container.find("*:visible")).filter(r).filter(function(){return"hidden"!==g(this).css("visibility")&&!g(this).hasClass("disabled")})).length?(i=n.index(h.activeElement),e&&e.shiftKey?(i<0||0==i)&&(e.preventDefault(),n.eq(n.length-1).trigger("focus")):(i<0||i==n.length-1)&&(e&&e.preventDefault(),n.eq(0).trigger("focus"))):this.$refs.container.trigger("focus"))},activate:function(){var t=this;g(".fancybox-container").each(function(){var e=g(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(e,t){function n(){u.cleanUp(e)}var i,r,o,s,a,l,c,u=this,h=u.current;return!u.isClosing&&(!(u.isClosing=!0)===u.trigger("beforeClose",e)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),o=h.$content,i=h.opts.animationEffect,r=g.isNumeric(t)?t:i?h.opts.animationDuration:0,h.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==e?g.fancybox.stop(h.$slide):i=!1,h.$slide.siblings().trigger("onReset").remove(),r&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",r+"ms"),u.hideLoading(h),u.hideControls(!0),u.updateCursor(),"zoom"!==i||o&&r&&"image"===h.type&&!u.isMoved()&&!h.hasError&&(c=u.getThumbPos(h))||(i="fade"),"zoom"===i?(g.fancybox.stop(o),l={top:(s=g.fancybox.getTranslate(o)).top,left:s.left,scaleX:s.width/c.width,scaleY:s.height/c.height,width:c.width,height:c.height},"auto"==(a=h.opts.zoomOpacity)&&(a=.1<Math.abs(h.width/h.height-c.width/c.height)),a&&(c.opacity=0),g.fancybox.setTranslate(o,l),f(o),g.fancybox.animate(o,c,r,n)):i&&r?g.fancybox.animate(h.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+i,r,n):!0===e?setTimeout(n,r):n(),!0))},cleanUp:function(e){var t,n,i,r=this.current.opts.$orig;this.current.$slide.trigger("onReset"),this.$refs.container.empty().remove(),this.trigger("afterClose",e),this.current.opts.backFocus&&(r&&r.length&&r.is(":visible")||(r=this.$trigger),r&&r.length&&(n=l.scrollX,i=l.scrollY,r.trigger("focus"),g("html, body").scrollTop(i).scrollLeft(n))),this.current=null,(t=g.fancybox.getInstance())?t.activate():(g("body").removeClass("fancybox-active compensate-for-scrollbar"),g("#fancybox-style-noscroll").remove())},trigger:function(e,t){var n,i=Array.prototype.slice.call(arguments,1),r=t&&t.opts?t:this.current;if(r?i.unshift(r):r=this,i.unshift(this),g.isFunction(r.opts[e])&&(n=r.opts[e].apply(r,i)),!1===n)return n;"afterClose"!==e&&this.$refs?this.$refs.container.trigger(e+".fb",i):o.trigger(e+".fb",i)},updateControls:function(){var e=this,t=e.current,n=t.index,i=e.$refs.container,r=e.$refs.caption,o=t.opts.caption;t.$slide.trigger("refresh"),o&&o.length?(e.$caption=r).children().eq(0).html(o):e.$caption=null,e.hasHiddenControls||e.isIdle||e.showControls(),i.find("[data-fancybox-count]").html(e.group.length),i.find("[data-fancybox-index]").html(n+1),i.find("[data-fancybox-prev]").prop("disabled",!t.opts.loop&&n<=0),i.find("[data-fancybox-next]").prop("disabled",!t.opts.loop&&n>=e.group.length-1),"image"===t.type?i.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",t.opts.image.src||t.src).show():t.opts.toolbar&&i.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),g(h.activeElement).is(":hidden,[disabled]")&&e.$refs.container.trigger("focus")},hideControls:function(e){var t=["infobar","toolbar","nav"];!e&&this.current.opts.preventCaptionOverlap||t.push("caption"),this.$refs.container.removeClass(t.map(function(e){return"fancybox-show-"+e}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var e=this.current?this.current.opts:this.opts,t=this.$refs.container;this.hasHiddenControls=!1,this.idleSecondsCounter=0,t.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<this.group.length)).toggleClass("fancybox-show-caption",!!this.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&1<this.group.length)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),g.fancybox={version:"3.5.7",defaults:e,getInstance:function(e){var t=g('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return t instanceof i&&("string"===g.type(e)?t[e].apply(t,n):"function"===g.type(e)&&e.apply(t,n),t)},open:function(e,t,n){return new i(e,t,n)},close:function(e){var t=this.getInstance();t&&(t.close(),!0===e&&this.close(e))},destroy:function(){this.close(!0),o.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(n=h.createElement("div"),l.getComputedStyle&&l.getComputedStyle(n)&&l.getComputedStyle(n).getPropertyValue("transform")&&!(h.documentMode&&h.documentMode<11)),getTranslate:function(e){var t;return!(!e||!e.length)&&{top:(t=e[0].getBoundingClientRect()).top||0,left:t.left||0,width:t.width,height:t.height,opacity:parseFloat(e.css("opacity"))}},setTranslate:function(e,t){var n="",i={};if(e&&t)return t.left===m&&t.top===m||(n=(t.left===m?e.position().left:t.left)+"px, "+(t.top===m?e.position().top:t.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),t.scaleX!==m&&t.scaleY!==m?n+=" scale("+t.scaleX+", "+t.scaleY+")":t.scaleX!==m&&(n+=" scaleX("+t.scaleX+")"),n.length&&(i.transform=n),t.opacity!==m&&(i.opacity=t.opacity),t.width!==m&&(i.width=t.width),t.height!==m&&(i.height=t.height),e.css(i)},animate:function(t,n,i,r,o){var s,a=this;g.isFunction(i)&&(r=i,i=null),a.stop(t),s=a.getTranslate(t),t.on(c,function(e){e&&e.originalEvent&&(!t.is(e.originalEvent.target)||"z-index"==e.originalEvent.propertyName)||(a.stop(t),g.isNumeric(i)&&t.css("transition-duration",""),g.isPlainObject(n)?n.scaleX!==m&&n.scaleY!==m&&a.setTranslate(t,{top:n.top,left:n.left,width:s.width*n.scaleX,height:s.height*n.scaleY,scaleX:1,scaleY:1}):!0!==o&&t.removeClass(n),g.isFunction(r)&&r(e))}),g.isNumeric(i)&&t.css("transition-duration",i+"ms"),g.isPlainObject(n)?(n.scaleX!==m&&n.scaleY!==m&&(delete n.width,delete n.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),g.fancybox.setTranslate(t,n)):t.addClass(n),t.data("timer",setTimeout(function(){t.trigger(c)},i+33))},stop:function(e,t){e&&e.length&&(clearTimeout(e.data("timer")),t&&e.trigger(c),e.off(c).css("transition-duration",""),e.parent().removeClass("fancybox-is-scaling"))}},g.fn.fancybox=function(e){var t;return(t=(e=e||{}).selector||!1)?g("body").off("click.fb-start",t).on("click.fb-start",t,{options:e},b):this.off("click.fb-start").on("click.fb-start",{items:this,options:e},b),this},o.on("click.fb-start","[data-fancybox]",b),o.on("click.fb-start","[data-fancybox-trigger]",function(e){g('[data-fancybox="'+g(this).attr("data-fancybox-trigger")+'"]').eq(g(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:g(this)})}),a=".fancybox-button",p="fancybox-focus",v=null,o.on("mousedown mouseup focus blur",a,function(e){switch(e.type){case"mousedown":v=g(this);break;case"mouseup":v=null;break;case"focusin":g(a).removeClass(p),g(this).is(v)||g(this).is("[disabled]")||g(this).addClass(p);break;case"focusout":g(a).removeClass(p)}})))}(window,document,jQuery),function(f){"use strict";function p(n,e,t){if(n)return t=t||"","object"===f.type(t)&&(t=f.param(t,!0)),f.each(e,function(e,t){n=n.replace("$"+e,t||"")}),t.length&&(n+=(0<n.indexOf("?")?"&":"?")+t),n}var i={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/?ll="+(e[9]?e[9]+"&z="+Math.floor(e[10])+(e[12]?e[12].replace(/^\//,"&"):""):e[12]+"").replace(/\?/,"&")+"&output="+(e[12]&&0<e[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/maps?q="+e[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};f(document).on("objectNeedsType.fb",function(e,t,r){var o,s,a,l,c,u,h=r.src||"",d=!1,n=f.extend(!0,{},i,r.opts.media);f.each(n,function(e,t){if(s=h.match(t.matcher)){if(d=t.type,u=e,c={},t.paramPlace&&s[t.paramPlace]){"?"==(l=s[t.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var n=0;n<l.length;++n){var i=l[n].split("=",2);2==i.length&&(c[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}}return a=f.extend(!0,{},t.params,r.opts[e],c),h="function"===f.type(t.url)?t.url.call(this,s,a,r):p(t.url,s,a),o="function"===f.type(t.thumb)?t.thumb.call(this,s,a,r):p(t.thumb,s),"youtube"===e?h=h.replace(/&t=((\d+)m)?(\d+)s/,function(e,t,n,i){return"&start="+((n?60*parseInt(n,10):0)+parseInt(i,10))}):"vimeo"===e&&(h=h.replace("&%23","#")),!1}}),d?(r.opts.thumb||r.opts.$thumb&&r.opts.$thumb.length||(r.opts.thumb=o),"iframe"===d&&(r.opts=f.extend(!0,r.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),f.extend(r,{type:d,src:h,origSrc:r.src,contentSource:u,contentType:"image"===d?"image":"gmap_place"==u||"gmap_search"==u?"map":"video"})):h&&(r.type=r.opts.defaultType)});var r={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(e){var t,n=this;this[e].loaded?setTimeout(function(){n.done(e)}):this[e].loading||(this[e].loading=!0,(t=document.createElement("script")).type="text/javascript",t.src=this[e].src,"youtube"===e?window.onYouTubeIframeAPIReady=function(){n[e].loaded=!0,n.done(e)}:t.onload=function(){n[e].loaded=!0,n.done(e)},document.body.appendChild(t))},done:function(e){var t,n;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(t=f.fancybox.getInstance())&&(n=t.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?new YT.Player(n.attr("id"),{events:{onStateChange:function(e){0==e.data&&t.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(n).on("ended",function(){t.next()}))}};f(document).on({"afterShow.fb":function(e,t,n){1<t.group.length&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&r.load(n.contentSource)}})}(jQuery),function(g,l,m){"use strict";function u(e){var t=[];for(var n in e=(e=e.originalEvent||e||g.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[n].pageX?t.push({x:e[n].pageX,y:e[n].pageY}):e[n].clientX&&t.push({x:e[n].clientX,y:e[n].clientY});return t}function v(e,t,n){return t&&e?"x"===n?e.x-t.x:"y"===n?e.y-t.y:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function c(e){if(e.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||m.isFunction(e.get(0).onclick)||e.data("selectable"))return 1;for(var t=0,n=e[0].attributes,i=n.length;t<i;t++)if("data-fancybox-"===n[t].nodeName.substr(0,14))return 1}function h(e){for(var t,n,i,r,o,s=!1;t=e.get(0),0,n=g.getComputedStyle(t)["overflow-y"],i=g.getComputedStyle(t)["overflow-x"],r=("scroll"===n||"auto"===n)&&t.scrollHeight>t.clientHeight,o=("scroll"===i||"auto"===i)&&t.scrollWidth>t.clientWidth,!(s=r||o)&&(e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body"););return s}function n(e){this.instance=e,this.$bg=e.$refs.bg,this.$stage=e.$refs.stage,this.$container=e.$refs.container,this.destroy(),this.$container.on("touchstart.fb.touch mousedown.fb.touch",m.proxy(this,"ontouchstart"))}var b=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||function(e){return g.setTimeout(e,1e3/60)},y=g.cancelAnimationFrame||g.webkitCancelAnimationFrame||g.mozCancelAnimationFrame||g.oCancelAnimationFrame||function(e){g.clearTimeout(e)};n.prototype.destroy=function(){this.$container.off(".fb.touch"),m(l).off(".fb.touch"),this.requestId&&(y(this.requestId),this.requestId=null),this.tapped&&(clearTimeout(this.tapped),this.tapped=null)},n.prototype.ontouchstart=function(e){var t=this,n=m(e.target),i=t.instance,r=i.current,o=r.$slide,s=r.$content,a="touchstart"==e.type;if(a&&t.$container.off("mousedown.fb.touch"),(!e.originalEvent||2!=e.originalEvent.button)&&o.length&&n.length&&!c(n)&&!c(n.parent())&&(n.is("img")||!(e.originalEvent.clientX>n[0].clientWidth+n.offset().left))){if(!r||i.isAnimating||r.$slide.hasClass("fancybox-animated"))return e.stopPropagation(),void e.preventDefault();t.realPoints=t.startPoints=u(e),t.startPoints.length&&(r.touch&&e.stopPropagation(),t.startEvent=e,t.canTap=!0,t.$target=n,t.$content=s,t.opts=r.opts.touch,t.isPanning=!1,t.isSwiping=!1,t.isZooming=!1,t.isScrolling=!1,t.canPan=i.canPan(),t.startTime=(new Date).getTime(),t.distanceX=t.distanceY=t.distance=0,t.canvasWidth=Math.round(o[0].clientWidth),t.canvasHeight=Math.round(o[0].clientHeight),t.contentLastPos=null,t.contentStartPos=m.fancybox.getTranslate(t.$content)||{top:0,left:0},t.sliderStartPos=m.fancybox.getTranslate(o),t.stagePos=m.fancybox.getTranslate(i.$refs.stage),t.sliderStartPos.top-=t.stagePos.top,t.sliderStartPos.left-=t.stagePos.left,t.contentStartPos.top-=t.stagePos.top,t.contentStartPos.left-=t.stagePos.left,m(l).off(".fb.touch").on(a?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",m.proxy(t,"ontouchend")).on(a?"touchmove.fb.touch":"mousemove.fb.touch",m.proxy(t,"ontouchmove")),m.fancybox.isMobile&&l.addEventListener("scroll",t.onscroll,!0),((t.opts||t.canPan)&&(n.is(t.$stage)||t.$stage.find(n).length)||(n.is(".fancybox-image")&&e.preventDefault(),m.fancybox.isMobile&&n.parents(".fancybox-caption").length))&&(t.isScrollable=h(n)||h(n.parent()),m.fancybox.isMobile&&t.isScrollable||e.preventDefault(),1!==t.startPoints.length&&!r.hasError||(t.canPan?(m.fancybox.stop(t.$content),t.isPanning=!0):t.isSwiping=!0,t.$container.addClass("fancybox-is-grabbing")),2===t.startPoints.length&&"image"===r.type&&(r.isLoaded||r.$ghost)&&(t.canTap=!1,t.isSwiping=!1,t.isPanning=!1,t.isZooming=!0,m.fancybox.stop(t.$content),t.centerPointStartX=.5*(t.startPoints[0].x+t.startPoints[1].x)-m(g).scrollLeft(),t.centerPointStartY=.5*(t.startPoints[0].y+t.startPoints[1].y)-m(g).scrollTop(),t.percentageOfImageAtPinchPointX=(t.centerPointStartX-t.contentStartPos.left)/t.contentStartPos.width,t.percentageOfImageAtPinchPointY=(t.centerPointStartY-t.contentStartPos.top)/t.contentStartPos.height,t.startDistanceBetweenFingers=v(t.startPoints[0],t.startPoints[1]))))}},n.prototype.onscroll=function(e){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},n.prototype.ontouchmove=function(e){var t=this;void 0===e.originalEvent.buttons||0!==e.originalEvent.buttons?t.isScrolling?t.canTap=!1:(t.newPoints=u(e),(t.opts||t.canPan)&&t.newPoints.length&&t.newPoints.length&&(t.isSwiping&&!0===t.isSwiping||e.preventDefault(),t.distanceX=v(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=v(t.newPoints[0],t.startPoints[0],"y"),t.distance=v(t.newPoints[0],t.startPoints[0]),0<t.distance&&(t.isSwiping?t.onSwipe(e):t.isPanning?t.onPan():t.isZooming&&t.onZoom()))):t.ontouchend(e)},n.prototype.onSwipe=function(e){var t,r=this,o=r.instance,n=r.isSwiping,i=r.sliderStartPos.left||0;if(!0!==n)"x"==n&&(0<r.distanceX&&(r.instance.group.length<2||0===r.instance.current.index&&!r.instance.current.opts.loop)?i+=Math.pow(r.distanceX,.8):r.distanceX<0&&(r.instance.group.length<2||r.instance.current.index===r.instance.group.length-1&&!r.instance.current.opts.loop)?i-=Math.pow(-r.distanceX,.8):i+=r.distanceX),r.sliderLastPos={top:"x"==n?0:r.sliderStartPos.top+r.distanceY,left:i},r.requestId&&(y(r.requestId),r.requestId=null),r.requestId=b(function(){r.sliderLastPos&&(m.each(r.instance.slides,function(e,t){var n=t.pos-r.instance.currPos;m.fancybox.setTranslate(t.$slide,{top:r.sliderLastPos.top,left:r.sliderLastPos.left+n*r.canvasWidth+n*t.opts.gutter})}),r.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(r.distance)){if(r.canTap=!1,o.group.length<2&&r.opts.vertical?r.isSwiping="y":o.isDragging||!1===r.opts.vertical||"auto"===r.opts.vertical&&800<m(g).width()?r.isSwiping="x":(t=Math.abs(180*Math.atan2(r.distanceY,r.distanceX)/Math.PI),r.isSwiping=45<t&&t<135?"y":"x"),"y"===r.isSwiping&&m.fancybox.isMobile&&r.isScrollable)return void(r.isScrolling=!0);o.isDragging=r.isSwiping,r.startPoints=r.newPoints,m.each(o.slides,function(e,t){var n,i;m.fancybox.stop(t.$slide),n=m.fancybox.getTranslate(t.$slide),i=m.fancybox.getTranslate(o.$refs.stage),t.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),t.pos===o.current.pos&&(r.sliderStartPos.top=n.top-i.top,r.sliderStartPos.left=n.left-i.left),m.fancybox.setTranslate(t.$slide,{top:n.top-i.top,left:n.left-i.left})}),o.SlideShow&&o.SlideShow.isActive&&o.SlideShow.stop()}},n.prototype.onPan=function(){var e=this;v(e.newPoints[0],e.realPoints[0])<(m.fancybox.isMobile?10:5)?e.startPoints=e.newPoints:(e.canTap=!1,e.contentLastPos=e.limitMovement(),e.requestId&&y(e.requestId),e.requestId=b(function(){m.fancybox.setTranslate(e.$content,e.contentLastPos)}))},n.prototype.limitMovement=function(){var e=this.canvasWidth,t=this.canvasHeight,n=this.distanceX,i=this.distanceY,r=this.contentStartPos,o=r.left,s=r.top,a=r.width,l=r.height,c=e<a?o+n:o,u=s+i,h=Math.max(0,.5*e-.5*a),d=Math.max(0,.5*t-.5*l),f=Math.min(e-a,.5*e-.5*a),p=Math.min(t-l,.5*t-.5*l);return 0<n&&h<c&&(c=h-1+Math.pow(-h+o+n,.8)||0),n<0&&c<f&&(c=f+1-Math.pow(f-o-n,.8)||0),0<i&&d<u&&(u=d-1+Math.pow(-d+s+i,.8)||0),i<0&&u<p&&(u=p+1-Math.pow(p-s-i,.8)||0),{top:u,left:c}},n.prototype.limitPosition=function(e,t,n,i){var r=this.canvasWidth,o=this.canvasHeight;return e=r<n?(e=0<e?0:e)<r-n?r-n:e:Math.max(0,r/2-n/2),{top:t=o<i?(t=0<t?0:t)<o-i?o-i:t:Math.max(0,o/2-i/2),left:e}},n.prototype.onZoom=function(){var e=this,t=e.contentStartPos,n=t.width,i=t.height,r=t.left,o=t.top,s=v(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,a=Math.floor(n*s),l=Math.floor(i*s),c=(n-a)*e.percentageOfImageAtPinchPointX,u=(i-l)*e.percentageOfImageAtPinchPointY,h=(e.newPoints[0].x+e.newPoints[1].x)/2-m(g).scrollLeft(),d=(e.newPoints[0].y+e.newPoints[1].y)/2-m(g).scrollTop(),f=h-e.centerPointStartX,p={top:o+(u+(d-e.centerPointStartY)),left:r+(c+f),scaleX:s,scaleY:s};e.canTap=!1,e.newWidth=a,e.newHeight=l,e.contentLastPos=p,e.requestId&&y(e.requestId),e.requestId=b(function(){m.fancybox.setTranslate(e.$content,e.contentLastPos)})},n.prototype.ontouchend=function(e){var t=this,n=t.isSwiping,i=t.isPanning,r=t.isZooming,o=t.isScrolling;if(t.endPoints=u(e),t.dMs=Math.max((new Date).getTime()-t.startTime,1),t.$container.removeClass("fancybox-is-grabbing"),m(l).off(".fb.touch"),l.removeEventListener("scroll",t.onscroll,!0),t.requestId&&(y(t.requestId),t.requestId=null),t.isSwiping=!1,t.isPanning=!1,t.isZooming=!1,t.isScrolling=!1,t.instance.isDragging=!1,t.canTap)return t.onTap(e);t.speed=100,t.velocityX=t.distanceX/t.dMs*.5,t.velocityY=t.distanceY/t.dMs*.5,i?t.endPanning():r?t.endZooming():t.endSwiping(n,o)},n.prototype.endSwiping=function(e,t){var n=this,i=!1,r=n.instance.group.length,o=Math.abs(n.distanceX),s="x"==e&&1<r&&(130<n.dMs&&10<o||50<o);n.sliderLastPos=null,"y"==e&&!t&&50<Math.abs(n.distanceY)?(m.fancybox.animate(n.instance.current.$slide,{top:n.sliderStartPos.top+n.distanceY+150*n.velocityY,opacity:0},200),i=n.instance.close(!0,250)):s&&0<n.distanceX?i=n.instance.previous(300):s&&n.distanceX<0&&(i=n.instance.next(300)),!1!==i||"x"!=e&&"y"!=e||n.instance.centerSlide(200),n.$container.removeClass("fancybox-is-sliding")},n.prototype.endPanning=function(){var e,t,n,i=this;i.contentLastPos&&(t=!1===i.opts.momentum||350<i.dMs?(e=i.contentLastPos.left,i.contentLastPos.top):(e=i.contentLastPos.left+500*i.velocityX,i.contentLastPos.top+500*i.velocityY),(n=i.limitPosition(e,t,i.contentStartPos.width,i.contentStartPos.height)).width=i.contentStartPos.width,n.height=i.contentStartPos.height,m.fancybox.animate(i.$content,n,366))},n.prototype.endZooming=function(){var e,t,n,i,r=this,o=r.instance.current,s=r.newWidth,a=r.newHeight;r.contentLastPos&&(e=r.contentLastPos.left,i={top:t=r.contentLastPos.top,left:e,width:s,height:a,scaleX:1,scaleY:1},m.fancybox.setTranslate(r.$content,i),s<r.canvasWidth&&a<r.canvasHeight?r.instance.scaleToFit(150):s>o.width||a>o.height?r.instance.scaleToActual(r.centerPointStartX,r.centerPointStartY,150):(n=r.limitPosition(e,t,s,a),m.fancybox.animate(r.$content,n,150)))},n.prototype.onTap=function(n){function e(e){var t=s.opts[e];if(m.isFunction(t)&&(t=t.apply(o,[s,n])),t)switch(t){case"close":o.close(i.startEvent);break;case"toggleControls":o.toggleControls();break;case"next":o.next();break;case"nextOrClose":1<o.group.length?o.next():o.close(i.startEvent);break;case"zoom":"image"==s.type&&(s.isLoaded||s.$ghost)&&(o.canPan()?o.scaleToFit():o.isScaledDown()?o.scaleToActual(l,c):o.group.length<2&&o.close(i.startEvent))}}var t,i=this,r=m(n.target),o=i.instance,s=o.current,a=n&&u(n)||i.startPoints,l=a[0]?a[0].x-m(g).scrollLeft()-i.stagePos.left:0,c=a[0]?a[0].y-m(g).scrollTop()-i.stagePos.top:0;if((!n.originalEvent||2!=n.originalEvent.button)&&(r.is("img")||!(l>r[0].clientWidth+r.offset().left))){if(r.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))t="Outside";else if(r.is(".fancybox-slide"))t="Slide";else{if(!o.current.$content||!o.current.$content.find(r).addBack().filter(r).length)return;t="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,50<Math.abs(l-i.tapX)||50<Math.abs(c-i.tapY))return this;e("dblclick"+t)}else i.tapX=l,i.tapY=c,s.opts["dblclick"+t]&&s.opts["dblclick"+t]!==s.opts["click"+t]?i.tapped=setTimeout(function(){i.tapped=null,o.isAnimating||e("click"+t)},500):e("click"+t);return this}},m(l).on("onActivate.fb",function(e,t){t&&!t.Guestures&&(t.Guestures=new n(t))}).on("beforeClose.fb",function(e,t){t&&t.Guestures&&t.Guestures.destroy()})}(window,document,jQuery),function(s,a){"use strict";a.extend(!0,a.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});function n(e){this.instance=e,this.init()}a.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var e=this,t=e.instance,n=t.group[t.currIndex].opts.slideShow;e.$button=t.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){e.toggle()}),t.group.length<2||!n?e.$button.hide():n.progress&&(e.$progress=a('<div class="fancybox-progress"></div>').appendTo(t.$refs.inner))},set:function(e){var t=this.instance,n=t.current;n&&(!0===e||n.opts.loop||t.currIndex<t.group.length-1)?this.isActive&&"video"!==n.contentType&&(this.$progress&&a.fancybox.animate(this.$progress.show(),{scaleX:1},n.opts.slideShow.speed),this.timer=setTimeout(function(){t.current.opts.loop||t.current.index!=t.group.length-1?t.next():t.jumpTo(0)},n.opts.slideShow.speed)):(this.stop(),t.idleSecondsCounter=0,t.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var e=this.instance.current;e&&(this.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.isActive=!0,e.isComplete&&this.set(!0),this.instance.trigger("onSlideShowChange",!0))},stop:function(){var e=this.instance.current;this.clear(),this.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),this.isActive=!1,this.instance.trigger("onSlideShowChange",!1),this.$progress&&this.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),a(s).on({"onInit.fb":function(e,t){t&&!t.SlideShow&&(t.SlideShow=new n(t))},"beforeShow.fb":function(e,t,n,i){var r=t&&t.SlideShow;i?r&&n.opts.slideShow.autoStart&&r.start():r&&r.isActive&&r.clear()},"afterShow.fb":function(e,t,n){var i=t&&t.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(e,t,n,i,r){var o=t&&t.SlideShow;!o||!n.opts.slideShow||80!==r&&32!==r||a(s.activeElement).is("button,a,input")||(i.preventDefault(),o.toggle())},"beforeClose.fb onDeactivate.fb":function(e,t){var n=t&&t.SlideShow;n&&n.stop()}}),a(s).on("visibilitychange",function(){var e=a.fancybox.getInstance(),t=e&&e.SlideShow;t&&t.isActive&&(s.hidden?t.clear():t.set())})}(document,jQuery),function(o,n){"use strict";var i,r=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t={},n=0;n<e.length;n++){var i=e[n];if(i&&i[1]in o){for(var r=0;r<i.length;r++)t[e[0][r]]=i[r];return t}}return!1}();r&&(i={request:function(e){(e=e||o.documentElement)[r.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){o[r.exitFullscreen]()},toggle:function(e){e=e||o.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(o[r.fullscreenElement])},enabled:function(){return Boolean(o[r.fullscreenEnabled])}},n.extend(!0,n.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),n(o).on(r.fullscreenchange,function(){var e=i.isFullscreen(),t=n.fancybox.getInstance();t&&(t.current&&"image"===t.current.type&&t.isAnimating&&(t.isAnimating=!1,t.update(!0,!0,0),t.isComplete||t.complete()),t.trigger("onFullscreenChange",e),t.$refs.container.toggleClass("fancybox-is-fullscreen",e),t.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!e).toggleClass("fancybox-button--fsexit",e))})),n(o).on({"onInit.fb":function(e,t){r?t&&t.group[t.currIndex].opts.fullScreen?(t.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(e){e.stopPropagation(),e.preventDefault(),i.toggle()}),t.opts.fullScreen&&!0===t.opts.fullScreen.autoStart&&i.request(),t.FullScreen=i):t&&t.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():t.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(e,t,n,i,r){t&&t.FullScreen&&70===r&&(i.preventDefault(),t.FullScreen.toggle())},"beforeClose.fb":function(e,t){t&&t.FullScreen&&t.$refs.container.hasClass("fancybox-is-fullscreen")&&i.exit()}})}(document,jQuery),function(e,o){"use strict";var s="fancybox-thumbs",a=s+"-active";o.fancybox.defaults=o.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},o.fancybox.defaults);function i(e){this.init(e)}o.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(e){var t=this,n=e.group,i=0;t.instance=e,t.opts=n[e.currIndex].opts.thumbs,(e.Thumbs=t).$button=e.$refs.toolbar.find("[data-fancybox-thumbs]");for(var r=0,o=n.length;r<o&&(n[r].thumb&&i++,!(1<i));r++);1<i&&t.opts?(t.$button.removeAttr("style").on("click",function(){t.toggle()}),t.isActive=!0):t.$button.hide()},create:function(){var n,e=this,t=e.instance,i=e.opts.parentEl,r=[];e.$grid||(e.$grid=o('<div class="'+s+" "+s+"-"+e.opts.axis+'"></div>').appendTo(t.$refs.container.find(i).addBack().filter(i)),e.$grid.on("click","a",function(){t.jumpTo(o(this).attr("data-index"))})),e.$list||(e.$list=o('<div class="'+s+'__list">').appendTo(e.$grid)),o.each(t.group,function(e,t){(n=t.thumb)||"image"!==t.type||(n=t.src),r.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(n&&n.length?' style="background-image:url('+n+')"':'class="fancybox-thumbs-missing"')+"></a>")}),e.$list[0].innerHTML=r.join(""),"x"===e.opts.axis&&e.$list.width(parseInt(e.$grid.css("padding-right"),10)+t.group.length*e.$list.children().eq(0).outerWidth(!0))},focus:function(e){var t,n,i=this.$list,r=this.$grid;this.instance.current&&(n=(t=i.children().removeClass(a).filter('[data-index="'+this.instance.current.index+'"]').addClass(a)).position(),"y"===this.opts.axis&&(n.top<0||n.top>i.height()-t.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},e):"x"===this.opts.axis&&(n.left<r.scrollLeft()||n.left>r.scrollLeft()+(r.width()-t.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},e))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),o(e).on({"onInit.fb":function(e,t){var n;t&&!t.Thumbs&&(n=new i(t)).isActive&&!0===n.opts.autoStart&&n.show()},"beforeShow.fb":function(e,t,n,i){var r=t&&t.Thumbs;r&&r.isVisible&&r.focus(i?0:250)},"afterKeydown.fb":function(e,t,n,i,r){var o=t&&t.Thumbs;o&&o.isActive&&71===r&&(i.preventDefault(),o.toggle())},"beforeClose.fb":function(e,t){var n=t&&t.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(e,o){"use strict";o.extend(!0,o.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(e,t){return!e.currentHash&&"inline"!==t.type&&"html"!==t.type&&(t.origSrc||t.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),o(e).on("click","[data-fancybox-share]",function(){var e,t,n,i=o.fancybox.getInstance(),r=i.current||null;r&&("function"===o.type(r.opts.share.url)&&(e=r.opts.share.url.apply(r,[i,r])),t=r.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===r.type?encodeURIComponent(r.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(e)).replace(/\{\{url_raw\}\}/g,(n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(e).replace(/[&<>"'`=\/]/g,function(e){return n[e]}))).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),o.fancybox.open({src:i.translate(i,t),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(e,t){i.$refs.container.one("beforeClose.fb",function(){e.close(null,0)}),t.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(o,s,r){"use strict";function a(){var e=o.location.hash.substr(1),t=e.split("-"),n=1<t.length&&/^\+?\d+$/.test(t[t.length-1])&&parseInt(t.pop(-1),10)||1;return{hash:e,index:n<1?1:n,gallery:t.join("-")}}function t(e){""!==e.gallery&&r("[data-fancybox='"+r.escapeSelector(e.gallery)+"']").eq(e.index-1).focus().trigger("click.fb-start")}function l(e){var t,n;return!!e&&(""!==(n=(t=e.current?e.current.opts:e.opts).hash||(t.$orig?t.$orig.data("fancybox")||t.$orig.data("fancybox-trigger"):""))&&n)}r.escapeSelector||(r.escapeSelector=function(e){return(e+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e})}),r(function(){!1!==r.fancybox.defaults.hash&&(r(s).on({"onInit.fb":function(e,t){var n,i;!1!==t.group[t.currIndex].opts.hash&&(n=a(),(i=l(t))&&n.gallery&&i==n.gallery&&(t.currIndex=n.index-1))},"beforeShow.fb":function(e,t,n,i){var r;n&&!1!==n.opts.hash&&(r=l(t))&&(t.currentHash=r+(1<t.group.length?"-"+(n.index+1):""),o.location.hash!=="#"+t.currentHash&&(i&&!t.origHash&&(t.origHash=o.location.hash),t.hashTimer&&clearTimeout(t.hashTimer),t.hashTimer=setTimeout(function(){"replaceState"in o.history?(o.history[i?"pushState":"replaceState"]({},s.title,o.location.pathname+o.location.search+"#"+t.currentHash),i&&(t.hasCreatedHistory=!0)):o.location.hash=t.currentHash,t.hashTimer=null},300)))},"beforeClose.fb":function(e,t,n){n&&!1!==n.opts.hash&&(clearTimeout(t.hashTimer),t.currentHash&&t.hasCreatedHistory?o.history.back():t.currentHash&&("replaceState"in o.history?o.history.replaceState({},s.title,o.location.pathname+o.location.search+(t.origHash||"")):o.location.hash=t.origHash),t.currentHash=null)}}),r(o).on("hashchange.fb",function(){var e=a(),i=null;r.each(r(".fancybox-container").get().reverse(),function(e,t){var n=r(t).data("FancyBox");if(n&&n.currentHash)return i=n,!1}),i?i.currentHash===e.gallery+"-"+e.index||1===e.index&&i.currentHash==e.gallery||(i.currentHash=null,i.close()):""!==e.gallery&&t(e)}),setTimeout(function(){r.fancybox.getInstance()||t(a())},50))})}(window,document,jQuery),function(e,t){"use strict";var r=(new Date).getTime();t(e).on({"onInit.fb":function(e,i,t){i.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){var t=i.current,n=(new Date).getTime();i.group.length<2||!1===t.opts.wheel||"auto"===t.opts.wheel&&"image"!==t.type||(e.preventDefault(),e.stopPropagation(),t.$slide.hasClass("fancybox-animated")||(e=e.originalEvent||e,n-r<250||(r=n,i[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]())))})}})}(document,jQuery);var Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){o.value.apply(this,i)}}catch(e){s.e(e)}finally{s.f()}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<n.length;i++){if(n[i]===t){n.splice(i,1);break}}return this}}]),e}(),Dropzone=function(){_inherits(_,Emitter);var s=_createSuper(_);function _(e,t){var n,i,r;if(_classCallCheck(this,_),(n=s.call(this)).element=e,n.version=_.version,n.defaultOptions.previewTemplate=n.defaultOptions.previewTemplate.replace(/\n*/g,""),n.clickableElements=[],n.listeners=[],n.files=[],"string"==typeof n.element&&(n.element=document.querySelector(n.element)),!n.element||null==n.element.nodeType)throw new Error("Invalid dropzone element.");if(n.element.dropzone)throw new Error("Dropzone already attached.");_.instances.push(_assertThisInitialized(n)),n.element.dropzone=_assertThisInitialized(n);var o=null!=(r=_.optionsForElement(n.element))?r:{};if(n.options=_.extend({},n.defaultOptions,o,null!=t?t:{}),n.options.forceFallback||!_.isBrowserSupported())return _possibleConstructorReturn(n,n.options.fallback.call(_assertThisInitialized(n)));if(null==n.options.url&&(n.options.url=n.element.getAttribute("action")),!n.options.url)throw new Error("No URL provided.");if(n.options.acceptedFiles&&n.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(n.options.uploadMultiple&&n.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return n.options.acceptedMimeTypes&&(n.options.acceptedFiles=n.options.acceptedMimeTypes,delete n.options.acceptedMimeTypes),null!=n.options.renameFilename&&(n.options.renameFile=function(e){return n.options.renameFilename.call(_assertThisInitialized(n),e.name,e)}),"string"==typeof n.options.method&&(n.options.method=n.options.method.toUpperCase()),(i=n.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),!1!==n.options.previewsContainer&&(n.options.previewsContainer?n.previewsContainer=_.getElement(n.options.previewsContainer,"previewsContainer"):n.previewsContainer=n.element),n.options.clickable&&(!0===n.options.clickable?n.clickableElements=[n.element]:n.clickableElements=_.getElements(n.options.clickable,"clickable")),n.init(),n}return _createClass(_,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var t,n=_createForOfIteratorHelper(this.element.getElementsByTagName("div"));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )dz-message($| )/.test(i.className)){(e=i).className="dz-message";break}}}catch(e){n.e(e)}finally{n.f()}e||(e=_.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var r=e.getElementsByTagName("span")[0];return r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var r={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height;null==t&&null==n?(t=r.srcWidth,n=r.srcHeight):null==t?t=n*o:null==n&&(n=t/o);var s=(t=Math.min(t,r.srcWidth))/(n=Math.min(n,r.srcHeight));if(r.srcWidth>t||r.srcHeight>n)if("crop"===i)s<o?(r.srcHeight=e.height,r.srcWidth=r.srcHeight*s):(r.srcWidth=e.width,r.srcHeight=r.srcWidth/s);else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));s<o?n=t/o:t=n*o}return r.srcX=(e.width-r.srcWidth)/2,r.srcY=(e.height-r.srcHeight)/2,r.trgWidth=t,r.trgHeight=n,r},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=_.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var e,i=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-name]"));try{for(i.s();!(e=i.n()).done;){var r=e.value;r.textContent=t.name}}catch(e){i.e(e)}finally{i.f()}var o,s=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-size]"));try{for(s.s();!(o=s.n()).done;)(r=o.value).innerHTML=this.filesize(t.size)}catch(e){s.e(e)}finally{s.f()}this.options.addRemoveLinks&&(t._removeLink=_.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),t.previewElement.appendChild(t._removeLink));function a(e){return e.preventDefault(),e.stopPropagation(),t.status===_.UPLOADING?_.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?_.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)}var l,c=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-remove]"));try{for(c.s();!(l=c.n()).done;){l.value.addEventListener("click",a)}}catch(e){c.e(e)}finally{c.f()}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n,i=_createForOfIteratorHelper(e.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(i.s();!(n=i.n()).done;){var r=n.value;r.alt=e.name,r.src=t}}catch(e){i.e(e)}finally{i.f()}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"string"!=typeof t&&t.error&&(t=t.error);var n,i=_createForOfIteratorHelper(e.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(i.s();!(n=i.n()).done;){n.value.textContent=t}}catch(e){i.e(e)}finally{i.f()}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t){if(e.previewElement){var n,i=_createForOfIteratorHelper(e.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(i.s();!(n=i.n()).done;){var r=n.value;"PROGRESS"===r.nodeName?r.value=t:r.style.width="".concat(t,"%")}}catch(e){i.e(e)}finally{i.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var s=o[r];for(var a in s){var l=s[a];e[a]=l}}return e}}]),_createClass(_,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(t){return this.files.filter(function(e){return e.status===t}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(_.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(_.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(_.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===_.UPLOADING||e.status===_.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var o=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(_.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function r(){return o.hiddenFileInput&&o.hiddenFileInput.parentNode.removeChild(o.hiddenFileInput),o.hiddenFileInput=document.createElement("input"),o.hiddenFileInput.setAttribute("type","file"),(null===o.options.maxFiles||1<o.options.maxFiles)&&o.hiddenFileInput.setAttribute("multiple","multiple"),o.hiddenFileInput.className="dz-hidden-input",null!==o.options.acceptedFiles&&o.hiddenFileInput.setAttribute("accept",o.options.acceptedFiles),null!==o.options.capture&&o.hiddenFileInput.setAttribute("capture",o.options.capture),o.hiddenFileInput.style.visibility="hidden",o.hiddenFileInput.style.position="absolute",o.hiddenFileInput.style.top="0",o.hiddenFileInput.style.left="0",o.hiddenFileInput.style.height="0",o.hiddenFileInput.style.width="0",_.getElement(o.options.hiddenInputContainer,"hiddenInputContainer").appendChild(o.hiddenFileInput),o.hiddenFileInput.addEventListener("change",function(){var e=o.hiddenFileInput.files;if(e.length){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;o.addFile(i)}}catch(e){n.e(e)}finally{n.f()}}return o.emit("addedfiles",e),r()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var e,t=_createForOfIteratorHelper(this.events);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.on(n,this.options[n])}}catch(e){t.e(e)}finally{t.f()}this.on("uploadprogress",function(){return o.updateTotalUploadProgress()}),this.on("removedfile",function(){return o.updateTotalUploadProgress()}),this.on("canceled",function(e){return o.emit("complete",e)}),this.on("complete",function(e){if(0===o.getAddedFiles().length&&0===o.getUploadingFiles().length&&0===o.getQueuedFiles().length)return setTimeout(function(){return o.emit("queuecomplete")},0)});function i(e){return function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e)&&(e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1)}return this.listeners=[{element:this.element,events:{dragstart:function(e){return o.emit("dragstart",e)},dragenter:function(e){return i(e),o.emit("dragenter",e)},dragover:function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",i(e),o.emit("dragover",e)},dragleave:function(e){return o.emit("dragleave",e)},drop:function(e){return i(e),o.drop(e)},dragend:function(e){return o.emit("dragend",e)}}}],this.clickableElements.forEach(function(t){return o.listeners.push({element:t,events:{click:function(e){return t===o.element&&e.target!==o.element&&!_.elementInside(e.target,o.element.querySelector(".dz-message"))||o.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,_.instances.splice(_.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var i,r=_createForOfIteratorHelper(this.getActiveFiles());try{for(r.s();!(i=r.n()).done;){var o=i.value;t+=o.upload.bytesSent,n+=o.upload.total}}catch(e){r.e(e)}finally{r.f()}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>".concat(this.options.dictFallbackText,"</p>")),n+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var i=_.createElement(n);return"FORM"!==this.element.tagName?(t=_.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:i}},{key:"getExistingFallback",value:function(){for(var e=0,t=["div","form"];e<t.length;e++){var n,i=t[e];if(n=function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )fallback($| )/.test(i.className))return i}}catch(e){n.e(e)}finally{n.f()}}(this.element.getElementsByTagName(i)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(i){return function(){var e=[];for(var t in i.events){var n=i.events[t];e.push(i.element.addEventListener(t,n,!1))}return e}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(i){return function(){var e=[];for(var t in i.events){var n=i.events[t];e.push(i.element.removeEventListener(t,n,!1))}return e}()})}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(0<e){for(var i=["tb","gb","mb","kb","b"],r=0;r<i.length;r++){var o=i[r];if(Math.pow(this.options.filesizeBase,4-r)/10<=e){t=e/Math.pow(this.options.filesizeBase,4-r),n=o;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t,n=[],i=0;i<e.dataTransfer.files.length;i++)n[i]=e.dataTransfer.files[i];n.length&&((t=e.dataTransfer.items)&&t.length&&null!=t[0].webkitGetAsEntry?this._addFilesFromItems(t):this.handleFiles(n)),this.emit("addedfiles",n)}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:void 0,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.addFile(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_addFilesFromItems",value:function(o){var s=this;return function(){var e,t=[],n=_createForOfIteratorHelper(o);try{for(n.s();!(e=n.n()).done;){var i,r=e.value;null!=r.webkitGetAsEntry&&(i=r.webkitGetAsEntry())?i.isFile?t.push(s.addFile(r.getAsFile())):i.isDirectory?t.push(s._addFilesFromDirectory(i,i.name)):t.push(void 0):null!=r.getAsFile&&(null==r.kind||"file"===r.kind)?t.push(s.addFile(r.getAsFile())):t.push(void 0)}}catch(e){n.e(e)}finally{n.f()}return t}()}},{key:"_addFilesFromDirectory",value:function(e,o){function t(t){return __guardMethod__(console,"log",function(e){return e.log(t)})}var s=this,n=e.createReader();return function r(){return n.readEntries(function(e){if(0<e.length){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.isFile?i.file(function(e){if(!s.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(o,"/").concat(e.name),s.addFile(e)}):i.isDirectory&&s._addFilesFromDirectory(i,"".concat(o,"/").concat(i.name))}}catch(e){n.e(e)}finally{n.f()}r()}return null},t)}()}},{key:"accept",value:function(e,t){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):_.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var n=this;t.upload={uuid:_.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=_.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){e?(t.accepted=!1,n._errorProcessing([t],e)):(t.accepted=!0,n.options.autoQueue&&n.enqueueFile(t)),n._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.enqueueFile(i)}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==_.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=_.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var n=this._thumbnailQueue.shift();return this.createThumbnail(n,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return t.emit("thumbnail",n,e),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===_.UPLOADING&&this.cancelUpload(e),this.files=without(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var t,n=_createForOfIteratorHelper(this.files.slice());try{for(n.s();!(t=n.n()).done;){var i=t.value;i.status===_.UPLOADING&&!e||this.removeFile(i)}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"resizeImage",value:function(r,e,t,n,o){var s=this;return this.createThumbnail(r,e,t,n,!0,function(e,t){if(null==t)return o(r);var n=s.options.resizeMimeType;null==n&&(n=r.type);var i=t.toDataURL(n,s.options.resizeQuality);return"image/jpeg"!==n&&"image/jpg"!==n||(i=ExifRestore.restore(r.dataURL,i)),o(_.dataURItoBlob(i))})}},{key:"createThumbnail",value:function(e,t,n,i,r,o){var s=this,a=new FileReader;a.onload=function(){e.dataURL=a.result,"image/svg+xml"!==e.type?s.createThumbnailFromUrl(e,t,n,i,r,o):null!=o&&o(a.result)},a.readAsDataURL(e)}},{key:"displayExistingFile",value:function(t,e,n,i,r){var o=this,s=!(4<arguments.length&&void 0!==r)||r;this.emit("addedfile",t),this.emit("complete",t),s?(t.dataURL=e,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,function(e){o.emit("thumbnail",t,e),n&&n()},i)):(this.emit("thumbnail",t,e),n&&n())}},{key:"createThumbnailFromUrl",value:function(o,s,a,l,t,c,e){var u=this,h=document.createElement("img");return e&&(h.crossOrigin=e),t="from-image"!=getComputedStyle(document.body).imageOrientation&&t,h.onload=function(){var e=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&t&&(e=function(e){return EXIF.getData(h,function(){return e(EXIF.getTag(this,"Orientation"))})}),e(function(e){o.width=h.width,o.height=h.height;var t=u.options.resize.call(u,o,s,a,l),n=document.createElement("canvas"),i=n.getContext("2d");switch(n.width=t.trgWidth,n.height=t.trgHeight,4<e&&(n.width=t.trgHeight,n.height=t.trgWidth),e){case 2:i.translate(n.width,0),i.scale(-1,1);break;case 3:i.translate(n.width,n.height),i.rotate(Math.PI);break;case 4:i.translate(0,n.height),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-n.width);break;case 7:i.rotate(.5*Math.PI),i.translate(n.height,-n.width),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-n.height,0)}drawImageIOSFix(i,h,null!=t.srcX?t.srcX:0,null!=t.srcY?t.srcY:0,t.srcWidth,t.srcHeight,null!=t.trgX?t.trgX:0,null!=t.trgY?t.trgY:0,t.trgWidth,t.trgHeight);var r=n.toDataURL("image/png");if(null!=c)return c(r,n)})},null!=c&&(h.onerror=c),h.src=o.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(e<=t)){var i=this.getQueuedFiles();if(0<i.length){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.processing=!0,i.status=_.UPLOADING,this.emit("processing",i)}}catch(e){n.e(e)}finally{n.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter(function(e){return e.xhr===t}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===_.UPLOADING){var t,n=this._getFilesWithXhr(e.xhr),i=_createForOfIteratorHelper(n);try{for(i.s();!(t=i.n()).done;){t.value.status=_.CANCELED}}catch(e){i.e(e)}finally{i.f()}void 0!==e.xhr&&e.xhr.abort();var r,o=_createForOfIteratorHelper(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.emit("canceled",s)}}catch(e){o.e(e)}finally{o.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else e.status!==_.ADDED&&e.status!==_.QUEUED||(e.status=_.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"!=typeof e)return e;for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(l){var c=this;this._transformFiles(l,function(e){var t;if(c.options.chunking&&(t=e[0],l[0].upload.chunked=c.options.chunking&&(c.options.forceChunking||t.size>c.options.chunkSize),l[0].upload.totalChunkCount=Math.ceil(t.size/c.options.chunkSize)),l[0].upload.chunked){var r=l[0],o=e[0];r.upload.chunks=[];function i(){for(var e,t,n,i=0;void 0!==r.upload.chunks[i];)i++;i>=r.upload.totalChunkCount||(e=i*c.options.chunkSize,t=Math.min(e+c.options.chunkSize,o.size),n={name:c._getParamName(0),data:o.webkitSlice?o.webkitSlice(e,t):o.slice(e,t),filename:r.upload.filename,chunkIndex:i},r.upload.chunks[i]={file:r,index:i,dataBlock:n,status:_.UPLOADING,progress:0,retries:0},c._uploadData(l,[n]))}if(r.upload.finishedChunkUpload=function(e){var t=!0;e.status=_.SUCCESS,e.dataBlock=null,e.xhr=null;for(var n=0;n<r.upload.totalChunkCount;n++){if(void 0===r.upload.chunks[n])return i();r.upload.chunks[n].status!==_.SUCCESS&&(t=!1)}t&&c.options.chunksUploaded(r,function(){c._finished(l,"",null)})},c.options.parallelChunkUploads)for(var n=0;n<r.upload.totalChunkCount;n++)i();else i()}else{for(var s=[],a=0;a<l.length;a++)s[a]={name:c._getParamName(a),data:e[a],filename:l[a].upload.filename};c._uploadData(l,s)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(t,e){var n,i=this,r=new XMLHttpRequest,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){n.value.xhr=r}}catch(e){o.e(e)}finally{o.f()}t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=r);var s=this.resolveOption(this.options.method,t),a=this.resolveOption(this.options.url,t);r.open(s,a,!0),r.timeout=this.resolveOption(this.options.timeout,t),r.withCredentials=!!this.options.withCredentials,r.onload=function(e){i._finishedUploading(t,r,e)},r.ontimeout=function(){i._handleUploadError(t,r,"Request timedout after ".concat(i.options.timeout/1e3," seconds"))},r.onerror=function(){i._handleUploadError(t,r)},(null!=r.upload?r.upload:r).onprogress=function(e){return i._updateFilesUploadProgress(t,r,e)};var l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var c in this.options.headers&&_.extend(l,this.options.headers),l){var u=l[c];u&&r.setRequestHeader(c,u)}var h=new FormData;if(this.options.params){var d=this.options.params;for(var f in"function"==typeof d&&(d=d.call(this,t,r,t[0].upload.chunked?this._getChunk(t[0],r):null)),d){var p=d[f];if(Array.isArray(p))for(var g=0;g<p.length;g++)h.append(f,p[g]);else h.append(f,p)}}var m,v=_createForOfIteratorHelper(t);try{for(v.s();!(m=v.n()).done;){var b=m.value;this.emit("sending",b,r,h)}}catch(e){v.e(e)}finally{v.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",t,r,h),this._addFormElementData(h);for(var y=0;y<e.length;y++){var w=e[y];h.append(w.name,w.data,w.filename)}this.submitRequest(r,h,t)}},{key:"_transformFiles",value:function(n,i){for(var e=this,r=[],o=0,t=0;t<n.length;t++)!function(t){e.options.transformFile.call(e,n[t],function(e){r[t]=e,++o===n.length&&i(r)})}(t)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t,n=_createForOfIteratorHelper(this.element.querySelectorAll("input, textarea, select, button"));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.getAttribute("name"),o=(o=i.getAttribute("type"))&&o.toLowerCase();if(null!=r)if("SELECT"===i.tagName&&i.hasAttribute("multiple")){var s,a=_createForOfIteratorHelper(i.options);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.selected&&e.append(r,l.value)}}catch(e){a.e(e)}finally{a.f()}}else(!o||"checkbox"!==o&&"radio"!==o||i.checked)&&e.append(r,i.value)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){if(void 0!==n){if(p=100*n.loaded/n.total,e[0].upload.chunked){var i=e[0],r=this._getChunk(i,t);r.progress=p,r.total=n.total,r.bytesSent=n.loaded;i.upload.progress=0,i.upload.total=0;for(var o=i.upload.bytesSent=0;o<i.upload.totalChunkCount;o++)void 0!==i.upload.chunks[o]&&void 0!==i.upload.chunks[o].progress&&(i.upload.progress+=i.upload.chunks[o].progress,i.upload.total+=i.upload.chunks[o].total,i.upload.bytesSent+=i.upload.chunks[o].bytesSent);i.upload.progress=i.upload.progress/i.upload.totalChunkCount}else{var s,a=_createForOfIteratorHelper(e);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.upload.progress=p,l.upload.total=n.total,l.upload.bytesSent=n.loaded}}catch(e){a.e(e)}finally{a.f()}}var c,u=_createForOfIteratorHelper(e);try{for(u.s();!(c=u.n()).done;){var h=c.value;this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}}catch(e){u.e(e)}finally{u.f()}}else{var d,f=!0,p=100,g=_createForOfIteratorHelper(e);try{for(g.s();!(d=g.n()).done;){var m=d.value;100===m.upload.progress&&m.upload.bytesSent===m.upload.total||(f=!1),m.upload.progress=p,m.upload.bytesSent=m.upload.total}}catch(e){g.e(e)}finally{g.f()}if(f)return;var v,b=_createForOfIteratorHelper(e);try{for(b.s();!(v=b.n()).done;){var y=v.value;this.emit("uploadprogress",y,p,y.upload.bytesSent)}}catch(e){b.e(e)}finally{b.f()}}}},{key:"_finishedUploading",value:function(e,t,n){var i;if(e[0].status!==_.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(i=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(e){n=e,i="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,i,n):this._handleUploadError(e,t,i)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==_.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(e[0],t);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t){e.send(t)}},{key:"_finished",value:function(e,t,n){var i,r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.status=_.SUCCESS,this.emit("success",o,t,n),this.emit("complete",o)}}catch(e){r.e(e)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){var i,r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.status=_.ERROR,this.emit("error",o,t,n),this.emit("complete",o)}}catch(e){r.e(e)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),_}();Dropzone.initClass(),Dropzone.version="5.7.2",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var o,e;return document.querySelectorAll?o=document.querySelectorAll(".dropzone"):(o=[],(e=function(r){return function(){var e,t=[],n=_createForOfIteratorHelper(r);try{for(n.s();!(e=n.n()).done;){var i=e.value;/(^| )dropzone($| )/.test(i.className)?t.push(o.push(i)):t.push(void 0)}}catch(e){n.e(e)}finally{n.f()}return t}()})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),function(){var e,t=[],n=_createForOfIteratorHelper(o);try{for(n.s();!(e=n.n()).done;){var i=e.value;!1!==Dropzone.optionsForElement(i)?t.push(new Dropzone(i)):t.push(void 0)}}catch(e){n.e(e)}finally{n.f()}return t}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t,n=_createForOfIteratorHelper(Dropzone.blacklistedBrowsers);try{for(n.s();!(t=n.n()).done;){t.value.test(navigator.userAgent)&&(e=!1)}}catch(e){n.e(e)}finally{n.f()}}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),o=0,s=t.length,a=0<=s;a?o<=s:s<=o;a?o++:o--)r[o]=t.charCodeAt(o);return new Blob([i],{type:n})};var without=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},Dropzone.getElements=function(e,t){var n,i;if(e instanceof Array){i=[];try{var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;)n=r.value,i.push(this.getElement(n,t))}catch(e){o.e(e)}finally{o.f()}}catch(e){i=null}}else if("string"==typeof e){i=[];var s,a=_createForOfIteratorHelper(document.querySelectorAll(e));try{for(a.s();!(s=a.n()).done;)n=s.value,i.push(n)}catch(e){a.e(e)}finally{a.f()}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},Dropzone.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n,i=e.type,r=i.replace(/\/.*$/,""),o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("."===(s=s.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(r===s.replace(/\/.*$/,""))return!0}else if(i===s)return!0}}catch(e){o.e(e)}finally{o.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var r=i.getImageData(1,0,1,t).data,o=0,s=t,a=t;o<a;){0===r[4*(a-1)+3]?s=a:o=a,a=s+o>>1}var l=a/t;return 0==l?1:l},drawImageIOSFix=function(e,t,n,i,r,o,s,a,l,c){var u=detectVerticalSquash(t);return e.drawImage(t,n,i,r,o,s,a,l,c/u)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,i=void 0,r="",o=void 0,s=void 0,a=void 0,l="",c=0;o=(n=e[c++])>>2,s=(3&n)<<4|(i=e[c++])>>4,a=(15&i)<<2|(r=e[c++])>>6,l=63&r,isNaN(i)?a=l=64:isNaN(r)&&(l=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),o=s=a=l=n=i=r="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,".concat(this.encode64(r))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),s=i.slice(r),a=o;return a=(a=a.concat(t)).concat(s)}},{key:"slice2Segments",value:function(e){for(var t,n,i=0,r=[];;){if(255===e[i]&218===e[i+1])break;if(255===e[i]&216===e[i+1]?i+=2:(t=i+(256*e[i+2]+e[i+3])+2,n=e.slice(i,t),r.push(n),i=t),i>e.length)break}return r}},{key:"decode64",value:function(e){var t=void 0,n=void 0,i="",r=void 0,o=void 0,s="",a=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(r=this.KEY_STR.indexOf(e.charAt(a++)))>>4,n=(15&r)<<4|(o=this.KEY_STR.indexOf(e.charAt(a++)))>>2,i=(3&o)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),l.push(t),64!==o&&l.push(n),64!==s&&l.push(i),r=o=s=t=n=i="",a<e.length;);return l}}]),e}();ExifRestore.initClass();var contentLoaded=function(t,n){function i(e){if("readystatechange"!==e.type||"complete"===o.readyState)return("load"===e.type?t:o)[l](c+e.type,i,!1),!r&&(r=!0)?n.call(t,e.type||e):void 0}var r=!1,e=!0,o=t.document,s=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",l=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on";if("complete"!==o.readyState){if(o.createEventObject&&s.doScroll){try{e=!t.frameElement}catch(e){}e&&!function t(){try{s.doScroll("left")}catch(e){return void setTimeout(t,50)}return i("poll")}()}return o[a](c+"DOMContentLoaded",i,!1),o[a](c+"readystatechange",i,!1),t[a](c+"load",i,!1)}};function __guard__(e,t){return null!=e?t(e):void 0}function __guardMethod__(e,t,n){return null!=e&&"function"==typeof e[t]?n(e,t):void 0}Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(t){var e,n,i,r,f,o,s,p,g,m,v,b,y,a,l,w,c=(t&&t.fn&&t.fn.select2&&t.fn.select2.amd&&(e=t.fn.select2.amd),e&&e.requirejs||(e?i=e:e={},m={},v={},b={},y={},a=Object.prototype.hasOwnProperty,l=[].slice,w=/\.js$/,p=function(e,t){var n,i,r=h(e),o=r[0],s=t[1];return e=r[1],o&&(n=C(o=u(o,s))),o?e=n&&n.normalize?n.normalize(e,(i=s,function(e){return u(e,i)})):u(e,s):(o=(r=h(e=u(e,s)))[0],e=r[1],o&&(n=C(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},g={require:function(e){return x(e)},exports:function(e){var t=m[e];return void 0!==t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:(t=e,function(){return b&&b.config&&b.config[t]||{}})};var t}},o=function(e,t,n,i){var r,o,s,a,l,c,u=[],h=typeof n,d=k(i=i||e);if("undefined"==h||"function"==h){for(t=!t.length&&n.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(o=(a=p(t[l],d)).f))u[l]=g.require(e);else if("exports"===o)u[l]=g.exports(e),c=!0;else if("module"===o)r=u[l]=g.module(e);else if(_(m,o)||_(v,o)||_(y,o))u[l]=C(o);else{if(!a.p)throw new Error(e+" missing "+o);a.p.load(a.n,x(i,!0),function(t){return function(e){m[t]=e}}(o),{}),u[l]=m[o]}s=n?n.apply(m[e],u):void 0,e&&(r&&r.exports!==f&&r.exports!==m[e]?m[e]=r.exports:s===f&&c||(m[e]=s))}else e&&(m[e]=n)},n=i=s=function(e,t,n,i,r){if("string"==typeof e)return g[e]?g[e](t):C(p(e,k(t)).f);if(!e.splice){if((b=e).deps&&s(b.deps,b.callback),!t)return;t.splice?(e=t,t=n,n=null):e=f}return t=t||function(){},"function"==typeof n&&(n=i,i=r),i?o(f,e,t,n):setTimeout(function(){o(f,e,t,n)},4),s},s.config=function(e){return s(e)},n._defined=m,(r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),_(m,e)||_(v,e)||(v[e]=[e,t,n])}).amd={jQuery:!0},e.requirejs=n,e.require=i,e.define=r),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(o){var r={};function c(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}function e(){this.listeners={}}r.Extend=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r.Decorate=function(i,r){var e=c(r),t=c(i);function o(){var e=Array.prototype.unshift,t=r.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=r.prototype.constructor),n.apply(this,arguments)}r.displayName=i.displayName,o.prototype=new function(){this.constructor=o};for(var n=0;n<t.length;n++){var s=t[n];o.prototype[s]=i.prototype[s]}for(var a=0;a<e.length;a++){var l=e[a];o.prototype[l]=function(e){var t=function(){};e in o.prototype&&(t=o.prototype[e]);var n=r.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}}(l)}return o},e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},r.Observable=e,r.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},r.bind=function(e,t){return function(){e.apply(t,arguments)}},r._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=e[t]),i=i[o]}delete e[t]}}return e},r.hasScroll=function(e,t){var n=o(t),i=t.style.overflowX,r=t.style.overflowY;return(i!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===i||"scroll"===r||n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth)},r.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},r.appendMany=function(e,t){var n;"1.7"===o.fn.jquery.substr(0,3)&&(n=o(),o.map(t,function(e){n=n.add(e)}),t=n),e.append(t)},r.__cache={};var n=0;return r.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++n),t=n.toString())),t},r.StoreData=function(e,t,n){var i=r.GetUniqueElementId(e);r.__cache[i]||(r.__cache[i]={}),r.__cache[i][t]=n},r.GetData=function(e,t){var n=r.GetUniqueElementId(e);return t?r.__cache[n]&&null!=r.__cache[n][t]?r.__cache[n][t]:o(e).data(t):r.__cache[n]},r.RemoveData=function(e){var t=r.GetUniqueElementId(e);null!=r.__cache[t]&&delete r.__cache[t],e.removeAttribute("data-select2-id")},r}),e.define("select2/results",["jquery","./utils"],function(f,p){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return p.Extend(i,p.Observable),i.prototype.render=function(){var e=f('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=f('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(e.message);n.append(t(i(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(e){var i=f.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=f(this),t=p.GetData(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<f.inArray(n,i)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var n={role:"option","aria-selected":"false"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var r in(null!=e.element&&i.call(e.element,":disabled")||null==e.element&&e.disabled)&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n){var o=n[r];t.setAttribute(r,o)}if(e.children){var s=f(t),a=document.createElement("strong");a.className="select2-results__group",f(a),this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=this.option(u);l.push(h)}var d=f("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(l),s.append(a),s.append(d)}else this.template(e,t);return p.StoreData(t,"data",e),t},i.prototype.bind=function(t,e){var l=this,n=t.id+"-results";this.$results.attr("id",n),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.hideMessages(),l.showLoading(e)}),t.on("select",function(){t.isOpen()&&(l.setClasses(),l.options.get("scrollAfterSelect")&&l.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(l.setClasses(),l.options.get("scrollAfterSelect")&&l.highlightFirstItem())}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e,t=l.getHighlightedResults();0!==t.length&&(e=p.GetData(t[0],"data"),"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e}))}),t.on("results:previous",function(){var e,t,n,i,r,o=l.getHighlightedResults(),s=l.$results.find("[aria-selected]"),a=s.index(o);a<=0||(e=a-1,0===o.length&&(e=0),(t=s.eq(e)).trigger("mouseenter"),n=l.$results.offset().top,i=t.offset().top,r=l.$results.scrollTop()+(i-n),0===e?l.$results.scrollTop(0):i-n<0&&l.$results.scrollTop(r))}),t.on("results:next",function(){var e,t,n,i,r=l.getHighlightedResults(),o=l.$results.find("[aria-selected]"),s=o.index(r)+1;s>=o.length||((e=o.eq(s)).trigger("mouseenter"),t=l.$results.offset().top+l.$results.outerHeight(!1),n=e.offset().top+e.outerHeight(!1),i=l.$results.scrollTop()+n-t,0===s?l.$results.scrollTop(0):t<n&&l.$results.scrollTop(i))}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),f.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,r=e.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=f(this),n=p.GetData(this,"data");"true"!==t.attr("aria-selected")?l.trigger("select",{originalEvent:e,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=p.GetData(this,"data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:f(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e,t,n,i,r,o=this.getHighlightedResults();0!==o.length&&(e=this.$results.find("[aria-selected]").index(o),t=this.$results.offset().top,n=o.offset().top,i=this.$results.scrollTop()+(n-t),r=n-t,i-=2*o.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(i))},i.prototype.template=function(e,t){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),r=n(e,t);null==r?t.style.display="none":"string"==typeof r?t.innerHTML=i(r):f(t).append(r)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(n,i,r){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return i.Extend(o,i.Observable),o.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],"old-tabindex")?this._tabindex=i.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),e.attr("aria-disabled","false"),this.$selection=e},o.prototype.bind=function(e,t){var n=this,i=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===r.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")}),e.on("disable",function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")})},o.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},o.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){this!=t[0]&&i.GetData(this,"element").select2("close")})})},o.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},o.prototype.position=function(e,t){t.find(".selection").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){var t,n,i,r;0!==e.length?(t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n),n.empty().append(i),(r=t.title||t.text)?n.attr("title",r):n.removeAttr("title")):this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(r,e,l){function n(e,t){n.__super__.constructor.apply(this,arguments)}return l.Extend(n,e),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(e,t){var i=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){var t,n;i.isDisabled()||(t=r(this).parent(),n=l.GetData(t[0],"data"),i.trigger("unselect",{originalEvent:e,data:n}))})},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},n.prototype.selectionContainer=function(){return r('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.selectionContainer(),o=this.display(i,r);r.append(o);var s=i.title||i.text;s&&r.attr("title",s),l.StoreData(r[0],"data",i),t.push(r)}var a=this.$selection.find(".select2-selection__rendered");l.appendMany(a,t)}},n}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(r,i,a){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var i=a.GetData(n[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var o={data:i};if(this.trigger("clear",o),o.prevented)this.$element.val(r);else{for(var s=0;s<i.length;s++)if(o={data:i[s]},this.trigger("unselect",o),o.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=i.DELETE&&t.which!=i.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){var n,i;e.call(this,t),0<this.$selection.find(".select2-selection__placeholder").length||0===t.length||(n=this.options.get("translations").get("removeAllItems"),i=r('<span class="select2-selection__clear" title="'+n()+'">&times;</span>'),a.StoreData(i[0],"data",t),this.$selection.find(".select2-selection__rendered").prepend(i))},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(i,a,l){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var n=e.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(e,t,n){var i=this,r=t.id+"-results";e.call(this,t,n),t.on("open",function(){i.$search.attr("aria-controls",r),i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){var t,n;e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which!==l.BACKSPACE||""!==i.$search.val()||0<(t=i.$searchContainer.prev(".select2-selection__choice")).length&&(n=a.GetData(t[0],"data"),i.searchRemoveChoice(n),e.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(e){i.$search.val()&&e.stopPropagation()});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){s?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){var t;s&&"input"===e.type?i.$selection.off("input.search input.searchcheck"):(t=e.which)!=l.SHIFT&&t!=l.CTRL&&t!=l.ALT&&t!=l.TAB&&i.handleSearch(e)})},e.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},e.prototype.handleSearch=function(){var e;this.resizeSearch(),this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},e}),e.define("select2/selection/eventRelay",["jquery"],function(s){function e(){}return e.prototype.bind=function(e,t,n){var i=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];e.call(this,t,n),t.on("*",function(e,t){var n;-1!==s.inArray(e,r)&&(t=t||{},n=s.Event("select2:"+e,{params:t}),i.$element.trigger(n),-1!==s.inArray(e,o)&&(t.prevented=n.isDefaultPrevented()))})},e}),e.define("select2/translation",["jquery","require"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){var t;return e in i._cache||(t=n(e),i._cache[e]=t),new i(i._cache[e])},i}),e.define("select2/diacritics",[],function(){return{"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Å":"OE","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Å":"oe","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï","â":"'"}}),e.define("select2/data/base",["../utils"],function(i){function n(e,t){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(e,t){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(e,t){var n=e.id+"-result-";return n+=i.generateChars(4),null!=t.id?n+="-"+t.id.toString():n+="-"+i.generateChars(4),n},n}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,a,l){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return a.Extend(n,e),n.prototype.current=function(e){var n=[],i=this;this.$element.find(":selected").each(function(){var e=l(this),t=i.item(e);n.push(t)}),e(n)},n.prototype.select=function(r){var e,o=this;if(r.selected=!0,l(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(e){var t=[];(r=[r]).push.apply(r,e);for(var n=0;n<r.length;n++){var i=r[n].id;-1===l.inArray(i,t)&&t.push(i)}o.$element.val(t),o.$element.trigger("input").trigger("change")}):(e=r.id,this.$element.val(e),this.$element.trigger("input").trigger("change"))},n.prototype.unselect=function(r){var o=this;if(this.$element.prop("multiple")){if(r.selected=!1,l(r.element).is("option"))return r.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==r.id&&-1===l.inArray(i,t)&&t.push(i)}o.$element.val(t),o.$element.trigger("input").trigger("change")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){a.RemoveData(this)})},n.prototype.query=function(i,e){var r=[],o=this;this.$element.children().each(function(){var e,t,n=l(this);(n.is("option")||n.is("optgroup"))&&(e=o.item(n),null!==(t=o.matches(i,e))&&r.push(t))}),e({results:r})},n.prototype.addOptions=function(e){a.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=l(t),i=this._normalizeItem(e);return i.element=t,a.StoreData(t,"data",i),n},n.prototype.item=function(e){var t={};if(null!=(t=a.GetData(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),i=[],r=0;r<n.length;r++){var o=l(n[r]),s=this.item(o);i.push(s)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],a.StoreData(e[0],"data",t),t},n.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=l.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),l.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,f,p){function i(e,t){this._dataToConvert=t.get("data")||[],i.__super__.constructor.call(this,e,t)}return f.Extend(i,e),i.prototype.bind=function(e,t){i.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(n){var e=this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){for(var t=this,n=this.$element.find("option"),i=n.map(function(){return t.item(p(this)).id}).get(),r=[],o=0;o<e.length;o++){var s,a,l,c,u,h,d=this._normalizeItem(e[o]);0<=p.inArray(d.id,i)?(s=n.filter(function(e){return function(){return p(this).val()==e.id}}(d)),a=this.item(s),l=p.extend(!0,{},d,a),c=this.option(l),s.replaceWith(c)):(u=this.option(d),d.children&&(h=this.convertToOptions(d.children),f.appendMany(u,h)),r.push(u))}return r},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,o){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return o.extend({},e,{q:e.term})},transport:function(e,t,n){var i=o.ajax(e);return i.then(t),i.fail(n),i}};return o.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,i){var r=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=o.extend({type:"GET"},this.ajaxOptions);function e(){var e=t.transport(t,function(e){var t=r.processResults(e,n);r.options.get("debug")&&window.console&&console.error&&(t&&t.results&&o.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(t)},function(){"status"in e&&(0===e.status||"0"===e.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=e}"function"==typeof t.url&&(t.url=t.url.call(this.$element,n)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define("select2/data/tags",["jquery"],function(u){function e(e,t,n){var i=n.get("tags"),r=n.get("createTag");void 0!==r&&(this.createTag=r);var o=n.get("insertTag");if(void 0!==o&&(this.insertTag=o),e.call(this,t,n),u.isArray(i))for(var s=0;s<i.length;s++){var a=i[s],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(e,c,u){var h=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var i=t.results,r=0;r<i.length;r++){var o=i[r],s=null!=o.children&&!e({results:o.children},!0);if((o.text||"").toUpperCase()===(c.term||"").toUpperCase()||s)return!n&&(t.data=i,void u(t))}if(n)return!0;var a,l=h.createTag(c);null!=l&&((a=h.option(l)).attr("data-select2-tag",!0),h.addOptions([a]),h.insertTag(i,l)),t.results=i,u(t)}):e.call(this,c,u)},e.prototype.createTag=function(e,t){var n=u.trim(t.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||u(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(h){function e(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var r=this;t.term=t.term||"";var i=this.tokenizer(t,this.options,function(e){var t,n,i=r._normalizeItem(e);r.$element.find("option").filter(function(){return h(this).val()===i.id}).length||((t=r.option(i)).attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([t])),n=i,r.trigger("select",{data:n})});i.term!==t.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.trigger("focus")),t.term=i.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var r=n.get("tokenSeparators")||[],o=t.term,s=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};s<o.length;){var l,c,u=o[s];-1!==h.inArray(u,r)?(l=o.substr(0,s),null!=(c=a(h.extend({},t,{term:l})))?(i(c),o=o.substr(s+1)||"",s=0):s++):s++}return{term:o}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(){i._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var i=this;this._checkIfMaximumSelected(function(){e.call(i,t,n)})},e.prototype._checkIfMaximumSelected=function(e,n){var i=this;this.current(function(e){var t=null!=e?e.length:0;0<i.maximumSelectionLength&&t>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):n&&n()})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(o,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),t.prepend(n),t},t.prototype.bind=function(e,t,n){var i=this,r=t.id+"-results";e.call(this,t,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){o(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.attr("aria-controls",r),i.$search.trigger("focus"),window.setTimeout(function(){i.$search.trigger("focus")},0)}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.val(""),i.$search.trigger("blur")}),t.on("focus",function(){t.isOpen()||i.$search.trigger("focus")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))}),t.on("results:focus",function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")})},t.prototype.handleSearch=function(e){var t;this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e,t=n.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&(e=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=e+50&&this.loadMore())},e.prototype.loadMore=function(){this.loading=!0;var e=n.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(p,a){function e(e,t,n){this.$dropdownParent=p(n.get("dropdownParent")||document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),i._bindContainerResultHandlers(t)}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=p("<span></span>"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(e,t){var n;this._containerResultsHandlersBound||(n=this,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0)},e.prototype._attachPositioningHandler=function(e,t){var n=this,i="scroll.select2."+t.id,r="resize.select2."+t.id,o="orientationchange.select2."+t.id,s=this.$container.parents().filter(a.hasScroll);s.each(function(){a.StoreData(this,"select2-scroll-position",{x:p(this).scrollLeft(),y:p(this).scrollTop()})}),s.on(i,function(e){var t=a.GetData(this,"select2-scroll-position");p(this).scrollTop(t.y)}),p(window).on(i+" "+r+" "+o,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,i="resize.select2."+t.id,r="orientationchange.select2."+t.id;this.$container.parents().filter(a.hasScroll).off(n),p(window).off(n+" "+i+" "+r)},e.prototype._positionDropdown=function(){var e=p(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var s=this.$dropdown.outerHeight(!1),a=e.scrollTop(),l=e.scrollTop()+e.height(),c=a<r.top-s,u=l>r.bottom+s,h={left:r.left,top:o.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var f={top:0,left:0};(p.contains(document.body,d[0])||d[0].isConnected)&&(f=d.offset()),h.top-=f.top,h.left-=f.left,t||n||(i="below"),u||!c||t?!c&&u&&t&&(i="below"):i="above",("above"==i||t&&"below"!==i)&&(h.top=o.top-f.top-s),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(h)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var r=t[i];r.children?n+=e(r.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(o){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i,r=this.getHighlightedResults();r.length<1||null!=(i=o.GetData(r[0],"data")).element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(c,u,h,d,f,p,g,m,v,b,s,t,y,w,_,x,C,k,S,O,T,j,E,P,D,A,M,I,e){function n(){this.reset()}return n.prototype.apply=function(e){var t,n,i,r,o;null==(e=c.extend(!0,{},this.defaults,e)).dataAdapter&&(null!=e.ajax?e.dataAdapter=_:null!=e.data?e.dataAdapter=w:e.dataAdapter=y,0<e.minimumInputLength&&(e.dataAdapter=b.Decorate(e.dataAdapter,k)),0<e.maximumInputLength&&(e.dataAdapter=b.Decorate(e.dataAdapter,S)),0<e.maximumSelectionLength&&(e.dataAdapter=b.Decorate(e.dataAdapter,O)),e.tags&&(e.dataAdapter=b.Decorate(e.dataAdapter,x)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=b.Decorate(e.dataAdapter,C)),null!=e.query&&(t=u(e.amdBase+"compat/query"),e.dataAdapter=b.Decorate(e.dataAdapter,t)),null!=e.initSelection&&(n=u(e.amdBase+"compat/initSelection"),e.dataAdapter=b.Decorate(e.dataAdapter,n))),null==e.resultsAdapter&&(e.resultsAdapter=h,null!=e.ajax&&(e.resultsAdapter=b.Decorate(e.resultsAdapter,P)),null!=e.placeholder&&(e.resultsAdapter=b.Decorate(e.resultsAdapter,E)),e.selectOnClose&&(e.resultsAdapter=b.Decorate(e.resultsAdapter,M))),null==e.dropdownAdapter&&(e.multiple?e.dropdownAdapter=T:(i=b.Decorate(T,j),e.dropdownAdapter=i),0!==e.minimumResultsForSearch&&(e.dropdownAdapter=b.Decorate(e.dropdownAdapter,A)),e.closeOnSelect&&(e.dropdownAdapter=b.Decorate(e.dropdownAdapter,I)),null==e.dropdownCssClass&&null==e.dropdownCss&&null==e.adaptDropdownCssClass||(r=u(e.amdBase+"compat/dropdownCss"),e.dropdownAdapter=b.Decorate(e.dropdownAdapter,r)),e.dropdownAdapter=b.Decorate(e.dropdownAdapter,D)),null==e.selectionAdapter&&(e.multiple?e.selectionAdapter=f:e.selectionAdapter=d,null!=e.placeholder&&(e.selectionAdapter=b.Decorate(e.selectionAdapter,p)),e.allowClear&&(e.selectionAdapter=b.Decorate(e.selectionAdapter,g)),e.multiple&&(e.selectionAdapter=b.Decorate(e.selectionAdapter,m)),null==e.containerCssClass&&null==e.containerCss&&null==e.adaptContainerCssClass||(o=u(e.amdBase+"compat/containerCss"),e.selectionAdapter=b.Decorate(e.selectionAdapter,o)),e.selectionAdapter=b.Decorate(e.selectionAdapter,v)),e.language=this._resolveLanguage(e.language),e.language.push("en");for(var s=[],a=0;a<e.language.length;a++){var l=e.language[a];-1===s.indexOf(l)&&s.push(l)}return e.language=s,e.translations=this._processTranslations(e.language,e.debug),e},n.prototype.reset=function(){function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:b.escapeMarkup,language:{},matcher:function e(t,n){if(""===c.trim(t.term))return n;if(n.children&&0<n.children.length){for(var i=c.extend(!0,{},n),r=n.children.length-1;0<=r;r--)null==e(t,n.children[r])&&i.children.splice(r,1);return 0<i.children.length?i:e(t,i)}var o=a(n.text).toUpperCase(),s=a(t.term).toUpperCase();return-1<o.indexOf(s)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.applyFromElement=function(e,t){var n=e.language,i=this.defaults.language,r=t.prop("lang"),o=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(o));return e.language=s,e},n.prototype._resolveLanguage=function(e){if(!e)return[];if(c.isEmptyObject(e))return[];if(c.isPlainObject(e))return[e];for(var t,n=c.isArray(e)?e:[e],i=[],r=0;r<n.length;r++)i.push(n[r]),"string"==typeof n[r]&&0<n[r].indexOf("-")&&(t=n[r].split("-")[0],i.push(t));return i},n.prototype._processTranslations=function(e,t){for(var n=new s,i=0;i<e.length;i++){var r=new s,o=e[i];if("string"==typeof o)try{r=s.loadPath(o)}catch(e){try{o=this.defaults.amdLanguageBase+o,r=s.loadPath(o)}catch(e){t&&window.console&&console.warn&&console.warn('Select2: The language file for "'+o+'" could not be automatically loaded. A fallback will be used instead.')}}else r=c.isPlainObject(o)?new s(o):o;n.extend(r)}return n},n.prototype.set=function(e,t){var n={};n[c.camelCase(e)]=t;var i=b._convertData(n);c.extend(!0,this.defaults,i)},new n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(i,u,r,h){function e(e,t){var n;this.options=e,null!=t&&this.fromElement(t),null!=t&&(this.options=r.applyFromElement(this.options,t)),this.options=r.apply(this.options),t&&t.is("input")&&(n=i(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=h.Decorate(this.options.dataAdapter,n))}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),h.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),h.StoreData(e[0],"data",h.GetData(e[0],"select2Tags")),h.StoreData(e[0],"tags",!0)),h.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",h.GetData(e[0],"ajaxUrl")),h.StoreData(e[0],"ajax-Url",h.GetData(e[0],"ajaxUrl")));var n={};function i(e,t){return t.toUpperCase()}for(var r=0;r<e[0].attributes.length;r++){var o,s,a=e[0].attributes[r].name;"data-"==a.substr(0,"data-".length)&&(o=a.substring("data-".length),s=h.GetData(e[0],o),n[o.replace(/-([a-z])/g,i)]=s)}u.fn.jquery&&"1."==u.fn.jquery.substr(0,2)&&e[0].dataset&&(n=u.extend(!0,{},e[0].dataset,n));var l=u.extend(!0,{},h.GetData(e[0]),n),l=h._convertData(l);for(var c in l)-1<u.inArray(c,t)||(u.isPlainObject(this.options[c])?u.extend(this.options[c],l[c]):this.options[c]=l[c]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(o,c,u,i){var h=function(e,t){null!=u.GetData(e[0],"select2")&&u.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new c(t,e),h.__super__.constructor.call(this);var n=e.attr("tabindex")||0;u.StoreData(e[0],"old-tabindex",n),e.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(e,this.options);var r=this.render();this._placeContainer(r);var o=this.options.get("selectionAdapter");this.selection=new o(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var s=this.options.get("dropdownAdapter");this.dropdown=new s(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var a=this.options.get("resultsAdapter");this.results=new a(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),u.StoreData(e[0],"select2",this),e.data("select2",this)};return u.Extend(h,u.Observable),h.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+u.generateChars(2):u.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},h.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},h.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var o=e.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},h.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},h.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=u.bind(this._syncAttributes,this),this._syncS=u.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},h.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},h.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===o.inArray(e,i)&&n.trigger(e,t)})},h.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},h.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},h.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.TAB||t===i.UP&&e.altKey?(n.close(e),e.preventDefault()):t===i.ENTER?(n.trigger("results:select",{}),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===i.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===i.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},h.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},h.prototype._isChangeMutation=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var r=0;r<t.addedNodes.length;r++)t.addedNodes[r].selected&&(n=!0);else t.removedNodes&&0<t.removedNodes.length?n=!0:o.isArray(t)&&o.each(t,function(e,t){if(i._isChangeMutation(e,t))return!(n=!0)});else n=!0;return n}},h.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),i=this;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})},h.prototype.trigger=function(e,t){var n=h.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var r=i[e],o={prevented:!1,name:e,args:t};if(n.call(this,r,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},h.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},h.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},h.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},h.prototype.isEnabled=function(){return!this.isDisabled()},h.prototype.isDisabled=function(){return this.options.get("disabled")},h.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},h.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},h.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},h.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},h.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},h.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];o.isArray(t)&&(t=o.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("input").trigger("change")},h.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",u.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),u.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},h.prototype.render=function(){var e=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),u.StoreData(e[0],"element",this.$element),e},h}),e.define("jquery-mousewheel",["jquery"],function(e){return e}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(r,e,o,t,s){var a;return null==r.fn.select2&&(a=["open","close","destroy"],r.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=r.extend(!0,{},t);new o(r(this),e)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=s.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,i)}),-1<r.inArray(t,a)?this:n}),null==r.fn.select2.defaults&&(r.fn.select2.defaults=t),o}),{define:e.define,require:e.require});function _(e,t){return a.call(e,t)}function u(e,t){var n,i,r,o,s,a,l,c,u,h,d,f=t&&t.split("/"),p=b.map,g=p&&p["*"]||{};if(e){for(s=(e=e.split("/")).length-1,b.nodeIdCompat&&w.test(e[s])&&(e[s]=e[s].replace(w,"")),"."===e[0].charAt(0)&&f&&(e=f.slice(0,f.length-1).concat(e)),u=0;u<e.length;u++)if("."===(d=e[u]))e.splice(u,1),--u;else if(".."===d){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;0<u&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((f||g)&&p){for(u=(n=e.split("/")).length;0<u;--u){if(i=n.slice(0,u).join("/"),f)for(h=f.length;0<h;--h)if(r=(r=p[f.slice(0,h).join("/")])&&r[i]){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function x(t,n){return function(){var e=l.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),s.apply(f,e.concat([t,n]))}}function C(e){var t;if(_(v,e)&&(t=v[e],delete v[e],y[e]=!0,o.apply(f,t)),!_(m,e)&&!_(y,e))throw new Error("No "+e);return m[e]}function h(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function k(e){return e?h(e):[]}var d=c.require("jquery.select2");return t.fn.select2.amd=c,d}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(o){var i={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};function n(e,t,n){t={content:{message:"object"==typeof t?t.message:t,title:t.title?t.title:"",icon:t.icon?t.icon:"",url:t.url?t.url:"#",target:t.target?t.target:"-"}};n=o.extend(!0,{},t,n),this.settings=o.extend(!0,{},i,n),this._defaults=i,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},o.extend(n.prototype,{init:function(){var s=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(e,t){var n={};for(var e in"string"==typeof e?n[e]=t:n=e,n)switch(e){case"type":this.$ele.removeClass("alert-"+s.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+s.settings.type),s.settings.type=n[e],this.$ele.addClass("alert-"+n[e]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[e]);break;case"icon":var i=this.$ele.find('[data-notify="icon"]');"class"==s.settings.icon_type.toLowerCase()?i.removeClass(s.settings.content.icon).addClass(n[e]):(i.is("img")||i.find("img"),i.attr("src",n[e]));break;case"progress":var r=s.settings.delay-s.settings.delay*(n[e]/100);this.$ele.data("notify-delay",r),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n[e]).css("width",n[e]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",n[e]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",n[e]);break;default:this.$ele.find('[data-notify="'+e+'"]').html(n[e])}var o=this.$ele.outerHeight()+parseInt(s.settings.spacing)+parseInt(s.settings.offset.y);s.reposition(o)},close:function(){s.close()}}},buildNotify:function(){var e=this.settings.content;this.$ele=o(String.format(this.settings.template,this.settings.type,e.title,e.message,e.url,e.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1}),this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},placement:function(){var n=this,e=this.settings.offset.y,t={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},i=!1,r=this.settings;switch(o('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return e=Math.max(e,parseInt(o(this).css(r.placement.from))+parseInt(o(this).outerHeight())+parseInt(r.spacing))}),1==this.settings.newest_on_top&&(e=this.settings.offset.y),t[this.settings.placement.from]=e+"px",this.settings.placement.align){case"left":case"right":t[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":t.left=0,t.right=0}this.$ele.css(t).addClass(this.settings.animate.enter),o.each(Array("webkit","moz","o","ms",""),function(e,t){n.$ele[0].style[t+"AnimationIterationCount"]=1}),o(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(e=parseInt(e)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(e)),o.isFunction(n.settings.onShow)&&n.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(e){i=!0}).one(this.animations.end,function(e){o.isFunction(n.settings.onShown)&&n.settings.onShown.call(this)}),setTimeout(function(){i||o.isFunction(n.settings.onShown)&&n.settings.onShown.call(this)},600)},bind:function(){var n,i=this;this.$ele.find('[data-notify="dismiss"]').on("click",function(){i.close()}),this.$ele.mouseover(function(e){o(this).data("data-hover","true")}).mouseout(function(e){o(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),0<this.settings.delay&&(i.$ele.data("notify-delay",i.settings.delay),n=setInterval(function(){var e,t=parseInt(i.$ele.data("notify-delay"))-i.settings.timer;("false"===i.$ele.data("data-hover")&&"pause"==i.settings.mouse_over||"pause"!=i.settings.mouse_over)&&(e=(i.settings.delay-t)/i.settings.delay*100,i.$ele.data("notify-delay",t),i.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",e).css("width",e+"%")),t<=-i.settings.timer&&(clearInterval(n),i.close())},i.settings.timer))},close:function(){var t=this,e=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(e),o.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(e){n=!0}).one(this.animations.end,function(e){o(this).remove(),o.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)}),setTimeout(function(){n||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))},600)},reposition:function(e){var t=this,n='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',i=this.$ele.nextAll(n);1==this.settings.newest_on_top&&(i=this.$ele.prevAll(n)),i.each(function(){o(this).css(t.settings.placement.from,e),e=parseInt(e)+parseInt(t.settings.spacing)+o(this).outerHeight()})}}),o.notify=function(e,t){return new n(0,e,t).notify},o.notifyDefaults=function(e){return i=o.extend(!0,{},i,e)},o.notifyClose=function(e){void 0===e||"all"==e?o("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):o('[data-notify-position="'+e+'"]').find('[data-notify="dismiss"]').trigger("click")}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.grapesjs=t():e.grapesjs=t()}(window,function(){return i={},r.m=n={"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(e,t,n){var s=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var n,i=s(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)n=r[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(e,t){e.exports=function(e,t){if(null==e)return{};for(var n,i={},r=Object.keys(e),o=0;o<r.length;o++)n=r[o],0<=t.indexOf(n)||(i[n]=e[n]);return i}},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),r=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),o=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return i(e)||r(e,t)||o()}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),r=n("./node_modules/@babel/runtime/helpers/iterableToArray.js"),o=n("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return i(e)||r(e)||o()}},"./node_modules/@babel/runtime/helpers/typeof.js":function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=i=function(e){return n(e)}:t.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(e)}t.exports=i},"./node_modules/backbone-undo/Backbone.Undo.js":function(e,t,n){var i,r,o;r=[n("./node_modules/underscore/underscore.js"),n("./node_modules/backbone/backbone.js")],void 0===(o="function"==typeof(i=function(l,e){var c=Array.prototype.slice;function s(e,t,n){return n.length<=4?e.call(t,n[0],n[1],n[2],n[3]):e.apply(t,n)}function i(e,t){return c.call(e,t)}function a(t,e){if(t==null)return false;if(!l.isArray(e)){e=i(arguments,1)}return l.all(e,function(e){return e in t})}var u=function(){var e=false,t=-1;function n(){t++;e=true;l.defer(function(){e=false})}return function(){if(!e){n()}return t}}();function t(){this.registeredObjects=[];this.cidIndexes=[]}function n(e,t,n,i){for(var r=0,o=t.length,s;r<o;r++){s=t[r];if(!s)continue;if(e==="on"){if(!i.objectRegistry.register(s)){continue}}else{if(!i.objectRegistry.unregister(s)){continue}}if(l.isFunction(s[e])){s[e]("all",n,i)}}}function r(e,t){var n=t.type,i=t.undoTypes,r=!i[n]||i[n][e];if(l.isFunction(r)){r(t.object,t.before,t.after,t.options)}}function o(e,t,n,i,r){if(n.isCurrentlyUndoRedoing||e==="undo"&&n.pointer===-1||e==="redo"&&n.pointer===n.length-1){return}n.isCurrentlyUndoRedoing=true;var o,s,a=e==="undo";if(r){s=a&&n.pointer===n.length-1||!a&&n.pointer===-1?l.clone(n.models):c.apply(n.models,a?[0,n.pointer]:[n.pointer,n.length-1])}else{o=n.at(a?n.pointer:n.pointer+1);s=i?n.where({magicFusionIndex:o.get("magicFusionIndex")}):[o]}n.pointer+=(a?-1:1)*s.length;while(o=a?s.pop():s.shift()){o[e]()}n.isCurrentlyUndoRedoing=false;t.trigger(e,t)}function h(e,t){var n=e.condition,i=typeof n;return i==="function"?!!s(n,e,t):i==="boolean"?n:true}function d(e,t,n,i){if(e.track&&!e.isCurrentlyUndoRedoing&&t in i&&h(i[t],n)){var r=s(i[t]["on"],i[t],n),o;if(a(r,"object","before","after")){r.type=t;r.magicFusionIndex=u();r.undoTypes=i;if(e.pointer<e.length-1){var o=e.length-e.pointer-1;while(o--){e.pop()}}e.pointer=e.length;e.add(r);if(e.length>e.maximumStackLength){e.shift();e.pointer--}}}}t.prototype={isRegistered:function(e){return e&&e.cid?this.registeredObjects[e.cid]:l.contains(this.registeredObjects,e)},register:function(e){if(!this.isRegistered(e)){if(e&&e.cid){this.registeredObjects[e.cid]=e;this.cidIndexes.push(e.cid)}else{this.registeredObjects.push(e)}return true}return false},unregister:function(e){if(this.isRegistered(e)){if(e&&e.cid){delete this.registeredObjects[e.cid];this.cidIndexes.splice(l.indexOf(this.cidIndexes,e.cid),1)}else{var t=l.indexOf(this.registeredObjects,e);this.registeredObjects.splice(t,1)}return true}return false},get:function(){return l.map(this.cidIndexes,function(e){return this.registeredObjects[e]},this).concat(this.registeredObjects)}};var f={add:{undo:function(e,t,n,i){e.remove(n,i)},redo:function(e,t,n,i){if(i.index){i.at=i.index}e.add(n,i)},on:function(e,t,n){return{object:t,before:undefined,after:e,options:l.clone(n)}}},remove:{undo:function(e,t,n,i){if("index"in i){i.at=i.index}e.add(t,i)},redo:function(e,t,n,i){e.remove(t,i)},on:function(e,t,n){return{object:t,before:e,after:undefined,options:l.clone(n)}}},change:{undo:function(e,t,n,i){if(l.isEmpty(t)){l.each(l.keys(n),e.unset,e)}else{e.set(t);if(i&&i.unsetData&&i.unsetData.before&&i.unsetData.before.length){l.each(i.unsetData.before,e.unset,e)}}},redo:function(e,t,n,i){if(l.isEmpty(n)){l.each(l.keys(t),e.unset,e)}else{e.set(n);if(i&&i.unsetData&&i.unsetData.after&&i.unsetData.after.length){l.each(i.unsetData.after,e.unset,e)}}},on:function(e,t){var n=e.changedAttributes(),i=l.keys(n),r=l.pick(e.previousAttributes(),i),o=l.keys(r),s=(t||(t={})).unsetData={after:[],before:[]};if(i.length!=o.length){if(i.length>o.length){l.each(i,function(e){if(!(e in r)){s.before.push(e)}},this)}else{l.each(o,function(e){if(!(e in n)){s.after.push(e)}})}}return{object:e,before:r,after:n,options:l.clone(t)}}},reset:{undo:function(e,t,n){e.reset(t)},redo:function(e,t,n){e.reset(n)},on:function(e,t){return{object:e,before:t.previousModels,after:l.clone(e.models)}}}};function p(){}function g(n,e,i,r){if(typeof e==="object"){return l.each(e,function(e,t){if(n===2){g(n,e,i,r)}else{g(n,t,e,i)}})}switch(n){case 0:if(a(i,"undo","redo","on")&&l.all(l.pick(i,"undo","redo","on"),l.isFunction)){r[e]=i}break;case 1:if(r[e]&&l.isObject(i)){r[e]=l.extend({},r[e],i)}break;case 2:delete r[e];break}return this}p.prototype=f;var m=e.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(e){r("undo",this.attributes)},redo:function(e){r("redo",this.attributes)}}),v=e.Collection.extend({model:m,pointer:-1,track:false,isCurrentlyUndoRedoing:false,maximumStackLength:Infinity,setMaxLength:function(e){this.maximumStackLength=e}}),b=e.Model.extend({defaults:{maximumStackLength:Infinity,track:false},initialize:function(e){this.stack=new v;this.objectRegistry=new t;this.undoTypes=new p;this.stack.setMaxLength(this.get("maximumStackLength"));this.on("change:maximumStackLength",function(e,t){this.stack.setMaxLength(t)},this);if(e&&e.track){this.startTracking()}if(e&&e.register){if(l.isArray(e.register)||l.isArguments(e.register)){s(this.register,this,e.register)}else{this.register(e.register)}}},startTracking:function(){this.set("track",true);this.stack.track=true},stopTracking:function(){this.set("track",false);this.stack.track=false},isTracking:function(){return this.get("track")},_addToStack:function(e){d(this.stack,e,i(arguments,1),this.undoTypes)},register:function(){n("on",arguments,this._addToStack,this)},unregister:function(){n("off",arguments,this._addToStack,this)},unregisterAll:function(){s(this.unregister,this,this.objectRegistry.get())},undo:function(e){o("undo",this,this.stack,e)},undoAll:function(){o("undo",this,this.stack,false,true)},redo:function(e){o("redo",this,this.stack,e)},redoAll:function(){o("redo",this,this.stack,false,true)},isAvailable:function(e){var t=this.stack,n=t.length;switch(e){case"undo":return n>0&&t.pointer>-1;case"redo":return n>0&&t.pointer<n-1;default:return false}},merge:function(e){var t=l.isArray(e)?e:i(arguments),n;while(n=t.pop()){if(n instanceof b&&n.stack instanceof v){n.stack=this.stack}}},addUndoType:function(e,t){g(0,e,t,this.undoTypes)},changeUndoType:function(e,t){g(1,e,t,this.undoTypes)},removeUndoType:function(e){g(2,e,undefined,this.undoTypes)},clear:function(){this.stack.reset();this.stack.pointer=-1}});return l.extend(b,{defaults:function(e){l.extend(b.prototype.defaults,e)},addUndoType:function(e,t){g(0,e,t,f)},changeUndoType:function(e,t){g(1,e,t,f)},removeUndoType:function(e){g(2,e,void 0,f)}}),e.UndoManager=b})?i.apply(t,r):i)||(e.exports=o)},"./node_modules/backbone/backbone.js":function(r,o,s){(function(e){var t,n,i;i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e,t=[s("./node_modules/underscore/underscore.js"),s("./node_modules/cash-dom/dist/cash.esm.js"),o],void 0===(n=function(e,t,n){i.Backbone=function(e,l,_,t){var n=e.Backbone,o=Array.prototype.slice;l.VERSION="1.3.3",l.$=t,l.noConflict=function(){e.Backbone=n;return this},l.emulateHTTP=false,l.emulateJSON=false;var r=function(e,i,r){switch(e){case 1:return function(){return _[i](this[r])};case 2:return function(e){return _[i](this[r],e)};case 3:return function(e,t){return _[i](this[r],s(e,this),t)};case 4:return function(e,t,n){return _[i](this[r],s(e,this),t,n)};default:return function(){var e=o.call(arguments);e.unshift(this[r]);return _[i].apply(_,e)}}},i=function(n,e,i){_.each(e,function(e,t){if(_[t])n.prototype[t]=r(e,t,i)})},s=function(t,e){if(_.isFunction(t))return t;if(_.isObject(t)&&!e._isModel(t))return a(t);if(_.isString(t))return function(e){return e.get(t)};return t},a=function(e){var t=_.matches(e);return function(e){return t(e.attributes)}},c=l.Events={},u=/\s+/,h=function(e,t,n,i,r){var o=0,s;if(n&&typeof n==="object"){if(i!==void 0&&"context"in r&&r.context===void 0)r.context=i;for(s=_.keys(n);o<s.length;o++){t=h(e,t,s[o],n[s[o]],r)}}else if(n&&u.test(n)){for(s=n.split(u);o<s.length;o++){t=e(t,s[o],i,r)}}else{t=e(t,n,i,r)}return t};c.on=function(e,t,n){return d(this,e,t,n)};var d=function(e,t,n,i,r){e._events=h(f,e._events||{},t,n,{context:i,ctx:e,listening:r});if(r){var o=e._listeners||(e._listeners={});o[r.id]=r}return e};c.listenTo=function(e,t,n){if(!e)return this;var i=e._listenId||(e._listenId=_.uniqueId("l"));var r=this._listeningTo||(this._listeningTo={});var o=r[i];if(!o){var s=this._listenId||(this._listenId=_.uniqueId("l"));o=r[i]={obj:e,objId:i,id:s,listeningTo:r,count:0}}d(e,t,n,this,o);return this};var f=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]);var o=i.context,s=i.ctx,a=i.listening;if(a)a.count++;r.push({callback:n,context:o,ctx:o||s,listening:a})}return e};c.off=function(e,t,n){if(!this._events)return this;this._events=h(p,this._events,e,t,{context:n,listeners:this._listeners});return this},c.stopListening=function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=e?[e._listenId]:_.keys(i);for(var o=0;o<r.length;o++){var s=i[r[o]];if(!s)break;s.obj.off(t,n,this)}return this};var p=function(e,t,n,i){if(!e)return;var r=0,o;var s=i.context,a=i.listeners;if(!t&&!n&&!s){var l=_.keys(a);for(;r<l.length;r++){o=a[l[r]];delete a[o.id];delete o.listeningTo[o.objId]}return}var c=t?[t]:_.keys(e);for(;r<c.length;r++){t=c[r];var u=e[t];if(!u)break;var h=[];for(var d=0;d<u.length;d++){var f=u[d];if(n&&n!==f.callback&&n!==f.callback._callback||s&&s!==f.context){h.push(f)}else{o=f.listening;if(o&&--o.count===0){delete a[o.id];delete o.listeningTo[o.objId]}}}if(h.length){e[t]=h}else{delete e[t]}}return e};c.once=function(e,t,n){var i=h(g,{},e,t,_.bind(this.off,this));if(typeof e==="string"&&n==null)t=void 0;return this.on(i,t,n)},c.listenToOnce=function(e,t,n){var i=h(g,{},t,n,_.bind(this.stopListening,this,e));return this.listenTo(e,i)};var g=function(e,t,n,i){if(n){var r=e[t]=_.once(function(){i(t,r);n.apply(this,arguments)});r._callback=n}return e};c.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1);var n=Array(t);for(var i=0;i<t;i++)n[i]=arguments[i+1];h(m,this._events,e,void 0,n);return this};var m=function(e,t,n,i){if(e){var r=e[t];var o=e.all;if(r&&o)o=o.slice();if(r)v(r,i);if(o)v(o,[t].concat(i))}return e},v=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:while(++i<r)(n=e[i]).callback.call(n.ctx);return;case 1:while(++i<r)(n=e[i]).callback.call(n.ctx,o);return;case 2:while(++i<r)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:while(++i<r)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:while(++i<r)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,_.extend(l,c);var b=l.Model=function(e,t){var n=e||{};t||(t={});this.cid=_.uniqueId(this.cidPrefix);this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)n=this.parse(n,t)||{};var i=_.result(this,"defaults");n=_.defaults(_.extend({},i,n),i);this.set(n,t);this.changed={};this.initialize.apply(this,arguments)},y;_.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return _.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return _.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!_.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(e==null)return this;var i;if(typeof e==="object"){i=e;n=t}else{(i={})[e]=t}n||(n={});if(!this._validate(i,n))return false;var r=n.unset;var o=n.silent;var s=[];var a=this._changing;this._changing=true;if(!a){this._previousAttributes=_.clone(this.attributes);this.changed={}}var l=this.attributes;var c=this.changed;var u=this._previousAttributes;for(var h in i){t=i[h];if(!_.isEqual(l[h],t))s.push(h);if(!_.isEqual(u[h],t)){c[h]=t}else{delete c[h]}r?delete l[h]:l[h]=t}if(this.idAttribute in i)this.id=this.get(this.idAttribute);if(!o){if(s.length)this._pending=n;for(var d=0;d<s.length;d++){this.trigger("change:"+s[d],this,l[s[d]],n)}}if(a)return this;if(!o){while(this._pending){n=this._pending;this._pending=false;this.trigger("change",this,n)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,_.extend({},t,{unset:true}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,_.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!_.isEmpty(this.changed);return _.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?_.clone(this.changed):false;var t=this._changing?this._previousAttributes:this.attributes;var n={};for(var i in e){var r=e[i];if(_.isEqual(t[i],r))continue;n[i]=r}return _.size(n)?n:false},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(n){n=_.extend({parse:true},n);var i=this;var r=n.success;n.success=function(e){var t=n.parse?i.parse(e,n):e;if(!i.set(t,n))return false;if(r)r.call(n.context,i,e,n);i.trigger("sync",i,e,n)};$(this,n);return this.sync("read",this,n)},save:function(e,t,n){var i;if(e==null||typeof e==="object"){i=e;n=t}else{(i={})[e]=t}n=_.extend({validate:true,parse:true},n);var r=n.wait;if(i&&!r){if(!this.set(i,n))return false}else if(!this._validate(i,n)){return false}var o=this;var s=n.success;var a=this.attributes;n.success=function(e){o.attributes=a;var t=n.parse?o.parse(e,n):e;if(r)t=_.extend({},i,t);if(t&&!o.set(t,n))return false;if(s)s.call(n.context,o,e,n);o.trigger("sync",o,e,n)};$(this,n);if(i&&r)this.attributes=_.extend({},a,i);var l=this.isNew()?"create":n.patch?"patch":"update";if(l==="patch"&&!n.attrs)n.attrs=i;var c=this.sync(l,this,n);this.attributes=a;return c},destroy:function(t){t=t?_.clone(t):{};var n=this;var i=t.success;var r=t.wait;var o=function(){n.stopListening();n.trigger("destroy",n,n.collection,t)};t.success=function(e){if(r)o();if(i)i.call(t.context,n,e,t);if(!n.isNew())n.trigger("sync",n,e,t)};var e=false;if(this.isNew()){_.defer(t.success)}else{$(this,t);e=this.sync("delete",this,t)}if(!r)o();return e},url:function(){var e=_.result(this,"urlRoot")||_.result(this.collection,"url")||R();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},_.extend({},e,{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=_.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;if(!n)return true;this.trigger("invalid",this,n,_.extend(t,{validationError:n}));return false}}),i(b,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var w=l.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,_.extend({silent:true},t))},x={add:true,remove:true,merge:true},C={add:true,remove:false},k=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i=Array(e.length-n);var r=t.length;var o;for(o=0;o<i.length;o++)i[o]=e[o+n];for(o=0;o<r;o++)e[o+n]=t[o];for(o=0;o<i.length;o++)e[o+r+n]=i[o]},S;_.extend(w.prototype,c,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return l.sync.apply(this,arguments)},add:function(e,t){return this.set(e,_.extend({merge:false},t,C))},remove:function(e,t){t=_.extend({},t);var n=!_.isArray(e);e=n?[e]:e.slice();var i=this._removeModels(e,t);if(!t.silent&&i.length){t.changes={added:[],merged:[],removed:i};this.trigger("update",this,t)}return n?i[0]:i},set:function(e,t){if(e==null)return;t=_.extend({},x,t);if(t.parse&&!this._isModel(e)){e=this.parse(e,t)||[]}var n=!_.isArray(e);e=n?[e]:e.slice();var i=t.at;if(i!=null)i=+i;if(i>this.length)i=this.length;if(i<0)i+=this.length+1;var r=[];var o=[];var s=[];var a=[];var l={};var c=t.add;var u=t.merge;var h=t.remove;var d=false;var f=this.comparator&&i==null&&t.sort!==false;var p=_.isString(this.comparator)?this.comparator:null;var g,m;for(m=0;m<e.length;m++){g=e[m];var v=this.get(g);if(v){if(u&&g!==v){var b=this._isModel(g)?g.attributes:g;if(t.parse)b=v.parse(b,t);v.set(b,t);s.push(v);if(f&&!d)d=v.hasChanged(p)}if(!l[v.cid]){l[v.cid]=true;r.push(v)}e[m]=v}else if(c){g=e[m]=this._prepareModel(g,t);if(g){o.push(g);this._addReference(g,t);l[g.cid]=true;r.push(g)}}}if(h){for(m=0;m<this.length;m++){g=this.models[m];if(!l[g.cid])a.push(g)}if(a.length)this._removeModels(a,t)}var y=false;var w=!f&&c&&h;if(r.length&&w){y=this.length!==r.length||_.some(this.models,function(e,t){return e!==r[t]});this.models.length=0;k(this.models,r,0);this.length=this.models.length}else if(o.length){if(f)d=true;k(this.models,o,i==null?this.length:i);this.length=this.models.length}if(d)this.sort({silent:true});if(!t.silent){for(m=0;m<o.length;m++){if(i!=null)t.index=i+m;g=o[m];g.trigger("add",g,this,t)}if(d||y)this.trigger("sort",this,t);if(o.length||a.length||s.length){t.changes={added:o,removed:a,merged:s};this.trigger("update",this,t)}}return n?e[0]:e},reset:function(e,t){t=t?_.clone(t):{};for(var n=0;n<this.models.length;n++){this._removeReference(this.models[n],t)}t.previousModels=this.models;this._reset();e=this.add(e,_.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,_.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,_.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){if(e<0)e+=this.length;return this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,true)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;if(_.isFunction(t))t=_.bind(t,this);if(n===1||_.isString(t)){this.models=this.sortBy(t)}else{this.models.sort(t)}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return this.map(e+"")},fetch:function(n){n=_.extend({parse:true},n);var i=n.success;var r=this;n.success=function(e){var t=n.reset?"reset":"set";r[t](e,n);if(i)i.call(n.context,r,e,n);r.trigger("sync",r,e,n)};$(this,n);return this.sync("read",this,n)},create:function(e,t){t=t?_.clone(t):{};var i=t.wait;e=this._prepareModel(e,t);if(!e)return false;if(!i)this.add(e,t);var r=this;var o=t.success;t.success=function(e,t,n){if(i)r.add(e,n);if(o)o.call(n.context,e,t,n)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(this._isModel(e)){if(!e.collection)e.collection=this;return e}t=t?_.clone(t):{};t.collection=this;var n=new this.model(e,t);if(!n.validationError)return n;this.trigger("invalid",this,n.validationError,t);return false},_removeModels:function(e,t){var n=[];for(var i=0;i<e.length;i++){var r=this.get(e[i]);if(!r)continue;var o=this.indexOf(r);this.models.splice(o,1);this.length--;delete this._byId[r.cid];var s=this.modelId(r.attributes);if(s!=null)delete this._byId[s];if(!t.silent){t.index=o;r.trigger("remove",r,this,t)}n.push(r);this._removeReference(r,t)}return n},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);if(n!=null)this._byId[n]=e;e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);if(n!=null)delete this._byId[n];if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if((e==="add"||e==="remove")&&n!==this)return;if(e==="destroy")this.remove(t,i);if(e==="change"){var r=this.modelId(t.previousAttributes());var o=this.modelId(t.attributes);if(r!==o){if(r!=null)delete this._byId[r];if(o!=null)this._byId[o]=t}}}this.trigger.apply(this,arguments)}}),i(w,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var O=l.View=function(e){this.cid=_.uniqueId("view");_.extend(this,_.pick(e,j));this._ensureElement();this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,j=["model","collection","el","id","attributes","className","tagName","events"];_.extend(O.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(e){this.undelegateEvents();this._setElement(e);this.delegateEvents();return this},_setElement:function(e){this.$el=e instanceof l.$?e:l.$(e);this.el=this.$el[0]},delegateEvents:function(e){e||(e=_.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var n=e[t];if(!_.isFunction(n))n=this[n];if(!n)continue;var i=t.match(T);this.delegate(i[1],i[2],_.bind(n,this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n);return this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=_.extend({},_.result(this,"attributes"));if(this.id)e.id=_.result(this,"id");if(this.className)e["class"]=_.result(this,"className");this.setElement(this._createElement(_.result(this,"tagName")));this._setAttributes(e)}else{this.setElement(_.result(this,"el"))}},_setAttributes:function(e){this.$el.attr(e)}}),l.sync=function(e,t,i){var n=E[e];_.defaults(i||(i={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var r={type:n,dataType:"json"};if(!i.url){r.url=_.result(t,"url")||R()}if(i.data==null&&t&&(e==="create"||e==="update"||e==="patch")){r.contentType="application/json";r.data=JSON.stringify(i.attrs||t.toJSON(i))}if(i.emulateJSON){r.contentType="application/x-www-form-urlencoded";r.data=r.data?{model:r.data}:{}}if(i.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){r.type="POST";if(i.emulateJSON)r.data._method=n;var o=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",n);if(o)return o.apply(this,arguments)}}if(r.type!=="GET"&&!i.emulateJSON){r.processData=false}var s=i.error;i.error=function(e,t,n){i.textStatus=t;i.errorThrown=n;if(s)s.call(i.context,e,t,n)};var a=i.xhr=l.ajax(_.extend(r,i));t.trigger("request",t,a,i);return a};var E={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var P=l.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,M=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(P.prototype,c,{initialize:function(){},route:function(n,i,r){if(!_.isRegExp(n))n=this._routeToRegExp(n);if(_.isFunction(i)){r=i;i=""}if(!r)r=this[i];var o=this;l.history.route(n,function(e){var t=o._extractParameters(n,e);if(o.execute(r,t,i)!==false){o.trigger.apply(o,["route:"+i].concat(t));o.trigger("route",i,t);l.history.trigger("route",o,i,t)}});return this},execute:function(e,t,n){if(e)e.apply(this,t)},navigate:function(e,t){l.history.navigate(e,t);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=_.result(this,"routes");var e,t=_.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(I,"\\$&").replace(D,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/?]+)"}).replace(M,"([^?]*?)");return new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return _.map(n,function(e,t){if(t===n.length-1)return e||null;return e?decodeURIComponent(e):null})}});var L=l.History=function(){this.handlers=[];this.checkUrl=_.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}},N=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,z=/#.*$/;L.started=false,_.extend(L.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname);var t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){if(e==null){if(this._usePushState||!this._wantsHashChange){e=this.getPath()}else{e=this.getHash()}}return e.replace(N,"")},start:function(e){if(L.started)throw new Error("Backbone.history has already been started");L.started=true;this.options=_.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(F,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";this.location.replace(t+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var n=document.body;var i=n.insertBefore(this.iframe,n.firstChild).contentWindow;i.document.open();i.document.close();i.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState){r("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){r("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};if(this._usePushState){e("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){e("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);L.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getHash(this.iframe.contentWindow)}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(t){if(!this.matchRoot())return false;t=this.fragment=this.getFragment(t);return _.some(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(e,t){if(!L.started)return false;if(!t||t===true)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?"){n=n.slice(0,-1)||"/"}var i=n+e;e=this.decodeFragment(e.replace(z,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;if(!t.replace){r.document.open();r.document.close()}this._updateHash(r.location,e,t.replace)}}else{return this.location.assign(i)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else{e.hash="#"+t}}}),l.history=new L;var H=function(e,t){var n=this;var i;if(e&&_.has(e,"constructor")){i=e.constructor}else{i=function(){return n.apply(this,arguments)}}_.extend(i,n,t);i.prototype=_.create(n.prototype,e);i.prototype.constructor=i;i.__super__=n.prototype;return i};b.extend=w.extend=P.extend=O.extend=L.extend=H;var R=function(){throw new Error('A "url" property or function must be specified')},$=function(t,n){var i=n.error;n.error=function(e){if(i)i.call(n.context,t,e,n);t.trigger("error",t,e,n)}};return l}(i,n,e,t)}.apply(o,t))||(r.exports=n)}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/cash-dom/dist/cash.esm.js":function(e,t,n){"use strict";n.r(t);var s=document,a=window,i=Array.prototype,r=i.filter,o=i.indexOf,l=i.map,c=i.push,u=i.reverse,h=i.slice,d=i.splice,f=/^#[\w-]*$/,p=/^\.[\w-]*$/,g=/<.+>/,m=/^\w+$/;function v(e,t){return void 0===t&&(t=s),p.test(e)?t.getElementsByClassName(e.slice(1)):m.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e)}function b(e,t){if(void 0===t&&(t=s),e){if(e.__cash)return e;var n=e;if(j(e)){if(t.__cash&&(t=t[0]),!(n=f.test(e)?t.getElementById(e.slice(1)):g.test(e)?ue(e):v(e,t)))return}else if(T(e))return this.ready(e);!n.nodeType&&n!==a||(n=[n]),this.length=n.length;for(var i=0,r=this.length;i<r;i++)this[i]=n[i]}}function y(e,t){return new b(e,t)}var w=y.fn=y.prototype=b.prototype={constructor:y,__cash:!0,length:0,splice:d};w.get=function(e){return void 0===e?h.call(this):this[e<0?e+this.length:e]},w.eq=function(e){return y(this.get(e))},w.first=function(){return this.eq(0)},w.last=function(){return this.eq(-1)},w.map=function(n){return y(l.call(this,function(e,t){return n.call(e,t,e)}))},w.slice=function(){return y(h.apply(this,arguments))};var _=/(?:^\w|[A-Z]|\b\w)/g,x=/[\s-_]+/g;function C(e){return e.replace(_,function(e,t){return e[t?"toUpperCase":"toLowerCase"]()}).replace(x,"")}function k(e,t){for(var n=0,i=e.length;n<i&&!1!==t.call(e[n],e[n],n,e);n++);}y.camelCase=C,y.each=k,w.each=function(n){return k(this,function(e,t){return n.call(e,t,e)}),this},w.removeProp=function(n){return this.each(function(e,t){delete t[n]})},y.extend=w.extend=function(e){void 0===e&&(e=this);for(var t=arguments,n=t.length,i=n<2?0:1;i<n;i++)for(var r in t[i])e[r]=t[i][r];return e};var S=1;function O(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function T(e){return"function"==typeof e}function j(e){return"string"==typeof e}function E(e){return!isNaN(parseFloat(e))&&isFinite(e)}y.guid=S,y.matches=O,y.isFunction=T,y.isString=j,y.isNumeric=E;var P=Array.isArray;function D(n){return j(n)?function(e,t){return O(t,n)}:n.__cash?function(e,t){return n.is(t)}:function(e,t,n){return t===n}}y.isArray=P,w.prop=function(n,i){if(n){if(j(n))return arguments.length<2?this[0]&&this[0][n]:this.each(function(e,t){t[n]=i});for(var e in n)this.prop(e,n[e]);return this}},w.filter=function(n){if(!n)return y();var i=T(n)?n:D(n);return y(r.call(this,function(e,t){return i.call(e,t,e,n)}))};var A=/\S+/g;function M(e){return j(e)&&e.match(A)||[]}function I(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function L(e,t,n){if(1===e.nodeType){var i=a.getComputedStyle(e,null);return t?n?i.getPropertyValue(t):i[t]:i}}function N(e,t){return parseInt(L(e,t),10)||0}w.hasClass=function(e){var n=M(e),i=!1;return n.length&&this.each(function(e,t){return!(i=t.classList.contains(n[0]))}),i},w.removeAttr=function(e){var n=M(e);return n.length?this.each(function(e,t){k(n,function(e){t.removeAttribute(e)})}):this},w.attr=function(n,i){if(n){if(j(n)){if(arguments.length<2){if(!this[0])return;var e=this[0].getAttribute(n);return null===e?void 0:e}return null===i?this.removeAttr(n):this.each(function(e,t){t.setAttribute(n,i)})}for(var t in n)this.attr(t,n[t]);return this}},w.toggleClass=function(e,n){var i=M(e),r=void 0!==n;return i.length?this.each(function(e,t){k(i,function(e){r?n?t.classList.add(e):t.classList.remove(e):t.classList.toggle(e)})}):this},w.addClass=function(e){return this.toggleClass(e,!0)},w.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")},y.unique=I,w.add=function(e,t){return y(I(this.get().concat(y(e,t).get())))};var F=/^--/;function z(e){return F.test(e)}var H={},R=s.createElement("div").style,$=["webkit","moz","ms","o"];function V(t,e){return void 0===e&&(e=z(t)),e?t:(H[t]||(i=""+(n=C(t)).charAt(0).toUpperCase()+n.slice(1),k((n+" "+$.join(i+" ")+i).split(" "),function(e){if(e in R)return H[t]=e,!1})),H[t]);var n,i}y.prefixedProp=V;var W={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function B(e,t,n){return void 0===n&&(n=z(e)),n||W[e]||!E(t)?t:t+"px"}w.css=function(n,i){if(j(n)){var r=z(n);return(n=V(n,r),arguments.length<2)?this[0]&&L(this[0],n,r):n?(i=B(n,i,r),this.each(function(e,t){1===t.nodeType&&(r?t.style.setProperty(n,i):t.style[n]=i)})):this}for(var e in n)this.css(e,n[e]);return this};var U="__cashData",q=/^data-(.*)/;function Y(e){return e[U]=e[U]||{}}function G(e,t){var n=Y(e);if(t){if(!(t in n)){var i=e.dataset?e.dataset[t]||e.dataset[C(t)]:y(e).attr("data-"+t);if(void 0!==i){try{i=JSON.parse(i)}catch(e){}n[t]=i}}return n[t]}return n}function K(e,t){return N(e,"border"+(t?"Left":"Top")+"Width")+N(e,"padding"+(t?"Left":"Top"))+N(e,"padding"+(t?"Right":"Bottom"))+N(e,"border"+(t?"Right":"Bottom")+"Width")}function X(e,t){for(var n=0,i=t.length;n<i;n++)if(e.indexOf(t[n])<0)return;return 1}y.hasData=function(e){return U in e},w.data=function(r,o){var n=this;if(!r){if(!this[0])return;return k(this[0].attributes,function(e){var t=e.name.match(q);t&&n.data(t[1])}),G(this[0])}if(j(r))return void 0===o?this[0]&&G(this[0],r):this.each(function(e,t){return n=r,i=o,void(Y(t)[n]=i);var n,i});for(var e in r)this.data(e,r[e]);return this},w.removeData=function(r){return this.each(function(e,t){return n=t,void(void 0===(i=r)?delete n[U]:delete Y(n)[i]);var n,i})},k(["Width","Height"],function(e){w["inner"+e]=function(){if(this[0])return this[0]===a?a["inner"+e]:this[0]["client"+e]}}),k(["width","height"],function(r,o){w[r]=function(i){return this[0]?arguments.length?(i=parseInt(i,10),this.each(function(e,t){var n;1===t.nodeType&&(n=L(t,"boxSizing"),t.style[r]=B(r,i+("border-box"===n?K(t,!o):0)))})):this[0]===a?this[0][C("outer-"+r)]:this[0].getBoundingClientRect()[r]-K(this[0],!o):void 0===i?void 0:this}}),k(["Width","Height"],function(t,n){w["outer"+t]=function(e){if(this[0])return this[0]===a?a["outer"+t]:this[0]["offset"+t]+(e?N(this[0],"margin"+(n?"Top":"Left"))+N(this[0],"margin"+(n?"Bottom":"Right")):0)}});var Q="__cashEvents";function Z(e){return e[Q]=e[Q]||{}}function J(e){var t=e.split(".");return[t[0],t.slice(1).sort()]}function ee(i,r,o,s){var e=Z(i);if(r){var t=e[r];if(!t)return;s&&(s.guid=s.guid||S++),e[r]=t.filter(function(e){var t=e[0],n=e[1];if(s&&n.guid!==s.guid||!X(t,o))return!0;i.removeEventListener(r,n)})}else if(o&&o.length)for(r in e)ee(i,r,o,s);else for(r in e)!function(e,n,i){k(e[i],function(e){e[0];var t=e[1];n.removeEventListener(i,t)}),delete e[i]}(e,i,r)}w.off=function(e,r){var o=this;return void 0===e?this.each(function(e,t){return ee(t)}):k(M(e),function(e){var t=J(e),n=t[0],i=t[1];o.each(function(e,t){return ee(t,n,i,r)})}),this},w.on=function(e,l,c,u){var n=this;if(j(e))return T(l)&&(c=l,l=!1),k(M(e),function(e){var t=J(e),s=t[0],a=t[1];n.each(function(e,r){function o(e){if(!e.namespace||X(a,e.namespace.split("."))){var t=r;if(l){for(var n=e.target;!O(n,l);){if(n===r)return;if(!(n=n.parentNode))return}t=n}e.namespace=e.namespace||"";var i=c.call(t,e,e.data);u&&ee(r,s,a,o),!1===i&&(e.preventDefault(),e.stopPropagation())}}o.guid=c.guid=c.guid||S++,function(e,t,n,i){i.guid=i.guid||S++;var r=Z(e);r[t]=r[t]||[],r[t].push([n,i]),e.addEventListener(t,i)}(r,s,a,o)})}),this;for(var t in e)this.on(t,l,e[t]);return this},w.one=function(e,t,n){return this.on(e,t,n,!0)},w.ready=function(e){function t(){return e(y)}return"loading"!==s.readyState?setTimeout(t):s.addEventListener("DOMContentLoaded",t),this},w.trigger=function(e,t){var n,i,r,o=e;return j(e)&&(i=(n=J(e))[0],r=n[1],(o=s.createEvent("HTMLEvents")).initEvent(i,!0,!0),o.namespace=r.join(".")),o.data=t,this.each(function(e,t){t.dispatchEvent(o)})};var te=/select-one/i,ne=/select-multiple/i;function ie(e){var t,n,i=e.type;return te.test(i)?(t=e).selectedIndex<0?null:t.options[t.selectedIndex].value:ne.test(i)?(n=[],k(e.options,function(e){!e.selected||e.disabled||e.parentNode.disabled||n.push(e.value)}),n):e.value}var re=/%20/g;var oe=/file|reset|submit|button|image/i,se=/radio|checkbox/i;w.serialize=function(){var r="";return this.each(function(e,t){k(t.elements||[t],function(i){var e;!i.disabled&&i.name&&"FIELDSET"!==i.tagName&&(oe.test(i.type)||se.test(i.type)&&!i.checked||void 0!==(e=ie(i))&&k(P(e)?e:[e],function(e){var t,n;r+=(t=i.name,n=e,"&"+encodeURIComponent(t)+"="+encodeURIComponent(n).replace(re,"+"))}))})}),r.substr(1)},w.val=function(r){return void 0===r?this[0]&&ie(this[0]):this.each(function(e,t){var n=ne.test(t.type),i=null===r?n?[]:"":r;n&&P(i)?k(t.options,function(e){e.selected=0<=i.indexOf(e.value)}):t.value=i})},w.clone=function(){return this.map(function(e,t){return t.cloneNode(!0)})},w.detach=function(){return this.each(function(e,t){t.parentNode&&t.parentNode.removeChild(t)})};var ae,le=/^\s*<(\w+)[^>]*>/,ce=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function ue(e){var t,n;if(ae||(t=s.createElement("table"),n=s.createElement("tr"),ae={"*":s.createElement("div"),tr:s.createElement("tbody"),td:n,th:n,thead:t,tbody:t,tfoot:t}),!j(e))return[];if(ce.test(e))return[s.createElement(RegExp.$1)];var i=le.test(e)&&RegExp.$1,r=ae[i]||ae["*"];return r.innerHTML=e,y(r.childNodes).detach().get()}function he(t,r,o){var e;void 0!==r&&(!(e=j(r))&&r.length?k(r,function(e){return he(t,e,o)}):k(t,e?function(e){e.insertAdjacentHTML(o?"afterbegin":"beforeend",r)}:function(e,t){return n=e,i=t?r.cloneNode(!0):r,void(o?n.insertBefore(i,n.childNodes[0]):n.appendChild(i));var n,i}))}y.parseHTML=ue,w.empty=function(){var e=this[0];if(e)for(;e.firstChild;)e.removeChild(e.firstChild);return this},w.append=function(){var t=this;return k(arguments,function(e){he(t,e)}),this},w.appendTo=function(e){return he(y(e),this),this},w.html=function(e){if(void 0===e)return this[0]&&this[0].innerHTML;var n=e.nodeType?e[0].outerHTML:e;return this.each(function(e,t){t.innerHTML=n})},w.insertAfter=function(e){var t=this;return y(e).each(function(n,i){var r=i.parentNode;t.each(function(e,t){r.insertBefore(n?t.cloneNode(!0):t,i.nextSibling)})}),this},w.after=function(){var t=this;return k(u.apply(arguments),function(e){u.apply(y(e).slice()).insertAfter(t)}),this},w.insertBefore=function(e){var t=this;return y(e).each(function(n,i){var r=i.parentNode;t.each(function(e,t){r.insertBefore(n?t.cloneNode(!0):t,i)})}),this},w.before=function(){var t=this;return k(arguments,function(e){y(e).insertBefore(t)}),this},w.prepend=function(){var t=this;return k(arguments,function(e){he(t,e,!0)}),this},w.prependTo=function(e){return he(y(e),u.apply(this.slice()),!0),this},w.remove=function(){return this.detach().off()},w.replaceWith=function(r){var o=this;return this.each(function(e,t){var n=t.parentNode;if(n){var i=e?y(r).clone():y(r);if(!i[0])return o.remove(),!1;n.replaceChild(i[0],t),y(i[0]).after(i.slice(1))}})},w.replaceAll=function(e){return y(e).replaceWith(this),this},w.text=function(n){return void 0===n?this[0]?this[0].textContent:"":this.each(function(e,t){t.textContent=n})};var de=s.documentElement;w.offset=function(){var e=this[0];if(e){var t=e.getBoundingClientRect();return{top:t.top+a.pageYOffset-de.clientTop,left:t.left+a.pageXOffset-de.clientLeft}}},w.offsetParent=function(){return y(this[0]&&this[0].offsetParent)},w.position=function(){var e=this[0];if(e)return{left:e.offsetLeft,top:e.offsetTop}},w.children=function(n){var i=[];return this.each(function(e,t){c.apply(i,t.children)}),i=y(I(i)),n?i.filter(function(e,t){return O(t,n)}):i},w.contents=function(){var n=[];return this.each(function(e,t){c.apply(n,"IFRAME"===t.tagName?[t.contentDocument]:t.childNodes)}),y(n.length&&I(n))},w.find=function(e){for(var t=[],n=0,i=this.length;n<i;n++){var r=v(e,this[n]);r.length&&c.apply(t,r)}return y(t.length&&I(t))},w.has=function(n){var e=j(n)?function(e,t){return!!v(n,t).length}:function(e,t){return t.contains(n)};return this.filter(e)},w.is=function(n){if(!n||!this[0])return!1;var i=D(n),r=!1;return this.each(function(e,t){return!(r=i(e,t,n))}),r},w.next=function(){return y(this[0]&&this[0].nextElementSibling)},w.not=function(n){if(!n||!this[0])return this;var i=D(n);return this.filter(function(e,t){return!i(e,t,n)})},w.parent=function(){var n=[];return this.each(function(e,t){t&&t.parentNode&&n.push(t.parentNode)}),y(I(n))},w.index=function(e){var t=e?y(e)[0]:this[0],n=e?this:y(t).parent().children();return o.call(n,t)},w.closest=function(e){return e&&this[0]?this.is(e)?this.filter(e):this.parent().closest(e):y()},w.parents=function(n){var i,r=[];return this.each(function(e,t){for(i=t;i&&i.parentNode&&i!==s.body.parentNode;)i=i.parentNode,(!n||n&&O(i,n))&&r.push(i)}),y(I(r))},w.prev=function(){return y(this[0]&&this[0].previousElementSibling)},w.siblings=function(){var n=this[0];return this.parent().children().filter(function(e,t){return t!==n})},t.default=y},"./node_modules/codemirror-formatting/formatting.js":function(e,t,n){!function(m){m.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),m.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,n,i){if(this.jsonMode){return/^[\[,{]$/.test(t)||/^}/.test(n)}else{if(t==";"&&i.lexical&&i.lexical.type==")")return false;return/^[;{}]$/.test(t)&&!/^;/.test(n)}}});var o=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;m.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(e,t,n,i){var r=false;if(this.configuration=="html")r=i.context?o.test(i.context.tagName):false;return!r&&(e=="tag"&&/>$/.test(t)&&i.context||/^</.test(n))}}),m.defineExtension("commentRange",function(i,r,o){var s=this,a=m.innerMode(s.getMode(),s.getTokenAt(r).state).mode;s.operation(function(){if(i){s.replaceRange(a.commentEnd,o);s.replaceRange(a.commentStart,r);if(r.line==o.line&&r.ch==o.ch)s.setCursor(r.line,r.ch+a.commentStart.length)}else{var e=s.getRange(r,o);var t=e.indexOf(a.commentStart);var n=e.lastIndexOf(a.commentEnd);if(t>-1&&n>-1&&n>t){e=e.substr(0,t)+e.substring(t+a.commentStart.length,n)+e.substr(n+a.commentEnd.length)}s.replaceRange(e,r,o)}})}),m.defineExtension("autoIndentRange",function(t,n){var i=this;this.operation(function(){for(var e=t.line;e<=n.line;e++){i.indentLine(e,"smart")}})}),m.defineExtension("autoFormatRange",function(n,i){var r=this;var e=r.getMode(),t=r.getRange(n,i).split("\n");var o=m.copyState(e,r.getTokenAt(n).state);var s=r.getOption("tabSize");var a="",l=0,c=n.ch===0;function u(){a+="\n";c=true;++l}for(var h=0;h<t.length;++h){var d=new m.StringStream(t[h],s);while(!d.eol()){var f=m.innerMode(e,o);var p=e.token(d,o),g=d.current();d.start=d.pos;if(!c||/\S/.test(g)){a+=g;c=false}if(!c&&f.mode.newlineAfterToken&&f.mode.newlineAfterToken(p,g,d.string.slice(d.pos)||t[h+1]||"",f.state))u()}if(!d.pos&&e.blankLine)e.blankLine(o);if(!c&&h<t.length-1)u()}r.operation(function(){r.replaceRange(a,n,i);for(var e=n.line+1,t=n.line+l;e<=t;++e)r.indentLine(e,"smart");r.setSelection(n,r.getCursor(false))})})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/codemirror/lib/codemirror.js":function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,g=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),r=/Edge\/(\d+)/.exec(e),_=n||i||r,x=_&&(n?document.documentMode||6:+(r||i)[1]),m=!r&&/WebKit\//.test(e),o=m&&/Qt\/\d+\.\d+/.test(e),s=!r&&/Chrome\//.test(e),v=/Opera\//.test(e),a=/Apple Computer/.test(navigator.vendor),l=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),c=/PhantomJS/.test(e),u=!r&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),h=/Android/.test(e),d=u||h||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=u||/Mac/.test(t),f=/\bCrOS\b/.test(e),p=/win/i.test(t),y=v&&e.match(/Version\/(\d*\.\d*)/);if(y){y=Number(y[1])}if(y&&y>=15){v=false;m=true}var w=b&&(o||v&&(y==null||y<12.11)),C=g||_&&x>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S=function(e,t){var n=e.className;var i=k(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},O;function T(e){for(var t=e.childNodes.length;t>0;--t){e.removeChild(e.firstChild)}return e}function j(e,t){return T(e).appendChild(t)}function D(e,t,n,i){var r=document.createElement(e);if(n){r.className=n}if(i){r.style.cssText=i}if(typeof t=="string"){r.appendChild(document.createTextNode(t))}else if(t){for(var o=0;o<t.length;++o){r.appendChild(t[o])}}return r}function E(e,t,n,i){var r=D(e,t,n,i);r.setAttribute("role","presentation");return r}if(document.createRange){O=function(e,t,n,i){var r=document.createRange();r.setEnd(i||e,n);r.setStart(e,t);return r}}else{O=function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}i.collapse(true);i.moveEnd("character",n);i.moveStart("character",t);return i}}function P(e,t){if(t.nodeType==3){t=t.parentNode}if(e.contains){return e.contains(t)}do{if(t.nodeType==11){t=t.host}if(t==e){return true}}while(t=t.parentNode)}function A(){var t;try{t=document.activeElement}catch(e){t=document.body||null}while(t&&t.shadowRoot&&t.shadowRoot.activeElement){t=t.shadowRoot.activeElement}return t}function M(e,t){var n=e.className;if(!k(t).test(n)){e.className+=(n?" ":"")+t}}function I(e,t){var n=e.split(" ");for(var i=0;i<n.length;i++){if(n[i]&&!k(n[i]).test(t)){t+=" "+n[i]}}return t}var L=function(e){e.select()};if(u){L=function(e){e.selectionStart=0;e.selectionEnd=e.value.length}}else if(_){L=function(e){try{e.select()}catch(e){}}}function N(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,n){if(!t){t={}}for(var i in e){if(e.hasOwnProperty(i)&&(n!==false||!t.hasOwnProperty(i))){t[i]=e[i]}}return t}function z(e,t,n,i,r){if(t==null){t=e.search(/[^\s\u00a0]/);if(t==-1){t=e.length}}for(var o=i||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t){return s+(t-o)}s+=a-o;s+=n-s%n;o=a+1}}var H=function(){this.id=null;this.f=null;this.time=0;this.handler=N(this.onTimeout,this)};function R(e,t){for(var n=0;n<e.length;++n){if(e[n]==t){return n}}return-1}H.prototype.onTimeout=function(e){e.id=0;if(e.time<=+new Date){e.f()}else{setTimeout(e.handler,e.time-+new Date)}},H.prototype.set=function(e,t){this.f=t;var n=+new Date+e;if(!this.id||n<this.time){clearTimeout(this.id);this.id=setTimeout(this.handler,e);this.time=n}};var $=30,V={toString:function(){return"CodeMirror.Pass"}},W={scroll:false},B={origin:"*mouse"},U={origin:"+move"};function q(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);if(o==-1){o=e.length}var s=o-i;if(o==e.length||r+s>=t){return i+Math.min(s,t-r)}r+=o-i;r+=n-r%n;i=o+1;if(r>=t){return i}}}var Y=[""];function G(e){while(Y.length<=e){Y.push(K(Y)+" ")}return Y[e]}function K(e){return e[e.length-1]}function X(e,t){var n=[];for(var i=0;i<e.length;i++){n[i]=t(e[i],i)}return n}function Q(e,t,n){var i=0,r=n(t);while(i<e.length&&n(e[i])<=r){i++}e.splice(i,0,t)}function Z(){}function J(e,t){var n;if(Object.create){n=Object.create(e)}else{Z.prototype=e;n=new Z}if(t){F(t,n)}return n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"Â"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){if(!t){return te(e)}if(t.source.indexOf("\\w")>-1&&te(e)){return true}return t.test(e)}function ie(e){for(var t in e){if(e.hasOwnProperty(t)&&e[t]){return false}}return true}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&re.test(e)}function se(e,t,n){while((n<0?t>0:t<e.length)&&oe(e.charAt(t))){t+=n}return t}function ae(e,t,n){var i=t>n?-1:1;for(;;){if(t==n){return t}var r=(t+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==t){return e(o)?t:n}if(e(o)){n=o}else{t=o+i}}}function le(e,t,n,i){if(!e){return i(t,n,"ltr",0)}var r=false;for(var o=0;o<e.length;++o){var s=e[o];if(s.from<n&&s.to>t||t==n&&s.to==t){i(Math.max(s.from,t),Math.min(s.to,n),s.level==1?"rtl":"ltr",o);r=true}}if(!r){i(t,n,"ltr")}}var ce=null;function ue(e,t,n){var i;ce=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t){return r}if(o.to==t){if(o.from!=o.to&&n=="before"){i=r}else{ce=r}}if(o.from==t){if(o.from!=o.to&&n!="before"){i=r}else{ce=r}}}return i!=null?i:ce}var he=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function F(e){if(e<=247){return t.charAt(e)}else if(1424<=e&&e<=1524){return"R"}else if(1536<=e&&e<=1785){return n.charAt(e-1536)}else if(1774<=e&&e<=2220){return"r"}else if(8192<=e&&e<=8203){return"w"}else if(e==8204){return"b"}else{return"L"}}var z=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var H=/[stwN]/,R=/[LRr]/,$=/[Lb1n]/,V=/[1n]/;function W(e,t,n){this.level=e;this.from=t;this.to=n}return function(e,t){var n=t=="ltr"?"L":"R";if(e.length==0||t=="ltr"&&!z.test(e)){return false}var i=e.length,r=[];for(var o=0;o<i;++o){r.push(F(e.charCodeAt(o)))}for(var s=0,a=n;s<i;++s){var l=r[s];if(l=="m"){r[s]=a}else{a=l}}for(var c=0,u=n;c<i;++c){var h=r[c];if(h=="1"&&u=="r"){r[c]="n"}else if(R.test(h)){u=h;if(h=="r"){r[c]="R"}}}for(var d=1,f=r[0];d<i-1;++d){var p=r[d];if(p=="+"&&f=="1"&&r[d+1]=="1"){r[d]="1"}else if(p==","&&f==r[d+1]&&(f=="1"||f=="n")){r[d]=f}f=p}for(var g=0;g<i;++g){var m=r[g];if(m==","){r[g]="N"}else if(m=="%"){var v=void 0;for(v=g+1;v<i&&r[v]=="%";++v){}var b=g&&r[g-1]=="!"||v<i&&r[v]=="1"?"1":"N";for(var y=g;y<v;++y){r[y]=b}g=v-1}}for(var w=0,_=n;w<i;++w){var x=r[w];if(_=="L"&&x=="1"){r[w]="L"}else if(R.test(x)){_=x}}for(var C=0;C<i;++C){if(H.test(r[C])){var k=void 0;for(k=C+1;k<i&&H.test(r[k]);++k){}var S=(C?r[C-1]:n)=="L";var O=(k<i?r[k]:n)=="L";var T=S==O?S?"L":"R":n;for(var j=C;j<k;++j){r[j]=T}C=k-1}}var E=[],P;for(var D=0;D<i;){if($.test(r[D])){var A=D;for(++D;D<i&&$.test(r[D]);++D){}E.push(new W(0,A,D))}else{var M=D,I=E.length;for(++D;D<i&&r[D]!="L";++D){}for(var L=M;L<D;){if(V.test(r[L])){if(M<L){E.splice(I,0,new W(1,M,L))}var N=L;for(++L;L<D&&V.test(r[L]);++L){}E.splice(I,0,new W(2,N,L));M=L}else{++L}}if(M<D){E.splice(I,0,new W(1,M,D))}}}if(t=="ltr"){if(E[0].level==1&&(P=e.match(/^\s+/))){E[0].from=P[0].length;E.unshift(new W(0,0,P[0].length))}if(K(E).level==1&&(P=e.match(/\s+$/))){K(E).to-=P[0].length;E.push(new W(0,i-P[0].length,i))}}return t=="rtl"?E.reverse():E}}();function de(e,t){var n=e.order;if(n==null){n=e.order=he(e.text,t)}return n}var fe=[],pe=function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||fe).concat(n)}};function ge(e,t){return e._handlers&&e._handlers[t]||fe}function me(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}else{var i=e._handlers,r=i&&i[t];if(r){var o=R(r,n);if(o>-1){i[t]=r.slice(0,o).concat(r.slice(o+1))}}}}function ve(e,t){var n=ge(e,t);if(!n.length){return}var i=Array.prototype.slice.call(arguments,2);for(var r=0;r<n.length;++r){n[r].apply(null,i)}}function be(e,t,n){if(typeof t=="string"){t={type:t,preventDefault:function(){this.defaultPrevented=true}}}ve(e,n||t.type,e,t);return ke(t)||t.codemirrorIgnore}function ye(e){var t=e._handlers&&e._handlers.cursorActivity;if(!t){return}var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(var i=0;i<t.length;++i){if(R(n,t[i])==-1){n.push(t[i])}}}function we(e,t){return ge(e,t).length>0}function _e(e){e.prototype.on=function(e,t){pe(this,e,t)};e.prototype.off=function(e,t){me(this,e,t)}}function xe(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}function Ce(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}function ke(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function Se(e){xe(e);Ce(e)}function Oe(e){return e.target||e.srcElement}function Te(e){var t=e.which;if(t==null){if(e.button&1){t=1}else if(e.button&2){t=3}else if(e.button&4){t=2}}if(b&&e.ctrlKey&&t==1){t=3}return t}var je=function(){if(_&&x<9){return false}var e=D("div");return"draggable"in e||"dragDrop"in e}(),Ee,Pe;function De(e){if(Ee==null){var t=D("span","â");j(e,D("span",[t,document.createTextNode("x")]));if(e.firstChild.offsetHeight!=0){Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(_&&x<8)}}var n=Ee?D("span","â"):D("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");n.setAttribute("cm-text","");return n}function Ae(e){if(Pe!=null){return Pe}var t=j(e,document.createTextNode("AØ®A"));var n=O(t,0,1).getBoundingClientRect();var i=O(t,1,2).getBoundingClientRect();T(e);if(!n||n.left==n.right){return false}return Pe=i.right-n.right<3}var Me="\n\nb".split(/\n/).length!=3?function(e){var t=0,n=[],i=e.length;while(t<=i){var r=e.indexOf("\n",t);if(r==-1){r=e.length}var o=e.slice(t,e.charAt(r-1)=="\r"?r-1:r);var s=o.indexOf("\r");if(s!=-1){n.push(o.slice(0,s));t+=s+1}else{n.push(o);t=r+1}}return n}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return false}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}if(!t||t.parentElement()!=e){return false}return t.compareEndPoints("StartToEnd",t)!=0},Le=function(){var e=D("div");if("oncopy"in e){return true}e.setAttribute("oncopy","return;");return typeof e.oncopy=="function"}(),Ne=null;function Fe(e){if(Ne!=null){return Ne}var t=j(e,D("span","x"));var n=t.getBoundingClientRect();var i=O(t,0,1).getBoundingClientRect();return Ne=Math.abs(n.left-i.left)>1}var ze={},He={};function Re(e,t){if(2<arguments.length)t.dependencies=Array.prototype.slice.call(arguments,2);ze[e]=t}function $e(e,t){He[e]=t}function Ve(e){if(typeof e=="string"&&He.hasOwnProperty(e)){e=He[e]}else if(e&&typeof e.name=="string"&&He.hasOwnProperty(e.name)){var t=He[e.name];if(typeof t=="string"){t={name:t}}e=J(t,e);e.name=t.name}else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e)){return Ve("application/xml")}else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e)){return Ve("application/json")}if(typeof e=="string"){return{name:e}}else{return e||{name:"null"}}}function We(e,t){t=Ve(t);var n=ze[t.name];if(!n){return We(e,"text/plain")}var i=n(e,t);if(Be.hasOwnProperty(t.name)){var r=Be[t.name];for(var o in r){if(!r.hasOwnProperty(o)){continue}if(i.hasOwnProperty(o)){i["_"+o]=i[o]}i[o]=r[o]}}i.name=t.name;if(t.helperType){i.helperType=t.helperType}if(t.modeProps){for(var s in t.modeProps){i[s]=t.modeProps[s]}}return i}var Be={};function Ue(e,t){var n=Be.hasOwnProperty(e)?Be[e]:Be[e]={};F(t,n)}function qe(e,t){if(t===true){return t}if(e.copyState){return e.copyState(t)}var n={};for(var i in t){var r=t[i];if(r instanceof Array){r=r.concat([])}n[i]=r}return n}function Ye(e,t){var n;while(e.innerMode){n=e.innerMode(t);if(!n||n.mode==e){break}t=n.state;e=n.mode}return n||{mode:e,state:t}}function Ge(e,t,n){return e.startState?e.startState(t,n):true}var Ke=function(e,t,n){this.pos=this.start=0;this.string=e;this.tabSize=t||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=n};function Xe(e,t){t-=e.first;if(t<0||t>=e.size){throw new Error("There is no line "+(t+e.first)+" in the document.")}var n=e;while(!n.lines){for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}}return n.lines[t]}function Qe(e,n,i){var r=[],o=n.line;e.iter(n.line,i.line+1,function(e){var t=e.text;if(o==i.line){t=t.slice(0,i.ch)}if(o==n.line){t=t.slice(n.ch)}r.push(t);++o});return r}function Ze(e,t,n){var i=[];e.iter(t,n,function(e){i.push(e.text)});return i}function Je(e,t){var n=t-e.height;if(n){for(var i=e;i;i=i.parent){i.height+=n}}}function et(e){if(e.parent==null){return null}var t=e.parent,n=R(t.lines,e);for(var i=t.parent;i;t=i,i=i.parent){for(var r=0;;++r){if(i.children[r]==t){break}n+=i.children[r].chunkSize()}}return n+t.first}function tt(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o;n+=r.chunkSize()}return n}while(!e.lines);var s=0;for(;s<e.lines.length;++s){var a=e.lines[s],l=a.height;if(t<l){break}t-=l}return n+s}function nt(e,t){return t>=e.first&&t<e.first+e.size}function it(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function rt(e,t,n){if(n===void 0)n=null;if(!(this instanceof rt)){return new rt(e,t,n)}this.line=e;this.ch=t;this.sticky=n}function ot(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&ot(e,t)==0}function at(e){return rt(e.line,e.ch)}function lt(e,t){return ot(e,t)<0?t:e}function ct(e,t){return ot(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first){return rt(e.first,0)}var n=e.first+e.size-1;if(t.line>n){return rt(n,Xe(e,n).text.length)}return dt(t,Xe(e,t.line).text.length)}function dt(e,t){var n=e.ch;if(n==null||n>t){return rt(e.line,t)}else if(n<0){return rt(e.line,0)}else{return e}}function ft(e,t){var n=[];for(var i=0;i<t.length;i++){n[i]=ht(e,t[i])}return n}Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||undefined},Ke.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},Ke.prototype.eat=function(e){var t=this.string.charAt(this.pos);var n;if(typeof e=="string"){n=t==e}else{n=t&&(e.test?e.test(t):e(t))}if(n){++this.pos;return t}},Ke.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e)){}return this.pos>t},Ke.prototype.eatSpace=function(){var e=this;var t=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++e.pos}return this.pos>t},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1){this.pos=t;return true}},Ke.prototype.backUp=function(e){this.pos-=e},Ke.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(e,t,n){if(typeof e=="string"){var i=function(e){return n?e.toLowerCase():e};var r=this.string.substr(this.pos,e.length);if(i(r)==i(e)){if(t!==false){this.pos+=e.length}return true}}else{var o=this.string.slice(this.pos).match(e);if(o&&o.index>0){return null}if(o&&t!==false){this.pos+=o[0].length}return o}},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ke.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ke.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e;this.lookAhead=t},gt=function(e,t,n,i){this.state=t;this.doc=e;this.line=n;this.maxLookAhead=i||0;this.baseTokens=null;this.baseTokenPos=1};function mt(t,n,i,e){var l=[t.state.modeGen],r={};St(t,n.text,t.doc.mode,i,function(e,t){return l.push(e,t)},r,e);var c=i.state;var o=function(e){i.baseTokens=l;var o=t.state.overlays[e],s=1,a=0;i.state=true;St(t,n.text,o.mode,i,function(e,t){var n=s;while(a<e){var i=l[s];if(i>e){l.splice(s,1,e,l[s+1],i)}s+=2;a=Math.min(e,i)}if(!t){return}if(o.opaque){l.splice(n,s-n,e,"overlay "+t);s=n+2}else{for(;n<s;n+=2){var r=l[n+1];l[n+1]=(r?r+" ":"")+"overlay "+t}}},r);i.state=c;i.baseTokens=null;i.baseTokenPos=1};for(var s=0;s<t.state.overlays.length;++s)o(s);return{styles:l,classes:r.bgClass||r.textClass?r:null}}function vt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=bt(e,et(t));var r=t.text.length>e.options.maxHighlightLength&&qe(e.doc.mode,i.state);var o=mt(e,t,i);if(r){i.state=r}t.stateAfter=i.save(!r);t.styles=o.styles;if(o.classes){t.styleClasses=o.classes}else if(t.styleClasses){t.styleClasses=null}if(n===e.doc.highlightFrontier){e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier)}}return t.styles}function bt(n,i,e){var t=n.doc,r=n.display;if(!t.mode.startState){return new gt(t,true,i)}var o=Ot(n,i,e);var s=o>t.first&&Xe(t,o-1).stateAfter;var a=s?gt.fromSaved(t,s,o):new gt(t,Ge(t.mode),o);t.iter(o,i,function(e){yt(n,e.text,a);var t=a.line;e.stateAfter=t==i-1||t%5==0||t>=r.viewFrom&&t<r.viewTo?a.save():null;a.nextLine()});if(e){t.modeFrontier=a.line}return a}function yt(e,t,n,i){var r=e.doc.mode;var o=new Ke(t,e.options.tabSize,n);o.start=o.pos=i||0;if(t==""){wt(r,n.state)}while(!o.eol()){_t(r,o,n.state);o.start=o.pos}}function wt(e,t){if(e.blankLine){return e.blankLine(t)}if(!e.innerMode){return}var n=Ye(e,t);if(n.mode.blankLine){return n.mode.blankLine(n.state)}}function _t(e,t,n,i){for(var r=0;r<10;r++){if(i){i[0]=Ye(e,n).mode}var o=e.token(t,n);if(t.pos>t.start){return o}}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);if(t!=null&&e>this.maxLookAhead){this.maxLookAhead=e}return t},gt.prototype.baseToken=function(e){var t=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=e){t.baseTokenPos+=2}var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0){this.maxLookAhead--}},gt.fromSaved=function(e,t,n){if(t instanceof pt){return new gt(e,qe(e.mode,t.state),n,t.lookAhead)}else{return new gt(e,qe(e.mode,t),n)}},gt.prototype.save=function(e){var t=e!==false?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var xt=function(e,t,n){this.start=e.start;this.end=e.pos;this.string=e.current();this.type=t||null;this.state=n};function Ct(e,t,n,i){var r=e.doc,o=r.mode,s;t=ht(r,t);var a=Xe(r,t.line),l=bt(e,t.line,n);var c=new Ke(a.text,e.options.tabSize,l),u;if(i){u=[]}while((i||c.pos<t.ch)&&!c.eol()){c.start=c.pos;s=_t(o,c,l.state);if(i){u.push(new xt(c,s,qe(r.mode,l.state)))}}return i?u:new xt(c,s,l.state)}function kt(e,t){if(e){for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n){break}e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";if(t[i]==null){t[i]=n[2]}else if(!new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])){t[i]+=" "+n[2]}}}return e}function St(e,t,n,i,r,o,s){var a=n.flattenSpans;if(a==null){a=e.options.flattenSpans}var l=0,c=null;var u=new Ke(t,e.options.tabSize,i),h;var d=e.options.addModeClass&&[null];if(t==""){kt(wt(n,i.state),o)}while(!u.eol()){if(u.pos>e.options.maxHighlightLength){a=false;if(s){yt(e,t,i,u.pos)}u.pos=t.length;h=null}else{h=kt(_t(n,u,i.state,d),o)}if(d){var f=d[0].name;if(f){h="m-"+(h?f+" "+h:f)}}if(!a||c!=h){while(l<u.start){l=Math.min(u.start,l+5e3);r(l,c)}c=h}u.start=u.pos}while(l<u.pos){var p=Math.min(u.pos,l+5e3);r(p,c);l=p}}function Ot(e,t,n){var i,r,o=e.doc;var s=n?-1:t-(e.doc.mode.innerMode?1e3:100);for(var a=t;a>s;--a){if(a<=o.first){return o.first}var l=Xe(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof pt?c.lookAhead:0)<=o.modeFrontier)){return a}var u=z(l.text,null,e.options.tabSize);if(r==null||i>u){r=a-1;i=u}}return r}function Tt(e,t){e.modeFrontier=Math.min(e.modeFrontier,t);if(e.highlightFrontier<t-10){return}var n=e.first;for(var i=t-1;i>n;i--){var r=Xe(e,i).stateAfter;if(r&&(!(r instanceof pt)||i+r.lookAhead<t)){n=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}var jt=false,Et=false;function Pt(){jt=true}function Dt(){Et=true}function At(e,t,n){this.marker=e;this.from=t;this.to=n}function Mt(e,t){if(e){for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t){return i}}}}function It(e,t){var n;for(var i=0;i<e.length;++i){if(e[i]!=t){(n||(n=[])).push(e[i])}}return n}function Lt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t];t.marker.attachLine(e)}function Nt(e,t,n){var i;if(e){for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;var a=o.from==null||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&s.type=="bookmark"&&(!n||!o.marker.insertLeft)){var l=o.to==null||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new At(s,o.from,l?null:o.to))}}}return i}function Ft(e,t,n){var i;if(e){for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;var a=o.to==null||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&s.type=="bookmark"&&(!n||o.marker.insertLeft)){var l=o.from==null||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new At(s,l?null:o.from-t,o.to==null?null:o.to-t))}}}return i}function zt(e,t){if(t.full){return null}var n=nt(e,t.from.line)&&Xe(e,t.from.line).markedSpans;var i=nt(e,t.to.line)&&Xe(e,t.to.line).markedSpans;if(!n&&!i){return null}var r=t.from.ch,o=t.to.ch,s=ot(t.from,t.to)==0;var a=Nt(n,r,s);var l=Ft(i,o,s);var c=t.text.length==1,u=K(t.text).length+(c?r:0);if(a){for(var h=0;h<a.length;++h){var d=a[h];if(d.to==null){var f=Mt(l,d.marker);if(!f){d.to=r}else if(c){d.to=f.to==null?null:f.to+u}}}}if(l){for(var p=0;p<l.length;++p){var g=l[p];if(g.to!=null){g.to+=u}if(g.from==null){var m=Mt(a,g.marker);if(!m){g.from=u;if(c){(a||(a=[])).push(g)}}}else{g.from+=u;if(c){(a||(a=[])).push(g)}}}}if(a){a=Ht(a)}if(l&&l!=a){l=Ht(l)}var v=[a];if(!c){var b=t.text.length-2,y;if(b>0&&a){for(var w=0;w<a.length;++w){if(a[w].to==null){(y||(y=[])).push(new At(a[w].marker,null,null))}}}for(var _=0;_<b;++_){v.push(y)}v.push(l)}return v}function Ht(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==false){e.splice(t--,1)}}if(!e.length){return null}return e}function Rt(e,t,n){var i=null;e.iter(t.line,n.line+1,function(e){if(e.markedSpans){for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;if(n.readOnly&&(!i||R(i,n)==-1)){(i||(i=[])).push(n)}}}});if(!i){return null}var r=[{from:t,to:n}];for(var o=0;o<i.length;++o){var s=i[o],a=s.find(0);for(var l=0;l<r.length;++l){var c=r[l];if(ot(c.to,a.from)<0||ot(c.from,a.to)>0){continue}var u=[l,1],h=ot(c.from,a.from),d=ot(c.to,a.to);if(h<0||!s.inclusiveLeft&&!h){u.push({from:c.from,to:a.from})}if(d>0||!s.inclusiveRight&&!d){u.push({from:a.to,to:c.to})}r.splice.apply(r,u);l+=u.length-3}}return r}function $t(e){var t=e.markedSpans;if(!t){return}for(var n=0;n<t.length;++n){t[n].marker.detachLine(e)}e.markedSpans=null}function Vt(e,t){if(!t){return}for(var n=0;n<t.length;++n){t[n].marker.attachLine(e)}e.markedSpans=t}function Wt(e){return e.inclusiveLeft?-1:0}function Bt(e){return e.inclusiveRight?1:0}function Ut(e,t){var n=e.lines.length-t.lines.length;if(n!=0){return n}var i=e.find(),r=t.find();var o=ot(i.from,r.from)||Wt(e)-Wt(t);if(o){return-o}var s=ot(i.to,r.to)||Bt(e)-Bt(t);if(s){return s}return t.id-e.id}function qt(e,t){var n=Et&&e.markedSpans,i;if(n){for(var r=void 0,o=0;o<n.length;++o){r=n[o];if(r.marker.collapsed&&(t?r.from:r.to)==null&&(!i||Ut(i,r.marker)<0)){i=r.marker}}}return i}function Yt(e){return qt(e,true)}function Gt(e){return qt(e,false)}function Kt(e,t){var n=Et&&e.markedSpans,i;if(n){for(var r=0;r<n.length;++r){var o=n[r];if(o.marker.collapsed&&(o.from==null||o.from<t)&&(o.to==null||o.to>t)&&(!i||Ut(i,o.marker)<0)){i=o.marker}}}return i}function Xt(e,t,n,i,r){var o=Xe(e,t);var s=Et&&o.markedSpans;if(s){for(var a=0;a<s.length;++a){var l=s[a];if(!l.marker.collapsed){continue}var c=l.marker.find(0);var u=ot(c.from,n)||Wt(l.marker)-Wt(r);var h=ot(c.to,i)||Bt(l.marker)-Bt(r);if(u>=0&&h<=0||u<=0&&h>=0){continue}if(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ot(c.to,n)>=0:ot(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ot(c.from,i)<=0:ot(c.from,i)<0)){return true}}}}function Qt(e){var t;while(t=Yt(e)){e=t.find(-1,true).line}return e}function Zt(e){var t;while(t=Gt(e)){e=t.find(1,true).line}return e}function Jt(e){var t,n;while(t=Gt(e)){e=t.find(1,true).line;(n||(n=[])).push(e)}return n}function en(e,t){var n=Xe(e,t),i=Qt(n);if(n==i){return t}return et(i)}function tn(e,t){if(t>e.lastLine()){return t}var n=Xe(e,t),i;if(!nn(e,n)){return t}while(i=Gt(n)){n=i.find(1,true).line}return et(n)+1}function nn(e,t){var n=Et&&t.markedSpans;if(n){for(var i=void 0,r=0;r<n.length;++r){i=n[r];if(!i.marker.collapsed){continue}if(i.from==null){return true}if(i.marker.widgetNode){continue}if(i.from==0&&i.marker.inclusiveLeft&&rn(e,t,i)){return true}}}}function rn(e,t,n){if(n.to==null){var i=n.marker.find(1,true);return rn(e,i.line,Mt(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length){return true}for(var r=void 0,o=0;o<t.markedSpans.length;++o){r=t.markedSpans[o];if(r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(r.to==null||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,r)){return true}}}function on(e){e=Qt(e);var t=0,n=e.parent;for(var i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e){break}else{t+=r.height}}for(var o=n.parent;o;n=o,o=n.parent){for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n){break}else{t+=a.height}}}return t}function sn(e){if(e.height==0){return 0}var t=e.text.length,n,i=e;while(n=Yt(i)){var r=n.find(0,true);i=r.from.line;t+=r.from.ch-r.to.ch}i=e;while(n=Gt(i)){var o=n.find(0,true);t-=i.text.length-o.from.ch;i=o.to.line;t+=i.text.length-o.to.ch}return t}function an(e){var n=e.display,t=e.doc;n.maxLine=Xe(t,t.first);n.maxLineLength=sn(n.maxLine);n.maxLineChanged=true;t.iter(function(e){var t=sn(e);if(t>n.maxLineLength){n.maxLineLength=t;n.maxLine=e}})}var ln=function(e,t,n){this.text=e;Vt(this,t);this.height=n?n(this):1};function cn(e,t,n,i){e.text=t;if(e.stateAfter){e.stateAfter=null}if(e.styles){e.styles=null}if(e.order!=null){e.order=null}$t(e);Vt(e,n);var r=i?i(e):1;if(r!=e.height){Je(e,r)}}function un(e){e.parent=null;$t(e)}ln.prototype.lineNo=function(){return et(this)},_e(ln);var hn={},dn={};function fn(e,t){if(!e||/^\s*$/.test(e)){return null}var n=t.addModeClass?dn:hn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function pn(e,t){var n=E("span",null,null,m?"padding-right: .1px":null);var i={pre:E("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:false,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,s=void 0;i.pos=0;i.addToken=mn;if(Ae(e.display.measure)&&(s=de(o,e.doc.direction))){i.addToken=bn(i.addToken,s)}i.map=[];var a=t!=e.display.externalMeasured&&et(o);wn(o,i,vt(e,o,a));if(o.styleClasses){if(o.styleClasses.bgClass){i.bgClass=I(o.styleClasses.bgClass,i.bgClass||"")}if(o.styleClasses.textClass){i.textClass=I(o.styleClasses.textClass,i.textClass||"")}}if(i.map.length==0){i.map.push(0,0,i.content.appendChild(De(e.display.measure)))}if(r==0){t.measure.map=i.map;t.measure.cache={}}else{(t.measure.maps||(t.measure.maps=[])).push(i.map);(t.measure.caches||(t.measure.caches=[])).push({})}}if(m){var l=i.content.lastChild;if(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab")){i.content.className="cm-tab-wrap-hack"}}ve(e,"renderLine",e,t.line,i.pre);if(i.pre.className){i.textClass=I(i.pre.className,i.textClass||"")}return i}function gn(e){var t=D("span","â¢","cm-invalidchar");t.title="\\u"+e.charCodeAt(0).toString(16);t.setAttribute("aria-label",t.title);return t}function mn(e,t,n,i,r,o,s){if(!t){return}var a=e.splitSpaces?vn(t,e.trailingSpace):t;var l=e.cm.state.specialChars,c=false;var u;if(!l.test(t)){e.col+=t.length;u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u);if(_&&x<9){c=true}e.pos+=t.length}else{u=document.createDocumentFragment();var h=0;while(true){l.lastIndex=h;var d=l.exec(t);var f=d?d.index-h:t.length-h;if(f){var p=document.createTextNode(a.slice(h,h+f));if(_&&x<9){u.appendChild(D("span",[p]))}else{u.appendChild(p)}e.map.push(e.pos,e.pos+f,p);e.col+=f;e.pos+=f}if(!d){break}h+=f+1;var g=void 0;if(d[0]=="\t"){var m=e.cm.options.tabSize,v=m-e.col%m;g=u.appendChild(D("span",G(v),"cm-tab"));g.setAttribute("role","presentation");g.setAttribute("cm-text","\t");e.col+=v}else if(d[0]=="\r"||d[0]=="\n"){g=u.appendChild(D("span",d[0]=="\r"?"â":"â¤","cm-invalidchar"));g.setAttribute("cm-text",d[0]);e.col+=1}else{g=e.cm.options.specialCharPlaceholder(d[0]);g.setAttribute("cm-text",d[0]);if(_&&x<9){u.appendChild(D("span",[g]))}else{u.appendChild(g)}e.col+=1}e.map.push(e.pos,e.pos+1,g);e.pos++}}e.trailingSpace=a.charCodeAt(t.length-1)==32;if(n||i||r||c||o){var b=n||"";if(i){b+=i}if(r){b+=r}var y=D("span",[u],b,o);if(s){for(var w in s){if(s.hasOwnProperty(w)&&w!="style"&&w!="class"){y.setAttribute(w,s[w])}}}return e.content.appendChild(y)}e.content.appendChild(u)}function vn(e,t){if(e.length>1&&!/  /.test(e)){return e}var n=t,i="";for(var r=0;r<e.length;r++){var o=e.charAt(r);if(o==" "&&n&&(r==e.length-1||e.charCodeAt(r+1)==32)){o="Â "}i+=o;n=o==" "}return i}function bn(h,d){return function(e,t,n,i,r,o,s){n=n?n+" cm-force-border":"cm-force-border";var a=e.pos,l=a+t.length;for(;;){var c=void 0;for(var u=0;u<d.length;u++){c=d[u];if(c.to>a&&c.from<=a){break}}if(c.to>=l){return h(e,t,n,i,r,o,s)}h(e,t.slice(0,c.to-a),n,i,null,o,s);i=null;t=t.slice(c.to-a);a=c.to}}}function yn(e,t,n,i){var r=!i&&n.widgetNode;if(r){e.map.push(e.pos,e.pos+t,r)}if(!i&&e.cm.display.input.needsContentAttribute){if(!r){r=e.content.appendChild(document.createElement("span"))}r.setAttribute("cm-marker",n.id)}if(r){e.cm.display.input.setUneditable(r);e.content.appendChild(r)}e.pos+=t;e.trailingSpace=false}function wn(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(!i){for(var s=1;s<n.length;s+=2){t.addToken(t,r.slice(o,o=n[s]),fn(n[s+1],t.cm.options))}return}var a=r.length,l=0,c=1,u="",h,d;var f=0,p,g,m,v,b;for(;;){if(f==l){p=g=m=d="";b=null;v=null;f=Infinity;var y=[],w=void 0;for(var _=0;_<i.length;++_){var x=i[_],C=x.marker;if(C.type=="bookmark"&&x.from==l&&C.widgetNode){y.push(C)}else if(x.from<=l&&(x.to==null||x.to>l||C.collapsed&&x.to==l&&x.from==l)){if(x.to!=null&&x.to!=l&&f>x.to){f=x.to;g=""}if(C.className){p+=" "+C.className}if(C.css){d=(d?d+";":"")+C.css}if(C.startStyle&&x.from==l){m+=" "+C.startStyle}if(C.endStyle&&x.to==f){(w||(w=[])).push(C.endStyle,x.to)}if(C.title){(b||(b={})).title=C.title}if(C.attributes){for(var k in C.attributes){(b||(b={}))[k]=C.attributes[k]}}if(C.collapsed&&(!v||Ut(v.marker,C)<0)){v=x}}else if(x.from>l&&f>x.from){f=x.from}}if(w){for(var S=0;S<w.length;S+=2){if(w[S+1]==f){g+=" "+w[S]}}}if(!v||v.from==l){for(var O=0;O<y.length;++O){yn(t,0,y[O])}}if(v&&(v.from||0)==l){yn(t,(v.to==null?a+1:v.to)-l,v.marker,v.from==null);if(v.to==null){return}if(v.to==l){v=false}}}if(l>=a){break}var T=Math.min(a,f);while(true){if(u){var j=l+u.length;if(!v){var E=j>T?u.slice(0,T-l):u;t.addToken(t,E,h?h+p:p,m,l+E.length==f?g:"",d,b)}if(j>=T){u=u.slice(T-l);l=T;break}l=j;m=""}u=r.slice(o,o=n[c++]);h=fn(n[c++],t.cm.options)}}}function _n(e,t,n){this.line=t;this.rest=Jt(t);this.size=this.rest?et(K(this.rest))-n+1:1;this.node=this.text=null;this.hidden=nn(e,t)}function xn(e,t,n){var i=[],r;for(var o=t;o<n;o=r){var s=new _n(e.doc,Xe(e.doc,o),o);r=o+s.size;i.push(s)}return i}var Cn=null;function kn(e){if(Cn){Cn.ops.push(e)}else{e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}}function Sn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++){t[n].call(null)}for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers){while(r.cursorActivityCalled<r.cursorActivityHandlers.length){r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}}}while(n<t.length)}function On(e,t){var n=e.ownsGroup;if(!n){return}try{Sn(n)}finally{Cn=null;t(n)}}var Tn=null;function jn(e,t){var n=ge(e,t);if(!n.length){return}var i=Array.prototype.slice.call(arguments,2),r;if(Cn){r=Cn.delayedCallbacks}else if(Tn){r=Tn}else{r=Tn=[];setTimeout(En,0)}var o=function(e){r.push(function(){return n[e].apply(null,i)})};for(var s=0;s<n.length;++s)o(s)}function En(){var e=Tn;Tn=null;for(var t=0;t<e.length;++t){e[t]()}}function Pn(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];if(o=="text"){In(e,t)}else if(o=="gutter"){Nn(e,t,n,i)}else if(o=="class"){Ln(e,t)}else if(o=="widget"){Fn(e,t,i)}}t.changes=null}function Dn(e){if(e.node==e.text){e.node=D("div",null,null,"position: relative");if(e.text.parentNode){e.text.parentNode.replaceChild(e.node,e.text)}e.node.appendChild(e.text);if(_&&x<8){e.node.style.zIndex=2}}return e.node}function An(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n){n+=" CodeMirror-linebackground"}if(t.background){if(n){t.background.className=n}else{t.background.parentNode.removeChild(t.background);t.background=null}}else if(n){var i=Dn(t);t.background=i.insertBefore(D("div",null,n),i.firstChild);e.display.input.setUneditable(t.background)}}function Mn(e,t){var n=e.display.externalMeasured;if(n&&n.line==t.line){e.display.externalMeasured=null;t.measure=n.measure;return n.built}return pn(e,t)}function In(e,t){var n=t.text.className;var i=Mn(e,t);if(t.text==t.node){t.node=i.pre}t.text.parentNode.replaceChild(i.pre,t.text);t.text=i.pre;if(i.bgClass!=t.bgClass||i.textClass!=t.textClass){t.bgClass=i.bgClass;t.textClass=i.textClass;Ln(e,t)}else if(n){t.text.className=n}}function Ln(e,t){An(e,t);if(t.line.wrapClass){Dn(t).className=t.line.wrapClass}else if(t.node!=t.text){t.node.className=""}var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Nn(e,t,n,i){if(t.gutter){t.node.removeChild(t.gutter);t.gutter=null}if(t.gutterBackground){t.node.removeChild(t.gutterBackground);t.gutterBackground=null}if(t.line.gutterClass){var r=Dn(t);t.gutterBackground=D("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px");e.display.input.setUneditable(t.gutterBackground);r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=Dn(t);var a=t.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");e.display.input.setUneditable(a);s.insertBefore(a,t.text);if(t.line.gutterClass){a.className+=" "+t.line.gutterClass}if(e.options.lineNumbers&&(!o||!o["CodeMirror-linenumbers"])){t.lineNumber=a.appendChild(D("div",it(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))}if(o){for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];if(u){a.appendChild(D("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}}}function Fn(e,t,n){if(t.alignable){t.alignable=null}for(var i=t.node.firstChild,r=void 0;i;i=r){r=i.nextSibling;if(i.className=="CodeMirror-linewidget"){t.node.removeChild(i)}}Hn(e,t,n)}function zn(e,t,n,i){var r=Mn(e,t);t.text=t.node=r.pre;if(r.bgClass){t.bgClass=r.bgClass}if(r.textClass){t.textClass=r.textClass}Ln(e,t);Nn(e,t,n,i);Hn(e,t,i);return t.node}function Hn(e,t,n){Rn(e,t.line,t,n,true);if(t.rest){for(var i=0;i<t.rest.length;i++){Rn(e,t.rest[i],t,n,false)}}}function Rn(e,t,n,i,r){if(!t.widgets){return}var o=Dn(n);for(var s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=D("div",[l.node],"CodeMirror-linewidget");if(!l.handleMouseEvents){c.setAttribute("cm-ignore-events","true")}$n(l,c,n,i);e.display.input.setUneditable(c);if(r&&l.above){o.insertBefore(c,n.gutter||n.text)}else{o.appendChild(c)}jn(l,"redraw")}}function $n(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px";if(!e.coverGutter){r-=i.gutterTotalWidth;t.style.paddingLeft=i.gutterTotalWidth+"px"}t.style.width=r+"px"}if(e.coverGutter){t.style.zIndex=5;t.style.position="relative";if(!e.noHScroll){t.style.marginLeft=-i.gutterTotalWidth+"px"}}}function Vn(e){if(e.height!=null){return e.height}var t=e.doc.cm;if(!t){return 0}if(!P(document.body,e.node)){var n="position: relative;";if(e.coverGutter){n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"}if(e.noHScroll){n+="width: "+t.display.wrapper.clientWidth+"px;"}j(t.display.measure,D("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Wn(e,t){for(var n=Oe(t);n!=e.wrapper;n=n.parentNode){if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover){return true}}}function Bn(e){return e.lineSpace.offsetTop}function Un(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qn(e){if(e.cachedPaddingH){return e.cachedPaddingH}var t=j(e.measure,D("pre","x","CodeMirror-line-like"));var n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;var i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};if(!isNaN(i.left)&&!isNaN(i.right)){e.cachedPaddingH=i}return i}function Yn(e){return $-e.display.nativeBarWidth}function Gn(e){return e.display.scroller.clientWidth-Yn(e)-e.display.barWidth}function Kn(e){return e.display.scroller.clientHeight-Yn(e)-e.display.barHeight}function Xn(e,t,n){var i=e.options.lineWrapping;var r=i&&Gn(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;var s=t.text.firstChild.getClientRects();for(var a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];if(Math.abs(l.bottom-c.bottom)>2){o.push((l.bottom+c.top)/2-n.top)}}}o.push(n.bottom-n.top)}}function Qn(e,t,n){if(e.line==t){return{map:e.measure.map,cache:e.measure.cache}}for(var i=0;i<e.rest.length;i++){if(e.rest[i]==t){return{map:e.measure.maps[i],cache:e.measure.caches[i]}}}for(var r=0;r<e.rest.length;r++){if(et(e.rest[r])>n){return{map:e.measure.maps[r],cache:e.measure.caches[r],before:true}}}}function Zn(e,t){t=Qt(t);var n=et(t);var i=e.display.externalMeasured=new _n(e.doc,t,n);i.lineN=n;var r=i.built=pn(e,i);i.text=r.pre;j(e.display.lineMeasure,r.pre);return i}function Jn(e,t,n,i){return ni(e,ti(e,t),n,i)}function ei(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo){return e.display.view[Li(e,t)]}var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size){return n}}function ti(e,t){var n=et(t);var i=ei(e,n);if(i&&!i.text){i=null}else if(i&&i.changes){Pn(e,i,n,Pi(e));e.curOp.forceUpdate=true}if(!i){i=Zn(e,t)}var r=Qn(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:false}}function ni(e,t,n,i,r){if(t.before){n=-1}var o=n+(i||""),s;if(t.cache.hasOwnProperty(o)){s=t.cache[o]}else{if(!t.rect){t.rect=t.view.text.getBoundingClientRect()}if(!t.hasHeights){Xn(e,t.view,t.rect);t.hasHeights=true}s=ai(e,t,n,i);if(!s.bogus){t.cache[o]=s}}return{left:s.left,right:s.right,top:r?s.rtop:s.top,bottom:r?s.rbottom:s.bottom}}var ii={left:0,right:0,top:0,bottom:0},ri;function oi(e,t,n){var i,r,o,s,a,l;for(var c=0;c<e.length;c+=3){a=e[c];l=e[c+1];if(t<a){r=0;o=1;s="left"}else if(t<l){r=t-a;o=r+1}else if(c==e.length-3||t==l&&e[c+3]>t){o=l-a;r=o-1;if(t>=l){s="right"}}if(r!=null){i=e[c+2];if(a==l&&n==(i.insertLeft?"left":"right")){s=n}if(n=="left"&&r==0){while(c&&e[c-2]==e[c-3]&&e[c-1].insertLeft){i=e[(c-=3)+2];s="left"}}if(n=="right"&&r==l-a){while(c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft){i=e[(c+=3)+2];s="right"}}break}}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function si(e,t){var n=ii;if(t=="left"){for(var i=0;i<e.length;i++){if((n=e[i]).left!=n.right){break}}}else{for(var r=e.length-1;r>=0;r--){if((n=e[r]).left!=n.right){break}}}return n}function ai(e,t,n,i){var r=oi(t.map,n,i);var o=r.node,s=r.start,a=r.end,l=r.collapse;var c;if(o.nodeType==3){for(var u=0;u<4;u++){while(s&&oe(t.line.text.charAt(r.coverStart+s))){--s}while(r.coverStart+a<r.coverEnd&&oe(t.line.text.charAt(r.coverStart+a))){++a}if(_&&x<9&&s==0&&a==r.coverEnd-r.coverStart){c=o.parentNode.getBoundingClientRect()}else{c=si(O(o,s,a).getClientRects(),i)}if(c.left||c.right||s==0){break}a=s;s=s-1;l="right"}if(_&&x<11){c=li(e.display.measure,c)}}else{if(s>0){l=i="right"}var h;if(e.options.lineWrapping&&(h=o.getClientRects()).length>1){c=h[i=="right"?h.length-1:0]}else{c=o.getBoundingClientRect()}}if(_&&x<9&&!s&&(!c||!c.left&&!c.right)){var d=o.parentNode.getClientRects()[0];if(d){c={left:d.left,right:d.left+Ei(e.display),top:d.top,bottom:d.bottom}}else{c=ii}}var f=c.top-t.rect.top,p=c.bottom-t.rect.top;var g=(f+p)/2;var m=t.view.measure.heights;var v=0;for(;v<m.length-1;v++){if(g<m[v]){break}}var b=v?m[v-1]:0,y=m[v];var w={left:(l=="right"?c.right:c.left)-t.rect.left,right:(l=="left"?c.left:c.right)-t.rect.left,top:b,bottom:y};if(!c.left&&!c.right){w.bogus=true}if(!e.options.singleCursorHeightPerLine){w.rtop=f;w.rbottom=p}return w}function li(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Fe(e)){return t}var n=screen.logicalXDPI/screen.deviceXDPI;var i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function ci(e){if(e.measure){e.measure.cache={};e.measure.heights=null;if(e.rest){for(var t=0;t<e.rest.length;t++){e.measure.caches[t]={}}}}}function ui(e){e.display.externalMeasure=null;T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++){ci(e.display.view[t])}}function hi(e){ui(e);e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null;if(!e.options.lineWrapping){e.display.maxLineChanged=true}e.display.lineNumChars=null}function di(){if(s&&h){return-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function fi(){if(s&&h){return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function pi(e){var t=0;if(e.widgets){for(var n=0;n<e.widgets.length;++n){if(e.widgets[n].above){t+=Vn(e.widgets[n])}}}return t}function gi(e,t,n,i,r){if(!r){var o=pi(t);n.top+=o;n.bottom+=o}if(i=="line"){return n}if(!i){i="local"}var s=on(t);if(i=="local"){s+=Bn(e.display)}else{s-=e.display.viewOffset}if(i=="page"||i=="window"){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+(i=="window"?0:fi());var l=a.left+(i=="window"?0:di());n.left+=l;n.right+=l}n.top+=s;n.bottom+=s;return n}function mi(e,t,n){if(n=="div"){return t}var i=t.left,r=t.top;if(n=="page"){i-=di();r-=fi()}else if(n=="local"||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left;r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function vi(e,t,n,i,r){if(!i){i=Xe(e.doc,t.line)}return gi(e,i,Jn(e,i,t.ch,r),n)}function bi(i,e,r,o,s,a){o=o||Xe(i.doc,e.line);if(!s){s=ti(i,o)}function l(e,t){var n=ni(i,s,e,t?"right":"left",a);if(t){n.left=n.right}else{n.right=n.left}return gi(i,o,n,r)}var c=de(o,i.doc.direction),t=e.ch,n=e.sticky;if(t>=o.text.length){t=o.text.length;n="before"}else if(t<=0){t=0;n="after"}if(!c){return l(n=="before"?t-1:t,n=="before")}function u(e,t,n){var i=c[t],r=i.level==1;return l(n?e-1:e,r!=n)}var h=ue(c,t,n);var d=ce;var f=u(t,h,n=="before");if(d!=null){f.other=u(t,d,n!="before")}return f}function yi(e,t){var n=0;t=ht(e.doc,t);if(!e.options.lineWrapping){n=Ei(e.display)*t.ch}var i=Xe(e.doc,t.line);var r=on(i)+Bn(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function wi(e,t,n,i,r){var o=rt(e,t,n);o.xRel=r;if(i){o.outside=i}return o}function _i(e,t,n){var i=e.doc;n+=e.display.viewOffset;if(n<0){return wi(i.first,0,null,-1,-1)}var r=tt(i,n),o=i.first+i.size-1;if(r>o){return wi(i.first+i.size-1,Xe(i,o).text.length,null,1,1)}if(t<0){t=0}var s=Xe(i,r);for(;;){var a=Si(e,s,r,t,n);var l=Kt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l){return a}var c=l.find(1);if(c.line==r){return c}s=Xe(i,r=c.line)}}function xi(t,e,n,i){i-=pi(e);var r=e.text.length;var o=ae(function(e){return ni(t,n,e-1).bottom<=i},r,0);r=ae(function(e){return ni(t,n,e).top>i},o,r);return{begin:o,end:r}}function Ci(e,t,n,i){if(!n){n=ti(e,t)}var r=gi(e,t,ni(e,n,i),"line").top;return xi(e,t,n,r)}function ki(e,t,n,i){return e.bottom<=n?false:e.top>n?true:(i?e.left:e.right)>t}function Si(n,e,t,i,r){r-=on(e);var o=ti(n,e);var s=pi(e);var a=0,l=e.text.length,c=true;var u=de(e,n.doc.direction);if(u){var h=(n.options.lineWrapping?Ti:Oi)(n,e,t,o,u,i,r);c=h.level!=1;a=c?h.from:h.to-1;l=c?h.to:h.from-1}var d=null,f=null;var p=ae(function(e){var t=ni(n,o,e);t.top+=s;t.bottom+=s;if(!ki(t,i,r,false)){return false}if(t.top<=r&&t.left<=i){d=e;f=t}return true},a,l);var g,m,v=false;if(f){var b=i-f.left<f.right-i,y=b==c;p=d+(y?0:1);m=y?"after":"before";g=b?f.left:f.right}else{if(!c&&(p==l||p==a)){p++}m=p==0?"after":p==e.text.length?"before":ni(n,o,p-(c?1:0)).bottom+s<=r==c?"after":"before";var w=bi(n,rt(t,p,m),"line",e,o);g=w.left;v=r<w.top?-1:r>=w.bottom?1:0}p=se(e.text,p,1);return wi(t,p,m,v,i-g)}function Oi(i,r,o,s,a,l,c){var e=ae(function(e){var t=a[e],n=t.level!=1;return ki(bi(i,rt(o,n?t.to:t.from,n?"before":"after"),"line",r,s),l,c,true)},0,a.length-1);var t=a[e];if(e>0){var n=t.level!=1;var u=bi(i,rt(o,n?t.from:t.to,n?"after":"before"),"line",r,s);if(ki(u,l,c,true)&&u.top>c){t=a[e-1]}}return t}function Ti(e,t,n,i,r,o,s){var a=xi(e,t,i,s);var l=a.begin;var c=a.end;if(/\s/.test(t.text.charAt(c-1))){c--}var u=null,h=null;for(var d=0;d<r.length;d++){var f=r[d];if(f.from>=c||f.to<=l){continue}var p=f.level!=1;var g=ni(e,i,p?Math.min(c,f.to)-1:Math.max(l,f.from)).right;var m=g<o?o-g+1e9:g-o;if(!u||h>m){u=f;h=m}}if(!u){u=r[r.length-1]}if(u.from<l){u={from:l,to:u.to,level:u.level}}if(u.to>c){u={from:u.from,to:c,level:u.level}}return u}function ji(e){if(e.cachedTextHeight!=null){return e.cachedTextHeight}if(ri==null){ri=D("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t){ri.appendChild(document.createTextNode("x"));ri.appendChild(D("br"))}ri.appendChild(document.createTextNode("x"))}j(e.measure,ri);var n=ri.offsetHeight/50;if(n>3){e.cachedTextHeight=n}T(e.measure);return n||1}function Ei(e){if(e.cachedCharWidth!=null){return e.cachedCharWidth}var t=D("span","xxxxxxxxxx");var n=D("pre",[t],"CodeMirror-line-like");j(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;if(r>2){e.cachedCharWidth=r}return r||10}function Pi(e){var t=e.display,n={},i={};var r=t.gutters.clientLeft;for(var o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+r;i[a]=o.clientWidth}return{fixedPos:Di(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function Di(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ai(i){var r=ji(i.display),o=i.options.lineWrapping;var s=o&&Math.max(5,i.display.scroller.clientWidth/Ei(i.display)-3);return function(e){if(nn(i.doc,e)){return 0}var t=0;if(e.widgets){for(var n=0;n<e.widgets.length;n++){if(e.widgets[n].height){t+=e.widgets[n].height}}}if(o){return t+(Math.ceil(e.text.length/s)||1)*r}else{return t+r}}}function Mi(e){var t=e.doc,n=Ai(e);t.iter(function(e){var t=n(e);if(t!=e.height){Je(e,t)}})}function Ii(e,t,n,i){var r=e.display;if(!n&&Oe(t).getAttribute("cm-not-content")=="true"){return null}var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left;s=t.clientY-a.top}catch(t){return null}var l=_i(e,o,s),c;if(i&&l.xRel==1&&(c=Xe(e.doc,l.line).text).length==l.ch){var u=z(c,c.length,e.options.tabSize)-c.length;l=rt(l.line,Math.max(0,Math.round((o-qn(e.display).left)/Ei(e.display))-u))}return l}function Li(e,t){if(t>=e.display.viewTo){return null}t-=e.display.viewFrom;if(t<0){return null}var n=e.display.view;for(var i=0;i<n.length;i++){t-=n[i].size;if(t<0){return i}}}function Ni(e,t,n,i){if(t==null){t=e.doc.first}if(n==null){n=e.doc.first+e.doc.size}if(!i){i=0}var r=e.display;if(i&&n<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>t)){r.updateLineNumbers=t}e.curOp.viewChanged=true;if(t>=r.viewTo){if(Et&&en(e.doc,t)<r.viewTo){zi(e)}}else if(n<=r.viewFrom){if(Et&&tn(e.doc,n+i)>r.viewFrom){zi(e)}else{r.viewFrom+=i;r.viewTo+=i}}else if(t<=r.viewFrom&&n>=r.viewTo){zi(e)}else if(t<=r.viewFrom){var o=Hi(e,n,n+i,1);if(o){r.view=r.view.slice(o.index);r.viewFrom=o.lineN;r.viewTo+=i}else{zi(e)}}else if(n>=r.viewTo){var s=Hi(e,t,t,-1);if(s){r.view=r.view.slice(0,s.index);r.viewTo=s.lineN}else{zi(e)}}else{var a=Hi(e,t,t,-1);var l=Hi(e,n,n+i,1);if(a&&l){r.view=r.view.slice(0,a.index).concat(xn(e,a.lineN,l.lineN)).concat(r.view.slice(l.index));r.viewTo+=i}else{zi(e)}}var c=r.externalMeasured;if(c){if(n<c.lineN){c.lineN+=i}else if(t<c.lineN+c.size){r.externalMeasured=null}}}function Fi(e,t,n){e.curOp.viewChanged=true;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size){i.externalMeasured=null}if(t<i.viewFrom||t>=i.viewTo){return}var o=i.view[Li(e,t)];if(o.node==null){return}var s=o.changes||(o.changes=[]);if(R(s,n)==-1){s.push(n)}}function zi(e){e.display.viewFrom=e.display.viewTo=e.doc.first;e.display.view=[];e.display.viewOffset=0}function Hi(e,t,n,i){var r=Li(e,t),o,s=e.display.view;if(!Et||n==e.doc.first+e.doc.size){return{index:r,lineN:n}}var a=e.display.viewFrom;for(var l=0;l<r;l++){a+=s[l].size}if(a!=t){if(i>0){if(r==s.length-1){return null}o=a+s[r].size-t;r++}else{o=a-t}t+=o;n+=o}while(en(e.doc,n)!=n){if(r==(i<0?0:s.length-1)){return null}n+=i*s[r-(i<0?1:0)].size;r+=i}return{index:r,lineN:n}}function Ri(e,t,n){var i=e.display,r=i.view;if(r.length==0||t>=i.viewTo||n<=i.viewFrom){i.view=xn(e,t,n);i.viewFrom=t}else{if(i.viewFrom>t){i.view=xn(e,t,i.viewFrom).concat(i.view)}else if(i.viewFrom<t){i.view=i.view.slice(Li(e,t))}i.viewFrom=t;if(i.viewTo<n){i.view=i.view.concat(xn(e,i.viewTo,n))}else if(i.viewTo>n){i.view=i.view.slice(0,Li(e,n))}}i.viewTo=n}function $i(e){var t=e.display.view,n=0;for(var i=0;i<t.length;i++){var r=t[i];if(!r.hidden&&(!r.node||r.changes)){++n}}return n}function Vi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Wi(e,t){if(t===void 0)t=true;var n=e.doc,i={};var r=i.cursors=document.createDocumentFragment();var o=i.selection=document.createDocumentFragment();for(var s=0;s<n.sel.ranges.length;s++){if(!t&&s==n.sel.primIndex){continue}var a=n.sel.ranges[s];if(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom){continue}var l=a.empty();if(l||e.options.showCursorWhenSelecting){Bi(e,a.head,r)}if(!l){qi(e,a,o)}}return i}function Bi(e,t,n){var i=bi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine);var r=n.appendChild(D("div","Â ","CodeMirror-cursor"));r.style.left=i.left+"px";r.style.top=i.top+"px";r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px";if(i.other){var o=n.appendChild(D("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="";o.style.left=i.other.left+"px";o.style.top=i.other.top+"px";o.style.height=(i.other.bottom-i.other.top)*.85+"px"}}function Ui(e,t){return e.top-t.top||e.left-t.left}function qi(a,e,t){var n=a.display,i=a.doc;var r=document.createDocumentFragment();var o=qn(a.display),T=o.left;var j=Math.max(n.sizerWidth,Gn(a)-n.sizer.offsetLeft)-o.right;var E=i.direction=="ltr";function P(e,t,n,i){if(t<0){t=0}t=Math.round(t);i=Math.round(i);r.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(n==null?j-e:n)+"px;\n                             height: "+(i-t)+"px"))}function s(n,y,w){var s=Xe(i,n);var _=s.text.length;var x,C;function k(e,t){return vi(a,rt(n,e),"div",s,t)}function S(e,t,n){var i=Ci(a,s,null,e);var r=t=="ltr"==(n=="after")?"left":"right";var o=n=="after"?i.begin:i.end-(/\s/.test(s.text.charAt(i.end-1))?2:1);return k(o,r)[r]}var O=de(s,i.direction);le(O,y||0,w==null?_:w,function(e,t,n,i){var r=n=="ltr";var o=k(e,r?"left":"right");var s=k(t-1,r?"right":"left");var a=y==null&&e==0,l=w==null&&t==_;var c=i==0,u=!O||i==O.length-1;if(s.top-o.top<=3){var h=(E?a:l)&&c;var d=(E?l:a)&&u;var f=h?T:(r?o:s).left;var p=d?j:(r?s:o).right;P(f,o.top,p-f,o.bottom)}else{var g,m,v,b;if(r){g=E&&a&&c?T:o.left;m=E?j:S(e,n,"before");v=E?T:S(t,n,"after");b=E&&l&&u?j:s.right}else{g=!E?T:S(e,n,"before");m=!E&&a&&c?j:o.right;v=!E&&l&&u?T:s.left;b=!E?j:S(t,n,"after")}P(g,o.top,m-g,o.bottom);if(o.bottom<s.top){P(T,o.bottom,null,s.top)}P(v,s.top,b-v,s.bottom)}if(!x||Ui(o,x)<0){x=o}if(Ui(s,x)<0){x=s}if(!C||Ui(o,C)<0){C=o}if(Ui(s,C)<0){C=s}});return{start:x,end:C}}var l=e.from(),c=e.to();if(l.line==c.line){s(l.line,l.ch,c.ch)}else{var u=Xe(i,l.line),h=Xe(i,c.line);var d=Qt(u)==Qt(h);var f=s(l.line,l.ch,d?u.text.length+1:null).end;var p=s(c.line,d?0:null,c.ch).start;if(d){if(f.top<p.top-2){P(f.right,f.top,null,f.bottom);P(T,p.top,p.left,p.bottom)}else{P(f.right,f.top,p.left-f.right,f.bottom)}}if(f.bottom<p.top){P(T,f.bottom,null,p.top)}}t.appendChild(r)}function Yi(e){if(!e.state.focused){return}var t=e.display;clearInterval(t.blinker);var n=true;t.cursorDiv.style.visibility="";if(e.options.cursorBlinkRate>0){t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate)}else if(e.options.cursorBlinkRate<0){t.cursorDiv.style.visibility="hidden"}}function Gi(e){if(!e.state.focused){e.display.input.focus();Xi(e)}}function Ki(e){e.state.delayingBlurEvent=true;setTimeout(function(){if(e.state.delayingBlurEvent){e.state.delayingBlurEvent=false;Qi(e)}},100)}function Xi(e,t){if(e.state.delayingBlurEvent){e.state.delayingBlurEvent=false}if(e.options.readOnly=="nocursor"){return}if(!e.state.focused){ve(e,"focus",e,t);e.state.focused=true;M(e.display.wrapper,"CodeMirror-focused");if(!e.curOp&&e.display.selForContextMenu!=e.doc.sel){e.display.input.reset();if(m){setTimeout(function(){return e.display.input.reset(true)},20)}}e.display.input.receivedFocus()}Yi(e)}function Qi(e,t){if(e.state.delayingBlurEvent){return}if(e.state.focused){ve(e,"blur",e,t);e.state.focused=false;S(e.display.wrapper,"CodeMirror-focused")}clearInterval(e.display.blinker);setTimeout(function(){if(!e.state.focused){e.display.shift=false}},150)}function Zi(e){var t=e.display;var n=t.lineDiv.offsetTop;for(var i=0;i<t.view.length;i++){var r=t.view[i],o=e.options.lineWrapping;var s=void 0,a=0;if(r.hidden){continue}if(_&&x<8){var l=r.node.offsetTop+r.node.offsetHeight;s=l-n;n=l}else{var c=r.node.getBoundingClientRect();s=c.bottom-c.top;if(!o&&r.text.firstChild){a=r.text.firstChild.getBoundingClientRect().right-c.left-1}}var u=r.line.height-s;if(u>.005||u<-.005){Je(r.line,s);Ji(r.line);if(r.rest){for(var h=0;h<r.rest.length;h++){Ji(r.rest[h])}}}if(a>e.display.sizerWidth){var d=Math.ceil(a/Ei(e.display));if(d>e.display.maxLineLength){e.display.maxLineLength=d;e.display.maxLine=r.line;e.display.maxLineChanged=true}}}}function Ji(e){if(e.widgets){for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],i=n.node.parentNode;if(i){n.height=i.offsetHeight}}}}function er(e,t,n){var i=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Bn(e));var r=n&&n.bottom!=null?n.bottom:i+e.wrapper.clientHeight;var o=tt(t,i),s=tt(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;if(a<o){o=a;s=tt(t,on(Xe(t,a))+e.wrapper.clientHeight)}else if(Math.min(l,t.lastLine())>=s){o=tt(t,on(Xe(t,l))-e.wrapper.clientHeight);s=l}}return{from:o,to:Math.max(s,o+1)}}function tr(e,t){if(be(e,"scrollCursorIntoView")){return}var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0){r=true}else if(t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)){r=false}if(r!=null&&!c){var o=D("div","â",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Bn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Yn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o);o.scrollIntoView(r);e.display.lineSpace.removeChild(o)}}function nr(e,t,n,i){if(i==null){i=0}var r;if(!e.options.lineWrapping&&t==n){t=t.ch?rt(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t;n=t.sticky=="before"?rt(t.line,t.ch+1,"before"):t}for(var o=0;o<5;o++){var s=false;var a=bi(e,t);var l=!n||n==t?a:bi(e,n);r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i};var c=rr(e,r);var u=e.doc.scrollTop,h=e.doc.scrollLeft;if(c.scrollTop!=null){hr(e,c.scrollTop);if(Math.abs(e.doc.scrollTop-u)>1){s=true}}if(c.scrollLeft!=null){fr(e,c.scrollLeft);if(Math.abs(e.doc.scrollLeft-h)>1){s=true}}if(!s){break}}return r}function ir(e,t){var n=rr(e,t);if(n.scrollTop!=null){hr(e,n.scrollTop)}if(n.scrollLeft!=null){fr(e,n.scrollLeft)}}function rr(e,t){var n=e.display,i=ji(e.display);if(t.top<0){t.top=0}var r=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop;var o=Kn(e),s={};if(t.bottom-t.top>o){t.bottom=t.top+o}var a=e.doc.height+Un(n);var l=t.top<i,c=t.bottom>a-i;if(t.top<r){s.scrollTop=l?0:t.top}else if(t.bottom>r+o){var u=Math.min(t.top,(c?a:t.bottom)-o);if(u!=r){s.scrollTop=u}}var h=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft;var d=Gn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0);var f=t.right-t.left>d;if(f){t.right=t.left+d}if(t.left<10){s.scrollLeft=0}else if(t.left<h){s.scrollLeft=Math.max(0,t.left-(f?0:10))}else if(t.right>d+h-3){s.scrollLeft=t.right+(f?0:10)-d}return s}function or(e,t){if(t==null){return}cr(e);e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t}function sr(e){cr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ar(e,t,n){if(t!=null||n!=null){cr(e)}if(t!=null){e.curOp.scrollLeft=t}if(n!=null){e.curOp.scrollTop=n}}function lr(e,t){cr(e);e.curOp.scrollToPos=t}function cr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=yi(e,t.from),i=yi(e,t.to);ur(e,n,i,t.margin)}}function ur(e,t,n,i){var r=rr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-i,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+i});ar(e,r.scrollLeft,r.scrollTop)}function hr(e,t){if(Math.abs(e.doc.scrollTop-t)<2){return}if(!g){Vr(e,{top:t})}dr(e,t,true);if(g){Vr(e)}Ir(e,100)}function dr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t);if(e.display.scroller.scrollTop==t&&!n){return}e.doc.scrollTop=t;e.display.scrollbars.setScrollTop(t);if(e.display.scroller.scrollTop!=t){e.display.scroller.scrollTop=t}}function fr(e,t,n,i){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth);if((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i){return}e.doc.scrollLeft=t;qr(e);if(e.display.scroller.scrollLeft!=t){e.display.scroller.scrollLeft=t}e.display.scrollbars.setScrollLeft(t)}function pr(e){var t=e.display,n=t.gutters.offsetWidth;var i=Math.round(e.doc.height+Un(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Yn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var gr=function(e,t,n){this.cm=n;var i=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var r=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1;e(i);e(r);pe(i,"scroll",function(){if(i.clientHeight){t(i.scrollTop,"vertical")}});pe(r,"scroll",function(){if(r.clientWidth){t(r.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(_&&x<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};gr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1;var n=e.scrollHeight>e.clientHeight+1;var i=e.nativeBarWidth;if(n){this.vert.style.display="block";this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(t){this.horiz.style.display="block";this.horiz.style.right=n?i+"px":"0";this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&e.clientHeight>0){if(i==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:n?i:0,bottom:t?i:0}},gr.prototype.setScrollLeft=function(e){if(this.horiz.scrollLeft!=e){this.horiz.scrollLeft=e}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}},gr.prototype.setScrollTop=function(e){if(this.vert.scrollTop!=e){this.vert.scrollTop=e}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}},gr.prototype.zeroWidthHack=function(){var e=b&&!l?"12px":"18px";this.horiz.style.height=this.vert.style.width=e;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new H;this.disableVert=new H},gr.prototype.enableZeroWidthBar=function(n,i,r){n.style.pointerEvents="auto";function o(){var e=n.getBoundingClientRect();var t=r=="vert"?document.elementFromPoint(e.right-1,(e.top+e.bottom)/2):document.elementFromPoint((e.right+e.left)/2,e.bottom-1);if(t!=n){n.style.pointerEvents="none"}else{i.set(1e3,o)}}i.set(1e3,o)},gr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz);e.removeChild(this.vert)};var mr=function(){};function vr(e,t){if(!t){t=pr(e)}var n=e.display.barWidth,i=e.display.barHeight;br(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++){if(n!=e.display.barWidth&&e.options.lineWrapping){Zi(e)}br(e,pr(e));n=e.display.barWidth;i=e.display.barHeight}}function br(e,t){var n=e.display;var i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px";n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px";n.heightForcer.style.borderBottom=i.bottom+"px solid transparent";if(i.right&&i.bottom){n.scrollbarFiller.style.display="block";n.scrollbarFiller.style.height=i.bottom+"px";n.scrollbarFiller.style.width=i.right+"px"}else{n.scrollbarFiller.style.display=""}if(i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter){n.gutterFiller.style.display="block";n.gutterFiller.style.height=i.bottom+"px";n.gutterFiller.style.width=t.gutterWidth+"px"}else{n.gutterFiller.style.display=""}}mr.prototype.update=function(){return{bottom:0,right:0}},mr.prototype.setScrollLeft=function(){},mr.prototype.setScrollTop=function(){},mr.prototype.clear=function(){};var yr={native:gr,null:mr};function wr(n){if(n.display.scrollbars){n.display.scrollbars.clear();if(n.display.scrollbars.addClass){S(n.display.wrapper,n.display.scrollbars.addClass)}}n.display.scrollbars=new yr[n.options.scrollbarStyle](function(e){n.display.wrapper.insertBefore(e,n.display.scrollbarFiller);pe(e,"mousedown",function(){if(n.state.focused){setTimeout(function(){return n.display.input.focus()},0)}});e.setAttribute("cm-not-content","true")},function(e,t){if(t=="horizontal"){fr(n,e)}else{hr(n,e)}},n);if(n.display.scrollbars.addClass){M(n.display.wrapper,n.display.scrollbars.addClass)}}var _r=0;function xr(e){e.curOp={cm:e,viewChanged:false,startHeight:e.doc.height,forceUpdate:false,updateInput:0,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++_r};kn(e.curOp)}function Cr(e){var t=e.curOp;if(t){On(t,function(e){for(var t=0;t<e.ops.length;t++){e.ops[t].cm.curOp=null}kr(e)})}}function kr(e){var t=e.ops;for(var n=0;n<t.length;n++){Sr(t[n])}for(var i=0;i<t.length;i++){Or(t[i])}for(var r=0;r<t.length;r++){Tr(t[r])}for(var o=0;o<t.length;o++){jr(t[o])}for(var s=0;s<t.length;s++){Er(t[s])}}function Sr(e){var t=e.cm,n=t.display;Fr(t);if(e.updateMaxLine){an(t)}e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping;e.update=e.mustUpdate&&new Nr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Or(e){e.updatedDisplay=e.mustUpdate&&Rr(e.cm,e.update)}function Tr(e){var t=e.cm,n=t.display;if(e.updatedDisplay){Zi(t)}e.barMeasure=pr(t);if(n.maxLineChanged&&!t.options.lineWrapping){e.adjustWidthTo=Jn(t,n.maxLine,n.maxLine.text.length).left+3;t.display.sizerWidth=e.adjustWidthTo;e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Yn(t)+t.display.barWidth);e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Gn(t))}if(e.updatedDisplay||e.selectionChanged){e.preparedSelection=n.input.prepareSelection()}}function jr(e){var t=e.cm;if(e.adjustWidthTo!=null){t.display.sizer.style.minWidth=e.adjustWidthTo+"px";if(e.maxScrollLeft<t.doc.scrollLeft){fr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),true)}t.display.maxLineChanged=false}var n=e.focus&&e.focus==A();if(e.preparedSelection){t.display.input.showSelection(e.preparedSelection,n)}if(e.updatedDisplay||e.startHeight!=t.doc.height){vr(t,e.barMeasure)}if(e.updatedDisplay){Ur(t,e.barMeasure)}if(e.selectionChanged){Yi(t)}if(t.state.focused&&e.updateInput){t.display.input.reset(e.typing)}if(n){Gi(e.cm)}}function Er(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay){$r(t,e.update)}if(n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)){n.wheelStartX=n.wheelStartY=null}if(e.scrollTop!=null){dr(t,e.scrollTop,e.forceScroll)}if(e.scrollLeft!=null){fr(t,e.scrollLeft,true,true)}if(e.scrollToPos){var r=nr(t,ht(i,e.scrollToPos.from),ht(i,e.scrollToPos.to),e.scrollToPos.margin);tr(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o){for(var a=0;a<o.length;++a){if(!o[a].lines.length){ve(o[a],"hide")}}}if(s){for(var l=0;l<s.length;++l){if(s[l].lines.length){ve(s[l],"unhide")}}}if(n.wrapper.offsetHeight){i.scrollTop=t.display.scroller.scrollTop}if(e.changeObjs){ve(t,"changes",t,e.changeObjs)}if(e.update){e.update.finish()}}function Pr(e,t){if(e.curOp){return t()}xr(e);try{return t()}finally{Cr(e)}}function Dr(e,t){return function(){if(e.curOp){return t.apply(e,arguments)}xr(e);try{return t.apply(e,arguments)}finally{Cr(e)}}}function Ar(e){return function(){if(this.curOp){return e.apply(this,arguments)}xr(this);try{return e.apply(this,arguments)}finally{Cr(this)}}}function Mr(t){return function(){var e=this.cm;if(!e||e.curOp){return t.apply(this,arguments)}xr(e);try{return t.apply(this,arguments)}finally{Cr(e)}}}function Ir(e,t){if(e.doc.highlightFrontier<e.display.viewTo){e.state.highlight.set(t,N(Lr,e))}}function Lr(l){var c=l.doc;if(c.highlightFrontier>=l.display.viewTo){return}var u=+new Date+l.options.workTime;var h=bt(l,c.highlightFrontier);var d=[];c.iter(h.line,Math.min(c.first+c.size,l.display.viewTo+500),function(e){if(h.line>=l.display.viewFrom){var t=e.styles;var n=e.text.length>l.options.maxHighlightLength?qe(c.mode,h.state):null;var i=mt(l,e,h,true);if(n){h.state=n}e.styles=i.styles;var r=e.styleClasses,o=i.classes;if(o){e.styleClasses=o}else if(r){e.styleClasses=null}var s=!t||t.length!=e.styles.length||r!=o&&(!r||!o||r.bgClass!=o.bgClass||r.textClass!=o.textClass);for(var a=0;!s&&a<t.length;++a){s=t[a]!=e.styles[a]}if(s){d.push(h.line)}e.stateAfter=h.save();h.nextLine()}else{if(e.text.length<=l.options.maxHighlightLength){yt(l,e.text,h)}e.stateAfter=h.line%5==0?h.save():null;h.nextLine()}if(+new Date>u){Ir(l,l.options.workDelay);return true}});c.highlightFrontier=h.line;c.modeFrontier=Math.max(c.modeFrontier,h.line);if(d.length){Pr(l,function(){for(var e=0;e<d.length;e++){Fi(l,d[e],"text")}})}}var Nr=function(e,t,n){var i=e.display;this.viewport=t;this.visible=er(i,e.doc,t);this.editorIsHidden=!i.wrapper.offsetWidth;this.wrapperHeight=i.wrapper.clientHeight;this.wrapperWidth=i.wrapper.clientWidth;this.oldDisplayWidth=Gn(e);this.force=n;this.dims=Pi(e);this.events=[]};function Fr(e){var t=e.display;if(!t.scrollbarsClipped&&t.scroller.offsetWidth){t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth;t.heightForcer.style.height=Yn(e)+"px";t.sizer.style.marginBottom=-t.nativeBarWidth+"px";t.sizer.style.borderRightWidth=Yn(e)+"px";t.scrollbarsClipped=true}}function zr(e){if(e.hasFocus()){return null}var t=A();if(!t||!P(e.display.lineDiv,t)){return null}var n={activeElt:t};if(window.getSelection){var i=window.getSelection();if(i.anchorNode&&i.extend&&P(e.display.lineDiv,i.anchorNode)){n.anchorNode=i.anchorNode;n.anchorOffset=i.anchorOffset;n.focusNode=i.focusNode;n.focusOffset=i.focusOffset}}return n}function Hr(e){if(!e||!e.activeElt||e.activeElt==A()){return}e.activeElt.focus();if(e.anchorNode&&P(document.body,e.anchorNode)&&P(document.body,e.focusNode)){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset);n.collapse(false);t.removeAllRanges();t.addRange(n);t.extend(e.focusNode,e.focusOffset)}}function Rr(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden){zi(e);return false}if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&$i(e)==0){return false}if(Yr(e)){zi(e);t.dims=Pi(e)}var r=i.first+i.size;var o=Math.max(t.visible.from-e.options.viewportMargin,i.first);var s=Math.min(r,t.visible.to+e.options.viewportMargin);if(n.viewFrom<o&&o-n.viewFrom<20){o=Math.max(i.first,n.viewFrom)}if(n.viewTo>s&&n.viewTo-s<20){s=Math.min(r,n.viewTo)}if(Et){o=en(e.doc,o);s=tn(e.doc,s)}var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ri(e,o,s);n.viewOffset=on(Xe(e.doc,n.viewFrom));e.display.mover.style.top=n.viewOffset+"px";var l=$i(e);if(!a&&l==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)){return false}var c=zr(e);if(l>4){n.lineDiv.style.display="none"}Wr(e,n.updateLineNumbers,t.dims);if(l>4){n.lineDiv.style.display=""}n.renderedView=n.view;Hr(c);T(n.cursorDiv);T(n.selectionDiv);n.gutters.style.height=n.sizer.style.minHeight=0;if(a){n.lastWrapHeight=t.wrapperHeight;n.lastWrapWidth=t.wrapperWidth;Ir(e,400)}n.updateLineNumbers=null;return true}function $r(e,t){var n=t.viewport;for(var i=true;;i=false){if(!i||!e.options.lineWrapping||t.oldDisplayWidth==Gn(e)){if(n&&n.top!=null){n={top:Math.min(e.doc.height+Un(e.display)-Kn(e),n.top)}}t.visible=er(e.display,e.doc,n);if(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo){break}}if(!Rr(e,t)){break}Zi(e);var r=pr(e);Vi(e);vr(e,r);Ur(e,r);t.force=false}t.signal(e,"update",e);if(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo){t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo);e.display.reportedViewFrom=e.display.viewFrom;e.display.reportedViewTo=e.display.viewTo}}function Vr(e,t){var n=new Nr(e,t);if(Rr(e,n)){Zi(e);$r(e,n);var i=pr(e);Vi(e);vr(e,i);Ur(e,i);n.finish()}}function Wr(n,e,t){var i=n.display,r=n.options.lineNumbers;var o=i.lineDiv,s=o.firstChild;function a(e){var t=e.nextSibling;if(m&&b&&n.display.currentWheelTarget==e){e.style.display="none"}else{e.parentNode.removeChild(e)}return t}var l=i.view,c=i.viewFrom;for(var u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(!h.node||h.node.parentNode!=o){var d=zn(n,h,c,t);o.insertBefore(d,s)}else{while(s!=h.node){s=a(s)}var f=r&&e!=null&&e<=c&&h.lineNumber;if(h.changes){if(R(h.changes,"gutter")>-1){f=false}Pn(n,h,c,t)}if(f){T(h.lineNumber);h.lineNumber.appendChild(document.createTextNode(it(n.options,c)))}s=h.node.nextSibling}c+=h.size}while(s){s=a(s)}}function Br(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Ur(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";e.display.heightForcer.style.top=t.docHeight+"px";e.display.gutters.style.height=t.docHeight+e.display.barHeight+Yn(e)+"px"}function qr(e){var t=e.display,n=t.view;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter)){return}var i=Di(t)-t.scroller.scrollLeft+e.doc.scrollLeft;var r=t.gutters.offsetWidth,o=i+"px";for(var s=0;s<n.length;s++){if(!n[s].hidden){if(e.options.fixedGutter){if(n[s].gutter){n[s].gutter.style.left=o}if(n[s].gutterBackground){n[s].gutterBackground.style.left=o}}var a=n[s].alignable;if(a){for(var l=0;l<a.length;l++){a[l].style.left=o}}}}if(e.options.fixedGutter){t.gutters.style.left=i+r+"px"}}function Yr(e){if(!e.options.lineNumbers){return false}var t=e.doc,n=it(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(D("div",[D("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var o=r.firstChild.offsetWidth,s=r.offsetWidth-o;i.lineGutter.style.width="";i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1;i.lineNumWidth=i.lineNumInnerWidth+s;i.lineNumChars=i.lineNumInnerWidth?n.length:-1;i.lineGutter.style.width=i.lineNumWidth+"px";Br(e.display);return true}return false}function Gr(e,t){var n=[],i=false;for(var r=0;r<e.length;r++){var o=e[r],s=null;if(typeof o!="string"){s=o.style;o=o.className}if(o=="CodeMirror-linenumbers"){if(!t){continue}else{i=true}}n.push({className:o,style:s})}if(t&&!i){n.push({className:"CodeMirror-linenumbers",style:null})}return n}function Kr(e){var t=e.gutters,n=e.gutterSpecs;T(t);e.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i];var o=r.className;var s=r.style;var a=t.appendChild(D("div",null,"CodeMirror-gutter "+o));if(s){a.style.cssText=s}if(o=="CodeMirror-linenumbers"){e.lineGutter=a;a.style.width=(e.lineNumWidth||1)+"px"}}t.style.display=n.length?"":"none";Br(e)}function Xr(e){Kr(e.display);Ni(e);qr(e)}function Qr(e,t,n,i){var r=this;this.input=n;r.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler");r.scrollbarFiller.setAttribute("cm-not-content","true");r.gutterFiller=D("div",null,"CodeMirror-gutter-filler");r.gutterFiller.setAttribute("cm-not-content","true");r.lineDiv=E("div",null,"CodeMirror-code");r.selectionDiv=D("div",null,null,"position: relative; z-index: 1");r.cursorDiv=D("div",null,"CodeMirror-cursors");r.measure=D("div",null,"CodeMirror-measure");r.lineMeasure=D("div",null,"CodeMirror-measure");r.lineSpace=E("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=E("div",[r.lineSpace],"CodeMirror-lines");r.mover=D("div",[o],null,"position: relative");r.sizer=D("div",[r.mover],"CodeMirror-sizer");r.sizerWidth=null;r.heightForcer=D("div",null,null,"position: absolute; height: "+$+"px; width: 1px;");r.gutters=D("div",null,"CodeMirror-gutters");r.lineGutter=null;r.scroller=D("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll");r.scroller.setAttribute("tabIndex","-1");r.wrapper=D("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror");if(_&&x<8){r.gutters.style.zIndex=-1;r.scroller.style.paddingRight=0}if(!m&&!(g&&d)){r.scroller.draggable=true}if(e){if(e.appendChild){e.appendChild(r.wrapper)}else{e(r.wrapper)}}r.viewFrom=r.viewTo=t.first;r.reportedViewFrom=r.reportedViewTo=t.first;r.view=[];r.renderedView=null;r.externalMeasured=null;r.viewOffset=0;r.lastWrapHeight=r.lastWrapWidth=0;r.updateLineNumbers=null;r.nativeBarWidth=r.barHeight=r.barWidth=0;r.scrollbarsClipped=false;r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null;r.alignWidgets=false;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null;r.maxLine=null;r.maxLineLength=0;r.maxLineChanged=false;r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null;r.shift=false;r.selForContextMenu=null;r.activeTouch=null;r.gutterSpecs=Gr(i.gutters,i.lineNumbers);Kr(r);n.init(r)}Nr.prototype.signal=function(e,t){if(we(e,t)){this.events.push(arguments)}},Nr.prototype.finish=function(){var e=this;for(var t=0;t<this.events.length;t++){ve.apply(null,e.events[t])}};var Zr=0,Jr=null;if(_){Jr=-.53}else if(g){Jr=15}else if(s){Jr=-.7}else if(a){Jr=-1/3}function eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;if(t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS){t=e.detail}if(n==null&&e.detail&&e.axis==e.VERTICAL_AXIS){n=e.detail}else if(n==null){n=e.wheelDelta}return{x:t,y:n}}function to(e){var t=eo(e);t.x*=Jr;t.y*=Jr;return t}function no(e,t){var n=eo(t),i=n.x,r=n.y;var o=e.display,s=o.scroller;var a=s.scrollWidth>s.clientWidth;var l=s.scrollHeight>s.clientHeight;if(!(i&&a||r&&l)){return}if(r&&b&&m){e:for(var c=t.target,u=o.view;c!=s;c=c.parentNode){for(var h=0;h<u.length;h++){if(u[h].node==c){e.display.currentWheelTarget=c;break e}}}}if(i&&!g&&!v&&Jr!=null){if(r&&l){hr(e,Math.max(0,s.scrollTop+r*Jr))}fr(e,Math.max(0,s.scrollLeft+i*Jr));if(!r||r&&l){xe(t)}o.wheelStartX=null;return}if(r&&Jr!=null){var d=r*Jr;var f=e.doc.scrollTop,p=f+o.wrapper.clientHeight;if(d<0){f=Math.max(0,f+d-50)}else{p=Math.min(e.doc.height,p+d+50)}Vr(e,{top:f,bottom:p})}if(Zr<20){if(o.wheelStartX==null){o.wheelStartX=s.scrollLeft;o.wheelStartY=s.scrollTop;o.wheelDX=i;o.wheelDY=r;setTimeout(function(){if(o.wheelStartX==null){return}var e=s.scrollLeft-o.wheelStartX;var t=s.scrollTop-o.wheelStartY;var n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null;if(!n){return}Jr=(Jr*Zr+n)/(Zr+1);++Zr},200)}else{o.wheelDX+=i;o.wheelDY+=r}}}var io=function(e,t){this.ranges=e;this.primIndex=t};io.prototype.primary=function(){return this.ranges[this.primIndex]},io.prototype.equals=function(e){var t=this;if(e==this){return true}if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length){return false}for(var n=0;n<this.ranges.length;n++){var i=t.ranges[n],r=e.ranges[n];if(!st(i.anchor,r.anchor)||!st(i.head,r.head)){return false}}return true},io.prototype.deepCopy=function(){var e=this;var t=[];for(var n=0;n<this.ranges.length;n++){t[n]=new ro(at(e.ranges[n].anchor),at(e.ranges[n].head))}return new io(t,this.primIndex)},io.prototype.somethingSelected=function(){var e=this;for(var t=0;t<this.ranges.length;t++){if(!e.ranges[t].empty()){return true}}return false},io.prototype.contains=function(e,t){var n=this;if(!t){t=e}for(var i=0;i<this.ranges.length;i++){var r=n.ranges[i];if(ot(t,r.from())>=0&&ot(e,r.to())<=0){return i}}return-1};var ro=function(e,t){this.anchor=e;this.head=t};function oo(e,t,n){var i=e&&e.options.selectionsMayTouch;var r=t[n];t.sort(function(e,t){return ot(e.from(),t.from())});n=R(t,r);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1];var l=ot(a.to(),s.from());if(i&&!s.empty()?l>0:l>=0){var c=ct(a.from(),s.from()),u=lt(a.to(),s.to());var h=a.empty()?s.from()==s.head:a.from()==a.head;if(o<=n){--n}t.splice(--o,2,new ro(h?u:c,h?c:u))}}return new io(t,n)}function so(e,t){return new io([new ro(e,t||e)],0)}function ao(e){if(!e.text){return e.to}return rt(e.from.line+e.text.length-1,K(e.text).length+(e.text.length==1?e.from.ch:0))}function lo(e,t){if(ot(e,t.from)<0){return e}if(ot(e,t.to)<=0){return ao(t)}var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;if(e.line==t.to.line){i+=ao(t).ch-t.to.ch}return rt(n,i)}function co(e,t){var n=[];for(var i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new ro(lo(r.anchor,t),lo(r.head,t)))}return oo(e.cm,n,e.sel.primIndex)}function uo(e,t,n){if(e.line==t.line){return rt(n.line,e.ch-t.ch+n.ch)}else{return rt(n.line+(e.line-t.line),e.ch)}}function ho(e,t,n){var i=[];var r=rt(e.first,0),o=r;for(var s=0;s<t.length;s++){var a=t[s];var l=uo(a.from,r,o);var c=uo(ao(a),r,o);r=a.to;o=c;if(n=="around"){var u=e.sel.ranges[s],h=ot(u.head,u.anchor)<0;i[s]=new ro(h?c:l,h?l:c)}else{i[s]=new ro(l,l)}}return new io(i,e.sel.primIndex)}function fo(e){e.doc.mode=We(e.options,e.doc.modeOption);po(e)}function po(e){e.doc.iter(function(e){if(e.stateAfter){e.stateAfter=null}if(e.styles){e.styles=null}});e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first;Ir(e,100);e.state.modeGen++;if(e.curOp){Ni(e)}}function go(e,t){return t.from.ch==0&&t.to.ch==0&&K(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function mo(e,i,t,r){function o(e){return t?t[e]:null}function n(e,t,n){cn(e,t,n,r);jn(e,"change",e,i)}function s(e,t){var n=[];for(var i=e;i<t;++i){n.push(new ln(c[i],o(i),r))}return n}var a=i.from,l=i.to,c=i.text;var u=Xe(e,a.line),h=Xe(e,l.line);var d=K(c),f=o(c.length-1),p=l.line-a.line;if(i.full){e.insert(0,s(0,c.length));e.remove(c.length,e.size-c.length)}else if(go(e,i)){var g=s(0,c.length-1);n(h,h.text,f);if(p){e.remove(a.line,p)}if(g.length){e.insert(a.line,g)}}else if(u==h){if(c.length==1){n(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),f)}else{var m=s(1,c.length-1);m.push(new ln(d+u.text.slice(l.ch),f,r));n(u,u.text.slice(0,a.ch)+c[0],o(0));e.insert(a.line+1,m)}}else if(c.length==1){n(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),o(0));e.remove(a.line+1,p)}else{n(u,u.text.slice(0,a.ch)+c[0],o(0));n(h,d+h.text.slice(l.ch),f);var v=s(1,c.length-1);if(p>1){e.remove(a.line+1,p-1)}e.insert(a.line+1,v)}jn(e,"change",e,i)}function vo(e,s,a){function l(e,t,n){if(e.linked){for(var i=0;i<e.linked.length;++i){var r=e.linked[i];if(r.doc==t){continue}var o=n&&r.sharedHist;if(a&&!o){continue}s(r.doc,o);l(r.doc,e,o)}}}l(e,null,true)}function bo(e,t){if(t.cm){throw new Error("This document is already in use.")}e.doc=t;t.cm=e;Mi(e);fo(e);yo(e);if(!e.options.lineWrapping){an(e)}e.options.mode=t.modeOption;Ni(e)}function yo(e){(e.doc.direction=="rtl"?M:S)(e.display.lineDiv,"CodeMirror-rtl")}function wo(e){Pr(e,function(){yo(e);Ni(e)})}function _o(e){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=e||1}function xo(e,t){var n={from:at(t.from),to:ao(t),text:Qe(e,t.from,t.to)};Eo(e,n,t.from.line,t.to.line+1);vo(e,function(e){return Eo(e,n,t.from.line,t.to.line+1)},true);return n}function Co(e){while(e.length){var t=K(e);if(t.ranges){e.pop()}else{break}}}function ko(e,t){if(t){Co(e.done);return K(e.done)}else if(e.done.length&&!K(e.done).ranges){return K(e.done)}else if(e.done.length>1&&!e.done[e.done.length-2].ranges){e.done.pop();return K(e.done)}}function So(e,t,n,i){var r=e.history;r.undone.length=0;var o=+new Date,s;var a;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&r.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(s=ko(r,r.lastOp==i))){a=K(s.changes);if(ot(t.from,t.to)==0&&ot(t.from,a.to)==0){a.to=ao(t)}else{s.changes.push(xo(e,t))}}else{var l=K(r.done);if(!l||!l.ranges){jo(e.sel,r.done)}s={changes:[xo(e,t)],generation:r.generation};r.done.push(s);while(r.done.length>r.undoDepth){r.done.shift();if(!r.done[0].ranges){r.done.shift()}}}r.done.push(n);r.generation=++r.maxGeneration;r.lastModTime=r.lastSelTime=o;r.lastOp=r.lastSelOp=i;r.lastOrigin=r.lastSelOrigin=t.origin;if(!a){ve(e,"historyAdded")}}function Oo(e,t,n,i){var r=t.charAt(0);return r=="*"||r=="+"&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function To(e,t,n,i){var r=e.history,o=i&&i.origin;if(n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Oo(e,o,K(r.done),t))){r.done[r.done.length-1]=t}else{jo(t,r.done)}r.lastSelTime=+new Date;r.lastSelOrigin=o;r.lastSelOp=n;if(i&&i.clearRedo!==false){Co(r.undone)}}function jo(e,t){var n=K(t);if(!(n&&n.ranges&&n.equals(e))){t.push(e)}}function Eo(t,n,e,i){var r=n["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,i),function(e){if(e.markedSpans){(r||(r=n["spans_"+t.id]={}))[o]=e.markedSpans}++o})}function Po(e){if(!e){return null}var t;for(var n=0;n<e.length;++n){if(e[n].marker.explicitlyCleared){if(!t){t=e.slice(0,n)}}else if(t){t.push(e[n])}}return!t?e:t.length?t:null}function Do(e,t){var n=t["spans_"+e.id];if(!n){return null}var i=[];for(var r=0;r<t.text.length;++r){i.push(Po(n[r]))}return i}function Ao(e,t){var n=Do(e,t);var i=zt(e,t);if(!n){return i}if(!i){return n}for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s){e:for(var a=0;a<s.length;++a){var l=s[a];for(var c=0;c<o.length;++c){if(o[c].marker==l.marker){continue e}}o.push(l)}}else if(s){n[r]=s}}return n}function Mo(e,t,n){var i=[];for(var r=0;r<e.length;++r){var o=e[r];if(o.ranges){i.push(n?io.prototype.deepCopy.call(o):o);continue}var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;a.push({from:c.from,to:c.to,text:c.text});if(t){for(var h in c){if(u=h.match(/^spans_(\d+)$/)){if(R(t,Number(u[1]))>-1){K(a)[h]=c[h];delete c[h]}}}}}}return i}function Io(e,t,n,i){if(i){var r=e.anchor;if(n){var o=ot(t,r)<0;if(o!=ot(n,r)<0){r=t;t=n}else if(o!=ot(t,n)<0){t=n}}return new ro(r,t)}else{return new ro(n||t,t)}}function Lo(e,t,n,i,r){if(r==null){r=e.cm&&(e.cm.display.shift||e.extend)}$o(e,new io([Io(e.sel.primary(),t,n,r)],0),i)}function No(e,t,n){var i=[];var r=e.cm&&(e.cm.display.shift||e.extend);for(var o=0;o<e.sel.ranges.length;o++){i[o]=Io(e.sel.ranges[o],t[o],null,r)}var s=oo(e.cm,i,e.sel.primIndex);$o(e,s,n)}function Fo(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n;$o(e,oo(e.cm,r,e.sel.primIndex),i)}function zo(e,t,n,i){$o(e,so(t,n),i)}function Ho(i,e,t){var n={ranges:e.ranges,update:function(e){var t=this;this.ranges=[];for(var n=0;n<e.length;n++){t.ranges[n]=new ro(ht(i,e[n].anchor),ht(i,e[n].head))}},origin:t&&t.origin};ve(i,"beforeSelectionChange",i,n);if(i.cm){ve(i.cm,"beforeSelectionChange",i.cm,n)}if(n.ranges!=e.ranges){return oo(i.cm,n.ranges,n.ranges.length-1)}else{return e}}function Ro(e,t,n){var i=e.history.done,r=K(i);if(r&&r.ranges){i[i.length-1]=t;Vo(e,t,n)}else{$o(e,t,n)}}function $o(e,t,n){Vo(e,t,n);To(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Vo(e,t,n){if(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange")){t=Ho(e,t,n)}var i=n&&n.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);Wo(e,Uo(e,t,i,true));if(!(n&&n.scroll===false)&&e.cm){sr(e.cm)}}function Wo(e,t){if(t.equals(e.sel)){return}e.sel=t;if(e.cm){e.cm.curOp.updateInput=1;e.cm.curOp.selectionChanged=true;ye(e.cm)}jn(e,"cursorActivity",e)}function Bo(e){Wo(e,Uo(e,e.sel,null,false))}function Uo(e,t,n,i){var r;for(var o=0;o<t.ranges.length;o++){var s=t.ranges[o];var a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o];var l=Yo(e,s.anchor,a&&a.anchor,n,i);var c=Yo(e,s.head,a&&a.head,n,i);if(r||l!=s.anchor||c!=s.head){if(!r){r=t.ranges.slice(0,o)}r[o]=new ro(l,c)}}return r?oo(e.cm,r,t.primIndex):t}function qo(e,t,n,i,r){var o=Xe(e,t.line);if(o.markedSpans){for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;var c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft;var u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((a.from==null||(c?a.from<=t.ch:a.from<t.ch))&&(a.to==null||(u?a.to>=t.ch:a.to>t.ch))){if(r){ve(l,"beforeCursorEnter");if(l.explicitlyCleared){if(!o.markedSpans){break}else{--s;continue}}}if(!l.atomic){continue}if(n){var h=l.find(i<0?1:-1),d=void 0;if(i<0?u:c){h=Go(e,h,-i,h&&h.line==t.line?o:null)}if(h&&h.line==t.line&&(d=ot(h,n))&&(i<0?d<0:d>0)){return qo(e,h,t,i,r)}}var f=l.find(i<0?-1:1);if(i<0?c:u){f=Go(e,f,i,f.line==t.line?o:null)}return f?qo(e,f,t,i,r):null}}}return t}function Yo(e,t,n,i,r){var o=i||1;var s=qo(e,t,n,o,r)||!r&&qo(e,t,n,o,true)||qo(e,t,n,-o,r)||!r&&qo(e,t,n,-o,true);if(!s){e.cantEdit=true;return rt(e.first,0)}return s}function Go(e,t,n,i){if(n<0&&t.ch==0){if(t.line>e.first){return ht(e,rt(t.line-1))}else{return null}}else if(n>0&&t.ch==(i||Xe(e,t.line)).text.length){if(t.line<e.first+e.size-1){return rt(t.line+1,0)}else{return null}}else{return new rt(t.line,t.ch+n)}}function Ko(e){e.setSelection(rt(e.firstLine(),0),rt(e.lastLine()),W)}function Xo(r,e,t){var o={canceled:false,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return o.canceled=true}};if(t){o.update=function(e,t,n,i){if(e){o.from=ht(r,e)}if(t){o.to=ht(r,t)}if(n){o.text=n}if(i!==undefined){o.origin=i}}}ve(r,"beforeChange",r,o);if(r.cm){ve(r.cm,"beforeChange",r.cm,o)}if(o.canceled){if(r.cm){r.cm.curOp.updateInput=2}return null}return{from:o.from,to:o.to,text:o.text,origin:o.origin}}function Qo(e,t,n){if(e.cm){if(!e.cm.curOp){return Dr(e.cm,Qo)(e,t,n)}if(e.cm.state.suppressEdits){return}}if(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange")){t=Xo(e,t,true);if(!t){return}}var i=jt&&!n&&Rt(e,t.from,t.to);if(i){for(var r=i.length-1;r>=0;--r){Zo(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text,origin:t.origin})}}else{Zo(e,t)}}function Zo(e,n){if(n.text.length==1&&n.text[0]==""&&ot(n.from,n.to)==0){return}var t=co(e,n);So(e,n,t,e.cm?e.cm.curOp.id:NaN);ts(e,n,t,zt(e,n));var i=[];vo(e,function(e,t){if(!t&&R(i,e.history)==-1){ss(e.history,n);i.push(e.history)}ts(e,n,null,zt(e,n))})}function Jo(r,o,e){var t=r.cm&&r.cm.state.suppressEdits;if(t&&!e){return}var n=r.history,s,i=r.sel;var a=o=="undo"?n.done:n.undone,l=o=="undo"?n.undone:n.done;var c=0;for(;c<a.length;c++){s=a[c];if(e?s.ranges&&!s.equals(r.sel):!s.ranges){break}}if(c==a.length){return}n.lastOrigin=n.lastSelOrigin=null;for(;;){s=a.pop();if(s.ranges){jo(s,l);if(e&&!s.equals(r.sel)){$o(r,s,{clearRedo:false});return}i=s}else if(t){a.push(s);return}else{break}}var u=[];jo(i,l);l.push({changes:u,generation:n.generation});n.generation=s.generation||++n.maxGeneration;var h=we(r,"beforeChange")||r.cm&&we(r.cm,"beforeChange");var d=function(e){var n=s.changes[e];n.origin=o;if(h&&!Xo(r,n,false)){a.length=0;return{}}u.push(xo(r,n));var t=e?co(r,n):K(a);ts(r,n,t,Ao(r,n));if(!e&&r.cm){r.cm.scrollIntoView({from:n.from,to:ao(n)})}var i=[];vo(r,function(e,t){if(!t&&R(i,e.history)==-1){ss(e.history,n);i.push(e.history)}ts(e,n,null,Ao(e,n))})};for(var f=s.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}function es(e,t){if(t==0){return}e.first+=t;e.sel=new io(X(e.sel.ranges,function(e){return new ro(rt(e.anchor.line+t,e.anchor.ch),rt(e.head.line+t,e.head.ch))}),e.sel.primIndex);if(e.cm){Ni(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++){Fi(e.cm,i,"gutter")}}}function ts(e,t,n,i){if(e.cm&&!e.cm.curOp){return Dr(e.cm,ts)(e,t,n,i)}if(t.to.line<e.first){es(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine()){return}if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);es(e,r);t={from:rt(e.first,0),to:rt(t.to.line+r,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();if(t.to.line>o){t={from:t.from,to:rt(o,Xe(e,o).text.length),text:[t.text[0]],origin:t.origin}}t.removed=Qe(e,t.from,t.to);if(!n){n=co(e,t)}if(e.cm){ns(e.cm,t,i)}else{mo(e,t,i)}Vo(e,n,W);if(e.cantEdit&&Yo(e,rt(e.firstLine(),0))){e.cantEdit=false}}function ns(e,t,n){var i=e.doc,r=e.display,o=t.from,s=t.to;var a=false,l=o.line;if(!e.options.lineWrapping){l=et(Qt(Xe(i,o.line)));i.iter(l,s.line+1,function(e){if(e==r.maxLine){a=true;return true}})}if(i.sel.contains(t.from,t.to)>-1){ye(e)}mo(i,t,n,Ai(e));if(!e.options.lineWrapping){i.iter(l,o.line+t.text.length,function(e){var t=sn(e);if(t>r.maxLineLength){r.maxLine=e;r.maxLineLength=t;r.maxLineChanged=true;a=false}});if(a){e.curOp.updateMaxLine=true}}Tt(i,o.line);Ir(e,400);var c=t.text.length-(s.line-o.line)-1;if(t.full){Ni(e)}else if(o.line==s.line&&t.text.length==1&&!go(e.doc,t)){Fi(e,o.line,"text")}else{Ni(e,o.line,s.line+1,c)}var u=we(e,"changes"),h=we(e,"change");if(h||u){var d={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};if(h){jn(e,"change",e,d)}if(u){(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}}e.display.selForContextMenu=null}function is(e,t,n,i,r){var o;if(!i){i=n}if(ot(i,n)<0){o=[i,n],n=o[0],i=o[1]}if(typeof t=="string"){t=e.splitLines(t)}Qo(e,{from:n,to:i,text:t,origin:r})}function rs(e,t,n,i){if(n<e.line){e.line+=i}else if(t<e.line){e.line=t;e.ch=0}}function os(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=true;if(o.ranges){if(!o.copied){o=e[r]=o.deepCopy();o.copied=true}for(var a=0;a<o.ranges.length;a++){rs(o.ranges[a].anchor,t,n,i);rs(o.ranges[a].head,t,n,i)}continue}for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line){c.from=rt(c.from.line+i,c.from.ch);c.to=rt(c.to.line+i,c.to.ch)}else if(t<=c.to.line){s=false;break}}if(!s){e.splice(0,r+1);r=0}}}function ss(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;os(e.done,n,i,r);os(e.undone,n,i,r)}function as(e,t,n,i){var r=t,o=t;if(typeof t=="number"){o=Xe(e,ut(e,t))}else{r=et(t)}if(r==null){return null}if(i(o,r)&&e.cm){Fi(e.cm,r,n)}return o}function ls(e){var t=this;this.lines=e;this.parent=null;var n=0;for(var i=0;i<e.length;++i){e[i].parent=t;n+=e[i].height}this.height=n}function cs(e){var t=this;this.children=e;var n=0,i=0;for(var r=0;r<e.length;++r){var o=e[r];n+=o.chunkSize();i+=o.height;o.parent=t}this.size=n;this.height=i;this.parent=null}ro.prototype.from=function(){return ct(this.anchor,this.head)},ro.prototype.to=function(){return lt(this.anchor,this.head)},ro.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ls.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){var n=this;for(var i=e,r=e+t;i<r;++i){var o=n.lines[i];n.height-=o.height;un(o);jn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var i=this;this.height+=n;this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r){t[r].parent=i}},iterN:function(e,t,n){var i=this;for(var r=e+t;e<r;++e){if(n(i.lines[e])){return true}}}},cs.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var i=0;i<this.children.length;++i){var r=n.children[i],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e),a=r.height;r.removeInner(e,s);n.height-=a-r.height;if(o==s){n.children.splice(i--,1);r.parent=null}if((t-=s)==0){break}e=0}else{e-=o}}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ls))){var l=[];this.collapse(l);this.children=[new ls(l)];this.children[0].parent=this}},collapse:function(e){var t=this;for(var n=0;n<this.children.length;++n){t.children[n].collapse(e)}},insertInner:function(e,t,n){var i=this;this.size+=t.length;this.height+=n;for(var r=0;r<this.children.length;++r){var o=i.children[r],s=o.chunkSize();if(e<=s){o.insertInner(e,t,n);if(o.lines&&o.lines.length>50){var a=o.lines.length%25+25;for(var l=a;l<o.lines.length;){var c=new ls(o.lines.slice(l,l+=25));o.height-=c.height;i.children.splice(++r,0,c);c.parent=i}o.lines=o.lines.slice(0,a);i.maybeSpill()}break}e-=s}},maybeSpill:function(){if(this.children.length<=10){return}var e=this;do{var t=e.children.splice(e.children.length-5,5);var n=new cs(t);if(!e.parent){var i=new cs(e.children);i.parent=e;e.children=[i,n];e=i}else{e.size-=n.size;e.height-=n.height;var r=R(e.parent.children,e);e.parent.children.splice(r+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN:function(e,t,n){var i=this;for(var r=0;r<this.children.length;++r){var o=i.children[r],s=o.chunkSize();if(e<s){var a=Math.min(t,s-e);if(o.iterN(e,a,n)){return true}if((t-=a)==0){break}e=0}else{e-=s}}}};var us=function(e,t,n){var i=this;if(n){for(var r in n){if(n.hasOwnProperty(r)){i[r]=n[r]}}}this.doc=e;this.node=t};function hs(e,t,n){if(on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)){or(e,n)}}function ds(i,e,t,n){var r=new us(i,t,n);var o=i.cm;if(o&&r.noHScroll){o.display.alignWidgets=true}as(i,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(r.insertAt==null){t.push(r)}else{t.splice(Math.min(t.length-1,Math.max(0,r.insertAt)),0,r)}r.line=e;if(o&&!nn(i,e)){var n=on(e)<i.scrollTop;Je(e,e.height+Vn(r));if(n){or(o,r.height)}o.curOp.forceUpdate=true}return true});if(o){jn(o,"lineWidgetAdded",o,r,typeof e=="number"?e:et(e))}return r}us.prototype.clear=function(){var e=this;var t=this.doc.cm,n=this.line.widgets,i=this.line,r=et(i);if(r==null||!n){return}for(var o=0;o<n.length;++o){if(n[o]==e){n.splice(o--,1)}}if(!n.length){i.widgets=null}var s=Vn(this);Je(i,Math.max(0,i.height-s));if(t){Pr(t,function(){hs(t,i,-s);Fi(t,r,"widget")});jn(t,"lineWidgetCleared",t,this,r)}},us.prototype.changed=function(){var e=this;var t=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=Vn(this)-t;if(!r){return}if(!nn(this.doc,i)){Je(i,i.height+r)}if(n){Pr(n,function(){n.curOp.forceUpdate=true;hs(n,i,r);jn(n,"lineWidgetChanged",n,e,et(i))})}},_e(us);var fs=0,ps=function(e,t){this.lines=[];this.type=t;this.doc=e;this.id=++fs};function gs(t,n,i,e,r){if(e&&e.shared){return vs(t,n,i,e,r)}if(t.cm&&!t.cm.curOp){return Dr(t.cm,gs)(t,n,i,e,r)}var o=new ps(t,r),s=ot(n,i);if(e){F(e,o,false)}if(s>0||s==0&&o.clearWhenEmpty!==false){return o}if(o.replacedWith){o.collapsed=true;o.widgetNode=E("span",[o.replacedWith],"CodeMirror-widget");if(!e.handleMouseEvents){o.widgetNode.setAttribute("cm-ignore-events","true")}if(e.insertLeft){o.widgetNode.insertLeft=true}}if(o.collapsed){if(Xt(t,n.line,n,i,o)||n.line!=i.line&&Xt(t,i.line,n,i,o)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}Dt()}if(o.addToHistory){So(t,{from:n,to:i,origin:"markText"},t.sel,NaN)}var a=n.line,l=t.cm,c;t.iter(a,i.line+1,function(e){if(l&&o.collapsed&&!l.options.lineWrapping&&Qt(e)==l.display.maxLine){c=true}if(o.collapsed&&a!=n.line){Je(e,0)}Lt(e,new At(o,a==n.line?n.ch:null,a==i.line?i.ch:null));++a});if(o.collapsed){t.iter(n.line,i.line+1,function(e){if(nn(t,e)){Je(e,0)}})}if(o.clearOnEnter){pe(o,"beforeCursorEnter",function(){return o.clear()})}if(o.readOnly){Pt();if(t.history.done.length||t.history.undone.length){t.clearHistory()}}if(o.collapsed){o.id=++fs;o.atomic=true}if(l){if(c){l.curOp.updateMaxLine=true}if(o.collapsed){Ni(l,n.line,i.line+1)}else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title){for(var u=n.line;u<=i.line;u++){Fi(l,u,"text")}}if(o.atomic){Bo(l.doc)}jn(l,"markerAdded",l,o)}return o}ps.prototype.clear=function(){var e=this;if(this.explicitlyCleared){return}var t=this.doc.cm,n=t&&!t.curOp;if(n){xr(t)}if(we(this,"clear")){var i=this.find();if(i){jn(this,"clear",i.from,i.to)}}var r=null,o=null;for(var s=0;s<this.lines.length;++s){var a=e.lines[s];var l=Mt(a.markedSpans,e);if(t&&!e.collapsed){Fi(t,et(a),"text")}else if(t){if(l.to!=null){o=et(a)}if(l.from!=null){r=et(a)}}a.markedSpans=It(a.markedSpans,l);if(l.from==null&&e.collapsed&&!nn(e.doc,a)&&t){Je(a,ji(t.display))}}if(t&&this.collapsed&&!t.options.lineWrapping){for(var c=0;c<this.lines.length;++c){var u=Qt(e.lines[c]),h=sn(u);if(h>t.display.maxLineLength){t.display.maxLine=u;t.display.maxLineLength=h;t.display.maxLineChanged=true}}}if(r!=null&&t&&this.collapsed){Ni(t,r,o+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(t){Bo(t.doc)}}if(t){jn(t,"markerCleared",t,this,r,o)}if(n){Cr(t)}if(this.parent){this.parent.clear()}},ps.prototype.find=function(e,t){var n=this;if(e==null&&this.type=="bookmark"){e=1}var i,r;for(var o=0;o<this.lines.length;++o){var s=n.lines[o];var a=Mt(s.markedSpans,n);if(a.from!=null){i=rt(t?s:et(s),a.from);if(e==-1){return i}}if(a.to!=null){r=rt(t?s:et(s),a.to);if(e==1){return r}}}return i&&{from:i,to:r}},ps.prototype.changed=function(){var o=this;var s=this.find(-1,true),a=this,l=this.doc.cm;if(!s||!l){return}Pr(l,function(){var e=s.line,t=et(s.line);var n=ei(l,t);if(n){ci(n);l.curOp.selectionChanged=l.curOp.forceUpdate=true}l.curOp.updateMaxLine=true;if(!nn(a.doc,e)&&a.height!=null){var i=a.height;a.height=null;var r=Vn(a)-i;if(r){Je(e,e.height+r)}}jn(l,"markerChanged",l,o)})},ps.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;if(!t.maybeHiddenMarkers||R(t.maybeHiddenMarkers,this)==-1){(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(e)},ps.prototype.detachLine=function(e){this.lines.splice(R(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},_e(ps);var ms=function(e,t){var n=this;this.markers=e;this.primary=t;for(var i=0;i<e.length;++i){e[i].parent=n}};function vs(e,n,i,r,o){r=F(r);r.shared=false;var s=[gs(e,n,i,r,o)],a=s[0];var l=r.widgetNode;vo(e,function(e){if(l){r.widgetNode=l.cloneNode(true)}s.push(gs(e,ht(e,n),ht(e,i),r,o));for(var t=0;t<e.linked.length;++t){if(e.linked[t].isParent){return}}a=K(s)});return new ms(s,a)}function bs(e){return e.findMarks(rt(e.first,0),e.clipPos(rt(e.lastLine())),function(e){return e.parent})}function ys(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find();var o=e.clipPos(r.from),s=e.clipPos(r.to);if(ot(o,s)){var a=gs(e,o,s,i.primary,i.primary.type);i.markers.push(a);a.parent=i}}}function ws(o){var e=function(e){var t=o[e],n=[t.primary.doc];vo(t.primary.doc,function(e){return n.push(e)});for(var i=0;i<t.markers.length;i++){var r=t.markers[i];if(R(n,r.doc)==-1){r.parent=null;t.markers.splice(i--,1)}}};for(var t=0;t<o.length;t++)e(t)}ms.prototype.clear=function(){var e=this;if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var t=0;t<this.markers.length;++t){e.markers[t].clear()}jn(this,"clear")},ms.prototype.find=function(e,t){return this.primary.find(e,t)},_e(ms);var _s=0,xs=function(e,t,n,i,r){if(!(this instanceof xs)){return new xs(e,t,n,i,r)}if(n==null){n=0}cs.call(this,[new ls([new ln("",null)])]);this.first=n;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=n;var o=rt(n,0);this.sel=so(o);this.history=new _o(null);this.id=++_s;this.modeOption=t;this.lineSep=i;this.direction=r=="rtl"?"rtl":"ltr";this.extend=false;if(typeof e=="string"){e=this.splitLines(e)}mo(this,{from:o,to:o,text:e});$o(this,so(o),W)};xs.prototype=J(cs.prototype,{constructor:xs,iter:function(e,t,n){if(n){this.iterN(e-this.first,t-e,n)}else{this.iterN(this.first,this.first+this.size,e)}},insert:function(e,t){var n=0;for(var i=0;i<t.length;++i){n+=t[i].height}this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);if(e===false){return t}return t.join(e||this.lineSeparator())},setValue:Mr(function(e){var t=rt(this.first,0),n=this.first+this.size-1;Qo(this,{from:t,to:rt(n,Xe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:true},true);if(this.cm){ar(this.cm,0,0)}$o(this,so(t),W)}),replaceRange:function(e,t,n,i){t=ht(this,t);n=n?ht(this,n):t;is(this,e,t,n,i)},getRange:function(e,t,n){var i=Qe(this,ht(this,e),ht(this,t));if(n===false){return i}return i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e)){return Xe(this,e)}},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){if(typeof e=="number"){e=Xe(this,e)}return Qt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t=this.sel.primary(),n;if(e==null||e=="head"){n=t.head}else if(e=="anchor"){n=t.anchor}else if(e=="end"||e=="to"||e===false){n=t.to()}else{n=t.from()}return n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mr(function(e,t,n){zo(this,ht(this,typeof e=="number"?rt(e,t||0):e),null,n)}),setSelection:Mr(function(e,t,n){zo(this,ht(this,e),ht(this,t||e),n)}),extendSelection:Mr(function(e,t,n){Lo(this,ht(this,e),t&&ht(this,t),n)}),extendSelections:Mr(function(e,t){No(this,ft(this,e),t)}),extendSelectionsBy:Mr(function(e,t){var n=X(this.sel.ranges,e);No(this,ft(this,n),t)}),setSelections:Mr(function(e,t,n){var i=this;if(!e.length){return}var r=[];for(var o=0;o<e.length;o++){r[o]=new ro(ht(i,e[o].anchor),ht(i,e[o].head))}if(t==null){t=Math.min(e.length-1,this.sel.primIndex)}$o(this,oo(this.cm,r,t),n)}),addSelection:Mr(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new ro(ht(this,e),ht(this,t||e)));$o(this,oo(this.cm,i,i.length-1),n)}),getSelection:function(e){var t=this;var n=this.sel.ranges,i;for(var r=0;r<n.length;r++){var o=Qe(t,n[r].from(),n[r].to());i=i?i.concat(o):o}if(e===false){return i}else{return i.join(e||this.lineSeparator())}},getSelections:function(e){var t=this;var n=[],i=this.sel.ranges;for(var r=0;r<i.length;r++){var o=Qe(t,i[r].from(),i[r].to());if(e!==false){o=o.join(e||t.lineSeparator())}n[r]=o}return n},replaceSelection:function(e,t,n){var i=[];for(var r=0;r<this.sel.ranges.length;r++){i[r]=e}this.replaceSelections(i,t,n||"+input")},replaceSelections:Mr(function(e,t,n){var i=this;var r=[],o=this.sel;for(var s=0;s<o.ranges.length;s++){var a=o.ranges[s];r[s]={from:a.from(),to:a.to(),text:i.splitLines(e[s]),origin:n}}var l=t&&t!="end"&&ho(this,r,t);for(var c=r.length-1;c>=0;c--){Qo(i,r[c])}if(l){Ro(this,l)}else if(this.cm){sr(this.cm)}}),undo:Mr(function(){Jo(this,"undo")}),redo:Mr(function(){Jo(this,"redo")}),undoSelection:Mr(function(){Jo(this,"undo",true)}),redoSelection:Mr(function(){Jo(this,"redo",true)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){var e=this.history,t=0,n=0;for(var i=0;i<e.done.length;i++){if(!e.done[i].ranges){++t}}for(var r=0;r<e.undone.length;r++){if(!e.undone[r].ranges){++n}}return{undo:t,redo:n}},clearHistory:function(){this.history=new _o(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(e){if(e){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mo(this.history.done),undone:Mo(this.history.undone)}},setHistory:function(e){var t=this.history=new _o(this.history.maxGeneration);t.done=Mo(e.done.slice(0),null,true);t.undone=Mo(e.undone.slice(0),null,true)},setGutterMarker:Mr(function(e,n,i){return as(this,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});t[n]=i;if(!i&&ie(t)){e.gutterMarkers=null}return true})}),clearGutter:Mr(function(t){var n=this;this.iter(function(e){if(e.gutterMarkers&&e.gutterMarkers[t]){as(n,e,"gutter",function(){e.gutterMarkers[t]=null;if(ie(e.gutterMarkers)){e.gutterMarkers=null}return true})}})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!nt(this,e)){return null}t=e;e=Xe(this,e);if(!e){return null}}else{t=et(e);if(t==null){return null}}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Mr(function(e,n,i){return as(this,e,n=="gutter"?"gutter":"class",function(e){var t=n=="text"?"textClass":n=="background"?"bgClass":n=="gutter"?"gutterClass":"wrapClass";if(!e[t]){e[t]=i}else if(k(i).test(e[t])){return false}else{e[t]+=" "+i}return true})}),removeLineClass:Mr(function(e,o,s){return as(this,e,o=="gutter"?"gutter":"class",function(e){var t=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass";var n=e[t];if(!n){return false}else if(s==null){e[t]=null}else{var i=n.match(k(s));if(!i){return false}var r=i.index+i[0].length;e[t]=n.slice(0,i.index)+(!i.index||r==n.length?"":" ")+n.slice(r)||null}return true})}),addLineWidget:Mr(function(e,t,n){return ds(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return gs(this,ht(this,e),ht(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:false,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};e=ht(this,e);return gs(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ht(this,e);var t=[],n=Xe(this,e.line).markedSpans;if(n){for(var i=0;i<n.length;++i){var r=n[i];if((r.from==null||r.from<=e.ch)&&(r.to==null||r.to>=e.ch)){t.push(r.marker.parent||r.marker)}}}return t},findMarks:function(r,o,s){r=ht(this,r);o=ht(this,o);var a=[],l=r.line;this.iter(r.line,o.line+1,function(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;n++){var i=t[n];if(!(i.to!=null&&l==r.line&&r.ch>=i.to||i.from==null&&l!=r.line||i.from!=null&&l==o.line&&i.from>=o.ch)&&(!s||s(i.marker))){a.push(i.marker.parent||i.marker)}}}++l});return a},getAllMarks:function(){var i=[];this.iter(function(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n){if(t[n].from!=null){i.push(t[n].marker)}}}});return i},posFromIndex:function(n){var i,r=this.first,o=this.lineSeparator().length;this.iter(function(e){var t=e.text.length+o;if(t>n){i=n;return true}n-=t;++r});return ht(this,rt(r,i))},indexFromPos:function(e){e=ht(this,e);var t=e.ch;if(e.line<this.first||e.ch<0){return 0}var n=this.lineSeparator().length;this.iter(this.first,e.line,function(e){t+=e.text.length+n});return t},copy:function(e){var t=new xs(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);t.scrollTop=this.scrollTop;t.scrollLeft=this.scrollLeft;t.sel=this.sel;t.extend=false;if(e){t.history.undoDepth=this.history.undoDepth;t.setHistory(this.getHistory())}return t},linkedDoc:function(e){if(!e){e={}}var t=this.first,n=this.first+this.size;if(e.from!=null&&e.from>t){t=e.from}if(e.to!=null&&e.to<n){n=e.to}var i=new xs(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);if(e.sharedHist){i.history=this.history}(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist});i.linked=[{doc:this,isParent:true,sharedHist:e.sharedHist}];ys(i,bs(this));return i},unlinkDoc:function(e){var t=this;if(e instanceof Na){e=e.doc}if(this.linked){for(var n=0;n<this.linked.length;++n){var i=t.linked[n];if(i.doc!=e){continue}t.linked.splice(n,1);e.unlinkDoc(t);ws(bs(t));break}}if(e.history==this.history){var r=[e.id];vo(e,function(e){return r.push(e.id)},true);e.history=new _o(null);e.history.done=Mo(this.history.done,r);e.history.undone=Mo(this.history.undone,r)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){if(this.lineSep){return e.split(this.lineSep)}return Me(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Mr(function(e){if(e!="rtl"){e="ltr"}if(e==this.direction){return}this.direction=e;this.iter(function(e){return e.order=null});if(this.cm){wo(this.cm)}})}),xs.prototype.eachLine=xs.prototype.iter;var Cs=0;function ks(e){var r=this;Ts(r);if(be(r,e)||Wn(r.display,e)){return}xe(e);if(_){Cs=+new Date}var o=Ii(r,e,true),t=e.dataTransfer.files;if(!o||r.isReadOnly()){return}if(t&&t.length&&window.FileReader&&window.File){var s=t.length,a=Array(s),l=0;var n=function(e,n){if(r.options.allowDropFileTypes&&R(r.options.allowDropFileTypes,e.type)==-1){return}var i=new FileReader;i.onload=Dr(r,function(){var e=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)){e=""}a[n]=e;if(++l==s){o=ht(r.doc,o);var t={from:o,to:o,text:r.doc.splitLines(a.join(r.doc.lineSeparator())),origin:"paste"};Qo(r.doc,t);Ro(r.doc,so(o,ao(t)))}});i.readAsText(e)};for(var i=0;i<s;++i){n(t[i],i)}}else{if(r.state.draggingText&&r.doc.sel.contains(o)>-1){r.state.draggingText(e);setTimeout(function(){return r.display.input.focus()},20);return}try{var c=e.dataTransfer.getData("Text");if(c){var u;if(r.state.draggingText&&!r.state.draggingText.copy){u=r.listSelections()}Vo(r.doc,so(o,o));if(u){for(var h=0;h<u.length;++h){is(r.doc,"",u[h].anchor,u[h].head,"drag")}}r.replaceSelection(c,"around","paste");r.display.input.focus()}}catch(e){}}}function Ss(e,t){if(_&&(!e.state.draggingText||+new Date-Cs<100)){Se(t);return}if(be(e,t)||Wn(e.display,t)){return}t.dataTransfer.setData("Text",e.getSelection());t.dataTransfer.effectAllowed="copyMove";if(t.dataTransfer.setDragImage&&!a){var n=D("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(v){n.width=n.height=1;e.display.wrapper.appendChild(n);n._top=n.offsetTop}t.dataTransfer.setDragImage(n,0,0);if(v){n.parentNode.removeChild(n)}}}function Os(e,t){var n=Ii(e,t);if(!n){return}var i=document.createDocumentFragment();Bi(e,n,i);if(!e.display.dragCursor){e.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors");e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)}j(e.display.dragCursor,i)}function Ts(e){if(e.display.dragCursor){e.display.lineSpace.removeChild(e.display.dragCursor);e.display.dragCursor=null}}function js(t){if(!document.getElementsByClassName){return}var e=document.getElementsByClassName("CodeMirror"),n=[];for(var i=0;i<e.length;i++){var r=e[i].CodeMirror;if(r){n.push(r)}}if(n.length){n[0].operation(function(){for(var e=0;e<n.length;e++){t(n[e])}})}}var Es=false;function Ps(){if(Es){return}Ds();Es=true}function Ds(){var e;pe(window,"resize",function(){if(e==null){e=setTimeout(function(){e=null;js(As)},100)}});pe(window,"blur",function(){return js(Qi)})}function As(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null;t.scrollbarsClipped=false;e.setSize()}for(var Ms={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Is=0;Is<10;Is++){Ms[Is+48]=Ms[Is+96]=String(Is)}for(var Ls=65;Ls<=90;Ls++){Ms[Ls]=String.fromCharCode(Ls)}for(var Ns=1;Ns<=12;Ns++){Ms[Ns+111]=Ms[Ns+63235]="F"+Ns}var Fs={};function zs(e){var t=e.split(/-(?!$)/);e=t[t.length-1];var n,i,r,o;for(var s=0;s<t.length-1;s++){var a=t[s];if(/^(cmd|meta|m)$/i.test(a)){o=true}else if(/^a(lt)?$/i.test(a)){n=true}else if(/^(c|ctrl|control)$/i.test(a)){i=true}else if(/^s(hift)?$/i.test(a)){r=true}else{throw new Error("Unrecognized modifier name: "+a)}}if(n){e="Alt-"+e}if(i){e="Ctrl-"+e}if(o){e="Cmd-"+e}if(r){e="Shift-"+e}return e}function Hs(e){var t={};for(var n in e){if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n)){continue}if(i=="..."){delete e[n];continue}var r=X(n.split(" "),zs);for(var o=0;o<r.length;o++){var s=void 0,a=void 0;if(o==r.length-1){a=r.join(" ");s=i}else{a=r.slice(0,o+1).join(" ");s="..."}var l=t[a];if(!l){t[a]=s}else if(l!=s){throw new Error("Inconsistent bindings for "+a)}}delete e[n]}}for(var c in t){e[c]=t[c]}return e}function Rs(e,t,n,i){t=Bs(t);var r=t.call?t.call(e,i):t[e];if(r===false){return"nothing"}if(r==="..."){return"multi"}if(r!=null&&n(r)){return"handled"}if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]"){return Rs(e,t.fallthrough,n,i)}for(var o=0;o<t.fallthrough.length;o++){var s=Rs(e,t.fallthrough[o],n,i);if(s){return s}}}}function $s(e){var t=typeof e=="string"?e:Ms[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Vs(e,t,n){var i=e;if(t.altKey&&i!="Alt"){e="Alt-"+e}if((w?t.metaKey:t.ctrlKey)&&i!="Ctrl"){e="Ctrl-"+e}if((w?t.ctrlKey:t.metaKey)&&i!="Cmd"){e="Cmd-"+e}if(!n&&t.shiftKey&&i!="Shift"){e="Shift-"+e}return e}function Ws(e,t){if(v&&e.keyCode==34&&e["char"]){return false}var n=Ms[e.keyCode];if(n==null||e.altGraphKey){return false}if(e.keyCode==3&&e.code){n=e.code}return Vs(n,e,t)}function Bs(e){return typeof e=="string"?Fs[e]:e}function Us(t,e){var n=t.doc.sel.ranges,i=[];for(var r=0;r<n.length;r++){var o=e(n[r]);while(i.length&&ot(o.from,K(i).to)<=0){var s=i.pop();if(ot(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Pr(t,function(){for(var e=i.length-1;e>=0;e--){is(t.doc,"",i[e].from,i[e].to,"+delete")}sr(t)})}function qs(e,t,n){var i=se(e.text,t+n,n);return i<0||i>e.text.length?null:i}function Ys(e,t,n){var i=qs(e,t.ch,n);return i==null?null:new rt(t.line,i,n<0?"after":"before")}function Gs(e,t,n,i,r){if(e){var o=de(n,t.doc.direction);if(o){var s=r<0?K(o):o[0];var a=r<0==(s.level==1);var l=a?"after":"before";var c;if(s.level>0||t.doc.direction=="rtl"){var u=ti(t,n);c=r<0?n.text.length-1:0;var h=ni(t,u,c).top;c=ae(function(e){return ni(t,u,e).top==h},r<0==(s.level==1)?s.from:s.to-1,c);if(l=="before"){c=qs(n,c,1)}}else{c=r<0?s.to:s.from}return new rt(i,c,l)}}return new rt(i,r<0?n.text.length:0,r<0?"before":"after")}function Ks(t,n,a,e){var l=de(n,t.doc.direction);if(!l){return Ys(n,a,e)}if(a.ch>=n.text.length){a.ch=n.text.length;a.sticky="before"}else if(a.ch<=0){a.ch=0;a.sticky="after"}var i=ue(l,a.ch,a.sticky),r=l[i];if(t.doc.direction=="ltr"&&r.level%2==0&&(e>0?r.to>a.ch:r.from<a.ch)){return Ys(n,a,e)}var c=function(e,t){return qs(n,e instanceof rt?e.ch:e,t)};var o;var s=function(e){if(!t.options.lineWrapping){return{begin:0,end:n.text.length}}o=o||ti(t,n);return Ci(t,n,o,e)};var u=s(a.sticky=="before"?c(a,-1):a.ch);if(t.doc.direction=="rtl"||r.level==1){var h=r.level==1==e<0;var d=c(a,h?1:-1);if(d!=null&&(!h?d>=r.from&&d>=u.begin:d<=r.to&&d<=u.end)){var f=h?"before":"after";return new rt(a.line,d,f)}}var p=function(e,t,n){var i=function(e,t){return t?new rt(a.line,c(e,1),"before"):new rt(a.line,e,"after")};for(;e>=0&&e<l.length;e+=t){var r=l[e];var o=t>0==(r.level!=1);var s=o?n.begin:c(n.end,-1);if(r.from<=s&&s<r.to){return i(s,o)}s=o?r.from:c(r.to,-1);if(n.begin<=s&&s<n.end){return i(s,o)}}};var g=p(i+e,e,u);if(g){return g}var m=e>0?u.end:c(u.begin,-1);if(m!=null&&!(e>0&&m==n.text.length)){g=p(e>0?0:l.length-1,e,s(m));if(g){return g}}return null}Fs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fs["default"]=b?Fs.macDefault:Fs.pcDefault;var Xs={selectAll:Ko,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(n){return Us(n,function(e){if(e.empty()){var t=Xe(n.doc,e.head.line).text.length;if(e.head.ch==t&&e.head.line<n.lastLine()){return{from:e.head,to:rt(e.head.line+1,0)}}else{return{from:e.head,to:rt(e.head.line,t)}}}else{return{from:e.from(),to:e.to()}}})},deleteLine:function(t){return Us(t,function(e){return{from:rt(e.from().line,0),to:ht(t.doc,rt(e.to().line+1,0))}})},delLineLeft:function(e){return Us(e,function(e){return{from:rt(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(i){return Us(i,function(e){var t=i.charCoords(e.head,"div").top+5;var n=i.coordsChar({left:0,top:t},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(i){return Us(i,function(e){var t=i.charCoords(e.head,"div").top+5;var n=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(rt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(rt(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Qs(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Js(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return Zs(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div")},U)},goLineLeft:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,"div").top+5;return n.coordsChar({left:0,top:t},"div")},U)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(e){var t=i.cursorCoords(e.head,"div").top+5;var n=i.coordsChar({left:0,top:t},"div");if(n.ch<i.getLine(n.line).search(/\S/)){return Js(i,e.head)}return n},U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){var t=[],n=e.listSelections(),i=e.options.tabSize;for(var r=0;r<n.length;r++){var o=n[r].from();var s=z(e.getLine(o.line),o.ch,i);t.push(G(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){if(e.somethingSelected()){e.indentSelection("add")}else{e.execCommand("insertTab")}},transposeChars:function(s){return Pr(s,function(){var e=s.listSelections(),t=[];for(var n=0;n<e.length;n++){if(!e[n].empty()){continue}var i=e[n].head,r=Xe(s.doc,i.line).text;if(r){if(i.ch==r.length){i=new rt(i.line,i.ch-1)}if(i.ch>0){i=new rt(i.line,i.ch+1);s.replaceRange(r.charAt(i.ch-1)+r.charAt(i.ch-2),rt(i.line,i.ch-2),i,"+transpose")}else if(i.line>s.doc.first){var o=Xe(s.doc,i.line-1).text;if(o){i=new rt(i.line,1);s.replaceRange(r.charAt(0)+s.doc.lineSeparator()+o.charAt(o.length-1),rt(i.line-1,o.length-1),i,"+transpose")}}}t.push(new ro(i,i))}s.setSelections(t)})},newlineAndIndent:function(i){return Pr(i,function(){var e=i.listSelections();for(var t=e.length-1;t>=0;t--){i.replaceRange(i.doc.lineSeparator(),e[t].anchor,e[t].head,"+input")}e=i.listSelections();for(var n=0;n<e.length;n++){i.indentLine(e[n].from().line,null,true)}sr(i)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Qs(e,t){var n=Xe(e.doc,t);var i=Qt(n);if(i!=n){t=et(i)}return Gs(true,e,i,t,1)}function Zs(e,t){var n=Xe(e.doc,t);var i=Zt(n);if(i!=n){t=et(i)}return Gs(true,e,n,t,-1)}function Js(e,t){var n=Qs(e,t.line);var i=Xe(e.doc,n.line);var r=de(i,e.doc.direction);if(!r||r[0].level==0){var o=Math.max(0,i.text.search(/\S/));var s=t.line==n.line&&t.ch<=o&&t.ch;return rt(n.line,s?0:o,n.sticky)}return n}function ea(e,t,n){if(typeof t=="string"){t=Xs[t];if(!t){return false}}e.display.input.ensurePolled();var i=e.display.shift,r=false;try{if(e.isReadOnly()){e.state.suppressEdits=true}if(n){e.display.shift=false}r=t(e)!=V}finally{e.display.shift=i;e.state.suppressEdits=false}return r}function ta(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=Rs(t,e.state.keyMaps[i],n,e);if(r){return r}}return e.options.extraKeys&&Rs(t,e.options.extraKeys,n,e)||Rs(t,e.options.keyMap,n,e)}var na=new H;function ia(e,t,n,i){var r=e.state.keySeq;if(r){if($s(t)){return"handled"}if(/\'$/.test(t)){e.state.keySeq=null}else{na.set(50,function(){if(e.state.keySeq==r){e.state.keySeq=null;e.display.input.reset()}})}if(ra(e,r+" "+t,n,i)){return true}}return ra(e,t,n,i)}function ra(e,t,n,i){var r=ta(e,t,i);if(r=="multi"){e.state.keySeq=t}if(r=="handled"){jn(e,"keyHandled",e,t,n)}if(r=="handled"||r=="multi"){xe(n);Yi(e)}return!!r}function oa(t,e){var n=Ws(e,true);if(!n){return false}if(e.shiftKey&&!t.state.keySeq){return ia(t,"Shift-"+n,e,function(e){return ea(t,e,true)})||ia(t,n,e,function(e){if(typeof e=="string"?/^go[A-Z]/.test(e):e.motion){return ea(t,e)}})}else{return ia(t,n,e,function(e){return ea(t,e)})}}function sa(t,e,n){return ia(t,"'"+n+"'",e,function(e){return ea(t,e,true)})}var aa=null;function la(e){var t=this;t.curOp.focus=A();if(be(t,e)){return}if(_&&x<11&&e.keyCode==27){e.returnValue=false}var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var i=oa(t,e);if(v){aa=i?n:null;if(!i&&n==88&&!Le&&(b?e.metaKey:e.ctrlKey)){t.replaceSelection("",null,"cut")}}if(n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)){ca(t)}}function ca(e){var t=e.display.lineDiv;M(t,"CodeMirror-crosshair");function n(e){if(e.keyCode==18||!e.altKey){S(t,"CodeMirror-crosshair");me(document,"keyup",n);me(document,"mouseover",n)}}pe(document,"keyup",n);pe(document,"mouseover",n)}function ua(e){if(e.keyCode==16){this.doc.sel.shift=false}be(this,e)}function ha(e){var t=this;if(Wn(t.display,e)||be(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey){return}var n=e.keyCode,i=e.charCode;if(v&&n==aa){aa=null;xe(e);return}if(v&&(!e.which||e.which<10)&&oa(t,e)){return}var r=String.fromCharCode(i==null?n:i);if(r=="\b"){return}if(sa(t,e,r)){return}t.display.input.onKeyPress(e)}var da=400,fa=function(e,t,n){this.time=e;this.pos=t;this.button=n},pa,ga;function ma(e,t){var n=+new Date;if(ga&&ga.compare(n,e,t)){pa=ga=null;return"triple"}else if(pa&&pa.compare(n,e,t)){ga=new fa(n,e,t);pa=null;return"double"}else{pa=new fa(n,e,t);ga=null;return"single"}}function va(e){var t=this,n=t.display;if(be(t,e)||n.activeTouch&&n.input.supportsTouch()){return}n.input.ensurePolled();n.shift=e.shiftKey;if(Wn(n,e)){if(!m){n.scroller.draggable=false;setTimeout(function(){return n.scroller.draggable=true},100)}return}if(Oa(t,e)){return}var i=Ii(t,e),r=Te(e),o=i?ma(i,r):"single";window.focus();if(r==1&&t.state.selectingText){t.state.selectingText(e)}if(i&&ba(t,r,i,o,e)){return}if(r==1){if(i){wa(t,i,o,e)}else if(Oe(e)==n.scroller){xe(e)}}else if(r==2){if(i){Lo(t.doc,i)}setTimeout(function(){return n.input.focus()},20)}else if(r==3){if(C){t.display.input.onContextMenu(e)}else{Ki(t)}}}function ba(n,e,i,t,r){var o="Click";if(t=="double"){o="Double"+o}else if(t=="triple"){o="Triple"+o}o=(e==1?"Left":e==2?"Middle":"Right")+o;return ia(n,Vs(o,r),r,function(e){if(typeof e=="string"){e=Xs[e]}if(!e){return false}var t=false;try{if(n.isReadOnly()){n.state.suppressEdits=true}t=e(n,i)!=V}finally{n.state.suppressEdits=false}return t})}function ya(e,t,n){var i=e.getOption("configureMouse");var r=i?i(e,t,n):{};if(r.unit==null){var o=f?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":t=="single"?"char":t=="double"?"word":"line"}if(r.extend==null||e.doc.extend){r.extend=e.doc.extend||n.shiftKey}if(r.addNew==null){r.addNew=b?n.metaKey:n.ctrlKey}if(r.moveOnDrag==null){r.moveOnDrag=!(b?n.altKey:n.ctrlKey)}return r}function wa(e,t,n,i){if(_){setTimeout(N(Gi,e),0)}else{e.curOp.focus=A()}var r=ya(e,n,i);var o=e.doc.sel,s;if(e.options.dragDrop&&je&&!e.isReadOnly()&&n=="single"&&(s=o.contains(t))>-1&&(ot((s=o.ranges[s]).from(),t)<0||t.xRel>0)&&(ot(s.to(),t)>0||t.xRel<0)){_a(e,i,t,r)}else{Ca(e,i,t,r)}}function _a(t,n,i,r){var o=t.display,s=false;var a=Dr(t,function(e){if(m){o.scroller.draggable=false}t.state.draggingText=false;me(o.wrapper.ownerDocument,"mouseup",a);me(o.wrapper.ownerDocument,"mousemove",l);me(o.scroller,"dragstart",c);me(o.scroller,"drop",a);if(!s){xe(e);if(!r.addNew){Lo(t.doc,i,null,null,r.extend)}if(m||_&&x==9){setTimeout(function(){o.wrapper.ownerDocument.body.focus();o.input.focus()},20)}else{o.input.focus()}}});var l=function(e){s=s||Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)>=10};var c=function(){return s=true};if(m){o.scroller.draggable=true}t.state.draggingText=a;a.copy=!r.moveOnDrag;if(o.scroller.dragDrop){o.scroller.dragDrop()}pe(o.wrapper.ownerDocument,"mouseup",a);pe(o.wrapper.ownerDocument,"mousemove",l);pe(o.scroller,"dragstart",c);pe(o.scroller,"drop",a);Ki(t);setTimeout(function(){return o.input.focus()},20)}function xa(e,t,n){if(n=="char"){return new ro(t,t)}if(n=="word"){return e.findWordAt(t)}if(n=="line"){return new ro(rt(t.line,0),ht(e.doc,rt(t.line+1,0)))}var i=n(e,t);return new ro(i.from,i.to)}function Ca(m,e,v,b){var o=m.display,y=m.doc;xe(e);var w,_,x=y.sel,t=x.ranges;if(b.addNew&&!b.extend){_=y.sel.contains(v);if(_>-1){w=t[_]}else{w=new ro(v,v)}}else{w=y.sel.primary();_=y.sel.primIndex}if(b.unit=="rectangle"){if(!b.addNew){w=new ro(v,v)}v=Ii(m,e,true,true);_=-1}else{var n=xa(m,v,b.unit);if(b.extend){w=Io(w,n.anchor,n.head,b.extend)}else{w=n}}if(!b.addNew){_=0;$o(y,new io([w],0),B);x=y.sel}else if(_==-1){_=t.length;$o(y,oo(m,t.concat([w]),_),{scroll:false,origin:"*mouse"})}else if(t.length>1&&t[_].empty()&&b.unit=="char"&&!b.extend){$o(y,oo(m,t.slice(0,_).concat(t.slice(_+1)),0),{scroll:false,origin:"*mouse"});x=y.sel}else{Fo(y,_,w,B)}var C=v;function s(e){if(ot(C,e)==0){return}C=e;if(b.unit=="rectangle"){var t=[],n=m.options.tabSize;var i=z(Xe(y,v.line).text,v.ch,n);var r=z(Xe(y,e.line).text,e.ch,n);var o=Math.min(i,r),s=Math.max(i,r);for(var a=Math.min(v.line,e.line),l=Math.min(m.lastLine(),Math.max(v.line,e.line));a<=l;a++){var c=Xe(y,a).text,u=q(c,o,n);if(o==s){t.push(new ro(rt(a,u),rt(a,u)))}else if(c.length>u){t.push(new ro(rt(a,u),rt(a,q(c,s,n))))}}if(!t.length){t.push(new ro(v,v))}$o(y,oo(m,x.ranges.slice(0,_).concat(t),_),{origin:"*mouse",scroll:false});m.scrollIntoView(e)}else{var h=w;var d=xa(m,e,b.unit);var f=h.anchor,p;if(ot(d.anchor,f)>0){p=d.head;f=ct(h.from(),d.anchor)}else{p=d.anchor;f=lt(h.to(),d.head)}var g=x.ranges.slice(0);g[_]=ka(m,new ro(ht(y,f),p));$o(y,oo(m,g,_),B)}}var a=o.wrapper.getBoundingClientRect();var l=0;function c(e){var t=++l;var n=Ii(m,e,true,b.unit=="rectangle");if(!n){return}if(ot(n,C)!=0){m.curOp.focus=A();s(n);var i=er(o,y);if(n.line>=i.to||n.line<i.from){setTimeout(Dr(m,function(){if(l==t){c(e)}}),150)}}else{var r=e.clientY<a.top?-20:e.clientY>a.bottom?20:0;if(r){setTimeout(Dr(m,function(){if(l!=t){return}o.scroller.scrollTop+=r;c(e)}),50)}}}function i(e){m.state.selectingText=false;l=Infinity;if(e){xe(e);o.input.focus()}me(o.wrapper.ownerDocument,"mousemove",r);me(o.wrapper.ownerDocument,"mouseup",u);y.history.lastSelOrigin=null}var r=Dr(m,function(e){if(e.buttons===0||!Te(e)){i(e)}else{c(e)}});var u=Dr(m,i);m.state.selectingText=u;pe(o.wrapper.ownerDocument,"mousemove",r);pe(o.wrapper.ownerDocument,"mouseup",u)}function ka(e,t){var n=t.anchor;var i=t.head;var r=Xe(e.doc,n.line);if(ot(n,i)==0&&n.sticky==i.sticky){return t}var o=de(r);if(!o){return t}var s=ue(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch){return t}var l=s+(a.from==n.ch==(a.level!=1)?0:1);if(l==0||l==o.length){return t}var c;if(i.line!=n.line){c=(i.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0}else{var u=ue(o,i.ch,i.sticky);var h=u-s||(i.ch-n.ch)*(a.level==1?-1:1);if(u==l-1||u==l){c=h<0}else{c=h>0}}var d=o[l+(c?-1:0)];var f=c==(d.level==1);var p=f?d.from:d.to,g=f?"after":"before";return n.ch==p&&n.sticky==g?t:new ro(new rt(n.line,p,g),i)}function Sa(e,t,n,i){var r,o;if(t.touches){r=t.touches[0].clientX;o=t.touches[0].clientY}else{try{r=t.clientX;o=t.clientY}catch(t){return false}}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right)){return false}if(i){xe(t)}var s=e.display;var a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!we(e,n)){return ke(t)}o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=tt(e.doc,o);var h=e.display.gutterSpecs[l];ve(e,n,e,u,h.className,t);return ke(t)}}}function Oa(e,t){return Sa(e,t,"gutterClick",true)}function Ta(e,t){if(Wn(e.display,t)||ja(e,t)){return}if(be(e,t,"contextmenu")){return}if(!C){e.display.input.onContextMenu(t)}}function ja(e,t){if(!we(e,"gutterContextMenu")){return false}return Sa(e,t,"gutterContextMenu",false)}function Ea(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-");hi(e)}fa.prototype.compare=function(e,t,n){return this.time+da>e&&ot(t,this.pos)==0&&n==this.button};var Pa={toString:function(){return"CodeMirror.Init"}},Da={},Aa={};function Ma(r){var o=r.optionHandlers;function e(e,t,i,n){r.defaults[e]=t;if(i){o[e]=n?function(e,t,n){if(n!=Pa){i(e,t,n)}}:i}}r.defineOption=e;r.Init=Pa;e("value","",function(e,t){return e.setValue(t)},true);e("mode",null,function(e,t){e.doc.modeOption=t;fo(e)},true);e("indentUnit",2,fo,true);e("indentWithTabs",false);e("smartIndent",true);e("tabSize",4,function(e){po(e);hi(e);Ni(e)},true);e("lineSeparator",null,function(e,i){e.doc.lineSep=i;if(!i){return}var r=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var n=e.text.indexOf(i,t);if(n==-1){break}t=n+i.length;r.push(rt(o,n))}o++});for(var t=r.length-1;t>=0;t--){is(e.doc,i,r[t],rt(r[t].line,r[t].ch+i.length))}});e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g");if(n!=Pa){e.refresh()}});e("specialCharPlaceholder",gn,function(e){return e.refresh()},true);e("electricChars",true);e("inputStyle",d?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},true);e("spellcheck",false,function(e,t){return e.getInputField().spellcheck=t},true);e("autocorrect",false,function(e,t){return e.getInputField().autocorrect=t},true);e("autocapitalize",false,function(e,t){return e.getInputField().autocapitalize=t},true);e("rtlMoveVisually",!p);e("wholeLineUpdateBefore",true);e("theme","default",function(e){Ea(e);Xr(e)},true);e("keyMap","default",function(e,t,n){var i=Bs(t);var r=n!=Pa&&Bs(n);if(r&&r.detach){r.detach(e,i)}if(i.attach){i.attach(e,r||null)}});e("extraKeys",null);e("configureMouse",null);e("lineWrapping",false,La,true);e("gutters",[],function(e,t){e.display.gutterSpecs=Gr(t,e.options.lineNumbers);Xr(e)},true);e("fixedGutter",true,function(e,t){e.display.gutters.style.left=t?Di(e.display)+"px":"0";e.refresh()},true);e("coverGutterNextToScrollbar",false,function(e){return vr(e)},true);e("scrollbarStyle","native",function(e){wr(e);vr(e);e.display.scrollbars.setScrollTop(e.doc.scrollTop);e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},true);e("lineNumbers",false,function(e,t){e.display.gutterSpecs=Gr(e.options.gutters,t);Xr(e)},true);e("firstLineNumber",1,Xr,true);e("lineNumberFormatter",function(e){return e},Xr,true);e("showCursorWhenSelecting",false,Vi,true);e("resetSelectionOnContextMenu",true);e("lineWiseCopyCut",true);e("pasteLinesPerSelection",true);e("selectionsMayTouch",false);e("readOnly",false,function(e,t){if(t=="nocursor"){Qi(e);e.display.input.blur()}e.display.input.readOnlyChanged(t)});e("disableInput",false,function(e,t){if(!t){e.display.input.reset()}},true);e("dragDrop",true,Ia);e("allowDropFileTypes",null);e("cursorBlinkRate",530);e("cursorScrollMargin",0);e("cursorHeight",1,Vi,true);e("singleCursorHeightPerLine",true,Vi,true);e("workTime",100);e("workDelay",100);e("flattenSpans",true,po,true);e("addModeClass",false,po,true);e("pollInterval",100);e("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t});e("historyEventDelay",1250);e("viewportMargin",10,function(e){return e.refresh()},true);e("maxHighlightLength",1e4,po,true);e("moveInputWithCursor",true,function(e,t){if(!t){e.display.input.resetPosition()}});e("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""});e("autofocus",null);e("direction","ltr",function(e,t){return e.doc.setDirection(t)},true);e("phrases",null)}function Ia(e,t,n){var i=n&&n!=Pa;if(!t!=!i){var r=e.display.dragFunctions;var o=t?pe:me;o(e.display.scroller,"dragstart",r.start);o(e.display.scroller,"dragenter",r.enter);o(e.display.scroller,"dragover",r.over);o(e.display.scroller,"dragleave",r.leave);o(e.display.scroller,"drop",r.drop)}}function La(e){if(e.options.lineWrapping){M(e.display.wrapper,"CodeMirror-wrap");e.display.sizer.style.minWidth="";e.display.sizerWidth=null}else{S(e.display.wrapper,"CodeMirror-wrap");an(e)}Mi(e);Ni(e);hi(e);setTimeout(function(){return vr(e)},100)}function Na(e,t){var n=this;if(!(this instanceof Na)){return new Na(e,t)}this.options=t=t?F(t):{};F(Da,t,false);var i=t.value;if(typeof i=="string"){i=new xs(i,t.mode,null,t.lineSeparator,t.direction)}else if(t.mode){i.modeOption=t.mode}this.doc=i;var r=new Na.inputStyles[t.inputStyle](this);var o=this.display=new Qr(e,i,r,t);o.wrapper.CodeMirror=this;Ea(this);if(t.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}wr(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:-1,cutIncoming:-1,selectingText:false,draggingText:false,highlight:new H,keySeq:null,specialChars:null};if(t.autofocus&&!d){o.input.focus()}if(_&&x<11){setTimeout(function(){return n.display.input.reset(true)},20)}Fa(this);Ps();xr(this);this.curOp.forceUpdate=true;bo(this,i);if(t.autofocus&&!d||this.hasFocus()){setTimeout(N(Xi,this),20)}else{Qi(this)}for(var s in Aa){if(Aa.hasOwnProperty(s)){Aa[s](n,t[s],Pa)}}Yr(this);if(t.finishInit){t.finishInit(this)}for(var a=0;a<za.length;++a){za[a](n)}Cr(this);if(m&&t.lineWrapping&&getComputedStyle(o.lineDiv).textRendering=="optimizelegibility"){o.lineDiv.style.textRendering="auto"}}function Fa(r){var o=r.display;pe(o.scroller,"mousedown",Dr(r,va));if(_&&x<11){pe(o.scroller,"dblclick",Dr(r,function(e){if(be(r,e)){return}var t=Ii(r,e);if(!t||Oa(r,e)||Wn(r.display,e)){return}xe(e);var n=r.findWordAt(t);Lo(r.doc,n.anchor,n.head)}))}else{pe(o.scroller,"dblclick",function(e){return be(r,e)||xe(e)})}pe(o.scroller,"contextmenu",function(e){return Ta(r,e)});var n,i={end:0};function s(){if(o.activeTouch){n=setTimeout(function(){return o.activeTouch=null},1e3);i=o.activeTouch;i.end=+new Date}}function a(e){if(e.touches.length!=1){return false}var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(t.left==null){return true}var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>20*20}pe(o.scroller,"touchstart",function(e){if(!be(r,e)&&!a(e)&&!Oa(r,e)){o.input.ensurePolled();clearTimeout(n);var t=+new Date;o.activeTouch={start:t,moved:false,prev:t-i.end<=300?i:null};if(e.touches.length==1){o.activeTouch.left=e.touches[0].pageX;o.activeTouch.top=e.touches[0].pageY}}});pe(o.scroller,"touchmove",function(){if(o.activeTouch){o.activeTouch.moved=true}});pe(o.scroller,"touchend",function(e){var t=o.activeTouch;if(t&&!Wn(o,e)&&t.left!=null&&!t.moved&&new Date-t.start<300){var n=r.coordsChar(o.activeTouch,"page"),i;if(!t.prev||l(t,t.prev)){i=new ro(n,n)}else if(!t.prev.prev||l(t,t.prev.prev)){i=r.findWordAt(n)}else{i=new ro(rt(n.line,0),ht(r.doc,rt(n.line+1,0)))}r.setSelection(i.anchor,i.head);r.focus();xe(e)}s()});pe(o.scroller,"touchcancel",s);pe(o.scroller,"scroll",function(){if(o.scroller.clientHeight){hr(r,o.scroller.scrollTop);fr(r,o.scroller.scrollLeft,true);ve(r,"scroll",r)}});pe(o.scroller,"mousewheel",function(e){return no(r,e)});pe(o.scroller,"DOMMouseScroll",function(e){return no(r,e)});pe(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0});o.dragFunctions={enter:function(e){if(!be(r,e)){Se(e)}},over:function(e){if(!be(r,e)){Os(r,e);Se(e)}},start:function(e){return Ss(r,e)},drop:Dr(r,ks),leave:function(e){if(!be(r,e)){Ts(r)}}};var e=o.input.getField();pe(e,"keyup",function(e){return ua.call(r,e)});pe(e,"keydown",Dr(r,la));pe(e,"keypress",Dr(r,ha));pe(e,"focus",function(e){return Xi(r,e)});pe(e,"blur",function(e){return Qi(r,e)})}Na.defaults=Da,Na.optionHandlers=Aa;var za=[];function Ha(e,t,n,i){var r=e.doc,o;if(n==null){n="add"}if(n=="smart"){if(!r.mode.indent){n="prev"}else{o=bt(e,t).state}}var s=e.options.tabSize;var a=Xe(r,t),l=z(a.text,null,s);if(a.stateAfter){a.stateAfter=null}var c=a.text.match(/^\s*/)[0],u;if(!i&&!/\S/.test(a.text)){u=0;n="not"}else if(n=="smart"){u=r.mode.indent(o,a.text.slice(c.length),a.text);if(u==V||u>150){if(!i){return}n="prev"}}if(n=="prev"){if(t>r.first){u=z(Xe(r,t-1).text,null,s)}else{u=0}}else if(n=="add"){u=l+e.options.indentUnit}else if(n=="subtract"){u=l-e.options.indentUnit}else if(typeof n=="number"){u=l+n}u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs){for(var f=Math.floor(u/s);f;--f){d+=s;h+="\t"}}if(d<u){h+=G(u-d)}if(h!=c){is(r,h,rt(t,0),rt(t,c.length),"+input");a.stateAfter=null;return true}else{for(var p=0;p<r.sel.ranges.length;p++){var g=r.sel.ranges[p];if(g.head.line==t&&g.head.ch<c.length){var m=rt(t,c.length);Fo(r,p,new ro(m,m));break}}}}Na.defineInitHook=function(e){return za.push(e)};var Ra=null;function $a(e){Ra=e}function Va(e,t,n,i,r){var o=e.doc;e.display.shift=false;if(!i){i=o.sel}var s=+new Date-200;var a=r=="paste"||e.state.pasteIncoming>s;var l=Me(t),c=null;if(a&&i.ranges.length>1){if(Ra&&Ra.text.join("\n")==t){if(i.ranges.length%Ra.text.length==0){c=[];for(var u=0;u<Ra.text.length;u++){c.push(o.splitLines(Ra.text[u]))}}}else if(l.length==i.ranges.length&&e.options.pasteLinesPerSelection){c=X(l,function(e){return[e]})}}var h=e.curOp.updateInput;for(var d=i.ranges.length-1;d>=0;d--){var f=i.ranges[d];var p=f.from(),g=f.to();if(f.empty()){if(n&&n>0){p=rt(p.line,p.ch-n)}else if(e.state.overwrite&&!a){g=rt(g.line,Math.min(Xe(o,g.line).text.length,g.ch+K(l).length))}else if(a&&Ra&&Ra.lineWise&&Ra.text.join("\n")==t){p=g=rt(p.line,0)}}var m={from:p,to:g,text:c?c[d%c.length]:l,origin:r||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};Qo(e.doc,m);jn(e,"inputRead",e,m)}if(t&&!a){Ba(e,t)}sr(e);if(e.curOp.updateInput<2){e.curOp.updateInput=h}e.curOp.typing=true;e.state.pasteIncoming=e.state.cutIncoming=-1}function Wa(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n){e.preventDefault();if(!t.isReadOnly()&&!t.options.disableInput){Pr(t,function(){return Va(t,n,0,null,"paste")})}return true}}function Ba(e,t){if(!e.options.electricChars||!e.options.smartIndent){return}var n=e.doc.sel;for(var i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line){continue}var o=e.getModeAt(r.head);var s=false;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++){if(t.indexOf(o.electricChars.charAt(a))>-1){s=Ha(e,r.head.line,"smart");break}}}else if(o.electricInput){if(o.electricInput.test(Xe(e.doc,r.head.line).text.slice(0,r.head.ch))){s=Ha(e,r.head.line,"smart")}}if(s){jn(e,"electricInput",e,r.head.line)}}}function Ua(e){var t=[],n=[];for(var i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line;var o={anchor:rt(r,0),head:rt(r+1,0)};n.push(o);t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function qa(e,t,n,i){e.setAttribute("autocorrect",n?"":"off");e.setAttribute("autocapitalize",i?"":"off");e.setAttribute("spellcheck",!!t)}function Ya(){var e=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var t=D("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(m){e.style.width="1000px"}else{e.setAttribute("wrap","off")}if(u){e.style.border="1px solid black"}qa(e);return t}function Ga(r){var o=r.optionHandlers;var u=r.helpers={};r.prototype={constructor:r,focus:function(){window.focus();this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];if(n[e]==t&&e!="mode"){return}n[e]=t;if(o.hasOwnProperty(e)){Dr(this,o[e])(this,t,i)}ve(this,"optionChange",this,e)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Bs(e))},removeKeyMap:function(e){var t=this.state.keyMaps;for(var n=0;n<t.length;++n){if(t[n]==e||t[n].name==e){t.splice(n,1);return true}}},addOverlay:Ar(function(e,t){var n=e.token?e:r.getMode(this.options,e);if(n.startState){throw new Error("Overlays may not be stateful.")}Q(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority});this.state.modeGen++;Ni(this)}),removeOverlay:Ar(function(e){var t=this;var n=this.state.overlays;for(var i=0;i<n.length;++i){var r=n[i].modeSpec;if(r==e||typeof e=="string"&&r.name==e){n.splice(i,1);t.state.modeGen++;Ni(t);return}}}),indentLine:Ar(function(e,t,n){if(typeof t!="string"&&typeof t!="number"){if(t==null){t=this.options.smartIndent?"smart":"prev"}else{t=t?"add":"subtract"}}if(nt(this.doc,e)){Ha(this,e,t,n)}}),indentSelection:Ar(function(e){var t=this;var n=this.doc.sel.ranges,i=-1;for(var r=0;r<n.length;r++){var o=n[r];if(!o.empty()){var s=o.from(),a=o.to();var l=Math.max(i,s.line);i=Math.min(t.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<i;++c){Ha(t,c,e)}var u=t.doc.sel.ranges;if(s.ch==0&&n.length==u.length&&u[r].from().ch>0){Fo(t.doc,r,new ro(s,u[r].to()),W)}}else if(o.head.line>i){Ha(t,o.head.line,e,true);i=o.head.line;if(r==t.doc.sel.primIndex){sr(t)}}}}),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,rt(e),t,true)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t=vt(this,Xe(this.doc,e.line));var n=0,i=(t.length-1)/2,r=e.ch;var o;if(r==0){o=t[2]}else{for(;;){var s=n+i>>1;if((s?t[s*2-1]:0)>=r){i=s}else if(t[s*2+1]<r){n=s+1}else{o=t[s*2+2];break}}}var a=o?o.indexOf("overlay "):-1;return a<0?o:a==0?null:o.slice(0,a-1)},getModeAt:function(e){var t=this.doc.mode;if(!t.innerMode){return t}return r.innerMode(t,this.getTokenAt(e).state).mode},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this;var i=[];if(!u.hasOwnProperty(t)){return i}var r=u[t],o=this.getModeAt(e);if(typeof o[t]=="string"){if(r[o[t]]){i.push(r[o[t]])}}else if(o[t]){for(var s=0;s<o[t].length;s++){var a=r[o[t][s]];if(a){i.push(a)}}}else if(o.helperType&&r[o.helperType]){i.push(r[o.helperType])}else if(r[o.name]){i.push(r[o.name])}for(var l=0;l<r._global.length;l++){var c=r._global[l];if(c.pred(o,n)&&R(i,c.val)==-1){i.push(c.val)}}return i},getStateAfter:function(e,t){var n=this.doc;e=ut(n,e==null?n.first+n.size-1:e);return bt(this,e+1,t).state},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();if(e==null){n=i.head}else if(typeof e=="object"){n=ht(this.doc,e)}else{n=e?i.from():i.to()}return bi(this,n,t||"page")},charCoords:function(e,t){return vi(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){e=mi(this,e,t||"page");return _i(this,e.left,e.top)},lineAtHeight:function(e,t){e=mi(this,{top:e,left:0},t||"page").top;return tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i=false,r;if(typeof e=="number"){var o=this.doc.first+this.doc.size-1;if(e<this.doc.first){e=this.doc.first}else if(e>o){e=o;i=true}r=Xe(this.doc,e)}else{r=e}return gi(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-on(r):0)},defaultTextHeight:function(){return ji(this.display)},defaultCharWidth:function(){return Ei(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=bi(this,ht(this.doc,e));var s=e.bottom,a=e.left;t.style.position="absolute";t.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(t);o.sizer.appendChild(t);if(i=="over"){s=e.top}else if(i=="above"||i=="near"){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);if((i=="above"||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight){s=e.top-t.offsetHeight}else if(e.bottom+t.offsetHeight<=l){s=e.bottom}if(a+t.offsetWidth>c){a=c-t.offsetWidth}}t.style.top=s+"px";t.style.left=t.style.right="";if(r=="right"){a=o.sizer.clientWidth-t.offsetWidth;t.style.right="0px"}else{if(r=="left"){a=0}else if(r=="middle"){a=(o.sizer.clientWidth-t.offsetWidth)/2}t.style.left=a+"px"}if(n){ir(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})}},triggerOnKeyDown:Ar(la),triggerOnKeyPress:Ar(ha),triggerOnKeyUp:ua,triggerOnMouseDown:Ar(va),execCommand:function(e){if(Xs.hasOwnProperty(e)){return Xs[e].call(null,this)}},triggerElectric:Ar(function(e){Ba(this,e)}),findPosH:function(e,t,n,i){var r=this;var o=1;if(t<0){o=-1;t=-t}var s=ht(this.doc,e);for(var a=0;a<t;++a){s=Ka(r.doc,s,o,n,i);if(s.hitSide){break}}return s},moveH:Ar(function(t,n){var i=this;this.extendSelectionsBy(function(e){if(i.display.shift||i.doc.extend||e.empty()){return Ka(i.doc,e.head,t,n,i.options.rtlMoveVisually)}else{return t<0?e.from():e.to()}},U)}),deleteH:Ar(function(n,i){var e=this.doc.sel,r=this.doc;if(e.somethingSelected()){r.replaceSelection("",null,"+delete")}else{Us(this,function(e){var t=Ka(r,e.head,n,i,false);return n<0?{from:t,to:e.head}:{from:e.head,to:t}})}}),findPosV:function(e,t,n,i){var r=this;var o=1,s=i;if(t<0){o=-1;t=-t}var a=ht(this.doc,e);for(var l=0;l<t;++l){var c=bi(r,a,"div");if(s==null){s=c.left}else{c.left=s}a=Xa(r,c,o,n);if(a.hitSide){break}}return a},moveV:Ar(function(i,r){var o=this;var s=this.doc,a=[];var l=!this.display.shift&&!s.extend&&s.sel.somethingSelected();s.extendSelectionsBy(function(e){if(l){return i<0?e.from():e.to()}var t=bi(o,e.head,"div");if(e.goalColumn!=null){t.left=e.goalColumn}a.push(t.left);var n=Xa(o,t,i,r);if(r=="page"&&e==s.sel.primary()){or(o,vi(o,n,"div").top-t.top)}return n},U);if(a.length){for(var e=0;e<s.sel.ranges.length;e++){s.sel.ranges[e].goalColumn=a[e]}}}),findWordAt:function(e){var t=this.doc,n=Xe(t,e.line).text;var i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");if((e.sticky=="before"||r==n.length)&&i){--i}else{++r}var s=n.charAt(i);var a=ne(s,o)?function(e){return ne(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};while(i>0&&a(n.charAt(i-1))){--i}while(r<n.length&&a(n.charAt(r))){++r}}return new ro(rt(e.line,i),rt(e.line,r))},toggleOverwrite:function(e){if(e!=null&&e==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){M(this.display.cursorDiv,"CodeMirror-overwrite")}else{S(this.display.cursorDiv,"CodeMirror-overwrite")}ve(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==A()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ar(function(e,t){ar(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Yn(this)-this.display.barHeight,width:e.scrollWidth-Yn(this)-this.display.barWidth,clientHeight:Kn(this),clientWidth:Gn(this)}},scrollIntoView:Ar(function(e,t){if(e==null){e={from:this.doc.sel.primary().head,to:null};if(t==null){t=this.options.cursorScrollMargin}}else if(typeof e=="number"){e={from:rt(e,0),to:null}}else if(e.from==null){e={from:e,to:null}}if(!e.to){e.to=e.from}e.margin=t||0;if(e.from.line!=null){lr(this,e)}else{ur(this,e.from,e.to,e.margin)}}),setSize:Ar(function(e,t){var n=this;var i=function(e){return typeof e=="number"||/^\d+$/.test(String(e))?e+"px":e};if(e!=null){this.display.wrapper.style.width=i(e)}if(t!=null){this.display.wrapper.style.height=i(t)}if(this.options.lineWrapping){ui(this)}var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets){for(var t=0;t<e.widgets.length;t++){if(e.widgets[t].noHScroll){Fi(n,r,"widget");break}}}++r});this.curOp.forceUpdate=true;ve(this,"refresh",this)}),operation:function(e){return Pr(this,e)},startOperation:function(){return xr(this)},endOperation:function(){return Cr(this)},refresh:Ar(function(){var e=this.display.cachedTextHeight;Ni(this);this.curOp.forceUpdate=true;hi(this);ar(this,this.doc.scrollLeft,this.doc.scrollTop);Br(this.display);if(e==null||Math.abs(e-ji(this.display))>.5){Mi(this)}ve(this,"refresh",this)}),swapDoc:Ar(function(e){var t=this.doc;t.cm=null;if(this.state.selectingText){this.state.selectingText()}bo(this,e);hi(this);this.display.input.reset();ar(this,e.scrollLeft,e.scrollTop);this.curOp.forceScroll=true;jn(this,"swapDoc",this,t);return t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};_e(r);r.registerHelper=function(e,t,n){if(!u.hasOwnProperty(e)){u[e]=r[e]={_global:[]}}u[e][t]=n};r.registerGlobalHelper=function(e,t,n,i){r.registerHelper(e,t,i);u[e]._global.push({pred:n,val:i})}}function Ka(n,i,r,e,o){var t=i;var s=r;var a=Xe(n,i.line);function l(){var e=i.line+r;if(e<n.first||e>=n.first+n.size){return false}i=new rt(e,i.ch,i.sticky);return a=Xe(n,e)}function c(e){var t;if(o){t=Ks(n.cm,a,i,r)}else{t=Ys(a,i,r)}if(t==null){if(!e&&l()){i=Gs(o,n.cm,a,i.line,r)}else{return false}}else{i=t}return true}if(e=="char"){c()}else if(e=="column"){c(true)}else if(e=="word"||e=="group"){var u=null,h=e=="group";var d=n.cm&&n.cm.getHelper(i,"wordChars");for(var f=true;;f=false){if(r<0&&!c(!f)){break}var p=a.text.charAt(i.ch)||"\n";var g=ne(p,d)?"w":h&&p=="\n"?"n":!h||/\s/.test(p)?null:"p";if(h&&!f&&!g){g="s"}if(u&&u!=g){if(r<0){r=1;c();i.sticky="after"}break}if(g){u=g}if(r>0&&!c(!f)){break}}}var m=Yo(n,i,t,s,true);if(st(t,m)){m.hitSide=true}return m}function Xa(e,t,n,i){var r=e.doc,o=t.left,s;if(i=="page"){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var l=Math.max(a-.5*ji(e.display),3);s=(n>0?t.bottom:t.top)+n*l}else if(i=="line"){s=n>0?t.bottom+3:t.top-3}var c;for(;;){c=_i(e,o,s);if(!c.outside){break}if(n<0?s<=0:s>=r.height){c.hitSide=true;break}s+=n*5}return c}var Qa=function(e){this.cm=e;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new H;this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};function Za(e,t){var n=ei(e,t.line);if(!n||n.hidden){return null}var i=Xe(e.doc,t.line);var r=Qn(n,i,t.line);var o=de(i,e.doc.direction),s="left";if(o){var a=ue(o,t.ch);s=a%2?"right":"left"}var l=oi(r.map,t.ch,s);l.offset=l.collapse=="right"?l.end:l.start;return l}function Ja(e){for(var t=e;t;t=t.parentNode){if(/CodeMirror-gutter-wrapper/.test(t.className)){return true}}return false}function el(e,t){if(t){e.bad=true}return e}function tl(a,e,t,l,c){var n="",u=false,h=a.doc.lineSeparator(),d=false;function f(t){return function(e){return e.id==t}}function p(){if(u){n+=h;if(d){n+=h}u=d=false}}function g(e){if(e){p();n+=e}}function m(e){if(e.nodeType==1){var t=e.getAttribute("cm-text");if(t){g(t);return}var n=e.getAttribute("cm-marker"),i;if(n){var r=a.findMarks(rt(l,0),rt(c+1,0),f(+n));if(r.length&&(i=r[0].find(0))){g(Qe(a.doc,i.from,i.to).join(h))}return}if(e.getAttribute("contenteditable")=="false"){return}var o=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&e.textContent.length==0){return}if(o){p()}for(var s=0;s<e.childNodes.length;s++){m(e.childNodes[s])}if(/^(pre|p)$/i.test(e.nodeName)){d=true}if(o){u=true}}else if(e.nodeType==3){g(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}}for(;;){m(e);if(e==t){break}e=e.nextSibling;d=false}return n}function nl(e,t,n){var i;if(t==e.display.lineDiv){i=e.display.lineDiv.childNodes[n];if(!i){return el(e.clipPos(rt(e.display.viewTo-1)),true)}t=null;n=0}else{for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv){return null}if(i.parentNode&&i.parentNode==e.display.lineDiv){break}}}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i){return il(o,t,n)}}}function il(c,e,t){var n=c.text.firstChild,i=false;if(!e||!P(n,e)){return el(rt(et(c.line),0),true)}if(e==n){i=true;e=n.childNodes[t];t=0;if(!e){var r=c.rest?K(c.rest):c.line;return el(rt(et(r),r.text.length),i)}}var o=e.nodeType==3?e:null,s=e;if(!o&&e.childNodes.length==1&&e.firstChild.nodeType==3){o=e.firstChild;if(t){t=o.nodeValue.length}}while(s.parentNode!=n){s=s.parentNode}var u=c.measure,h=u.maps;function a(e,t,n){for(var i=-1;i<(h?h.length:0);i++){var r=i<0?u.map:h[i];for(var o=0;o<r.length;o+=3){var s=r[o+2];if(s==e||s==t){var a=et(i<0?c.line:c.rest[i]);var l=r[o]+n;if(n<0||s!=e){l=r[o+(n?1:0)]}return rt(a,l)}}}}var l=a(o,s,t);if(l){return el(l,i)}for(var d=s.nextSibling,f=o?o.nodeValue.length-t:0;d;d=d.nextSibling){l=a(d,d.firstChild,0);if(l){return el(rt(l.line,l.ch-f),i)}else{f+=d.textContent.length}}for(var p=s.previousSibling,g=t;p;p=p.previousSibling){l=a(p,p.firstChild,-1);if(l){return el(rt(l.line,l.ch+g),i)}else{g+=p.textContent.length}}}Qa.prototype.init=function(e){var t=this;var s=this,a=s.cm;var l=s.div=e.lineDiv;qa(l,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize);pe(l,"paste",function(e){if(be(a,e)||Wa(e,a)){return}if(x<=11){setTimeout(Dr(a,function(){return t.updateFromDOM()}),20)}});pe(l,"compositionstart",function(e){t.composing={data:e.data,done:false}});pe(l,"compositionupdate",function(e){if(!t.composing){t.composing={data:e.data,done:false}}});pe(l,"compositionend",function(e){if(t.composing){if(e.data!=t.composing.data){t.readFromDOMSoon()}t.composing.done=true}});pe(l,"touchstart",function(){return s.forceCompositionEnd()});pe(l,"input",function(){if(!t.composing){t.readFromDOMSoon()}});function n(e){if(be(a,e)){return}if(a.somethingSelected()){$a({lineWise:false,text:a.getSelections()});if(e.type=="cut"){a.replaceSelection("",null,"cut")}}else if(!a.options.lineWiseCopyCut){return}else{var t=Ua(a);$a({lineWise:true,text:t.text});if(e.type=="cut"){a.operation(function(){a.setSelections(t.ranges,0,W);a.replaceSelection("",null,"cut")})}}if(e.clipboardData){e.clipboardData.clearData();var n=Ra.text.join("\n");e.clipboardData.setData("Text",n);if(e.clipboardData.getData("Text")==n){e.preventDefault();return}}var i=Ya(),r=i.firstChild;a.display.lineSpace.insertBefore(i,a.display.lineSpace.firstChild);r.value=Ra.text.join("\n");var o=document.activeElement;L(r);setTimeout(function(){a.display.lineSpace.removeChild(i);o.focus();if(o==l){s.showPrimarySelection()}},50)}pe(l,"copy",n);pe(l,"cut",n)},Qa.prototype.prepareSelection=function(){var e=Wi(this.cm,false);e.focus=this.cm.state.focused;return e},Qa.prototype.showSelection=function(e,t){if(!e||!this.cm.display.view.length){return}if(e.focus||t){this.showPrimarySelection()}this.showMultipleSelections(e)},Qa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary();var i=n.from(),r=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||r.line<t.display.viewFrom){e.removeAllRanges();return}var o=nl(t,e.anchorNode,e.anchorOffset);var s=nl(t,e.focusNode,e.focusOffset);if(o&&!o.bad&&s&&!s.bad&&ot(ct(o,s),i)==0&&ot(lt(o,s),r)==0){return}var a=t.display.view;var l=i.line>=t.display.viewFrom&&Za(t,i)||{node:a[0].measure.map[2],offset:0};var c=r.line<t.display.viewTo&&Za(t,r);if(!c){var u=a[a.length-1].measure;var h=u.maps?u.maps[u.maps.length-1]:u.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(!l||!c){e.removeAllRanges();return}var d=e.rangeCount&&e.getRangeAt(0),f;try{f=O(l.node,l.offset,c.offset,c.node)}catch(e){}if(f){if(!g&&t.state.focused){e.collapse(l.node,l.offset);if(!f.collapsed){e.removeAllRanges();e.addRange(f)}}else{e.removeAllRanges();e.addRange(f)}if(d&&e.anchorNode==null){e.addRange(d)}else if(g){this.startGracePeriod()}}this.rememberSelection()},Qa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){e.gracePeriod=false;if(e.selectionChanged()){e.cm.operation(function(){return e.cm.curOp.selectionChanged=true})}},20)},Qa.prototype.showMultipleSelections=function(e){j(this.cm.display.cursorDiv,e.cursors);j(this.cm.display.selectionDiv,e.selection)},Qa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode;this.lastAnchorOffset=e.anchorOffset;this.lastFocusNode=e.focusNode;this.lastFocusOffset=e.focusOffset},Qa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount){return false}var t=e.getRangeAt(0).commonAncestorContainer;return P(this.div,t)},Qa.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),true)}this.div.focus()}},Qa.prototype.blur=function(){this.div.blur()},Qa.prototype.getField=function(){return this.div},Qa.prototype.supportsTouch=function(){return true},Qa.prototype.receivedFocus=function(){var e=this;if(this.selectionInEditor()){this.pollSelection()}else{Pr(this.cm,function(){return e.cm.curOp.selectionChanged=true})}function t(){if(e.cm.state.focused){e.pollSelection();e.polling.set(e.cm.options.pollInterval,t)}}this.polling.set(this.cm.options.pollInterval,t)},Qa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Qa.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged()){return}var e=this.getSelection(),t=this.cm;if(h&&s&&this.cm.display.gutterSpecs.length&&Ja(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var n=nl(t,e.anchorNode,e.anchorOffset);var i=nl(t,e.focusNode,e.focusOffset);if(n&&i){Pr(t,function(){$o(t.doc,so(n,i),W);if(n.bad||i.bad){t.curOp.selectionChanged=true}})}},Qa.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var e=this.cm,t=e.display,n=e.doc.sel.primary();var i=n.from(),r=n.to();if(i.ch==0&&i.line>e.firstLine()){i=rt(i.line-1,Xe(e.doc,i.line-1).length)}if(r.ch==Xe(e.doc,r.line).text.length&&r.line<e.lastLine()){r=rt(r.line+1,0)}if(i.line<t.viewFrom||r.line>t.viewTo-1){return false}var o,s,a;if(i.line==t.viewFrom||(o=Li(e,i.line))==0){s=et(t.view[0].line);a=t.view[0].node}else{s=et(t.view[o].line);a=t.view[o-1].node.nextSibling}var l=Li(e,r.line);var c,u;if(l==t.view.length-1){c=t.viewTo-1;u=t.lineDiv.lastChild}else{c=et(t.view[l+1].line)-1;u=t.view[l+1].node.previousSibling}if(!a){return false}var h=e.doc.splitLines(tl(e,a,u,s,c));var d=Qe(e.doc,rt(s,0),rt(c,Xe(e.doc,c).text.length));while(h.length>1&&d.length>1){if(K(h)==K(d)){h.pop();d.pop();c--}else if(h[0]==d[0]){h.shift();d.shift();s++}else{break}}var f=0,p=0;var g=h[0],m=d[0],v=Math.min(g.length,m.length);while(f<v&&g.charCodeAt(f)==m.charCodeAt(f)){++f}var b=K(h),y=K(d);var w=Math.min(b.length-(h.length==1?f:0),y.length-(d.length==1?f:0));while(p<w&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1)){++p}if(h.length==1&&d.length==1&&s==i.line){while(f&&f>i.ch&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1)){f--;p++}}h[h.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,"");h[0]=h[0].slice(f).replace(/\u200b+$/,"");var _=rt(s,f);var x=rt(c,d.length?K(d).length-p:0);if(h.length>1||h[0]||ot(_,x)){is(e.doc,h,_,x,"+input");return true}},Qa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qa.prototype.reset=function(){this.forceCompositionEnd()},Qa.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()},Qa.prototype.readFromDOMSoon=function(){var e=this;if(this.readDOMTimeout!=null){return}this.readDOMTimeout=setTimeout(function(){e.readDOMTimeout=null;if(e.composing){if(e.composing.done){e.composing=null}else{return}}e.updateFromDOM()},80)},Qa.prototype.updateFromDOM=function(){var e=this;if(this.cm.isReadOnly()||!this.pollContent()){Pr(this.cm,function(){return Ni(e.cm)})}},Qa.prototype.setUneditable=function(e){e.contentEditable="false"},Qa.prototype.onKeyPress=function(e){if(e.charCode==0||this.composing){return}e.preventDefault();if(!this.cm.isReadOnly()){Dr(this.cm,Va)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)}},Qa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Qa.prototype.onContextMenu=function(){},Qa.prototype.resetPosition=function(){},Qa.prototype.needsContentAttribute=true;var rl=function(e){this.cm=e;this.prevInput="";this.pollingFast=false;this.polling=new H;this.hasSelection=false;this.composing=null};function ol(t,n){if((n=n?F(n):{}).value=t.value,!n.tabindex&&t.tabIndex)n.tabindex=t.tabIndex;if(!n.placeholder&&t.placeholder)n.placeholder=t.placeholder;if(null==n.autofocus){var e=A();n.autofocus=e==t||null!=t.getAttribute("autofocus")&&e==document.body}function i(){t.value=a.getValue()}var r;if(t.form)if(pe(t.form,"submit",i),!n.leaveSubmitMethodAlone){var o=t.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(me(t.form,"submit",i),n.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=r))}},t.style.display="none";var a=Na(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},n);return a}function sl(e){e.off=me,e.on=pe,e.wheelEventPixels=to,e.Doc=xs,e.splitLines=Me,e.countColumn=z,e.findColumn=q,e.isWordChar=te,e.Pass=V,e.signal=ve,e.Line=ln,e.changeEnd=ao,e.scrollbarModel=yr,e.Pos=rt,e.cmpPos=ot,e.modes=ze,e.mimeModes=He,e.resolveMode=Ve,e.getMode=We,e.modeExtensions=Be,e.extendMode=Ue,e.copyState=qe,e.startState=Ge,e.innerMode=Ye,e.commands=Xs,e.keyMap=Fs,e.keyName=Ws,e.isModifierKey=$s,e.lookupKey=Rs,e.normalizeKeyMap=Hs,e.StringStream=Ke,e.SharedTextMarker=ms,e.TextMarker=ps,e.LineWidget=us,e.e_preventDefault=xe,e.e_stopPropagation=Ce,e.e_stop=Se,e.addClass=M,e.contains=P,e.rmClass=S,e.keyNames=Ms}rl.prototype.init=function(n){var e=this;var i=this,r=this.cm;this.createField(n);var o=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild);if(u){o.style.width="0px"}pe(o,"input",function(){if(_&&x>=9&&e.hasSelection){e.hasSelection=null}i.poll()});pe(o,"paste",function(e){if(be(r,e)||Wa(e,r)){return}r.state.pasteIncoming=+new Date;i.fastPoll()});function t(e){if(be(r,e)){return}if(r.somethingSelected()){$a({lineWise:false,text:r.getSelections()})}else if(!r.options.lineWiseCopyCut){return}else{var t=Ua(r);$a({lineWise:true,text:t.text});if(e.type=="cut"){r.setSelections(t.ranges,null,W)}else{i.prevInput="";o.value=t.text.join("\n");L(o)}}if(e.type=="cut"){r.state.cutIncoming=+new Date}}pe(o,"cut",t);pe(o,"copy",t);pe(n.scroller,"paste",function(e){if(Wn(n,e)||be(r,e)){return}if(!o.dispatchEvent){r.state.pasteIncoming=+new Date;i.focus();return}var t=new Event("paste");t.clipboardData=e.clipboardData;o.dispatchEvent(t)});pe(n.lineSpace,"selectstart",function(e){if(!Wn(n,e)){xe(e)}});pe(o,"compositionstart",function(){var e=r.getCursor("from");if(i.composing){i.composing.range.clear()}i.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}});pe(o,"compositionend",function(){if(i.composing){i.poll();i.composing.range.clear();i.composing=null}})},rl.prototype.createField=function(e){this.wrapper=Ya();this.textarea=this.wrapper.firstChild},rl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc;var i=Wi(e);if(e.options.moveInputWithCursor){var r=bi(e,n.sel.primary().head,"div");var o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top));i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},rl.prototype.showSelection=function(e){var t=this.cm,n=t.display;j(n.cursorDiv,e.cursors);j(n.selectionDiv,e.selection);if(e.teTop!=null){this.wrapper.style.top=e.teTop+"px";this.wrapper.style.left=e.teLeft+"px"}},rl.prototype.reset=function(e){if(this.contextMenuPending||this.composing){return}var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n;if(t.state.focused){L(this.textarea)}if(_&&x>=9){this.hasSelection=n}}else if(!e){this.prevInput=this.textarea.value="";if(_&&x>=9){this.hasSelection=null}}},rl.prototype.getField=function(){return this.textarea},rl.prototype.supportsTouch=function(){return false},rl.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!d||A()!=this.textarea)){try{this.textarea.focus()}catch(e){}}},rl.prototype.blur=function(){this.textarea.blur()},rl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},rl.prototype.receivedFocus=function(){this.slowPoll()},rl.prototype.slowPoll=function(){var e=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){e.poll();if(e.cm.state.focused){e.slowPoll()}})},rl.prototype.fastPoll=function(){var t=false,n=this;n.pollingFast=true;function i(){var e=n.poll();if(!e&&!t){t=true;n.polling.set(60,i)}else{n.pollingFast=false;n.slowPoll()}}n.polling.set(20,i)},rl.prototype.poll=function(){var e=this;var t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ie(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq){return false}var r=n.value;if(r==i&&!t.somethingSelected()){return false}if(_&&x>=9&&this.hasSelection===r||b&&/[\uf700-\uf7ff]/.test(r)){t.display.input.reset();return false}if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(o==8203&&!i){i="â"}if(o==8666){this.reset();return this.cm.execCommand("undo")}}var s=0,a=Math.min(i.length,r.length);while(s<a&&i.charCodeAt(s)==r.charCodeAt(s)){++s}Pr(t,function(){Va(t,r.slice(s),i.length-s,null,e.composing?"*compose":null);if(r.length>1e3||r.indexOf("\n")>-1){n.value=e.prevInput=""}else{e.prevInput=r}if(e.composing){e.composing.range.clear();e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"})}});return true},rl.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}},rl.prototype.onKeyPress=function(){if(_&&x>=9){this.hasSelection=null}this.fastPoll()},rl.prototype.onContextMenu=function(e){var n=this,i=n.cm,r=i.display,o=n.textarea;if(n.contextMenuPending){n.contextMenuPending()}var t=Ii(i,e),s=r.scroller.scrollTop;if(!t||v){return}var a=i.options.resetSelectionOnContextMenu;if(a&&i.doc.sel.contains(t)==-1){Dr(i,$o)(i.doc,so(t),W)}var l=o.style.cssText,c=n.wrapper.style.cssText;var u=n.wrapper.offsetParent.getBoundingClientRect();n.wrapper.style.cssText="position: static";o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-u.top-5)+"px; left: "+(e.clientX-u.left-5)+"px;\n      z-index: 1000; background: "+(_?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var h;if(m){h=window.scrollY}r.input.focus();if(m){window.scrollTo(null,h)}r.input.reset();if(!i.somethingSelected()){o.value=n.prevInput=" "}n.contextMenuPending=f;r.selForContextMenu=i.doc.sel;clearTimeout(r.detectingSelectAll);function d(){if(o.selectionStart!=null){var e=i.somethingSelected();var t="â"+(e?o.value:"");o.value="â";o.value=t;n.prevInput=e?"":"â";o.selectionStart=1;o.selectionEnd=t.length;r.selForContextMenu=i.doc.sel}}function f(){if(n.contextMenuPending!=f){return}n.contextMenuPending=false;n.wrapper.style.cssText=c;o.style.cssText=l;if(_&&x<9){r.scrollbars.setScrollTop(r.scroller.scrollTop=s)}if(o.selectionStart!=null){if(!_||_&&x<9){d()}var e=0,t=function(){if(r.selForContextMenu==i.doc.sel&&o.selectionStart==0&&o.selectionEnd>0&&n.prevInput=="â"){Dr(i,Ko)(i)}else if(e++<10){r.detectingSelectAll=setTimeout(t,500)}else{r.selForContextMenu=null;r.input.reset()}};r.detectingSelectAll=setTimeout(t,200)}}if(_&&x>=9){d()}if(C){Se(e);var p=function(){me(window,"mouseup",p);setTimeout(f,20)};pe(window,"mouseup",p)}else{setTimeout(f,50)}},rl.prototype.readOnlyChanged=function(e){if(!e){this.reset()}this.textarea.disabled=e=="nocursor"},rl.prototype.setUneditable=function(){},rl.prototype.needsContentAttribute=false,Ma(Na),Ga(Na);var al="iter insert remove copy getEditor constructor".split(" ");for(var ll in xs.prototype){if(xs.prototype.hasOwnProperty(ll)&&R(al,ll)<0){Na.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(xs.prototype[ll])}}return _e(xs),Na.inputStyles={textarea:rl,contenteditable:Qa},Na.defineMode=function(e){Na.defaults.mode||"null"==e||(Na.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2));ze[e]=t}.apply(this,arguments)},Na.defineMIME=function(e,t){He[e]=t},Na.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Na.defineMIME("text/plain","null"),Na.defineExtension=function(e,t){Na.prototype[e]=t},Na.defineDocExtension=function(e,t){xs.prototype[e]=t},Na.fromTextArea=function(t,n){(n=n?F(n):{}).value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex);!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder);{var e;null==n.autofocus&&(e=A(),n.autofocus=e==t||null!=t.getAttribute("autofocus")&&e==document.body)}function i(){t.value=a.getValue()}var r;if(t.form&&(pe(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(me(t.form,"submit",i),n.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=r))}},t.style.display="none";var a=Na(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},n);return a},function(e){e.off=me,e.on=pe,e.wheelEventPixels=to,e.Doc=xs,e.splitLines=Me,e.countColumn=z,e.findColumn=q,e.isWordChar=te,e.Pass=V,e.signal=ve,e.Line=ln,e.changeEnd=ao,e.scrollbarModel=yr,e.Pos=rt,e.cmpPos=ot,e.modes=ze,e.mimeModes=He,e.resolveMode=Ve,e.getMode=We,e.modeExtensions=Be,e.extendMode=Ue,e.copyState=qe,e.startState=Ge,e.innerMode=Ye,e.commands=Xs,e.keyMap=Fs,e.keyName=Ws,e.isModifierKey=$s,e.lookupKey=Rs,e.normalizeKeyMap=Hs,e.StringStream=Ke,e.SharedTextMarker=ms,e.TextMarker=ps,e.LineWidget=us,e.e_preventDefault=xe,e.e_stopPropagation=Ce,e.e_stop=Se,e.addClass=M,e.contains=P,e.rmClass=S,e.keyNames=Ms}(Na),Na.version="5.49.2",Na}()},"./node_modules/codemirror/mode/css/css.js":function(e,t,n){!function(D){"use strict";function e(e){var t={};for(var n=0;n<e.length;++n){t[e[n].toLowerCase()]=true}return t}D.defineMode("css",function(e,t){var n=t.inline;if(!t.propertyKeywords)t=D.resolveMode("text/css");var o=e.indentUnit,r=t.tokenHooks,i=t.documentTypes||{},s=t.mediaTypes||{},a=t.mediaFeatures||{},l=t.mediaValueKeywords||{},c=t.propertyKeywords||{},u=t.nonStandardPropertyKeywords||{},h=t.fontProperties||{},d=t.counterDescriptors||{},f=t.colorKeywords||{},p=t.valueKeywords||{},g=t.allowNested,m=t.lineComment,v=t.supportsAtComponent===true;var b,y;function w(e,t){b=t;return e}function _(e,t){var n=e.next();if(r[n]){var i=r[n](e,t);if(i!==false)return i}if(n=="@"){e.eatWhile(/[\w\\\-]/);return w("def",e.current())}else if(n=="="||(n=="~"||n=="|")&&e.eat("=")){return w(null,"compare")}else if(n=='"'||n=="'"){t.tokenize=x(n);return t.tokenize(e,t)}else if(n=="#"){e.eatWhile(/[\w\\\-]/);return w("atom","hash")}else if(n=="!"){e.match(/^\s*\w*/);return w("keyword","important")}else if(/\d/.test(n)||n=="."&&e.eat(/\d/)){e.eatWhile(/[\w.%]/);return w("number","unit")}else if(n==="-"){if(/[\d.]/.test(e.peek())){e.eatWhile(/[\w.%]/);return w("number","unit")}else if(e.match(/^-[\w\\\-]*/)){e.eatWhile(/[\w\\\-]/);if(e.match(/^\s*:/,false))return w("variable-2","variable-definition");return w("variable-2","variable")}else if(e.match(/^\w+-/)){return w("meta","meta")}}else if(/[,+>*\/]/.test(n)){return w(null,"select-op")}else if(n=="."&&e.match(/^-?[_a-z][_a-z0-9-]*/i)){return w("qualifier","qualifier")}else if(/[:;{}\[\]\(\)]/.test(n)){return w(null,n)}else if(e.match(/[\w-.]+(?=\()/)){if(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())){t.tokenize=C}return w("variable callee","variable")}else if(/[\w\\\-]/.test(n)){e.eatWhile(/[\w\\\-]/);return w("property","word")}else{return w(null,null)}}function x(r){return function(e,t){var n=false,i;while((i=e.next())!=null){if(i==r&&!n){if(r==")")e.backUp(1);break}n=!n&&i=="\\"}if(i==r||!n&&r!=")")t.tokenize=null;return w("string","string")}}function C(e,t){e.next();if(!e.match(/\s*[\"\')]/,false))t.tokenize=x(")");else t.tokenize=null;return w(null,"(")}function k(e,t,n){this.type=e;this.indent=t;this.prev=n}function S(e,t,n,i){e.context=new k(n,t.indentation()+(i===false?0:o),e.context);return n}function O(e){if(e.context.prev)e.context=e.context.prev;return e.context.type}function T(e,t,n){return P[n.context.type](e,t,n)}function j(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return T(e,t,n)}function E(e){var t=e.current().toLowerCase();if(p.hasOwnProperty(t))y="atom";else if(f.hasOwnProperty(t))y="keyword";else y="variable"}var P={};P.top=function(e,t,n){if(e=="{"){return S(n,t,"block")}else if(e=="}"&&n.context.prev){return O(n)}else if(v&&/@component/i.test(e)){return S(n,t,"atComponentBlock")}else if(/^@(-moz-)?document$/i.test(e)){return S(n,t,"documentTypes")}else if(/^@(media|supports|(-moz-)?document|import)$/i.test(e)){return S(n,t,"atBlock")}else if(/^@(font-face|counter-style)/i.test(e)){n.stateArg=e;return"restricted_atBlock_before"}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e)){return"keyframes"}else if(e&&e.charAt(0)=="@"){return S(n,t,"at")}else if(e=="hash"){y="builtin"}else if(e=="word"){y="tag"}else if(e=="variable-definition"){return"maybeprop"}else if(e=="interpolation"){return S(n,t,"interpolation")}else if(e==":"){return"pseudo"}else if(g&&e=="("){return S(n,t,"parens")}return n.context.type};P.block=function(e,t,n){if(e=="word"){var i=t.current().toLowerCase();if(c.hasOwnProperty(i)){y="property";return"maybeprop"}else if(u.hasOwnProperty(i)){y="string-2";return"maybeprop"}else if(g){y=t.match(/^\s*:(?:\s|$)/,false)?"property":"tag";return"block"}else{y+=" error";return"maybeprop"}}else if(e=="meta"){return"block"}else if(!g&&(e=="hash"||e=="qualifier")){y="error";return"block"}else{return P.top(e,t,n)}};P.maybeprop=function(e,t,n){if(e==":")return S(n,t,"prop");return T(e,t,n)};P.prop=function(e,t,n){if(e==";")return O(n);if(e=="{"&&g)return S(n,t,"propBlock");if(e=="}"||e=="{")return j(e,t,n);if(e=="(")return S(n,t,"parens");if(e=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){y+=" error"}else if(e=="word"){E(t)}else if(e=="interpolation"){return S(n,t,"interpolation")}return"prop"};P.propBlock=function(e,t,n){if(e=="}")return O(n);if(e=="word"){y="property";return"maybeprop"}return n.context.type};P.parens=function(e,t,n){if(e=="{"||e=="}")return j(e,t,n);if(e==")")return O(n);if(e=="(")return S(n,t,"parens");if(e=="interpolation")return S(n,t,"interpolation");if(e=="word")E(t);return"parens"};P.pseudo=function(e,t,n){if(e=="meta")return"pseudo";if(e=="word"){y="variable-3";return n.context.type}return T(e,t,n)};P.documentTypes=function(e,t,n){if(e=="word"&&i.hasOwnProperty(t.current())){y="tag";return n.context.type}else{return P.atBlock(e,t,n)}};P.atBlock=function(e,t,n){if(e=="(")return S(n,t,"atBlock_parens");if(e=="}"||e==";")return j(e,t,n);if(e=="{")return O(n)&&S(n,t,g?"block":"top");if(e=="interpolation")return S(n,t,"interpolation");if(e=="word"){var i=t.current().toLowerCase();if(i=="only"||i=="not"||i=="and"||i=="or")y="keyword";else if(s.hasOwnProperty(i))y="attribute";else if(a.hasOwnProperty(i))y="property";else if(l.hasOwnProperty(i))y="keyword";else if(c.hasOwnProperty(i))y="property";else if(u.hasOwnProperty(i))y="string-2";else if(p.hasOwnProperty(i))y="atom";else if(f.hasOwnProperty(i))y="keyword";else y="error"}return n.context.type};P.atComponentBlock=function(e,t,n){if(e=="}")return j(e,t,n);if(e=="{")return O(n)&&S(n,t,g?"block":"top",false);if(e=="word")y="error";return n.context.type};P.atBlock_parens=function(e,t,n){if(e==")")return O(n);if(e=="{"||e=="}")return j(e,t,n,2);return P.atBlock(e,t,n)};P.restricted_atBlock_before=function(e,t,n){if(e=="{")return S(n,t,"restricted_atBlock");if(e=="word"&&n.stateArg=="@counter-style"){y="variable";return"restricted_atBlock_before"}return T(e,t,n)};P.restricted_atBlock=function(e,t,n){if(e=="}"){n.stateArg=null;return O(n)}if(e=="word"){if(n.stateArg=="@font-face"&&!h.hasOwnProperty(t.current().toLowerCase())||n.stateArg=="@counter-style"&&!d.hasOwnProperty(t.current().toLowerCase()))y="error";else y="property";return"maybeprop"}return"restricted_atBlock"};P.keyframes=function(e,t,n){if(e=="word"){y="variable";return"keyframes"}if(e=="{")return S(n,t,"top");return T(e,t,n)};P.at=function(e,t,n){if(e==";")return O(n);if(e=="{"||e=="}")return j(e,t,n);if(e=="word")y="tag";else if(e=="hash")y="builtin";return"at"};P.interpolation=function(e,t,n){if(e=="}")return O(n);if(e=="{"||e==";")return j(e,t,n);if(e=="word")y="variable";else if(e!="variable"&&e!="("&&e!=")")y="error";return"interpolation"};return{startState:function(e){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new k(n?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||_)(e,t);if(n&&typeof n=="object"){b=n[1];n=n[0]}y=n;if(b!="comment")t.state=P[t.state](b,e,t);return y},indent:function(e,t){var n=e.context,i=t&&t.charAt(0);var r=n.indent;if(n.type=="prop"&&(i=="}"||i==")"))n=n.prev;if(n.prev){if(i=="}"&&(n.type=="block"||n.type=="top"||n.type=="interpolation"||n.type=="restricted_atBlock")){n=n.prev;r=n.indent}else if(i==")"&&(n.type=="parens"||n.type=="atBlock_parens")||i=="{"&&(n.type=="at"||n.type=="atBlock")){r=Math.max(0,n.indent-o)}}return r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:m,fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=e(t),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],r=e(i),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=e(o),a=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],l=e(a),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=e(c),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=e(h),f,p=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g,m=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),v=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=e(v),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=e(y),_=t.concat(i).concat(o).concat(a).concat(c).concat(h).concat(v).concat(y);function x(e,t){var n=false,i;while((i=e.next())!=null){if(n&&i=="/"){t.tokenize=null;break}n=i=="*"}return["comment","comment"]}D.registerHelper("hintWords","css",_),D.defineMIME("text/css",{documentTypes:n,mediaTypes:r,mediaFeatures:s,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:d,fontProperties:p,counterDescriptors:m,colorKeywords:b,valueKeywords:w,tokenHooks:{"/":function(e,t){if(!e.eat("*"))return false;t.tokenize=x;return x(e,t)}},name:"css"}),D.defineMIME("text/x-scss",{mediaTypes:r,mediaFeatures:s,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:d,colorKeywords:b,valueKeywords:w,fontProperties:p,allowNested:true,lineComment:"//",tokenHooks:{"/":function(e,t){if(e.eat("/")){e.skipToEnd();return["comment","comment"]}else if(e.eat("*")){t.tokenize=x;return x(e,t)}else{return["operator","operator"]}},":":function(e){if(e.match(/\s*\{/,false))return[null,null];return false},$:function(e){e.match(/^[\w-]+/);if(e.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"#":function(e){if(!e.eat("{"))return false;return[null,"interpolation"]}},name:"css",helperType:"scss"}),D.defineMIME("text/x-less",{mediaTypes:r,mediaFeatures:s,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:d,colorKeywords:b,valueKeywords:w,fontProperties:p,allowNested:true,lineComment:"//",tokenHooks:{"/":function(e,t){if(e.eat("/")){e.skipToEnd();return["comment","comment"]}else if(e.eat("*")){t.tokenize=x;return x(e,t)}else{return["operator","operator"]}},"@":function(e){if(e.eat("{"))return[null,"interpolation"];if(e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,false))return false;e.eatWhile(/[\w\\\-]/);if(e.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),D.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:r,mediaFeatures:s,propertyKeywords:u,nonStandardPropertyKeywords:d,fontProperties:p,counterDescriptors:m,colorKeywords:b,valueKeywords:w,supportsAtComponent:true,tokenHooks:{"/":function(e,t){if(!e.eat("*"))return false;t.tokenize=x;return x(e,t)}},name:"css",helperType:"gss"})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/codemirror/mode/htmlmixed/htmlmixed.js":function(e,t,n){!function(p){"use strict";var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function g(e,t,n){var i=e.current(),r=i.search(t);if(r>-1){e.backUp(i.length-r)}else if(i.match(/<\/?$/)){e.backUp(i.length);if(!e.match(t,false))e.match(i)}return n}var n={};function i(e){var t=n[e];if(t)return t;return n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function o(e,t){var n=e.match(i(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function m(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var n in e){var i=t[n]||(t[n]=[]);var r=e[n];for(var o=r.length-1;o>=0;o--)i.unshift(r[o])}}function v(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(o(t,i[0])))return i[2]}}p.defineMode("htmlmixed",function(u,e){var h=p.getMode(u,{name:"xml",htmlMode:true,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag});var d={};var t=e&&e.tags,n=e&&e.scriptTypes;s(r,d);if(t)s(t,d);if(n)for(var i=n.length-1;i>=0;i--)d.script.unshift(["type",n[i].matches,n[i].mode]);function f(e,t){var n=h.token(e,t.htmlState),i=/\btag\b/.test(n),r;if(i&&!/[<>\s\/]/.test(e.current())&&(r=t.htmlState.tagName&&t.htmlState.tagName.toLowerCase())&&d.hasOwnProperty(r)){t.inTag=r+" "}else if(t.inTag&&i&&/>$/.test(e.current())){var o=/^([\S]+) (.*)/.exec(t.inTag);t.inTag=null;var s=e.current()==">"&&v(d[o[1]],o[2]);var a=p.getMode(u,s);var l=m(o[1],true),c=m(o[1],false);t.token=function(e,t){if(e.match(l,false)){t.token=f;t.localState=t.localMode=null;return null}return g(e,c,t.localMode.token(e,t.localState))};t.localMode=a;t.localState=p.startState(a,h.indent(t.htmlState,"",""))}else if(t.inTag){t.inTag+=e.current();if(e.eol())t.inTag+=" "}return n}return{startState:function(){var e=p.startState(h);return{token:f,inTag:null,localMode:null,localState:null,htmlState:e}},copyState:function(e){var t;if(e.localState){t=p.copyState(e.localMode,e.localState)}return{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:t,htmlState:p.copyState(h,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t,n){if(!e.localMode||/^\s*<\//.test(t))return h.indent(e.htmlState,t,n);else if(e.localMode.indent)return e.localMode.indent(e.localState,t,n);else return p.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||h}}}},"xml","javascript","css"),p.defineMIME("text/html","htmlmixed")}(n("./node_modules/codemirror/lib/codemirror.js"),(n("./node_modules/codemirror/mode/xml/xml.js"),n("./node_modules/codemirror/mode/javascript/javascript.js"),n("./node_modules/codemirror/mode/css/css.js")))},"./node_modules/codemirror/mode/javascript/javascript.js":function(e,t,n){!function(et){"use strict";et.defineMode("javascript",function(e,c){var u=e.indentUnit;var h=c.statementIndent;var o=c.jsonld;var a=c.json||o;var d=c.typescript;var f=c.wordCharacters||/[\w$\xa1-\uffff]/;var s=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("keyword d");var o=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:i,void:i,throw:i,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i}}();var l=/[+\-*&%=<>!?|~^@]/;var p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(e){var t=false,n,i=false;while((n=e.next())!=null){if(!t){if(n=="/"&&!i)return;if(n=="[")i=true;else if(i&&n=="]")i=false}t=!t&&n=="\\"}}var i,r;function m(e,t,n){i=e;r=n;return t}function v(e,t){var n=e.next();if(n=='"'||n=="'"){t.tokenize=b(n);return t.tokenize(e,t)}else if(n=="."&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)){return m("number","number")}else if(n=="."&&e.match("..")){return m("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(n)){return m(n)}else if(n=="="&&e.eat(">")){return m("=>","operator")}else if(n=="0"&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)){return m("number","number")}else if(/\d/.test(n)){e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/);return m("number","number")}else if(n=="/"){if(e.eat("*")){t.tokenize=y;return y(e,t)}else if(e.eat("/")){e.skipToEnd();return m("comment","comment")}else if(Je(e,t,1)){g(e);e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return m("regexp","string-2")}else{e.eat("=");return m("operator","operator",e.current())}}else if(n=="`"){t.tokenize=w;return w(e,t)}else if(n=="#"){e.skipToEnd();return m("error","error")}else if(n=="<"&&e.match("!--")||n=="-"&&e.match("->")){e.skipToEnd();return m("comment","comment")}else if(l.test(n)){if(n!=">"||!t.lexical||t.lexical.type!=">"){if(e.eat("=")){if(n=="!"||n=="=")e.eat("=")}else if(/[<>*+\-]/.test(n)){e.eat(n);if(n==">")e.eat(n)}}return m("operator","operator",e.current())}else if(f.test(n)){e.eatWhile(f);var i=e.current();if(t.lastType!="."){if(s.propertyIsEnumerable(i)){var r=s[i];return m(r.type,r.style,i)}if(i=="async"&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,false))return m("async","keyword",i)}return m("variable","variable",i)}}function b(r){return function(e,t){var n=false,i;if(o&&e.peek()=="@"&&e.match(p)){t.tokenize=v;return m("jsonld-keyword","meta")}while((i=e.next())!=null){if(i==r&&!n)break;n=!n&&i=="\\"}if(!n)t.tokenize=v;return m("string","string")}}function y(e,t){var n=false,i;while(i=e.next()){if(i=="/"&&n){t.tokenize=v;break}n=i=="*"}return m("comment","comment")}function w(e,t){var n=false,i;while((i=e.next())!=null){if(!n&&(i=="`"||i=="$"&&e.eat("{"))){t.tokenize=v;break}n=!n&&i=="\\"}return m("quasi","string-2",e.current())}var _="([{}])";function x(e,t){if(t.fatArrowAt)t.fatArrowAt=null;var n=e.string.indexOf("=>",e.start);if(n<0)return;if(d){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));if(i)n=i.index}var r=0,o=false;for(var s=n-1;s>=0;--s){var a=e.string.charAt(s);var l=_.indexOf(a);if(l>=0&&l<3){if(!r){++s;break}if(--r==0){if(a=="(")o=true;break}}else if(l>=3&&l<6){++r}else if(f.test(a)){o=true}else if(/["'\/`]/.test(a)){for(;;--s){if(s==0)return;var c=e.string.charAt(s-1);if(c==a&&e.string.charAt(s-2)!="\\"){s--;break}}}else if(o&&!r){++s;break}}if(o&&!r)t.fatArrowAt=s}var C={atom:true,number:true,variable:true,string:true,regexp:true,this:true,"jsonld-keyword":true};function k(e,t,n,i,r,o){this.indented=e;this.column=t;this.type=n;this.prev=r;this.info=o;if(i!=null)this.align=i}function S(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return true;for(var i=e.context;i;i=i.prev){for(var n=i.vars;n;n=n.next)if(n.name==t)return true}}function O(e,t,n,i,r){var o=e.cc;T.state=e;T.stream=r;T.marked=null,T.cc=o;T.style=t;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var s=o.length?o.pop():a?W:$;if(s(n,i)){while(o.length&&o[o.length-1].lex)o.pop()();if(T.marked)return T.marked;if(n=="variable"&&S(e,i))return"variable-2";return t}}}var T={state:null,column:null,marked:null,cc:null};function j(){for(var e=arguments.length-1;e>=0;e--)T.cc.push(arguments[e])}function E(){j.apply(null,arguments);return true}function P(e,t){for(var n=t;n;n=n.next)if(n.name==e)return true;return false}function n(e){var t=T.state;T.marked="def";if(t.context){if(t.lexical.info=="var"&&t.context&&t.context.block){var n=D(e,t.context);if(n!=null){t.context=n;return}}else if(!P(e,t.localVars)){t.localVars=new I(e,t.localVars);return}}if(c.globalVars&&!P(e,t.globalVars))t.globalVars=new I(e,t.globalVars)}function D(e,t){if(!t){return null}else if(t.block){var n=D(e,t.prev);if(!n)return null;if(n==t.prev)return t;return new M(n,t.vars,true)}else if(P(e,t.vars)){return t}else{return new M(t.prev,new I(e,t.vars),false)}}function A(e){return e=="public"||e=="private"||e=="protected"||e=="abstract"||e=="readonly"}function M(e,t,n){this.prev=e;this.vars=t;this.block=n}function I(e,t){this.name=e;this.next=t}var t=new I("this",new I("arguments",null));function L(){T.state.context=new M(T.state.context,T.state.localVars,false);T.state.localVars=t}function N(){T.state.context=new M(T.state.context,T.state.localVars,true);T.state.localVars=null}function F(){T.state.localVars=T.state.context.vars;T.state.context=T.state.context.prev}F.lex=true;function z(i,r){var e=function(){var e=T.state,t=e.indented;if(e.lexical.type=="stat")t=e.lexical.indented;else for(var n=e.lexical;n&&n.type==")"&&n.align;n=n.prev)t=n.indented;e.lexical=new k(t,T.stream.column(),i,null,e.lexical,r)};e.lex=true;return e}function H(){var e=T.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}H.lex=true;function R(t){function n(e){if(e==t)return E();else if(t==";"||e=="}"||e==")"||e=="]")return j();else return E(n)}return n}function $(e,t){if(e=="var")return E(z("vardef",t),Ce,R(";"),H);if(e=="keyword a")return E(z("form"),U,$,H);if(e=="keyword b")return E(z("form"),$,H);if(e=="keyword d")return T.stream.match(/^\s*$/,false)?E():E(z("stat"),Y,R(";"),H);if(e=="debugger")return E(R(";"));if(e=="{")return E(z("}"),N,ue,H,F);if(e==";")return E();if(e=="if"){if(T.state.lexical.info=="else"&&T.state.cc[T.state.cc.length-1]==H)T.state.cc.pop()();return E(z("form"),U,$,H,Ee)}if(e=="function")return E(Me);if(e=="for")return E(z("form"),Pe,$,H);if(e=="class"||d&&t=="interface"){T.marked="keyword";return E(z("form",e=="class"?e:t),ze,H)}if(e=="variable"){if(d&&t=="declare"){T.marked="keyword";return E($)}else if(d&&(t=="module"||t=="enum"||t=="type")&&T.stream.match(/^\s*\w/,false)){T.marked="keyword";if(t=="enum")return E(Xe);else if(t=="type")return E(Le,R("operator"),ge,R(";"));else return E(z("form"),ke,R("{"),z("}"),ue,H,H)}else if(d&&t=="namespace"){T.marked="keyword";return E(z("form"),W,$,H)}else if(d&&t=="abstract"){T.marked="keyword";return E($)}else{return E(z("stat"),ie)}}if(e=="switch")return E(z("form"),U,R("{"),z("}","switch"),N,ue,H,H,F);if(e=="case")return E(W,R(":"));if(e=="default")return E(R(":"));if(e=="catch")return E(z("form"),L,V,$,H,F);if(e=="export")return E(z("stat"),Ve,H);if(e=="import")return E(z("stat"),Be,H);if(e=="async")return E($);if(t=="@")return E(W,$);return j(z("stat"),W,R(";"),H)}function V(e){if(e=="(")return E(Ne,R(")"))}function W(e,t){return q(e,t,false)}function B(e,t){return q(e,t,true)}function U(e){if(e!="(")return j();return E(z(")"),W,R(")"),H)}function q(e,t,n){if(T.state.fatArrowAt==T.stream.start){var i=n?J:Z;if(e=="(")return E(L,z(")"),le(Ne,")"),H,R("=>"),i,F);else if(e=="variable")return j(L,ke,R("=>"),i,F)}var r=n?K:G;if(C.hasOwnProperty(e))return E(r);if(e=="function")return E(Me,r);if(e=="class"||d&&t=="interface"){T.marked="keyword";return E(z("form"),Fe,H)}if(e=="keyword c"||e=="async")return E(n?B:W);if(e=="(")return E(z(")"),Y,R(")"),H,r);if(e=="operator"||e=="spread")return E(n?B:W);if(e=="[")return E(z("]"),Ke,H,r);if(e=="{")return ce(oe,"}",null,r);if(e=="quasi")return j(X,r);if(e=="new")return E(ee(n));if(e=="import")return E(W);return E()}function Y(e){if(e.match(/[;\}\)\],]/))return j();return j(W)}function G(e,t){if(e==",")return E(W);return K(e,t,false)}function K(e,t,n){var i=n==false?G:K;var r=n==false?W:B;if(e=="=>")return E(L,n?J:Z,F);if(e=="operator"){if(/\+\+|--/.test(t)||d&&t=="!")return E(i);if(d&&t=="<"&&T.stream.match(/^([^>]|<.*?>)*>\s*\(/,false))return E(z(">"),le(ge,">"),H,i);if(t=="?")return E(W,R(":"),r);return E(r)}if(e=="quasi"){return j(X,i)}if(e==";")return;if(e=="(")return ce(B,")","call",i);if(e==".")return E(re,i);if(e=="[")return E(z("]"),Y,R("]"),H,i);if(d&&t=="as"){T.marked="keyword";return E(ge,i)}if(e=="regexp"){T.state.lastType=T.marked="operator";T.stream.backUp(T.stream.pos-T.stream.start-1);return E(r)}}function X(e,t){if(e!="quasi")return j();if(t.slice(t.length-2)!="${")return E(X);return E(W,Q)}function Q(e){if(e=="}"){T.marked="string-2";T.state.tokenize=w;return E(X)}}function Z(e){x(T.stream,T.state);return j(e=="{"?$:W)}function J(e){x(T.stream,T.state);return j(e=="{"?$:B)}function ee(t){return function(e){if(e==".")return E(t?ne:te);else if(e=="variable"&&d)return E(we,t?K:G);else return j(t?B:W)}}function te(e,t){if(t=="target"){T.marked="keyword";return E(G)}}function ne(e,t){if(t=="target"){T.marked="keyword";return E(K)}}function ie(e){if(e==":")return E(H,$);return j(G,R(";"),H)}function re(e){if(e=="variable"){T.marked="property";return E()}}function oe(e,t){if(e=="async"){T.marked="property";return E(oe)}else if(e=="variable"||T.style=="keyword"){T.marked="property";if(t=="get"||t=="set")return E(se);var n;if(d&&T.state.fatArrowAt==T.stream.start&&(n=T.stream.match(/^\s*:\s*/,false)))T.state.fatArrowAt=T.stream.pos+n[0].length;return E(ae)}else if(e=="number"||e=="string"){T.marked=o?"property":T.style+" property";return E(ae)}else if(e=="jsonld-keyword"){return E(ae)}else if(d&&A(t)){T.marked="keyword";return E(oe)}else if(e=="["){return E(W,he,R("]"),ae)}else if(e=="spread"){return E(B,ae)}else if(t=="*"){T.marked="keyword";return E(oe)}else if(e==":"){return j(ae)}}function se(e){if(e!="variable")return j(ae);T.marked="property";return E(Me)}function ae(e){if(e==":")return E(B);if(e=="(")return j(Me)}function le(i,r,o){function s(e,t){if(o?o.indexOf(e)>-1:e==","){var n=T.state.lexical;if(n.info=="call")n.pos=(n.pos||0)+1;return E(function(e,t){if(e==r||t==r)return j();return j(i)},s)}if(e==r||t==r)return E();if(o&&o.indexOf(";")>-1)return j(i);return E(R(r))}return function(e,t){if(e==r||t==r)return E();return j(i,s)}}function ce(e,t,n){for(var i=3;i<arguments.length;i++)T.cc.push(arguments[i]);return E(z(t,n),le(e,t),H)}function ue(e){if(e=="}")return E();return j($,ue)}function he(e,t){if(d){if(e==":")return E(ge);if(t=="?")return E(he)}}function de(e,t){if(d&&(e==":"||t=="in"))return E(ge)}function fe(e){if(d&&e==":"){if(T.stream.match(/^\s*\w+\s+is\b/,false))return E(W,pe,ge);else return E(ge)}}function pe(e,t){if(t=="is"){T.marked="keyword";return E()}}function ge(e,t){if(t=="keyof"||t=="typeof"||t=="infer"){T.marked="keyword";return E(t=="typeof"?B:ge)}if(e=="variable"||t=="void"){T.marked="type";return E(ye)}if(t=="|"||t=="&")return E(ge);if(e=="string"||e=="number"||e=="atom")return E(ye);if(e=="[")return E(z("]"),le(ge,"]",","),H,ye);if(e=="{")return E(z("}"),le(ve,"}",",;"),H,ye);if(e=="(")return E(le(be,")"),me,ye);if(e=="<")return E(le(ge,">"),ge)}function me(e){if(e=="=>")return E(ge)}function ve(e,t){if(e=="variable"||T.style=="keyword"){T.marked="property";return E(ve)}else if(t=="?"||e=="number"||e=="string"){return E(ve)}else if(e==":"){return E(ge)}else if(e=="["){return E(R("variable"),de,R("]"),ve)}else if(e=="("){return j(Ie,ve)}}function be(e,t){if(e=="variable"&&T.stream.match(/^\s*[?:]/,false)||t=="?")return E(be);if(e==":")return E(ge);if(e=="spread")return E(be);return j(ge)}function ye(e,t){if(t=="<")return E(z(">"),le(ge,">"),H,ye);if(t=="|"||e=="."||t=="&")return E(ge);if(e=="[")return E(ge,R("]"),ye);if(t=="extends"||t=="implements"){T.marked="keyword";return E(ge)}if(t=="?")return E(ge,R(":"),ge)}function we(e,t){if(t=="<")return E(z(">"),le(ge,">"),H,ye)}function _e(){return j(ge,xe)}function xe(e,t){if(t=="=")return E(ge)}function Ce(e,t){if(t=="enum"){T.marked="keyword";return E(Xe)}return j(ke,he,Te,je)}function ke(e,t){if(d&&A(t)){T.marked="keyword";return E(ke)}if(e=="variable"){n(t);return E()}if(e=="spread")return E(ke);if(e=="[")return ce(Oe,"]");if(e=="{")return ce(Se,"}")}function Se(e,t){if(e=="variable"&&!T.stream.match(/^\s*:/,false)){n(t);return E(Te)}if(e=="variable")T.marked="property";if(e=="spread")return E(ke);if(e=="}")return j();if(e=="[")return E(W,R("]"),R(":"),Se);return E(R(":"),ke,Te)}function Oe(){return j(ke,Te)}function Te(e,t){if(t=="=")return E(B)}function je(e){if(e==",")return E(Ce)}function Ee(e,t){if(e=="keyword b"&&t=="else")return E(z("form","else"),$,H)}function Pe(e,t){if(t=="await")return E(Pe);if(e=="(")return E(z(")"),De,H)}function De(e){if(e=="var")return E(Ce,Ae);if(e=="variable")return E(Ae);return j(Ae)}function Ae(e,t){if(e==")")return E();if(e==";")return E(Ae);if(t=="in"||t=="of"){T.marked="keyword";return E(W,Ae)}return j(W,Ae)}function Me(e,t){if(t=="*"){T.marked="keyword";return E(Me)}if(e=="variable"){n(t);return E(Me)}if(e=="(")return E(L,z(")"),le(Ne,")"),H,fe,$,F);if(d&&t=="<")return E(z(">"),le(_e,">"),H,Me)}function Ie(e,t){if(t=="*"){T.marked="keyword";return E(Ie)}if(e=="variable"){n(t);return E(Ie)}if(e=="(")return E(L,z(")"),le(Ne,")"),H,fe,F);if(d&&t=="<")return E(z(">"),le(_e,">"),H,Ie)}function Le(e,t){if(e=="keyword"||e=="variable"){T.marked="type";return E(Le)}else if(t=="<"){return E(z(">"),le(_e,">"),H)}}function Ne(e,t){if(t=="@")E(W,Ne);if(e=="spread")return E(Ne);if(d&&A(t)){T.marked="keyword";return E(Ne)}if(d&&e=="this")return E(he,Te);return j(ke,he,Te)}function Fe(e,t){if(e=="variable")return ze(e,t);return He(e,t)}function ze(e,t){if(e=="variable"){n(t);return E(He)}}function He(e,t){if(t=="<")return E(z(">"),le(_e,">"),H,He);if(t=="extends"||t=="implements"||d&&e==","){if(t=="implements")T.marked="keyword";return E(d?ge:W,He)}if(e=="{")return E(z("}"),Re,H)}function Re(e,t){if(e=="async"||e=="variable"&&(t=="static"||t=="get"||t=="set"||d&&A(t))&&T.stream.match(/^\s+[\w$\xa1-\uffff]/,false)){T.marked="keyword";return E(Re)}if(e=="variable"||T.style=="keyword"){T.marked="property";return E(d?$e:Me,Re)}if(e=="number"||e=="string")return E(d?$e:Me,Re);if(e=="[")return E(W,he,R("]"),d?$e:Me,Re);if(t=="*"){T.marked="keyword";return E(Re)}if(d&&e=="(")return j(Ie,Re);if(e==";"||e==",")return E(Re);if(e=="}")return E();if(t=="@")return E(W,Re)}function $e(e,t){if(t=="?")return E($e);if(e==":")return E(ge,Te);if(t=="=")return E(B);var n=T.state.lexical.prev,i=n&&n.info=="interface";return j(i?Ie:Me)}function Ve(e,t){if(t=="*"){T.marked="keyword";return E(Ge,R(";"))}if(t=="default"){T.marked="keyword";return E(W,R(";"))}if(e=="{")return E(le(We,"}"),Ge,R(";"));return j($)}function We(e,t){if(t=="as"){T.marked="keyword";return E(R("variable"))}if(e=="variable")return j(B,We)}function Be(e){if(e=="string")return E();if(e=="(")return j(W);return j(Ue,qe,Ge)}function Ue(e,t){if(e=="{")return ce(Ue,"}");if(e=="variable")n(t);if(t=="*")T.marked="keyword";return E(Ye)}function qe(e){if(e==",")return E(Ue,qe)}function Ye(e,t){if(t=="as"){T.marked="keyword";return E(Ue)}}function Ge(e,t){if(t=="from"){T.marked="keyword";return E(W)}}function Ke(e){if(e=="]")return E();return j(le(B,"]"))}function Xe(){return j(z("form"),ke,R("{"),z("}"),le(Qe,"}"),H,H)}function Qe(){return j(ke,Te)}function Ze(e,t){return e.lastType=="operator"||e.lastType==","||l.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Je(e,t,n){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||t.lastType=="quasi"&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new k((e||0)-u,0,"block",false),localVars:c.localVars,context:c.localVars&&new M(null,null,false),indented:e||0};if(c.globalVars&&typeof c.globalVars=="object")t.globalVars=c.globalVars;return t},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation();x(e,t)}if(t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);if(i=="comment")return n;t.lastType=i=="operator"&&(r=="++"||r=="--")?"incdec":i;return O(t,n,i,r,e)},indent:function(e,t){if(e.tokenize==y)return et.Pass;if(e.tokenize!=v)return 0;var n=t&&t.charAt(0),i=e.lexical,r;if(!/^\s*else\b/.test(t))for(var o=e.cc.length-1;o>=0;--o){var s=e.cc[o];if(s==H)i=i.prev;else if(s!=Ee)break}while((i.type=="stat"||i.type=="form")&&(n=="}"||(r=e.cc[e.cc.length-1])&&(r==G||r==K)&&!/^[,\.=+\-*:?[\(]/.test(t)))i=i.prev;if(h&&i.type==")"&&i.prev.type=="stat")i=i.prev;var a=i.type,l=n==a;if(a=="vardef")return i.indented+(e.lastType=="operator"||e.lastType==","?i.info.length+1:0);else if(a=="form"&&n=="{")return i.indented;else if(a=="form")return i.indented+u;else if(a=="stat")return i.indented+(Ze(e,t)?h||u:0);else if(i.info=="switch"&&!l&&c.doubleIndentSwitch!=false)return i.indented+(/^(?:case|default)\b/.test(t)?u:2*u);else if(i.align)return i.column+(l?0:1);else return i.indented+(l?0:u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a,expressionAllowed:Je,skipExpression:function(e){var t=e.cc[e.cc.length-1];if(t==W||t==B)e.cc.pop()}}}),et.registerHelper("wordChars","javascript",/[\w$]/),et.defineMIME("text/javascript","javascript"),et.defineMIME("text/ecmascript","javascript"),et.defineMIME("application/javascript","javascript"),et.defineMIME("application/x-javascript","javascript"),et.defineMIME("application/ecmascript","javascript"),et.defineMIME("application/json",{name:"javascript",json:true}),et.defineMIME("application/x-json",{name:"javascript",json:true}),et.defineMIME("application/ld+json",{name:"javascript",jsonld:true}),et.defineMIME("text/typescript",{name:"javascript",typescript:true}),et.defineMIME("application/typescript",{name:"javascript",typescript:true})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/codemirror/mode/xml/xml.js":function(e,t,n){!function(S){"use strict";var O={autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true},T={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,allowMissingTagName:false,caseFold:false};if(S.defineMode("xml",function(e,t){var s=e.indentUnit;var a={};var n=t.htmlMode?O:T;for(var i in n)a[i]=n[i];for(var i in t)a[i]=t[i];var o,l;function c(t,n){function e(e){n.tokenize=e;return e(t,n)}var i=t.next();if(i=="<"){if(t.eat("!")){if(t.eat("[")){if(t.match("CDATA["))return e(h("atom","]]>"));else return null}else if(t.match("--")){return e(h("comment","--\x3e"))}else if(t.match("DOCTYPE",true,true)){t.eatWhile(/[\w\._\-]/);return e(d(1))}else{return null}}else if(t.eat("?")){t.eatWhile(/[\w\._\-]/);n.tokenize=h("meta","?>");return"meta"}else{o=t.eat("/")?"closeTag":"openTag";n.tokenize=u;return"tag bracket"}}else if(i=="&"){var r;if(t.eat("#")){if(t.eat("x")){r=t.eatWhile(/[a-fA-F\d]/)&&t.eat(";")}else{r=t.eatWhile(/[\d]/)&&t.eat(";")}}else{r=t.eatWhile(/[\w\.\-:]/)&&t.eat(";")}return r?"atom":"error"}else{t.eatWhile(/[^&<]/);return null}}c.isInText=true;function u(e,t){var n=e.next();if(n==">"||n=="/"&&e.eat(">")){t.tokenize=c;o=n==">"?"endTag":"selfcloseTag";return"tag bracket"}else if(n=="="){o="equals";return null}else if(n=="<"){t.tokenize=c;t.state=m;t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}else if(/[\'\"]/.test(n)){t.tokenize=r(n);t.stringStartCol=e.column();return t.tokenize(e,t)}else{e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}function r(n){var e=function(e,t){while(!e.eol()){if(e.next()==n){t.tokenize=u;break}}return"string"};e.isInAttribute=true;return e}function h(n,i){return function(e,t){while(!e.eol()){if(e.match(i)){t.tokenize=c;break}e.next()}return n}}function d(i){return function(e,t){var n;while((n=e.next())!=null){if(n=="<"){t.tokenize=d(i+1);return t.tokenize(e,t)}else if(n==">"){if(i==1){t.tokenize=c;break}else{t.tokenize=d(i-1);return t.tokenize(e,t)}}}return"meta"}}function f(e,t,n){this.prev=e.context;this.tagName=t;this.indent=e.indented;this.startOfLine=n;if(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)this.noIndent=true}function p(e){if(e.context)e.context=e.context.prev}function g(e,t){var n;while(true){if(!e.context){return}n=e.context.tagName;if(!a.contextGrabbers.hasOwnProperty(n)||!a.contextGrabbers[n].hasOwnProperty(t)){return}p(e)}}function m(e,t,n){if(e=="openTag"){n.tagStart=t.column();return v}else if(e=="closeTag"){return b}else{return m}}function v(e,t,n){if(e=="word"){n.tagName=t.current();l="tag";return _}else if(a.allowMissingTagName&&e=="endTag"){l="tag bracket";return _(e,t,n)}else{l="error";return v}}function b(e,t,n){if(e=="word"){var i=t.current();if(n.context&&n.context.tagName!=i&&a.implicitlyClosed.hasOwnProperty(n.context.tagName))p(n);if(n.context&&n.context.tagName==i||a.matchClosing===false){l="tag";return y}else{l="tag error";return w}}else if(a.allowMissingTagName&&e=="endTag"){l="tag bracket";return y(e,t,n)}else{l="error";return w}}function y(e,t,n){if(e!="endTag"){l="error";return y}p(n);return m}function w(e,t,n){l="error";return y(e,t,n)}function _(e,t,n){if(e=="word"){l="attribute";return x}else if(e=="endTag"||e=="selfcloseTag"){var i=n.tagName,r=n.tagStart;n.tagName=n.tagStart=null;if(e=="selfcloseTag"||a.autoSelfClosers.hasOwnProperty(i)){g(n,i)}else{g(n,i);n.context=new f(n,i,r==n.indented)}return m}l="error";return _}function x(e,t,n){if(e=="equals")return C;if(!a.allowMissing)l="error";return _(e,t,n)}function C(e,t,n){if(e=="string")return k;if(e=="word"&&a.allowUnquoted){l="string";return _}l="error";return _(e,t,n)}function k(e,t,n){if(e=="string")return k;return _(e,t,n)}return{startState:function(e){var t={tokenize:c,state:m,indented:e||0,tagName:null,tagStart:null,context:null};if(e!=null)t.baseIndent=e;return t},token:function(e,t){if(!t.tagName&&e.sol())t.indented=e.indentation();if(e.eatSpace())return null;o=null;var n=t.tokenize(e,t);if((n||o)&&n!="comment"){l=null;t.state=t.state(o||n,e,t);if(l)n=l=="error"?n+" error":l}return n},indent:function(e,t,n){var i=e.context;if(e.tokenize.isInAttribute){if(e.tagStart==e.indented)return e.stringStartCol+1;else return e.indented+s}if(i&&i.noIndent)return S.Pass;if(e.tokenize!=u&&e.tokenize!=c)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName){if(a.multilineTagIndentPastTag!==false)return e.tagStart+e.tagName.length+2;else return e.tagStart+s*(a.multilineTagIndentFactor||1)}if(a.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var r=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(r&&r[1]){while(i){if(i.tagName==r[2]){i=i.prev;break}else if(a.implicitlyClosed.hasOwnProperty(i.tagName)){i=i.prev}else{break}}}else if(r){while(i){var o=a.contextGrabbers[i.tagName];if(o&&o.hasOwnProperty(r[2]))i=i.prev;else break}}while(i&&i.prev&&!i.startOfLine)i=i.prev;if(i)return i.indent+s;else return e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){if(e.state==C)e.state=_},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:e.type=="closeTag"}:null},xmlCurrentContext:function(e){var t=[];for(var n=e.context;n;n=n.prev)if(n.tagName)t.push(n.tagName);return t.reverse()}}}),S.defineMIME("text/xml","xml"),S.defineMIME("application/xml","xml"),!S.mimeModes.hasOwnProperty("text/html"))S.defineMIME("text/html",{name:"xml",htmlMode:true})}(n("./node_modules/codemirror/lib/codemirror.js"))},"./node_modules/keymaster/keymaster.js":function(s,e,t){!function(t){for(var l={},a={16:!1,18:!1,17:!1,91:!1},n="all",c={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,command:91},i={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},u=function(e){return i[e]||e.toUpperCase().charCodeAt(0)},h=[],d=1;d<20;d++)i["f"+d]=111+d;function f(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}var p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function r(e){var t,n,i,r,o,s=e.keyCode;if(-1==f(h,s)&&h.push(s),93!=s&&224!=s||(s=91),s in a)for(n in a[s]=!0,c)c[n]==s&&(g[n]=!0);else if(!function(e){for(d in a)a[d]=e[p[d]]}(e),g.filter.call(this,e)&&s in l)for(o=m(),i=0;i<l[s].length;i++)if((t=l[s][i]).scope==o||"all"==t.scope){for(n in r=0<t.mods.length,a)(!a[n]&&-1<f(t.mods,+n)||a[n]&&-1==f(t.mods,+n))&&(r=!1);(0!=t.mods.length||a[16]||a[18]||a[17]||a[91])&&!r||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function g(e,t,n){var i,r=v(e);void 0===n&&(n=t,t="all");for(var o=0;o<r.length;o++)i=[],1<(e=r[o].split("+")).length&&(i=b(e),e=[e[e.length-1]]),e=e[0],(e=u(e))in l||(l[e]=[]),l[e].push({shortcut:r[o],scope:t,method:n,key:r[o],mods:i})}for(d in c)g[d]=!1;function m(){return n||"all"}function v(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function b(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=c[t[n]];return t}function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}e(document,"keydown",function(e){r(e)}),e(document,"keyup",function(e){var t,n=e.keyCode,i=f(h,n);if(0<=i&&h.splice(i,1),93!=n&&224!=n||(n=91),n in a)for(t in a[n]=!1,c)c[t]==n&&(g[t]=!1)}),e(window,"focus",function(){for(d in a)a[d]=!1;for(d in c)g[d]=!1});var o=t.key;t.key=g,t.key.setScope=function(e){n=e||"all"},t.key.getScope=m,t.key.deleteScope=function(e){var t,n,i;for(t in l)for(n=l[t],i=0;i<n.length;)n[i].scope===e?n.splice(i,1):i++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=u(e)),-1!=f(h,e)},t.key.getPressedKeyCodes=function(){return h.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=o,e},t.key.unbind=function(e,t){for(var n,i,r,o=[],s=v(e),a=0;a<s.length;a++){if(1<(n=s[a].split("+")).length&&(o=b(n),e=n[n.length-1]),e=u(e),void 0===t&&(t=m()),!l[e])return;for(i=0;i<l[e].length;i++)(r=l[e][i]).scope===t&&function(e,t){if(e.length==t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return 1}}(r.mods,o)&&(l[e][i]={})}},s.exports=g}(this)},"./node_modules/process/browser.js":function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/promise-polyfill/src/finally.js":function(e,t,n){"use strict";n.r(t),t.default=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}},"./node_modules/promise-polyfill/src/index.js":function(e,d,f){"use strict";f.r(d),function(t){var e=f("./node_modules/promise-polyfill/src/finally.js"),n=setTimeout;function l(e){return Boolean(e&&void 0!==e.length)}function i(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function r(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e,t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void a(i.promise,e)}s(i.promise,e)}else(1===n._state?s:a)(i.promise,n._value)})):n._deferreds.push(i)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void h((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){a(t,e)}var i,r}function a(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new u(e,t,n)),n},o.prototype.finally=e.default,o.all=function(t){return new o(function(r,o){if(!l(t))return o(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(t);if(0===s.length)return r([]);var a=s.length;for(var e=0;e<s.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){t(n,e)},o)}s[n]=e,0==--a&&r(s)}catch(e){o(e)}}(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){if(!l(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)o.resolve(r[n]).then(e,t)})},o._immediateFn="function"==typeof t?function(e){t(e)}:function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},d.default=o}.call(this,f("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,p){!function(n,i){"use strict";var r,o,s,a,l,c,t,u,e;function h(e){delete o[e]}function d(e){if(s)setTimeout(d,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{h(e),s=!1}}}}function f(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(u)&&d(+e.data.slice(u.length))}n.setImmediate||(r=1,s=!(o={}),a=n.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&e.setTimeout?e:n,l="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){d(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(u="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",f,!1):n.attachEvent("onmessage",f),function(e){n.postMessage(u+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){t.port2.postMessage(e)}):a&&"onreadystatechange"in a.createElement("script")?(c=a.documentElement,function(e){var t=a.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,c.removeChild(t),t=null},c.appendChild(t)}):function(e){setTimeout(d,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return o[r]=i,l(r),r++},e.clearImmediate=h)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,r,o){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new i(n.call(setTimeout,t,arguments),clearTimeout)},r.setInterval=function(){return new i(n.call(setInterval,t,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(t,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o("./node_modules/setimmediate/setImmediate.js"),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/underscore/underscore.js":function(e,Z,t){(function(K,X){var Q;!function(){function n(){}var e="object"==typeof self&&self.self===self&&self||"object"==typeof K&&K.global===K&&K||this||{},t=e._,i=Array.prototype,s=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,r=i.push,l=i.slice,d=s.toString,o=s.hasOwnProperty,a=Array.isArray,c=Object.keys,u=Object.create,f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};Z.nodeType?e._=f:(!X.nodeType&&X.exports&&(Z=X.exports=f),Z._=f),f.VERSION="1.9.1";function p(r,o,e){if(void 0===o)return r;switch(null==e?3:e){case 1:return function(e){return r.call(o,e)};case 3:return function(e,t,n){return r.call(o,e,t,n)};case 4:return function(e,t,n,i){return r.call(o,e,t,n,i)}}return function(){return r.apply(o,arguments)}}function g(e,t,n){return f.iteratee!==m?f.iteratee(e,t):null==e?f.identity:f.isFunction(e)?p(e,t,n):f.isObject(e)&&!f.isArray(e)?f.matcher(e):f.property(e)}var m;f.iteratee=m=function(e,t){return g(e,t,1/0)};function v(r,o){return o=null==o?r.length-1:+o,function(){for(var e=Math.max(arguments.length-o,0),t=Array(e),n=0;n<e;n++)t[n]=arguments[n+o];switch(o){case 0:return r.call(this,t);case 1:return r.call(this,arguments[0],t);case 2:return r.call(this,arguments[0],arguments[1],t)}for(var i=Array(o+1),n=0;n<o;n++)i[n]=arguments[n];return i[o]=t,r.apply(this,i)}}function b(e){if(!f.isObject(e))return{};if(u)return u(e);n.prototype=e;var t=new n;return n.prototype=null,t}function y(t){return function(e){return null==e?void 0:e[t]}}function w(e,t){return null!=e&&o.call(e,t)}function _(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function x(e){var t=k(e);return"number"==typeof t&&0<=t&&t<=C}var C=Math.pow(2,53)-1,k=y("length");f.each=f.forEach=function(e,t,n){if(t=p(t,n),x(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else for(var i=f.keys(e),r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e);return e},f.map=f.collect=function(e,t,n){t=g(t,n);for(var i=!x(e)&&f.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o};function S(l){return function(e,t,n,i){var r=3<=arguments.length;return function(e,t,n,i){var r=!x(e)&&f.keys(e),o=(r||e).length,s=0<l?0:o-1;for(i||(n=e[r?r[s]:s],s+=l);0<=s&&s<o;s+=l){var a=r?r[s]:s;n=t(n,e[a],a,e)}return n}(e,p(t,i,4),n,r)}}f.reduce=f.foldl=f.inject=S(1),f.reduceRight=f.foldr=S(-1),f.find=f.detect=function(e,t,n){var i=(x(e)?f.findIndex:f.findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]},f.filter=f.select=function(e,i,t){var r=[];return i=g(i,t),f.each(e,function(e,t,n){i(e,t,n)&&r.push(e)}),r},f.reject=function(e,t,n){return f.filter(e,f.negate(g(t)),n)},f.every=f.all=function(e,t,n){t=g(t,n);for(var i=!x(e)&&f.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},f.some=f.any=function(e,t,n){t=g(t,n);for(var i=!x(e)&&f.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,n,i){return x(e)||(e=f.values(e)),"number"==typeof n&&!i||(n=0),0<=f.indexOf(e,t,n)},f.invoke=v(function(e,n,i){var r,o;return f.isFunction(n)?o=n:f.isArray(n)&&(r=n.slice(0,-1),n=n[n.length-1]),f.map(e,function(e){var t=o;if(!t){if(r&&r.length&&(e=_(e,r)),null==e)return;t=e[n]}return null==t?t:t.apply(e,i)})}),f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,i,t){var n,r,o=-1/0,s=-1/0;if(null==i||"number"==typeof i&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=x(e)?e:f.values(e)).length;a<l;a++)null!=(n=e[a])&&o<n&&(o=n);else i=g(i,t),f.each(e,function(e,t,n){r=i(e,t,n),(s<r||r===-1/0&&o===-1/0)&&(o=e,s=r)});return o},f.min=function(e,i,t){var n,r,o=1/0,s=1/0;if(null==i||"number"==typeof i&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=x(e)?e:f.values(e)).length;a<l;a++)null!=(n=e[a])&&n<o&&(o=n);else i=g(i,t),f.each(e,function(e,t,n){((r=i(e,t,n))<s||r===1/0&&o===1/0)&&(o=e,s=r)});return o},f.shuffle=function(e){return f.sample(e,1/0)},f.sample=function(e,t,n){if(null==t||n)return x(e)||(e=f.values(e)),e[f.random(e.length-1)];var i=x(e)?f.clone(e):f.values(e),r=k(i);t=Math.max(Math.min(t,r),0);for(var o=r-1,s=0;s<t;s++){var a=f.random(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)},f.sortBy=function(e,i,t){var r=0;return i=g(i,t),f.pluck(f.map(e,function(e,t,n){return{value:e,index:r++,criteria:i(e,t,n)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};function O(s,t){return function(i,r,e){var o=t?[[],[]]:{};return r=g(r,e),f.each(i,function(e,t){var n=r(e,t,i);s(o,e,n)}),o}}f.groupBy=O(function(e,t,n){w(e,n)?e[n].push(t):e[n]=[t]}),f.indexBy=O(function(e,t,n){e[n]=t}),f.countBy=O(function(e,t,n){w(e,n)?e[n]++:e[n]=1});var T=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(e){return e?f.isArray(e)?l.call(e):f.isString(e)?e.match(T):x(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:x(e)?e.length:f.keys(e).length},f.partition=O(function(e,t,n){e[n?0:1].push(t)},!0),f.first=f.head=f.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},f.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},f.compact=function(e){return f.filter(e,Boolean)};var j=function(e,t,n,i){for(var r=(i=i||[]).length,o=0,s=k(e);o<s;o++){var a=e[o];if(x(a)&&(f.isArray(a)||f.isArguments(a)))if(t)for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else j(a,t,n,i),r=i.length;else n||(i[r++]=a)}return i};f.flatten=function(e,t){return j(e,t,!1)},f.without=v(function(e,t){return f.difference(e,t)}),f.uniq=f.unique=function(e,t,n,i){f.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=g(n,i));for(var r=[],o=[],s=0,a=k(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||r.push(l),o=c):n?f.contains(o,c)||(o.push(c),r.push(l)):f.contains(r,l)||r.push(l)}return r},f.union=v(function(e){return f.uniq(j(e,!0,!0))}),f.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=k(e);i<r;i++){var o=e[i];if(!f.contains(t,o)){for(var s=1;s<n&&f.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},f.difference=v(function(e,t){return t=j(t,!0,!0),f.filter(e,function(e){return!f.contains(t,e)})}),f.unzip=function(e){for(var t=e&&f.max(e,k).length||0,n=Array(t),i=0;i<t;i++)n[i]=f.pluck(e,i);return n},f.zip=v(f.unzip),f.object=function(e,t){for(var n={},i=0,r=k(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};function E(o){return function(e,t,n){t=g(t,n);for(var i=k(e),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(t(e[r],r,e))return r;return-1}}f.findIndex=E(1),f.findLastIndex=E(-1),f.sortedIndex=function(e,t,n,i){for(var r=(n=g(n,i,1))(t),o=0,s=k(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o};function P(o,s,a){return function(e,t,n){var i=0,r=k(e);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return e[n=a(e,t)]===t?n:-1;if(t!=t)return 0<=(n=s(l.call(e,i,r),f.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(e[n]===t)return n;return-1}}f.indexOf=P(1,f.findIndex,f.sortedIndex),f.lastIndexOf=P(-1,f.findLastIndex),f.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||(t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r},f.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(l.call(e,i,i+=t));return n};function D(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=b(e.prototype),s=e.apply(o,r);return f.isObject(s)?s:o}f.bind=v(function(t,n,i){if(!f.isFunction(t))throw new TypeError("Bind must be called on a function");var r=v(function(e){return D(t,r,n,this,i.concat(e))});return r}),f.partial=v(function(r,o){var s=f.partial.placeholder,a=function(){for(var e=0,t=o.length,n=Array(t),i=0;i<t;i++)n[i]=o[i]===s?arguments[e++]:o[i];for(;e<arguments.length;)n.push(arguments[e++]);return D(r,a,this,this,n)};return a}),(f.partial.placeholder=f).bindAll=v(function(e,t){var n=(t=j(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=f.bind(e[i],e)}}),f.memoize=function(i,r){var o=function(e){var t=o.cache,n=""+(r?r.apply(this,arguments):e);return w(t,n)||(t[n]=i.apply(this,arguments)),t[n]};return o.cache={},o},f.delay=v(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),f.defer=f.partial(f.delay,f,1),f.throttle=function(n,i,r){var o,s,a,l,c=0;r=r||{};function u(){c=!1===r.leading?0:f.now(),o=null,l=n.apply(s,a),o||(s=a=null)}function e(){var e=f.now();c||!1!==r.leading||(c=e);var t=i-(e-c);return s=this,a=arguments,t<=0||i<t?(o&&(clearTimeout(o),o=null),c=e,l=n.apply(s,a),o||(s=a=null)):o||!1===r.trailing||(o=setTimeout(u,t)),l}return e.cancel=function(){clearTimeout(o),c=0,o=s=a=null},e},f.debounce=function(n,i,r){function o(e,t){s=null,t&&(a=n.apply(e,t))}var s,a,e=v(function(e){var t;return s&&clearTimeout(s),r?(t=!s,s=setTimeout(o,i),t&&(a=n.apply(this,e))):s=f.delay(o,i,this,e),a});return e.cancel=function(){clearTimeout(s),s=null},e},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var n=arguments,i=n.length-1;return function(){for(var e=i,t=n[i].apply(this,arguments);e--;)t=n[e].call(this,t);return t}},f.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},f.before=function(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},f.once=f.partial(f.before,2),f.restArguments=v;function A(e,t){var n=I.length,i=e.constructor,r=f.isFunction(i)&&i.prototype||s,o="constructor";for(w(e,o)&&!f.contains(t,o)&&t.push(o);n--;)(o=I[n])in e&&e[o]!==r[o]&&!f.contains(t,o)&&t.push(o)}var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];f.keys=function(e){if(!f.isObject(e))return[];if(c)return c(e);var t=[];for(var n in e)w(e,n)&&t.push(n);return M&&A(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var n in e)t.push(n);return M&&A(e,t),t},f.values=function(e){for(var t=f.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},f.mapObject=function(e,t,n){t=g(t,n);for(var i=f.keys(e),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=t(e[a],a,e)}return o},f.pairs=function(e){for(var t=f.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},f.invert=function(e){for(var t={},n=f.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},f.functions=f.methods=function(e){var t=[];for(var n in e)f.isFunction(e[n])&&t.push(n);return t.sort()};function L(l,c){return function(e){var t=arguments.length;if(c&&(e=Object(e)),t<2||null==e)return e;for(var n=1;n<t;n++)for(var i=arguments[n],r=l(i),o=r.length,s=0;s<o;s++){var a=r[s];c&&void 0!==e[a]||(e[a]=i[a])}return e}}f.extend=L(f.allKeys),f.extendOwn=f.assign=L(f.keys),f.findKey=function(e,t,n){t=g(t,n);for(var i,r=f.keys(e),o=0,s=r.length;o<s;o++)if(t(e[i=r[o]],i,e))return i};function N(e,t,n){return t in n}var F,z;f.pick=v(function(e,t){var n={},i=t[0];if(null==e)return n;f.isFunction(i)?(1<t.length&&(i=p(i,t[1])),t=f.allKeys(e)):(i=N,t=j(t,!1,!1),e=Object(e));for(var r=0,o=t.length;r<o;r++){var s=t[r],a=e[s];i(a,s,e)&&(n[s]=a)}return n}),f.omit=v(function(e,n){var t,i=n[0];return f.isFunction(i)?(i=f.negate(i),1<n.length&&(t=n[1])):(n=f.map(j(n,!1,!1),String),i=function(e,t){return!f.contains(n,t)}),f.pick(e,i,t)}),f.defaults=L(f.allKeys,!0),f.create=function(e,t){var n=b(e);return t&&f.extendOwn(n,t),n},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var n=f.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0},F=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"==r||"object"==r||"object"==typeof t)&&z(e,t,n,i)},z=function(e,t,n,i){e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return h.valueOf.call(e)===h.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(f.isFunction(s)&&s instanceof s&&f.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!F(e[l],t[l],n,i))return!1}else{var c,u=f.keys(e),l=u.length;if(f.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!w(t,c)||!F(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0},f.isEqual=function(e,t){return F(e,t)},f.isEmpty=function(e){return null==e||(x(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=a||function(e){return"[object Array]"===d.call(e)},f.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){f["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return w(e,"callee")});var H=e.document&&e.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return!f.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&isNaN(e)},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){if(!f.isArray(t))return w(e,t);for(var n=t.length,i=0;i<n;i++){var r=t[i];if(null==e||!o.call(e,r))return!1;e=e[r]}return!!n},f.noConflict=function(){return e._=t,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(t){return f.isArray(t)?function(e){return _(e,t)}:y(t)},f.propertyOf=function(t){return null==t?function(){}:function(e){return f.isArray(e)?_(t,e):t[e]}},f.matcher=f.matches=function(t){return t=f.extendOwn({},t),function(e){return f.isMatch(e,t)}},f.times=function(e,t,n){var i=Array(Math.max(0,e));t=p(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};function R(t){function n(e){return t[e]}var e="(?:"+f.keys(t).join("|")+")",i=RegExp(e),r=RegExp(e,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,n):e}}var $={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=f.invert($);f.escape=R($),f.unescape=R(V),f.result=function(e,t,n){f.isArray(t)||(t=[t]);var i=t.length;if(!i)return f.isFunction(n)?n.call(e):n;for(var r=0;r<i;r++){var o=null==e?void 0:e[t[r]];void 0===o&&(o=n,r=i),e=f.isFunction(o)?o.call(e):o}return e};var W=0;f.uniqueId=function(e){var t=++W+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function B(e){return"\\"+q[e]}var U=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g;f.template=function(o,e,t){!e&&t&&(e=t),e=f.defaults({},e,f.templateSettings);var n,i=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(i,function(e,t,n,i,r){return a+=o.slice(s,r).replace(Y,B),s=r+e.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(e.variable||"obj","_",a)}catch(e){throw e.source=a,e}function r(e){return n.call(this,e,f)}var l=e.variable||"obj";return r.source="function("+l+"){\n"+a+"}",r},f.chain=function(e){var t=f(e);return t._chain=!0,t};function G(e,t){return e._chain?f(t).chain():t}f.mixin=function(n){return f.each(f.functions(n),function(e){var t=f[e]=n[e];f.prototype[e]=function(){var e=[this._wrapped];return r.apply(e,arguments),G(this,t.apply(f,e))}}),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=i[t];f.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],G(this,e)}}),f.each(["concat","join","slice"],function(e){var t=i[e];f.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},void 0===(Q=function(){return f}.apply(Z,[]))||(X.exports=Q)}()}).call(this,t("./node_modules/webpack/buildin/global.js"),t("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/webpack/buildin/global.js":function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/asset_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:1,customFetch:"",uploadFile:"",embedAsBase64:1,handleAdd:"",dropzone:0,openAssetsOnDrop:1,dropzoneContent:"",beforeUpload:null,showUrlInput:!0}},"./src/asset_manager/index.js":function(e,t,n){"use strict";n.r(t);var u=n("./src/asset_manager/config/config.js"),h=n("./src/asset_manager/model/Assets.js"),d=n("./src/asset_manager/view/AssetsView.js"),f=n("./src/asset_manager/view/FileUploader.js");t.default=function(){var s,a,l,c={};return{name:"AssetManager",storageKey:"assets",getConfig:function(){return c},init:function(e){var t=this;for(var n in c=e||{},u.default)n in c||(c[n]=u.default[n]);var i=c.pStylePrefix,r=c.em;i&&(c.stylePrefix=i+c.stylePrefix),s=new h.default([]);var o={collection:new h.default([]),globalCollection:s,config:c};return l=new f.default(o),o.fu=l,a=new d.default(o),s.listenTo(s,"add",function(e){t.getAllVisible().add(e),r&&r.trigger("asset:add",e)}),s.listenTo(s,"remove",function(e){t.getAllVisible().remove(e),r&&r.trigger("asset:remove",e)}),this},add:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return void 0===n.at&&(n.at=0),s.add(e,n)},get:function(e){return s.where({src:e})[0]},getAll:function(){return s},getAllVisible:function(){return a.collection},remove:function(e){var t=this.get(e);return this.getAll().remove(t),this},store:function(e){var t={},n=JSON.stringify(this.getAll().toJSON());return t[this.storageKey]=n,!e&&c.stm&&c.stm.store(t),t},load:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.storageKey,i=t[n]||[];if("string"==typeof i)try{i=JSON.parse(t[n])}catch(e){}return i&&i.length&&this.getAll().reset(i),i},getContainer:function(){return a.el},getAssetsEl:function(){return a.el.querySelector("[data-el=assets]")},render:function(e){var t=e||this.getAll().models;return a.rendered||a.render(),a.collection.reset(t),this.getContainer()},addType:function(e,t){this.getAll().addType(e,t)},getType:function(e){return this.getAll().getType(e)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return a},FileUploader:function(){return l},onLoad:function(){this.getAll().reset(c.assets)},postRender:function(e){c.dropzone&&l.initDropzone(e)},setTarget:function(e){a.collection.target=e},onSelect:function(e){a.collection.onSelect=e},onClick:function(e){c.onClick=e},onDblClick:function(e){c.onDblClick=e}}}},"./src/asset_manager/model/Asset.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({idAttribute:"src",defaults:{type:"",src:""},getFilename:function(){return this.get("src").split("/").pop()},getExtension:function(){return this.getFilename().split(".").pop()}})},"./src/asset_manager/model/AssetImage.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/asset_manager/model/Asset.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"image",unitDim:"px",height:0,width:0})})},"./src/asset_manager/model/Assets.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/asset_manager/model/AssetImage.js"),s=n("./src/asset_manager/view/AssetImageView.js"),a=n("./src/domain_abstract/model/TypeableCollection.js");t.default=r.a.Collection.extend(a.default).extend({types:[{id:"image",model:o.default,view:s.default,isType:function(e){return"string"==typeof e?{type:"image",src:e}:e}}]})},"./src/asset_manager/view/AssetImageView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./src/asset_manager/view/AssetView.js");t.default=i.default.extend({events:{"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"},getPreview:function(){var e=this.pfx,t=this.model.get("src");return'\n      <div class="'.concat(e,'preview" style="background-image: url(\'').concat(t,'\');"></div>\n      <div class="').concat(e,"preview-bg ").concat(this.ppfx,'checker-bg"></div>\n    ')},getInfo:function(){var e=this.pfx,t=this.model,n=t.get("name"),i=t.get("width"),r=t.get("height"),o=t.get("unitDim"),s=i&&r?"".concat(i,"x").concat(r).concat(o):"",n=n||t.getFilename();return'\n      <div class="'.concat(e,'name">').concat(n,'</div>\n      <div class="').concat(e,'dimensions">').concat(s,"</div>\n    ")},init:function(){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},onClick:function(){var e=this.config.onClick,t=this.model;this.collection.trigger("deselectAll"),this.$el.addClass(this.pfx+"highlight"),Object(r.isFunction)(e)?e(t):this.updateTarget(this.collection.target)},onDblClick:function(){var e=this.em,t=this.model,n=this.config.onDblClick;Object(r.isFunction)(n)?n(t):(this.updateTarget(this.collection.target),e&&e.get("Modal").close());var i=this.collection.onSelect;Object(r.isFunction)(i)&&i(t)},onRemove:function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)}})},"./src/asset_manager/view/AssetView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js");t.default=r.a.View.extend({initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.options=t,this.collection=t.collection;var n=t.config||{};this.config=n,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.em=n.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove);var i=(this.model.view=this).init&&this.init.bind(this);i&&i(t)},template:function(){var e=this.pfx;return'\n      <div class="'.concat(e,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(e,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(e,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},updateTarget:function(e){e&&e.set&&(e.set("attributes",Object(o.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},getPreview:function(){return""},getInfo:function(){return""},render:function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this}})},"./src/asset_manager/view/AssetsView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(i),r=n("./node_modules/backbone/backbone.js"),s=n.n(r);t.default=s.a.View.extend({events:{submit:"handleSubmit"},template:function(e){var t=e.pfx,n=e.ppfx,i=e.em,r=(o()(e,["pfx","ppfx","em"]),"");return this.config.showUrlInput&&(r='\n          <form class="'.concat(t,'add-asset">\n            <div class="').concat(n,"field ").concat(t,'add-field">\n              <input placeholder="').concat(i&&i.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(n,'btn-prim">').concat(i&&i.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(t,'assets-cont">\n      <div class="').concat(t,'assets-header">\n        ').concat(r,'\n      </div>\n      <div class="').concat(t,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},initialize:function(e){this.options=e,this.config=e.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var t=this.collection;this.listenTo(t,"reset",this.renderAssets),this.listenTo(t,"add",this.addToAsset),this.listenTo(t,"remove",this.removedAsset),this.listenTo(t,"deselectAll",this.deselectAll)},handleSubmit:function(e){e.preventDefault();var t=this.getAddInput(),n=t&&t.value.trim(),i=this.config.handleAdd;n&&(t.value="",this.getAssetsEl().scrollTop=0,i?i.bind(this)(n):this.options.globalCollection.add(n,{at:0}))},getAssetsEl:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},getAddInput:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},removedAsset:function(){this.collection.length||this.toggleNoAssets()},addToAsset:function(e){1==this.collection.length&&this.toggleNoAssets(1),this.addAsset(e)},addAsset:function(e,t){var n,i=1<arguments.length&&void 0!==t?t:null,r=this.collection,o=this.config,s=new e.typeView({model:e,collection:r,config:o}).render().el;return i?i.appendChild(s):(n=this.getAssetsEl())&&n.insertBefore(s,n.firstChild),s},toggleNoAssets:function(e){var t,n=this.$el.find(".".concat(this.pfx,"assets"));e?n.empty():(t=this.config.noAssets)&&n.append(t)},deselectAll:function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},renderAssets:function(){var t=this,n=document.createDocumentFragment(),e=this.$el.find(".".concat(this.pfx,"assets"));e.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(e){return t.addAsset(e,n)}),e.append(n)},render:function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this.rendered=1,this}})},"./src/asset_manager/view/FileUploader.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),g=n("./src/utils/fetch.js");t.default=o.a.View.extend({template:Object(i.template)('\n  <form>\n    <div id="<%= pfx %>title"><%= title %></div>\n    <input type="file" id="<%= uploadId %>" name="file" accept="*/*" <%= disabled ? \'disabled\' : \'\' %> <%= multiUpload ? \'multiple\' : \'\' %>/>\n    <div style="clear:both;"></div>\n  </form>\n  '),events:{},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(this.options=t).config||{};this.config=n,this.em=this.config.em,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=void 0!==n.disableUpload?n.disableUpload:!n.upload&&!n.embedAsBase64,this.multiUpload=void 0===n.multiUpload||n.multiUpload,this.events["change #"+this.uploadId]="uploadFile";var i=n.uploadFile;i?this.uploadFile=i.bind(this):!n.upload&&n.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()},onUploadStart:function(){var e=this.config.em;e&&e.trigger("asset:upload:start")},onUploadEnd:function(e){var t=this.$el,n=this.config.em;n&&n.trigger("asset:upload:end",e);var i=t.find("input");i&&i.val("")},onUploadError:function(e){var t=this.config.em;console.error(e),this.onUploadEnd(e),t&&t.trigger("asset:upload:error",e)},onUploadResponse:function(t,e){var n,i=this.config.em,r=this.config,o=this.target;try{n="string"==typeof t?JSON.parse(t):t}catch(e){n=t}i&&i.trigger("asset:upload:response",n),r.autoAdd&&o&&o.add(n.data,{at:0}),this.onUploadEnd(t),e&&e(n)},uploadFile:function(e,t){var n=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,r=this.config,o=r.beforeUpload;if(!1!==(o&&o(i))){var s=new FormData,a=r.params,l=r.customFetch;for(var c in a)s.append(c,a[c]);if(this.multiUpload)for(var u=0;u<i.length;u++)s.append("".concat(r.uploadName,"[]"),i[u]);else i.length&&s.append(r.uploadName,i[0]);this.target;var h=r.upload,d=r.headers,f="X-Requested-With";if(void 0===d[f]&&(d[f]="XMLHttpRequest"),h){this.onUploadStart();var p={method:"post",credentials:r.credentials||"include",headers:d,body:s};return(l?l(h,p):Object(g.default)(h,p).then(function(e){return 1==(e.status/200|0)?e.text():e.text().then(function(e){return Promise.reject(e)})})).then(function(e){return n.onUploadResponse(e,t)}).catch(function(e){return n.onUploadError(e)})}}},initDrop:function(){var t=this;this.uploadForm||(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(e){this.className="",e.preventDefault(),t.uploadFile(e)}))},initDropzone:function(e){function n(){c.className=c.className.replace(f,"").trim(),s=0}function t(){return s||(c.className+=" ".concat(f),s=1),!1}function i(){return n(),!1}function r(e){var t;return n(),e.preventDefault(),e.stopPropagation(),o.uploadFile(e),a.openAssetsOnDrop&&u&&(t=u.getSelected(),u.runCommand("open-assets",{target:t,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})),!1}var o=this,s=0,a=this.config,l=e.model,c=e.el,u=l.get("Editor"),h=(l.get("Config").el,l.get("Canvas").getBody()),d=this.ppfx,f="".concat(d,"dropzone-active"),p="".concat(d,"dropzone");e.$el.append('<div class="'.concat(p,'">').concat(a.dropzoneContent,"</div>")),n(),"draggable"in c&&[c,h].forEach(function(e){e.ondragover=t,e.ondragleave=i,e.ondrop=r})},render:function(){var e=this.$el,t=this.pfx,n=this.em;return e.html(this.template({title:n&&n.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:t})),this.initDrop(),e.attr("class",t+"file-uploader"),this}},{embedAsBase64:function(e,t){var n=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,r={data:[]};if(FileReader){var o=[],u=/^(.+)\/(.+)$/,s=!0,a=!1,l=void 0;try{for(var h,c=i[Symbol.iterator]();!(s=(h=c.next()).done);s=!0)!function(){var c=h.value,e=new Promise(function(s,a){var l=new FileReader;l.addEventListener("load",function(e){var t,n,i=c.name,r=u.exec(c.type),o=r?r[1]:c.type;"image"===o?(t={src:l.result,name:i,type:o,height:0,width:0},(n=new Image).addEventListener("error",function(e){a(e)}),n.addEventListener("load",function(){t.height=n.height,t.width=n.width,s(t)}),n.src=t.src):s(o?{src:l.result,name:i,type:o}:l.result)}),l.addEventListener("error",function(e){a(e)}),l.addEventListener("abort",function(e){a("Aborted")}),l.readAsDataURL(c)});o.push(e)}()}catch(e){a=!0,l=e}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}Promise.all(o).then(function(e){r.data=e,n.onUploadResponse(r,t)},function(e){n.onUploadError(e)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))}})},"./src/block_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={appendTo:"",appendOnClick:0,blocks:[]}},"./src/block_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(i),c=n("./node_modules/underscore/underscore.js"),u=n("./src/block_manager/config/config.js"),h=n("./src/block_manager/model/Blocks.js"),d=n("./src/block_manager/model/Categories.js"),f=n("./src/block_manager/view/BlocksView.js");function p(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){var i,r,o,s={},a=[];return{name:"BlockManager",init:function(e){var t=(s=e||{}).em;for(var n in u.default)n in s||(s[n]=u.default[n]);return i=new h.default([]),r=new h.default([]),a=new d.default,o=new f.default({collection:r,categories:a},s),i.listenTo(i,"add",function(e){r.add(e),t&&t.trigger("block:add",e)}),i.listenTo(i,"remove",function(e){r.remove(e),t&&t.trigger("block:remove",e)}),i.listenTo(i,"reset",function(e){r.reset(e.models)}),this},getConfig:function(){return s},onLoad:function(){var e=this.getAll();e.length||e.reset(s.blocks)},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(c.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},add:function(e,t){var n=t||{};return n.id=e,i.add(n)},get:function(e){return i.get(e)},getAll:function(){return i},getAllVisible:function(){return r},remove:function(e){return i.remove(e)},getCategories:function(){return a},getContainer:function(){return o.el},render:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=e||this.getAll().models;return n.external?new f.default({collection:new h.default(i),categories:a},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s,{},n)).render().el:(o.rendered||(o.render(),o.rendered=1),o.updateConfig(n),o.collection.reset(i),this.getContainer())}}}},"./src/block_manager/model/Block.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/block_manager/model/Category.js");t.default=r.a.Model.extend({defaults:{activate:0,select:0,resetId:0,label:"",disable:0,media:"",content:"",category:"",attributes:{}},initialize:function(e){var t=this.get("category");t&&"string"==typeof t&&new o.default({id:t,label:t})}})},"./src/block_manager/model/Blocks.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/block_manager/model/Block.js");t.default=r.a.Collection.extend({model:o.default})},"./src/block_manager/model/Categories.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/block_manager/model/Category.js");t.default=r.a.Collection.extend({model:o.default})},"./src/block_manager/model/Category.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({defaults:{id:"",label:"",open:!0,attributes:{}}})},"./src/block_manager/view/BlockView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js"),d=n("./src/utils/mixins.js");t.default=r.a.View.extend({events:{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.model;this.em=n.em,this.config=n,this.endDrag=this.endDrag.bind(this),this.ppfx=n.pStylePrefix||"",this.listenTo(i,"destroy remove",this.remove),this.listenTo(i,"change",this.render)},handleClick:function(){var e,t,n,i,r,o,s,a=this.config,l=this.model,c=this.em;a.appendOnClick&&(e=a.getSorter(),t=l.get("content"),n=c.getSelected(),e.setDropContent(t),n&&(e.validTarget(n.getEl(),t).valid?i=n:(r=n.parent(),e.validTarget(r.getEl(),t).valid&&(i=r))),i||(o=c.getWrapper(),e.validTarget(o.getEl(),t).valid&&(i=o)),(s=i&&i.append(t)[0])&&c.setSelected(s,{scroll:1}))},startDrag:function(e){var t,n=this.config,i=this.em,r=this.model.get("disable");0!==e.button||!n.getSorter||this.el.draggable||r||(i.refreshCanvas(),(t=n.getSorter()).setDragHelper(this.el,e),t.setDropContent(this.model.get("content")),t.startSort(this.el),Object(d.on)(document,"mouseup",this.endDrag))},handleDragStart:function(e){var t=this.em,n=this.model,i=n.get("content"),r=Object(o.isObject)(i)?JSON.stringify(i):i;t.set("dragResult"),e.dataTransfer.setData("text",r),t.set("dragContent",i),t.trigger("block:drag:start",n,e)},handleDrag:function(e){this.em.trigger("block:drag",this.model,e)},handleDragEnd:function(){var e,t,n=this.em,i=this.model,r=n.get("dragResult");r&&(e="activeOnRender",t=r.get&&r.get(e),(i.get("activate")||t)&&(r.trigger("active"),r.set(e,0)),i.get("select")&&n.setSelected(r),i.get("resetId")&&r.onAll(function(e){return e.resetId()})),n.set({dragResult:null,dragContent:null}),n.trigger("block:drag:stop",r,i)},endDrag:function(){Object(d.off)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},render:function(){var e=this.em,t=this.el,n=this.ppfx,i=this.model,r=i.get("disable"),o=(i.get("attributes")||{}).class||"",s="".concat(n,"block"),a=e&&e.t("blockManager.labels.".concat(i.id))||i.get("label"),l=i.get("render"),c=i.get("media"),u=r?"".concat(s,"--disable"):"".concat(n,"four-color-h");t.className="".concat(o," ").concat(s," ").concat(n,"one-bg ").concat(u).trim(),t.innerHTML="\n      ".concat(c?'<div class="'.concat(s,'__media">').concat(c,"</div>"):"",'\n      <div class="').concat(s,'-label">').concat(a,"</div>\n    "),t.title=t.textContent.trim(),t.setAttribute("draggable",!(!Object(d.hasDnd)(e)||r));var h=l&&l({el:t,model:i,className:s,prefix:n});return h&&(t.innerHTML=h),this}})},"./src/block_manager/view/BlocksView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),u=n("./node_modules/underscore/underscore.js"),h=n("./src/block_manager/view/BlockView.js"),d=n("./src/block_manager/view/CategoryView.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=s.a.View.extend({initialize:function(e,t){Object(u.bindAll)(this,"getSorter","onDrag","onDrop"),this.config=t||{},this.categories=e.categories||"",this.renderedCategories=[];var n=this.config.pStylePrefix||"";this.ppfx=n,this.noCatClass="".concat(n,"blocks-no-cat"),this.blockContClass="".concat(n,"blocks-c"),this.catsClass="".concat(n,"block-categories");var i=this.collection;this.listenTo(i,"add",this.addTo),this.listenTo(i,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))},updateConfig:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.config,{},t)},getSorter:function(){var e,t;if(this.em)return this.sorter||(e=this.em.get("Utils"),t=this.canvas,this.sorter=new e.Sorter({container:t.getBody(),placer:t.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:t.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})),this.sorter},onDrag:function(e){this.em.stopDefault(),this.em.trigger("block:drag:start",e)},onMove:function(e){this.em.trigger("block:drag:move",e)},onDrop:function(e){var t=this.em;t.runDefault(),e&&e.get&&(e.get("activeOnRender")&&(e.trigger("active"),e.set("activeOnRender",0)),t.trigger("block:drag:stop",e))},addTo:function(e){this.add(e)},add:function(e,t){var n=this.config,i=t||null,r=new h.default({model:e,attributes:e.get("attributes")},n).render().el,o=e.get("category");if(o&&this.categories&&!n.ignoreCategories){Object(u.isString)(o)?o={id:o,label:o}:Object(u.isObject)(o)&&!o.id&&(o.id=o.label);var s=this.categories.add(o),a=s.get("id"),l=this.renderedCategories[a],c=this.getCategoriesEl();return e.set("category",s),!l&&c&&(l=new d.default({model:s},this.config).render(),this.renderedCategories[a]=l,c.appendChild(l.el)),void(l&&l.append(r))}i?i.appendChild(r):this.append(r)},getCategoriesEl:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},append:function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},render:function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(e){return t.add(e,n)}),this.append(n);var i="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(i),this}})},"./src/block_manager/view/CategoryView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r);t.default=o.a.View.extend({template:Object(i.template)('\n  <div class="<%= pfx %>title">\n    <i class="<%= pfx %>caret-icon"></i>\n    <%= label %>\n  </div>\n  <div class="<%= pfx %>blocks-c"></div>\n  '),events:{},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=(this.config=n).pStylePrefix||"";this.em=n.em,this.pfx=i,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(i,"caret-icon"),this.activeClass="".concat(i,"open"),this.className="".concat(i,"block-category"),this.events["click .".concat(i,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents()},updateVisibility:function(){this.model.get("open")?this.open():this.close()},open:function(){this.el.className="".concat(this.className," ").concat(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""},close:function(){this.el.className=this.className,this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"},toggle:function(){var e=this.model;e.set("open",!e.get("open"))},getIconEl:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl},append:function(e){this.getBlocksEl().appendChild(e)},render:function(){var e=this.em,t=this.el,n=this.$el,i=this.model,r=e.t("blockManager.categories.".concat(i.id))||i.get("label");return t.innerHTML=this.template({pfx:this.pfx,label:r}),t.className=this.className,n.css({order:i.get("order")}),this.updateVisibility(),this}})},"./src/canvas/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]}},"./src/canvas/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(r),a=n("./src/utils/mixins.js"),l=(n("./node_modules/underscore/underscore.js"),n("./src/utils/Droppable.js")),c=n("./src/canvas/config/config.js"),u=n("./src/canvas/model/Canvas.js"),h=n("./src/canvas/view/CanvasView.js");function d(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}window.requestAnimationFrame;t.default=function(){var r,m,v={};return{getCanvasView:function(){return m},name:"Canvas",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};v=f({},c.default,{},t,{module:this}),this.em=v.em;var n=v.pStylePrefix;n&&(v.stylePrefix=n+v.stylePrefix),r=new u.default(t),m=new h.default({model:r,config:v});var i=v.em.get("DomComponents");return i&&this.setWrapper(i),this.model=r,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this},getConfig:function(){return v},setWrapper:function(e){r.set("wrapper",e)},getElement:function(){return m.el},getFrame:function(e){return e?this.getFrames()[e]:r.get("frame")},getFrameEl:function(){var e=m.frame;return e&&e.el},getFramesEl:function(){return m.framesArea},getWindow:function(){return this.getFrameEl().contentWindow},getDocument:function(){var e=this.getFrameEl();return e&&e.contentDocument},getBody:function(){var e=this.getDocument();return e&&e.body},getWrapperEl:function(){var e=this.getBody();return e&&e.querySelector("#wrapper")},_getCompFrame:function(e){return e&&e._getFrame()},_getLocalEl:function(e,t,n){var i=e,r=this._getCompFrame(t);return i=r?r[n]():i},getGlobalToolsEl:function(){return m.toolsGlobEl},getToolsEl:function(e){return this._getLocalEl(m.toolsEl,e,"getToolsEl")},getHighlighter:function(e){return this._getLocalEl(m.hlEl,e,"getHighlighter")},getBadgeEl:function(e){return this._getLocalEl(m.badgeEl,e,"getBadgeEl")},getPlacerEl:function(){return m.placerEl},getGhostEl:function(){return m.ghostEl},getToolbarEl:function(){return m.toolbarEl},getResizerEl:function(){return m.resizerEl},getOffsetViewerEl:function(e){return this._getLocalEl(m.offsetEl,e,"getOffsetViewerEl")},getFixedOffsetViewerEl:function(){return m.fixedOffsetEl},render:function(){return m.render().el},getOffset:function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},offset:function(e){return m.offset(e)},setCustomBadgeLabel:function(e){v.customBadgeLabel=e},getElementPos:function(e,t){return m.getElementPos(e,t)},getElementOffsets:function(e){return m.getElementOffsets(e)},getRect:function(){var e=m.getPosition(),t=e.top,n=e.left;return f({},m.getCanvasOffset(),{topScroll:t,leftScroll:n})},getTargetToElementDim:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=i||{},o=m.getPosition();if(o){var s=r.elPos||m.getElementPos(t),a=i.toRight||0,l=r.targetHeight||e.offsetHeight,c=r.targetWidth||e.offsetWidth,u=r.event||null,h=s.top-l,d=s.left;d+=a?s.width:0;var f=(d=a?d-c:d)<o.left?o.left:d,p=h<o.top?o.top:h,g={top:p=p>s.top+s.height?s.top+s.height:p,left:f,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:o.top,canvasLeft:o.left,canvasWidth:o.width,canvasHeight:o.height};return u&&v.em&&v.em.trigger(u,g),g}},canvasRectOffset:function(e,t,n){function i(e,t,n){var i,r=1<arguments.length&&void 0!==t?t:1,o=2<arguments.length?n:void 0,s=y.em.getZoomDecimal(),a=r?"top":"left",l=e.ownerDocument,c=w.offset?(i=l.defaultView)&&i.frameElement:{},u=c.offsetTop,h=void 0===u?0:u,d=c.offsetLeft,f=void 0===d?0:d,p=l.body||{},g=p.scrollTop,m=p.scrollLeft,v=r?void 0===g?0:g:void 0===m?0:m,b=r?h:f;return o[a]-(v-b)*s}var y=this,w=2<arguments.length&&void 0!==n?n:{};return{top:i(e,1,t),left:i(e,0,t)}},getTargetToElementFixed:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=i.pos||this.getElementPos(e),o=i.canvasOff||this.canvasRectOffset(e,r),s=t.offsetHeight||0,a=t.offsetWidth||0,l=r.left+r.width,c=this.getCanvasView(),u=c.getPosition(),h=c.getFrameOffset(e),d=i.event,f=-s,p=r.width-a,p=r.left<-p?-r.left:p;p=l>u.width?p-(l-u.width):p;var g=r.height+s,m=g<h.height;o.top<s&&(m?f+=g:f=-o.top<r.height?-o.top:r.height);var v={top:f,left:p,canvasOffsetTop:o.top,canvasOffsetLeft:o.left};return d&&this.em.trigger(d,v),v},getMouseRelativePos:function(e,t){var n,i=0,r=0,o=(t||{}).subWinOffset,s=e.target.ownerDocument,a=s.defaultView||s.parentWindow,l=a.frameElement,c=o?a.pageYOffset:0,u=o?a.pageXOffset:0;return l&&(i=(n=l.getBoundingClientRect()).top||0,r=n.left||0),{y:e.clientY+i-c,x:e.clientX+r-u}},getMouseRelativeCanvas:function(e,t){var n=this.getZoomDecimal(),i=m.getPosition(t),r=i.top,o=i.left;return{y:e.clientY*n+r,x:e.clientX*n+o}},hasFocus:function(){return this.getDocument().hasFocus()},isInputFocused:function(){var e=this.getDocument(),t=["body"].concat(o()(this.getConfig().notTextable)),n=e&&e.activeElement;return n&&!t.some(function(e){return n.matches(e)})},scrollTo:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=Object(a.getElement)(e),r=i&&Object(a.getViewEl)(i);r&&r.scrollIntoView(n)},startAutoscroll:function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},stopAutoscroll:function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},postRender:function(){Object(a.hasDnd)(v.em)&&(this.droppable=new l.default(v.em))},setZoom:function(e){return r.set("zoom",parseFloat(e)),this},getZoom:function(){return parseFloat(r.get("zoom"))},getZoomDecimal:function(){return this.getZoom()/100},getZoomMultiplier:function(){var e=this.getZoomDecimal();return e?1/e:1},toggleFramesEvents:function(e){this.getFramesEl().style.pointerEvents=e?"":"none"},getFrameWrapperEl:function(){return m.frame.getWrapper()},getFrames:function(){return r.get("frames").map(function(e){return e})},addFrame:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};return r.get("frames").add(f({},n),f({},i,{em:this.em}))}}}},"./src/canvas/model/Canvas.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),u=n("./src/canvas/model/Frame.js"),h=n("./src/canvas/model/Frames.js");t.default=r.a.Model.extend({defaults:{frame:"",frames:"",wrapper:"",rulers:!1,zoom:100,x:0,y:0},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.em,i=t.styles,r=void 0===i?[]:i,o=t.scripts,s=void 0===o?[]:o,a=n&&n.getWrapper(),l=n&&n.getStyle(),c=new u.default({root:a,styles:l},t);r.forEach(function(e){return c.addLink(e)}),s.forEach(function(e){return c.addScript(e)}),this.em=n,this.set("frame",c),this.set("frames",new h.default([c],t)),this.listenTo(this,"change:zoom",this.onZoomChange),this.listenTo(n,"change:device",this.updateDevice)},updateDevice:function(){var e,t,n,i=this.em,r=i.getDeviceModel(),o=i.getCurrentFrameModel();o&&r&&(t=(e=r.attributes).width,n=e.height,o.set({width:t,height:n}))},onZoomChange:function(){this.get("zoom")<1&&this.set("zoom",1)}})},"./src/canvas/model/Frame.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(o),a=n("./node_modules/backbone/backbone.js"),l=n.n(a),c=n("./src/dom_components/model/Component.js"),u=n("./src/css_composer/model/CssRules.js"),h=n("./node_modules/underscore/underscore.js");function d(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=l.a.Model.extend({defaults:{wrapper:"",width:null,height:null,head:"",x:0,y:0,root:0,components:0,styles:0,attributes:{}},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.attributes,r=i.root,o=i.styles,s=i.components;this.set("head",[]),this.em=n.em;var a={em:n.em,config:n.em.get("DomComponents").getConfig(),frame:this};r||this.set("root",new c.default({type:"wrapper",components:s||[]},a)),o&&!Object(h.isString)(o)||this.set("styles",new u.default(o,a))},remove:function(){this.view=0;var e=this.collection;return e&&e.remove(this)},getHead:function(){return s()(this.get("head"))},setHead:function(e){return this.set("head",s()(e))},addHeadItem:function(e){var t=this.getHead();t.push(e),this.setHead(t)},getHeadByAttr:function(t,n,i){return this.getHead().filter(function(e){return e.attributes&&e.attributes[t]==n&&(!i||i===e.tag)})[0]},removeHeadByAttr:function(e,t,n){var i=this.getHead(),r=this.getHeadByAttr(e,t,n),o=i.indexOf(r);0<=o&&(i.splice(o,1),this.setHead(i))},addLink:function(e){this.getHeadByAttr("href",e,"link")||this.addHeadItem({tag:"link",attributes:{href:e,rel:"stylesheet"}})},removeLink:function(e){this.removeHeadByAttr("href",e,"link")},addScript:function(e){this.getHeadByAttr("src",e,"script")||this.addHeadItem({tag:"script",attributes:{src:e}})},removeScript:function(e){this.removeHeadByAttr("src",e,"script")},_emitUpdated:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.em.trigger("frame:updated",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({frame:this},t))}})},"./src/canvas/model/Frames.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),s=n("./src/canvas/model/Frame.js");t.default=o.a.Collection.extend({model:s.default,initialize:function(){Object(i.bindAll)(this,"itemLoaded")},itemLoaded:function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(0))},listenToLoad:function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(1)},listenToLoadItems:function(t){var n=this;this.forEach(function(e){return e[t?"on":"off"]("loaded",n.itemLoaded)})}})},"./src/canvas/view/CanvasView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/backbone/backbone.js"),s=n.n(r),a=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js"),c=n("./src/canvas/view/FramesView.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var h,d=s.a.$;t.default=s.a.View.extend({events:{wheel:"onWheel"},template:function(){var e=this.pfx;return'\n      <div class="'.concat(e,'canvas__frames" data-frames></div>\n      <div id="').concat(e,'tools" class="').concat(e,'canvas__tools" data-tools></div>\n    ')},initialize:function(e){Object(a.bindAll)(this,"clearOff","onKeyPress","onCanvasMove"),Object(l.on)(window,"scroll resize",this.clearOff);var t=this.model,n=t.get("frames");this.config=e.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var i=this.em,r=this.config;this.frames=new c.default({collection:n,config:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},r,{canvasView:this,renderContent:1})}),this.listenTo(i,"change:canvasOffset",this.clearOff),this.listenTo(i,"component:selected",this.checkSelected),this.listenTo(t,"change:zoom change:x change:y",this.updateFrames),this.listenTo(n,"loaded:all",function(){return i.trigger("loaded")}),this.toggleListeners(1)},checkSelected:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).scroll,i=this.em.get("currentFrame");n&&e.views.forEach(function(e){e._getFrame()!==i&&e.scrollIntoView(n)})},remove:function(){s.a.View.prototype.remove.apply(this,arguments),this.toggleListeners()},preventDefault:function(e){e&&(e.preventDefault(),e._parentEvent&&e._parentEvent.preventDefault())},onCanvasMove:function(){},toggleListeners:function(e){this.el;(e?l.on:l.off)(document,"keypress",this.onKeyPress)},onKeyPress:function(e){var t=this.em;" "===Object(l.getKeyChar)(e)&&1!==t.getZoomDecimal()&&(this.preventDefault(e),t.get("Editor").runCommand("core:canvas-move"))},onWheel:function(e){var t,n,i;(e.ctrlKey||e.metaKey)&&this.em.getConfig("multiFrames")&&(this.preventDefault(e),t=this.model,n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),i=t.get("zoom"),t.set("zoom",i+2*n))},updateFrames:function(e){var t=this.em,n=this.model.attributes,i=n.x,r=n.y,o=this.getZoom(),s={preserveSelected:1},a=o?1/o:1;this.framesArea.style.transform="scale(".concat(o,") translate(").concat(i*a,"px, ").concat(r*a,"px)"),this.clearOff(),t.stopDefault(s),t.trigger("canvas:update",e),h&&clearTimeout(h),h=setTimeout(function(){return t.runDefault(s)},300)},getZoom:function(){return this.em.getZoomDecimal()},isElInViewport:function(e){var t=Object(l.getElement)(e),n=Object(l.getElRect)(t),i=this.getFrameOffset(t),r=n.top,o=n.left;return 0<=r&&0<=o&&r<=i.height&&o<=i.width},offset:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=Object(l.getElRect)(e),r=e.ownerDocument.body,o=n.noScroll;return{top:i.top+(o?0:r.scrollTop),left:i.left+(o?0:r.scrollLeft),width:i.width,height:i.height}},clearOff:function(){this.frmOff=null,this.cvsOff=null},getFrameOffset:function(e){var t;return this.frmOff&&!e||(t=e?e.ownerDocument.defaultView.frameElement:this.frame.el,this.frmOff=this.offset(t)),this.frmOff},getCanvasOffset:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},getElementPos:function(e,t){var n=this.getZoom(),i=t||{},r=this.getFrameOffset(e),o=this.getCanvasOffset(),s=this.offset(e,t),a=i.avoidFrameOffset?0:r.top,l=i.avoidFrameOffset?0:r.left;return{top:s.top*n+a-o.top,left:s.left*n+l-o.left,height:s.height*n,width:s.width*n,zoom:n,rect:s}},getElementOffsets:function(e){var t=this;if(!e||Object(l.isTextNode)(e))return{};var n={},i=window.getComputedStyle(e);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(e){n[e]=parseFloat(i[e])*t.getZoom()}),n},getPosition:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.frame.el.contentDocument;if(n){var i=n.body,r=this.getZoom(),o=this.getFrameOffset(),s=this.getCanvasOffset(),a=t.noScroll;return{top:o.top+(a?0:i.scrollTop)*r-s.top,left:o.left+(a?0:i.scrollLeft)*r-s.left,width:s.width,height:s.height}}},updateScript:function(e){var t=e.model,n=t.getId();e.scriptContainer||(e.scriptContainer=d('<div data-id="'.concat(n,'">')),this.getJsContainer().appendChild(e.scriptContainer.get(0))),e.el.id=n,e.scriptContainer.html("");var i=document.createElement("script");i.innerHTML="\n        setTimeout(function() {\n          var item = document.getElementById('".concat(n,"');\n          if (!item) return;\n          (function(){\n            ").concat(t.getScriptString(),";\n          }.bind(item))()\n        }, 1);"),setTimeout(function(){return e.scriptContainer.get(0).appendChild(i)},0)},getJsContainer:function(e){var t=this.getFrameView(e);return t&&t.getJsContainer()},getFrameView:function(e){return e&&e._getFrame()||this.em.get("currentFrame")},render:function(){var e=this.el,t=this.$el,n=this.ppfx,i=this.model,r=this.em,o=this.frames,s=r.get("CssComposer"),a=i.get("wrapper");t.html(this.template());var l=t.find("[data-frames]");this.framesArea=l.get(0),(this.wrapper=a)&&"function"==typeof a.render&&i.get("frame").set({wrapper:a,root:a.getWrapper(),styles:s.getAll()});var c=t.find("[data-tools]");this.toolsWrapper=c.get(0),c.append('\n      <div class="'.concat(n,"tools ").concat(n,'tools-gl" style="pointer-events:none">\n        <div class="').concat(n,'placeholder">\n          <div class="').concat(n,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(n,'tools" style="pointer-events:none">\n        <div class="').concat(n,'badge"></div>\n        <div class="').concat(n,'ghost"></div>\n        <div class="').concat(n,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(n,'resizer"></div>\n        <div class="').concat(n,'offset-v"></div>\n        <div class="').concat(n,'offset-fixed-v"></div>\n      </div>\n    '));var u=e.querySelector("#".concat(n,"tools"));this.hlEl=e.querySelector(".".concat(n,"highlighter")),this.badgeEl=e.querySelector(".".concat(n,"badge")),this.placerEl=e.querySelector(".".concat(n,"placeholder")),this.ghostEl=e.querySelector(".".concat(n,"ghost")),this.toolbarEl=e.querySelector(".".concat(n,"toolbar")),this.resizerEl=e.querySelector(".".concat(n,"resizer")),this.offsetEl=e.querySelector(".".concat(n,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(n,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(n,"tools-gl")),this.toolsEl=u,this.el.className=this.className;var h=i.get("frames");return h.listenToLoad(),o.render(),r.setCurrentFrame(h.at(0).view),l.append(o.el),this.frame=h.at(0).view,this}})},"./src/canvas/view/FrameView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/backbone/backbone.js"),l=n.n(a),d=n("./node_modules/underscore/underscore.js"),f=n("./src/css_composer/view/CssRulesView.js"),p=n("./src/dom_components/view/ComponentView.js"),g=n("./src/utils/dom.js"),m=n("./src/utils/mixins.js");function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=l.a.View.extend({tagName:"iframe",attributes:{allowfullscreen:"allowfullscreen","data-frame-el":!0},initialize:function(e){Object(d.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var t=this.model,n=this.el;this.config=v({},e.config||{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em,this.listenTo(t,"change:head",this.updateHead),t.view=this,Object(m.setViewEl)(n,this)},updateHead:function(){var e=this.getHead();Object(g.empty)(e),Object(g.appendVNodes)(e,this.model.getHead())},getEl:function(){return this.el},getWindow:function(){return this.getEl().contentWindow},getDoc:function(){return this.getEl().contentDocument},getHead:function(){return this.getDoc().querySelector("head")},getBody:function(){return this.getDoc().querySelector("body")},getWrapper:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},getJsContainer:function(){return this.jsContainer||(this.jsContainer=Object(g.createEl)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},getToolsEl:function(){var e=this.config.frameWrapView;return e&&e.elTools},getGlobalToolsEl:function(){return this.em.get("Canvas").getGlobalToolsEl()},getHighlighter:function(){return this._getTool("[data-hl]")},getBadgeEl:function(){return this._getTool("[data-badge]")},getOffsetViewerEl:function(){return this._getTool("[data-offset]")},getRect:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},getOffsetRect:function(){var e=this.el,t=this.getBody(),n=t.scrollTop,i=t.scrollLeft,r=e.offsetHeight,o=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:r,width:o,scrollTop:n,scrollLeft:i,scrollBottom:n+r,scrollRight:i+o}},_getTool:function(e){var t=this.getToolsEl();return this[e]||(this[e]=t.querySelector(e)),this[e]},remove:function(){var e=this.root,t=this.model;this._toggleEffects(),l.a.View.prototype.remove.apply(this,arguments),e.remove(),t.remove()},startAutoscroll:function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(1),requestAnimationFrame(e.autoscroll)},0)},autoscroll:function(){var e,t,n,i,r,o,s;this.dragging&&(e=this.em.get("Canvas"),t=this.getWindow(),s=n=this.getBody().scrollTop,(i=this.lastClientY||0)<(r=e.getConfig().autoscrollLimit)&&(s-=r-i),(o=this.getRect().height-r)<i&&(s+=i-o),s!==n&&0<s&&s<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),t.scrollTo(0,s)),requestAnimationFrame(this.autoscroll))},updateClientY:function(e){e.preventDefault(),this.lastClientY=Object(m.getPointerEvent)(e).clientY*this.em.getZoomDecimal()},showGlobalTools:Object(d.debounce)(function(){this.getGlobalToolsEl().style.opacity=""},50),stopAutoscroll:function(){this.dragging&&this._toggleAutoscrollFx()},_toggleAutoscrollFx:function(e){this.dragging=e;var t=this.getWindow(),n=e?"on":"off",i={on:m.on,off:m.off};i[n](t,"mousemove dragover",this.updateClientY),i[n](t,"mouseup",this.stopAutoscroll)},render:function(){var e=this.el,t=this.$el,n=this.ppfx,i=this.config;return t.attr({class:n+"frame"}),i.scripts.length?this.renderScripts():i.renderContent&&(e.onload=this.renderBody.bind(this)),this},renderScripts:function(){var r=this,o=this.el,e=this.config;o.onload=function(){return function e(t){var n,i;0<t.length?(n=t.shift(),(i=Object(g.createEl)("script",v({type:"text/javascript"},Object(d.isString)(n)?{src:n}:n))).onerror=i.onload=e.bind(null,t),o.contentDocument.head.appendChild(i)):r.renderBody()}(s()(e.scripts))}},renderBody:function(){var n=this,e=this.config,t=this.model,i=this.ppfx,r=t.get("root"),o=t.get("styles"),s=e.em,a=this.getDoc(),l=this.getHead(),c=this.getBody(),u=(this.getWindow(),s.get("Config")),h=[];e.styles.forEach(function(e){return h.push(Object(d.isString)(e)?{tag:"link",attributes:{href:e,rel:"stylesheet"}}:{tag:"link",attributes:v({rel:"stylesheet"},e)})}),h.length&&Object(g.appendVNodes)(l,h);Object(g.append)(c,"<style>\n      ".concat(u.baseCss||"","\n\n      .").concat(i,"dashed *[data-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(i,"selected {\n        outline: 3px solid #3b97e3 !important;\n        outline-offset: -3px;\n      }\n\n      .").concat(i,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(i,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(i,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(i,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(i,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(i,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(i,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(i,"is__grabbing,\n      .").concat(i,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(u.canvasCss||"","\n      ").concat(u.protectedCss||"","\n    </style>")),this.root=new p.default({model:r,config:v({},r.config,{frameView:this})}).render(),Object(g.append)(c,this.root.el),Object(g.append)(c,new f.default({collection:o,config:v({},s.get("CssComposer").getConfig(),{frameView:this})}).render().el),Object(g.append)(c,this.getJsContainer()),Object(m.on)(c,"click",function(e){return e&&"A"==e.target.tagName&&e.preventDefault()}),Object(m.on)(c,"submit",function(e){return e&&e.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousemove",class:"MouseEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(t){return t.event.split(" ").forEach(function(e){a.addEventListener(e,function(e){return n.el.dispatchEvent(Object(g.createCustomEvent)(e,t.class))})})}),this._toggleEffects(1),t.trigger("loaded")},_toggleEffects:function(e){(e?m.on:m.off)(this.getWindow(),"".concat(g.motionsEv," resize"),this._emitUpdate)},_emitUpdate:function(){this.model._emitUpdated()}})},"./src/canvas/view/FrameWrapView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),l=n("./src/canvas/view/FrameView.js"),g=n("./node_modules/underscore/underscore.js"),m=n("./src/utils/dom.js"),c=n("./src/utils/Dragger.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.View.extend({events:{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"},initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};Object(g.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var r=this.model,o=v({},n.config||i,{frameWrapView:this}),s=o.canvasView,a=o.em;this.cv=s,this.config=o,this.em=a,this.canvas=a&&a.get("Canvas"),this.ppfx=o.pStylePrefix||"",this.frame=new l.default({model:r,config:o}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.listenTo(r,"loaded",this.frameLoaded),this.listenTo(r,"change:x change:y",this.updatePos),this.listenTo(r,"change:width change:height",this.updateSize),this.updatePos(),this.setupDragger()},setupDragger:function(){function i(e){t.toggleFramesEvents(e)}var r,o,s,a=this,t=this.canvas,l=this.model;this.dragger=new c.default({onStart:function(){var e=l.attributes,t=e.x,n=e.y;s=a.em.getZoomMultiplier(),r=t,o=n,i()},onEnd:function(){return i(1)},setPosition:function(e){l.set({x:r+e.x*s,y:o+e.y*s})}})},startDrag:function(e){e&&this.dragger.start(e)},remove:function(){return s.a.View.prototype.remove.apply(this,arguments),this.frame.remove(),this},updateOffset:Object(g.debounce)(function(){var e=this.em,t=this.$el,n=this.frame;e.runDefault({preserveSelected:1}),t.removeClass(this.classAnim),n.model._emitUpdated()}),updatePos:function(e){var t=this.model,n=this.el,i=t.attributes,r=i.x,o=i.y,s=n.style;this.frame.rect=0,s.left=isNaN(r)?r:"".concat(r,"px"),s.top=isNaN(o)?o:"".concat(o,"px"),e&&this.updateOffset()},updateSize:Object(g.debounce)(function(){this.updateDim()}),updateDim:function(){var e,t=this.em,n=this.el,i=this.$el,r=this.model,o=this.classAnim,s=r.attributes,a=s.width,l=s.height,c=n.style,u=c.width||"",h=c.height||"",d=a||"",f=l||"",p=u==d&&h==f;this.frame.rect=0,i.addClass(o),c.width=Object(g.isNumber)(d)?"".concat(d).concat("px"):d,c.height=Object(g.isNumber)(f)?"".concat(f).concat("px"):f,(Object(g.isNull)(a)||Object(g.isNull)(l))&&(e=v({},a?{}:{width:n.offsetWidth},{},l?{}:{height:n.offsetHeight}),r.set(e,{silent:1})),t.stopDefault({preserveSelected:1}),p?this.updateOffset():i.one(m.motionsEv,this.updateOffset)},onScroll:function(){var e=this.frame;this.em.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},frameLoaded:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},render:function(){var e=this.frame,t=this.$el,n=this.ppfx,i=this.cv,r=this.model,o=this.el,s=r.attributes.onRender;e.render(),t.empty().attr({class:"".concat(n,"frame-wrapper")}).append('\n      <div class="'.concat(n,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(n,'frame-wrapper__name" data-action-move>\n          ').concat(r.get("name")||"",'\n        </div>\n        <div class="').concat(n,'frame-wrapper__top-r">\n          <div class="').concat(n,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(n,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(n,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(n,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(e.el);var a=Object(m.createEl)("div",{class:"".concat(n,"tools"),style:"pointer-events:none; opacity: 0"},'\n      <div class="'.concat(n,'highlighter" data-hl></div>\n      <div class="').concat(n,'badge" data-badge></div>\n      <div class="').concat(n,'placeholder">\n        <div class="').concat(n,'placeholder-int"></div>\n      </div>\n      <div class="').concat(n,'ghost"></div>\n      <div class="').concat(n,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(n,'resizer"></div>\n      <div class="').concat(n,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(n,'offset-fixed-v"></div>\n    '));return this.elTools=a,i.toolsWrapper.appendChild(a),s&&s({el:o,elTop:o.querySelector("[data-frame-top]"),elRight:o.querySelector("[data-frame-right]"),elBottom:o.querySelector("[data-frame-bottom]"),elLeft:o.querySelector("[data-frame-left]"),frame:r,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}})},"./src/canvas/view/FramesView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/domain_abstract/view/DomainViews.js"),r=n("./src/canvas/view/FrameWrapView.js");t.default=i.default.extend({itemView:r.default,autoAdd:1,init:function(){this.listenTo(this.collection,"reset",this.render)},onRender:function(){var e=this.config,t=this.$el,n=e.em;n&&t.attr({class:"".concat(n.getConfig("stylePrefix"),"frames")})}})},"./src/code_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"cm-",inlineCss:!1}},"./src/code_manager/index.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js"),l=n("./src/code_manager/config/config.js"),c=n("./src/code_manager/model/HtmlGenerator.js"),u=n("./src/code_manager/model/CssGenerator.js"),h=n("./src/code_manager/model/JsonGenerator.js"),d=n("./src/code_manager/model/JsGenerator.js"),f=n("./src/code_manager/model/CodeMirrorEditor.js"),p=n("./src/code_manager/view/EditorView.js");t.default=function(){var o={},n={},i={},r={},s={};return{getConfig:function(){return o},config:o,EditorView:p.default,name:"CodeManager",init:function(e){for(var t in o=e||{},l.default)t in o||(o[t]=l.default[t]);var n=o.pStylePrefix;return n&&(o.stylePrefix=n+o.stylePrefix),i.html=new c.default,i.css=new u.default,i.json=new h.default,i.js=new d.default,s.CodeMirror=new f.default,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(e,t){return n[e]=t,this},getGenerator:function(e){return n[e]||null},getGenerators:function(){return n},addViewer:function(e,t){return r[e]=t,this},getViewer:function(e){return r[e]||null},getViewers:function(){return r},createViewer:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=Object(a.isUndefined)(t.type)?"CodeMirror":t.type,i=this.getViewer(n)&&this.getViewer(n).clone(),r=document.createElement("div"),o=document.createElement("textarea");return r.appendChild(o),i.set(t),i.init(o),i.setElement(r),i},updateViewer:function(e,t){e.setContent(t)},getCode:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};i.em=o.em;var r=this.getGenerator(t);return r?r.build(e,i):""},loadDefaultGenerators:function(){for(var e in i)this.addGenerator(e,i[e]);return this},loadDefaultViewers:function(){for(var e in s)this.addViewer(e,s[e]);return this}}}},"./src/code_manager/model/CodeMirrorEditor.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),l=n("./node_modules/codemirror/lib/codemirror.js"),c=n.n(l);n("./node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),n("./node_modules/codemirror/mode/css/css.js"),n("./node_modules/codemirror-formatting/formatting.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=a.a.Model.extend({defaults:{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0},init:function(e){return Object(o.bindAll)(this,"onChange"),this.editor=c.a.fromTextArea(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},onChange:function(){this.trigger("update",this)},getEditor:function(){return this.editor},getElement:function(){return this.element},setElement:function(e){return this.element=e,this},refresh:function(){return this.getEditor().refresh(),this},focus:function(){return this.getEditor().focus(),this},getContent:function(){var e=this.getEditor();return e&&e.getValue()},setContent:function(e,t){var n=this,i=1<arguments.length&&void 0!==t?t:{},r=this.editor;r&&(r.setValue(e),r.autoFormatRange&&(c.a.commands.selectAll(r),r.autoFormatRange(r.getCursor(!0),r.getCursor(!1)),c.a.commands.goDocStart(r)),i.noRefresh||setTimeout(function(){return n.refresh()}))}})},"./src/code_manager/model/CssGenerator.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),h=n("./node_modules/underscore/underscore.js"),o=Number.MAX_VALUE;t.default=r.a.Model.extend({initialize:function(){this.compCls=[],this.ids=[]},buildFromModel:function(e,t){var n,i=this,r=1<arguments.length&&void 0!==t?t:{},o="",s=this.em,a=s&&s.getConfig("avoidInlineStyle"),l=e.styleToString(),c=e.get("classes"),u=r.wrapperIsBody,h=e.get("wrapper");return this.ids.push("#".concat(e.getId())),c.each(function(e){return i.compCls.push(e.getFullName())}),!a&&l&&(n="#".concat(e.getId()),o="".concat(n=u&&h?"body":n,"{").concat(l,"}")),e.components().each(function(e){return o+=i.buildFromModel(e,r)}),o},build:function(e,t){var r=this,o=1<arguments.length&&void 0!==t?t:{},n=o.cssc,i=o.em||"";this.em=i,this.compCls=[],this.ids=[];var s,a,l,c=this.buildFromModel(e,o),u=Object(h.isUndefined)(o.clearStyles)&&i?i.getConfig("clearStyles"):o.clearStyles;return n&&(s=n.getAll(),a={},l=[],s.each(function(e){var t,n=e.getAtRule();n?(t=a[n])?t.push(e):a[n]=[e]:c+=r.buildFromRule(e,l,o)}),this.sortMediaObject(a).forEach(function(e){var n="",i=e.key;e.value.forEach(function(e){var t=r.buildFromRule(e,l,o);e.get("singleAtRule")?c+="".concat(i,"{").concat(t,"}"):n+=t}),n&&(c+="".concat(i,"{").concat(n,"}"))}),i&&u&&s.remove(l)),c},buildFromRule:function(e,t,n){var i,r,o=this,s=2<arguments.length&&void 0!==n?n:{},a="",l=e.selectorsToString({skipAdd:1}),c=e.get("selectorsAdd"),u=e.get("singleAtRule");return e.get("selectors").each(function(e){var t=e.getFullName();(0<=o.compCls.indexOf(t)||0<=o.ids.indexOf(t)||s.keepUnusedStyles)&&(i=1)}),l&&i||c||u?(r=e.getDeclaration())&&(a+=r):t.push(e),a},getQueryLength:function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):o},sortMediaObject:function(e){var o=this,t=0<arguments.length&&void 0!==e?e:{},n=[];return Object(h.each)(t,function(e,t){return n.push({key:t,value:e})}),n.sort(function(e,t){var n=[e.key,t.key].every(function(e){return-1!==e.indexOf("min-width")}),i=n?e.key:t.key,r=n?t.key:e.key;return o.getQueryLength(i)-o.getQueryLength(r)})}})},"./src/code_manager/model/HtmlGenerator.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),s=n.n(o);function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=s.a.Model.extend({build:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=e.get("components");return n.exportWrapper?e.toHTML(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n.wrapperIsBody&&{tag:"body"})):this.buildModels(i)},buildModels:function(e){var t="";return e.each(function(e){t+=e.toHTML()}),t}})},"./src/code_manager/model/JsGenerator.js":function(e,t,n){"use strict";n.r(t);var c=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({mapModel:function(e){var t,n,i,r="",o=e.get("script-export")||e.get("script"),s=e.get("type"),a=e.get("components"),l=e.getId();return o&&(t=e.get("attributes"),t=Object(c.extend)({},t,{id:l}),e.set("attributes",t,{silent:1}),n=e.getScriptString(o),e.get("scriptUpdated")?this.mapJs[s+"-"+l]={ids:[l],code:n}:(i=this.mapJs[s])?i.ids.push(l):this.mapJs[s]={ids:[l],code:n}),a.each(function(e){r+=this.mapModel(e)},this),r},build:function(e){this.mapJs={},this.mapModel(e);var t="";for(var n in this.mapJs){var i=this.mapJs[n],r="#"+i.ids.join(", #");t+="\n        var items = document.querySelectorAll('".concat(r,"');\n        for (var i = 0, len = items.length; i < len; i++) {\n          (function(){").concat(i.code,"}.bind(items[i]))();\n        }")}return t}})},"./src/code_manager/model/JsonGenerator.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r);t.default=o.a.Model.extend({build:function(e){var r=e.toJSON();return this.beforeEach(r),Object(i.each)(r,function(e,n){var t,i=r[n];i instanceof o.a.Model?r[n]=this.build(i):i instanceof o.a.Collection&&(t=i,r[n]=[],t.length&&t.each(function(e,t){r[n][t]=this.build(e)},this))},this),r},beforeEach:function(e){delete e.status}})},"./src/code_manager/view/EditorView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r);t.default=o.a.View.extend({template:Object(i.template)('\n  <div class="<%= pfx %>editor" id="<%= pfx %><%= codeName %>">\n  \t<div id="<%= pfx %>title"><%= label %></div>\n  \t<div id="<%= pfx %>code"></div>\n  </div>'),initialize:function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},render:function(){var e=this.model.toJSON();return e.pfx=this.pfx,this.$el.html(this.template(e)),this.$el.attr("class",this.pfx+"editor-c"),this.$el.find("#"+this.pfx+"code").append(this.model.get("input")),this}})},"./src/commands/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"com-",defaults:[],strict:1}},"./src/commands/index.js":function(e,t,u){"use strict";u.r(t);var n=u("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),b=u.n(n),i=u("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=u.n(i),y=u("./node_modules/underscore/underscore.js"),h=u("./src/commands/view/CommandAbstract.js"),d=u("./src/commands/config/config.js"),w=u("./src/dom_components/model/Component.js");function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var s,a={},n={},o={},l={},c=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];return{CommandAbstract:h.default,name:"Commands",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};a=f({},d.default,{},t),s=a.em;var n=a.pStylePrefix;for(var i in n&&(a.stylePrefix=n+a.stylePrefix),a.defaults){var r=a.defaults[i];r.id&&this.add(r.id,r)}return o["tlb-delete"]={run:function(e){return e.runCommand("core:component-delete")}},o["tlb-clone"]={run:function(e){e.runCommand("core:copy"),e.runCommand("core:paste")}},o["tlb-move"]={run:function(i,e,t){function n(){return o.stopDefault(h)}var r=2<arguments.length&&void 0!==t?t:{},o=i.getModel(),s=r&&r.event,a=r.target,l=a||i.getSelected(),c=a?[a]:b()(i.getSelectedAll()),u=s&&"dragstart"==s.type,h={preserveSelected:1},d=l.get("dmode")||o.get("dmode"),f=Object(y.includes)(["absolute","translate"],d);if(c.forEach(function(e){return e.trigger("disable")}),!l||!l.get("draggable"))return o.logWarning("The element is not draggable");u?setTimeout(n,0):n();function p(e){o.trigger("".concat(w.eventDrag,":start"),e)}function g(e){o.trigger(w.eventDrag,e)}function m(e,t,n){o.runDefault(h),c.forEach(function(e){return e.set("status","selected")}),i.select(c),l.emitUpdate(),o.trigger("".concat(w.eventDrag,":end"),n),(f||n.cancelled)&&o.set("_cmpDrag",1)}var v;f?i.runCommand("core:component-drag",{guidesInfo:1,mode:d,target:l,onStart:p,onDrag:g,onEnd:m,event:s}):(u&&s.dataTransfer.setDragImage(l.view.el,0,0),(v=i.Commands.get("move-comp")).onStart=p,v.onDrag=g,v.onEndMoveFromModel=m,v.initSorterFromModels(c)),c.forEach(function(e){return e.set("status","freezed-selected")})}},o["core:undo"]=function(e){return e.UndoManager.undo()},o["core:redo"]=function(e){return e.UndoManager.redo()},c.forEach(function(e){var t=e[2],n=u("./src/commands/view sync recursive ^\\.\\/.*$")("./".concat(e[1])).default,r="core:".concat(e[0]);o[r]=n,t&&(o[t]=n,["run","stop"].forEach(function(i){s.on("".concat(i,":").concat(t),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.trigger.apply(s,["".concat(i,":").concat(r)].concat(t))})}))}),a.em&&(a.model=a.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(e,t){return Object(y.isFunction)(t)&&(t={run:t}),t.stop||(t.noStop=1),delete t.initialize,t.id=e,n[e]=h.default.extend(t),this},get:function(e){var t=n[e];return Object(y.isFunction)(t)?(t=new t(a),n[e]=t):t||s.logWarning("'".concat(e,"' command not found")),t},extend:function(t,e){var n,i,r=1<arguments.length&&void 0!==e?e:{},o=this.get(t);return o&&(n=f({},o.constructor.prototype,{},r),this.add(t,n),(i=c.filter(function(e){return"core:".concat(e[0])===t&&e[2]})[0])&&this.add(i[2],n)),this},has:function(e){return!!n[e]},getAll:function(){return n},run:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.runCommand(this.get(e),n)},stop:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.stopCommand(this.get(e),n)},isActive:function(e){return this.getActive().hasOwnProperty(e)},getActive:function(){return l},loadDefaultCommands:function(){for(var e in o)this.add(e,o[e]);return this},runCommand:function(e,t){var n,i,r,o=1<arguments.length&&void 0!==t?t:{};return e&&e.run&&(i=e.id,r=s.get("Editor"),this.isActive(i)&&!o.force&&a.strict||(n=e.callRun(r,o),i&&e.stop&&!e.noStop&&!o.abort&&(l[i]=n))),n},stopCommand:function(e,t){var n,i,r,o=1<arguments.length&&void 0!==t?t:{};return e&&e.run&&(i=e.id,r=s.get("Editor"),!this.isActive(i)&&!o.force&&a.strict||(i&&delete l[i],n=e.callStop(r,o))),n},create:function(e){return e.stop||(e.noStop=1),new(h.default.extend(e))(a)}}}},"./src/commands/view sync recursive ^\\.\\/.*$":function(e,t,n){var i={"./CanvasClear":"./src/commands/view/CanvasClear.js","./CanvasClear.js":"./src/commands/view/CanvasClear.js","./CanvasMove":"./src/commands/view/CanvasMove.js","./CanvasMove.js":"./src/commands/view/CanvasMove.js","./CommandAbstract":"./src/commands/view/CommandAbstract.js","./CommandAbstract.js":"./src/commands/view/CommandAbstract.js","./ComponentDelete":"./src/commands/view/ComponentDelete.js","./ComponentDelete.js":"./src/commands/view/ComponentDelete.js","./ComponentDrag":"./src/commands/view/ComponentDrag.js","./ComponentDrag.js":"./src/commands/view/ComponentDrag.js","./ComponentEnter":"./src/commands/view/ComponentEnter.js","./ComponentEnter.js":"./src/commands/view/ComponentEnter.js","./ComponentExit":"./src/commands/view/ComponentExit.js","./ComponentExit.js":"./src/commands/view/ComponentExit.js","./ComponentNext":"./src/commands/view/ComponentNext.js","./ComponentNext.js":"./src/commands/view/ComponentNext.js","./ComponentPrev":"./src/commands/view/ComponentPrev.js","./ComponentPrev.js":"./src/commands/view/ComponentPrev.js","./ComponentStyleClear":"./src/commands/view/ComponentStyleClear.js","./ComponentStyleClear.js":"./src/commands/view/ComponentStyleClear.js","./CopyComponent":"./src/commands/view/CopyComponent.js","./CopyComponent.js":"./src/commands/view/CopyComponent.js","./DeleteComponent":"./src/commands/view/DeleteComponent.js","./DeleteComponent.js":"./src/commands/view/DeleteComponent.js","./ExportTemplate":"./src/commands/view/ExportTemplate.js","./ExportTemplate.js":"./src/commands/view/ExportTemplate.js","./Fullscreen":"./src/commands/view/Fullscreen.js","./Fullscreen.js":"./src/commands/view/Fullscreen.js","./MoveComponent":"./src/commands/view/MoveComponent.js","./MoveComponent.js":"./src/commands/view/MoveComponent.js","./OpenAssets":"./src/commands/view/OpenAssets.js","./OpenAssets.js":"./src/commands/view/OpenAssets.js","./OpenBlocks":"./src/commands/view/OpenBlocks.js","./OpenBlocks.js":"./src/commands/view/OpenBlocks.js","./OpenLayers":"./src/commands/view/OpenLayers.js","./OpenLayers.js":"./src/commands/view/OpenLayers.js","./OpenStyleManager":"./src/commands/view/OpenStyleManager.js","./OpenStyleManager.js":"./src/commands/view/OpenStyleManager.js","./OpenTraitManager":"./src/commands/view/OpenTraitManager.js","./OpenTraitManager.js":"./src/commands/view/OpenTraitManager.js","./PasteComponent":"./src/commands/view/PasteComponent.js","./PasteComponent.js":"./src/commands/view/PasteComponent.js","./Preview":"./src/commands/view/Preview.js","./Preview.js":"./src/commands/view/Preview.js","./Resize":"./src/commands/view/Resize.js","./Resize.js":"./src/commands/view/Resize.js","./SelectComponent":"./src/commands/view/SelectComponent.js","./SelectComponent.js":"./src/commands/view/SelectComponent.js","./SelectPosition":"./src/commands/view/SelectPosition.js","./SelectPosition.js":"./src/commands/view/SelectPosition.js","./ShowOffset":"./src/commands/view/ShowOffset.js","./ShowOffset.js":"./src/commands/view/ShowOffset.js","./SwitchVisibility":"./src/commands/view/SwitchVisibility.js","./SwitchVisibility.js":"./src/commands/view/SwitchVisibility.js"};function r(e){var t=o(e);return n(t)}function o(e){if(n.o(i,e))return i[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(i)},r.resolve=o,(e.exports=r).id="./src/commands/view sync recursive ^\\.\\/.*$"},"./src/commands/view/CanvasClear.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){e.DomComponents.clear(),e.CssComposer.clear()}}},"./src/commands/view/CanvasMove.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),a=n("./src/utils/mixins.js"),s=n("./src/utils/Dragger.js");t.default={run:function(e){Object(i.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=e,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(){this.toggleMove(),this.disableDragger()},onKeyUp:function(e){" "===Object(a.getKeyChar)(e)&&this.editor.stopCommand(this.id)},enableDragger:function(e){this.toggleDragger(1,e)},disableDragger:function(e){this.toggleDragger(0,e)},toggleDragger:function(e,t){var i=this.canvasModel,n=this.em,r=this.dragger,o=e?"add":"remove";this.getCanvas().classList[o]("".concat(this.ppfx,"is__grabbing")),r||(r=new s.default({getPosition:function(){return{x:i.get("x"),y:i.get("y")}},setPosition:function(e){var t=e.x,n=e.y;i.set({x:t,y:n})},onStart:function(e,t){n.trigger("canvas:move:start",t)},onDrag:function(e,t){n.trigger("canvas:move",t)},onEnd:function(e,t){n.trigger("canvas:move:end",t)}}),this.dragger=r),e?r.start(t):r.stop()},toggleMove:function(e){var t=this.ppfx,n=e?"add":"remove",i=e?"on":"off",r={on:a.on,off:a.off},o=this.getCanvas(),s=["".concat(t,"is__grab")];e||s.push("".concat(t,"is__grabbing")),s.forEach(function(e){return o.classList[n](e)}),r[i](document,"keyup",this.onKeyUp),r[i](o,"mousedown",this.enableDragger),r[i](document,"mouseup",this.disableDragger)}}},"./src/commands/view/CommandAbstract.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);r.a.$;t.default=r.a.View.extend({initialize:function(e){this.config=e||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.em.get&&this.setElement(this.getCanvas()),this.canvas&&(this.$canvas=this.$el,this.canvasTool=this.getCanvasTools()),this.init(this.config)},onFrameScroll:function(){},getCanvas:function(){return this.canvas.getElement()},getCanvasBody:function(){return this.canvas.getBody()},getCanvasWrapper:function(){return this.canvas.getWrapperEl()},getCanvasTools:function(){return this.canvas.getToolsEl()},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+e.ownerDocument.body.scrollTop,left:t.left+e.ownerDocument.body.scrollLeft}},init:function(){},callRun:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.id;if(e.trigger("run:".concat(i,":before"),n),!n||!n.abort){var r=n.sender||e,o=this.run(e,r,n);return e.trigger("run:".concat(i),o,n),e.trigger("run",i,o,n),o}e.trigger("abort:".concat(i),n)},callStop:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.id,r=n.sender||e;e.trigger("stop:".concat(i,":before"),n);var o=this.stop(e,r,n);return e.trigger("stop:".concat(i),o,n),e.trigger("stop",i,o,n),o},stopCommand:function(){this.em.get("Commands").stop(this.id)},run:function(){},stop:function(){}})},"./src/commands/view/ComponentDelete.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(i),s=n("./node_modules/underscore/underscore.js");t.default={run:function(e,t,n){var i=this,r=(2<arguments.length&&void 0!==n?n:{}).component||e.getSelectedAll(),r=Object(s.isArray)(r)?o()(r):[r];return e.select(null),r.forEach(function(e){return e&&e.get("removable")?void e.remove():i.em.logWarning("The element is not removable",{component:e})}),r}}},"./src/commands/view/ComponentDrag.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),A=n("./node_modules/underscore/underscore.js"),d=n("./src/utils/Dragger.js");function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default={run:function(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:{};Object(A.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var o=r.target,s=r.event,a=r.mode,l=r.dragger,c=void 0===l?{}:l,u=M({doc:o.getEl().ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return i.guidesStatic},guidesTarget:function(){return i.guidesTarget}},c);this.setupGuides(),this.opts=r,this.editor=e,this.em=e.getModel(),this.target=o,this.isTran="translate"==a,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var h=this.dragger;return h?h.setOptions(u):(h=new d.default(u),this.dragger=h),s&&h.start(s),this.toggleDrag(1),this.em.trigger("".concat("dmode",":start"),this.getEventOpts()),h},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(e){var t=e.guide;t&&t.parentNode.removeChild(t)}),this.guides=[]},getGuidesContainer:function(){var e,t,n,i,r,o,s,a=this,l=this.guidesEl;return l||(e=this.editor,t=this.em,n=this.opts,i=e.getConfig("stylePrefix"),r=document.createElement("div"),o=document.createElement("div"),s='<div class="'.concat(i,"guide-info__line ").concat(i,'danger-bg">\n        <div class="').concat(i,"guide-info__content ").concat(i,'danger-color"></div>\n      </div>'),(l=document.createElement("div")).className="".concat(i,"guides"),r.className="".concat(i,"guide-info ").concat(i,"guide-info__x"),o.className="".concat(i,"guide-info ").concat(i,"guide-info__y"),r.innerHTML=s,o.innerHTML=s,l.appendChild(r),l.appendChild(o),e.Canvas.getGlobalToolsEl().appendChild(l),this.guidesEl=l,this.elGuideInfoX=r,this.elGuideInfoY=o,this.elGuideInfoContentX=r.querySelector(".".concat(i,"guide-info__content")),this.elGuideInfoContentY=o.querySelector(".".concat(i,"guide-info__content")),t.on("canvas:update frame:scroll",Object(A.debounce)(function(){a.updateGuides(),n.debug&&a.guides.forEach(function(e){return a.renderGuide(e)})},200))),l},getGuidesStatic:function(){var t=this,n=[],i=this.target.getEl(),e=i.parentNode,r=void 0===e?{}:e;return Object(A.each)(r.children,function(e){return n=n.concat(i!==e?t.getElementGuides(e):[])}),n.concat(this.getElementGuides(r))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(e){var i,r,o=this;(e||this.guides).forEach(function(n){var e=n.origin,t=i===e?r:o.getElementPos(e);i=e,r=t,Object(A.each)(o.getGuidePosUpdate(n,t),function(e,t){return n[t]=e}),n.originRect=t})},getGuidePosUpdate:function(e,t){var n={},i=t.top,r=t.height,o=t.left,s=t.width;switch(e.type){case"t":n.y=i;break;case"b":n.y=i+r;break;case"l":n.x=o;break;case"r":n.x=o+s;break;case"x":n.x=o+s/2;break;case"y":n.y=i+r/2}return n},renderGuide:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.guide||document.createElement("div"),i=t.active?2:1,r=n.children[0];return n.style="position: absolute; background-color: ".concat(t.active?"green":"red",";"),n.children.length||((r=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",n.appendChild(r)),t.y?(n.style.width="100%",n.style.height="".concat(i).concat("px"),n.style.top="".concat(t.y).concat("px"),n.style.left=0):(n.style.width="".concat(i).concat("px"),n.style.height="100%",n.style.left="".concat(t.x).concat("px"),n.style.top="0".concat("px")),t.guide||this.guidesContainer.appendChild(n),n},getElementPos:function(e){return this.editor.Canvas.getElementPos(e,{noScroll:1})},getElementGuides:function(t){var n=this,i=this.opts,r=this.getElementPos(t),e=r.top,o=r.height,s=r.left,a=r.width,l=[{type:"t",y:e},{type:"b",y:e+o},{type:"l",x:s},{type:"r",x:s+a},{type:"x",x:s+a/2},{type:"y",y:e+o/2}].map(function(e){return M({},e,{origin:t,originRect:r,guide:i.debug&&n.renderGuide(e)})});return l.forEach(function(e){return n.guides.push(e)}),l},getTranslate:function(e,t){var i=1<arguments.length&&void 0!==t?t:"x",r=0;return(e||"").split(" ").forEach(function(e){var t=e.trim(),n="translate".concat(i.toUpperCase(),"(");0===t.indexOf(n)&&(r=parseFloat(t.replace(n,"")))}),r},setTranslate:function(e,t,n){var i="translate".concat(t.toUpperCase(),"("),r="".concat(i).concat(n,")"),o=(e||"").split(" ").map(function(e){return 0===e.trim().indexOf(i)&&(e=r),e}).join(" ");return o.indexOf(i)<0&&(o+=" ".concat(r)),o},getPosition:function(){var e=this.target,t=this.isTran,n=e.getStyle(),i=n.left,r=n.top,o=n.transform,s=0,a=0,a=t?(s=this.getTranslate(o),this.getTranslate(o,"y")):(s=parseFloat(i),parseFloat(r));return{x:s,y:a}},setPosition:function(e){var t=e.x,n=e.y,i=e.end,r=e.position,o=e.width,s=e.height,a=this.target,l=this.isTran,c=i?"":1,u="".concat(t).concat("px"),h="".concat(n).concat("px");if(l){var d=a.getStyle().transform||"",d=this.setTranslate(d,"x",u);return d=this.setTranslate(d,"y",h),a.addStyle({transform:d,en:c},{avoidStore:!i})}var f={position:r,width:o,height:s},p={left:u,top:h,en:c};Object(A.keys)(f).forEach(function(e){var t=f[e];t&&(p[e]=t)}),a.addStyle(p,{avoidStore:!i})},_getDragData:function(){var e=this.target;return{target:e,parent:e.parent(),index:e.index()}},onStart:function(){var e,t,n,i,r,o,s=this.target,a=this.editor,l=this.isTran,c=this.opts,u=c.center,h=c.onStart,d=a.Canvas,f=s.getStyle();h&&h(this._getDragData()),l||"absolute"!==f.position&&(r=(e=d.offset(s.getEl())).left,o=e.top,t=e.width,n=e.height,u&&(r=(i=d.getMouseRelativeCanvas(event)).x,o=i.y),this.setPosition({x:r,y:o,width:"".concat(t,"px"),height:"".concat(n,"px"),position:"absolute"}))},onDrag:function(){var t=this,e=this.guidesTarget,n=this.opts,i=n.onDrag;this.updateGuides(e),n.debug&&e.forEach(function(e){return t.renderGuide(e)}),n.guidesInfo&&this.renderGuideInfo(e.filter(function(e){return e.active})),i&&i(this._getDragData())},onEnd:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=this.editor,r=this.opts,o=this.id,s=r.onEnd;s&&s(e,n,M({event:e},n,{},this._getDragData())),i.stopCommand(o),this.hideGuidesInfo(),this.em.trigger("".concat("dmode",":end"),this.getEventOpts())},hideGuidesInfo:function(){var n=this;["X","Y"].forEach(function(e){var t=n["elGuideInfo".concat(e)];t&&(t.style.display="none")})},renderGuideInfo:function(e){var P=this,t=0<arguments.length&&void 0!==e?e:[],D=this.guidesStatic;this.hideGuidesInfo(),t.forEach(function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v=t.origin,b=t.x,y=P.getElementPos(v),w=Object(A.isUndefined)(b)?"y":"x",_="y"===w,x=y[_?"left":"top"],C=y.rect[_?"left":"top"],k=_?x+y.width:x+y.height,S=_?C+y.rect.width:C+y.rect.height,O=P["elGuideInfo".concat(w.toUpperCase())],T=P["elGuideInfoContent".concat(w.toUpperCase())],j=O.style,E=D.filter(function(e){return e.type===t.type}).map(function(e){var t=e.originRect,n=t.left,i=t.width,r=t.top,o=t.height,s=_?n+i:r+o;return{gap:s<x?x-s:(_?n:r)-k,guide:e}}).filter(function(e){return 0<e.gap}).sort(function(e,t){return e.gap-t.gap}).map(function(e){return e.guide})[0];E&&(n=(e=E.originRect).left,i=e.width,r=e.top,o=e.height,s=e.rect,a=_?n<y.left:r<y.top,l=_?n:r,c=_?s.left:s.top,u=_?n+i:r+o,h=_?s.left+s.width:s.top+s.height,d=_?t.y:t.x,f=a?u:k,p="".concat(d,"px"),g=a?x-u:l-k,m=a?C-h:c-S,j.display="",j[_?"top":"left"]=p,j[_?"left":"top"]="".concat(f,"px"),j[_?"width":"height"]="".concat(g,"px"),T.innerHTML="".concat(Math.round(m),"px"),P.em.trigger("".concat("dmode",":active"),M({},P.getEventOpts(),{guide:t,guidesStatic:D,matched:E,posFirst:d,posSecond:f,size:g,sizeRaw:m,elGuideInfo:O,elGuideInfoCnt:T})))})},toggleDrag:function(e){var t=this.ppfx,n=this.editor,i=e?"add":"remove",r=["".concat(t,"is__grabbing")],o=n.Canvas,s=o.getBody();r.forEach(function(e){return s.classList[i](e)}),o[e?"startAutoscroll":"stopAutoscroll"]()}}},"./src/commands/view/ComponentEnter.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var i;e.Canvas.hasFocus()&&(i=[],e.getSelectedAll().forEach(function(e){var t=e.components(),n=t&&t.at(0);n&&i.push(n)}),i.length&&e.select(i))}}},"./src/commands/view/ComponentExit.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e,t,n){var i,r=2<arguments.length&&void 0!==n?n:{};(e.Canvas.hasFocus()||r.force)&&(i=[],e.getSelectedAll().forEach(function(e){for(var t=e.parent();t&&!t.get("selectable");)t=t.parent();t&&i.push(t)}),i.length&&e.select(i))}}},"./src/commands/view/ComponentNext.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var r;e.Canvas.hasFocus()&&(r=[],e.getSelectedAll().forEach(function(e){var t=e.collection,n=t.indexOf(e),i=t.at(n+1);r.push(i||e)}),r.length&&e.select(r))}}},"./src/commands/view/ComponentPrev.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var r;e.Canvas.hasFocus()&&(r=[],e.getSelectedAll().forEach(function(e){var t=e.collection,n=t.indexOf(e),i=t.at(n-1);r.push(i&&0<=n-1?i:e)}),r.length&&e.select(r))}}},"./src/commands/view/ComponentStyleClear.js":function(e,t,n){"use strict";n.r(t);var u=n("./node_modules/underscore/underscore.js");t.default={run:function(e,t,n){var i,r,o=(2<arguments.length&&void 0!==n?n:{}).target,s=e.DomComponents,a=o.get("type"),l=s.getWrapper().find('[data-gjs-type="'.concat(a,'"]')).length,c=[];return l||(i=e.CssComposer.getAll(),r=o.get("style-signature"),r=Object(u.isArray)(r)?r:[r],i.forEach(function(t){var n=t.selectorsToString();r.forEach(function(e){e&&0<=n.indexOf(e)&&c.push(t)})}),i.remove(c)),c}}},"./src/commands/view/CopyComponent.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),r=n.n(i);t.default={run:function(e){var t=e.getModel(),n=r()(e.getSelectedAll());n.length&&t.set("clipboard",n)}}},"./src/commands/view/DeleteComponent.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),s=n("./src/commands/view/SelectComponent.js"),a=o.a.$;t.default=Object(i.extend)({},s.default,{init:function(){Object(i.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(e){e.stopPropagation();var t=a(e.target);t.data("model").get("removable")&&(t.addClass(this.hoverClass),this.attachBadge(t.get(0)))},stopDelete:function(e){e.stopPropagation(),a(e.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(e){e.stopPropagation();var t=a(e.target);t.data("model").get("removable")&&(t.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(e){this.badge.html("Remove "+e.getName())}})},"./src/commands/view/ExportTemplate.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),u=n.n(i).a.$;t.default={run:function(e,t,n){var i=this;t&&t.set&&t.set("active",0);var r,o,s,a=e.getConfig(),l=e.Modal,c=a.stylePrefix;this.cm=e.CodeManager||null,this.$editors||(r=this.buildEditor("htmlmixed","hopscotch","HTML"),o=this.buildEditor("css","hopscotch","CSS"),this.htmlEditor=r.el,this.cssEditor=o.el,(s=u('<div class="'.concat(c,'export-dl"></div>'))).append(r.$el).append(o.$el),this.$editors=s),l.open({title:a.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return e.stopCommand(i.id)}),this.htmlEditor.setContent(e.getHtml()),this.cssEditor.setContent(e.getCss())},stop:function(e){var t=e.Modal;t&&t.close()},buildEditor:function(e,t,n){var i=document.createElement("textarea");this.codeMirror||(this.codeMirror=this.cm.getViewer("CodeMirror"));var r=this.codeMirror.clone().set({label:n,codeName:e,theme:t,input:i}),o=new this.cm.EditorView({model:r,config:this.cm.getConfig()}).render().$el;return r.init(i),{el:r,$el:o}}}},"./src/commands/view/Fullscreen.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js");t.default={isEnabled:function(){var e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement?1:0},enable:function(e){var t="";return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?(t="webkit",e.webkitRequestFullscreen()):e.mozRequestFullScreen?(t="moz",e.mozRequestFullScreen()):e.msRequestFullscreen?e.msRequestFullscreen():console.warn("Fullscreen not supported"),t},disable:function(){var e=document;this.isEnabled()&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},fsChanged:function(e){document;var t=(e||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(t,this.fsChanged))},run:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};this.sender=t;var r=i.target,o=Object(a.isElement)(r)?r:document.querySelector(r),s=this.enable(o||e.getContainer());this.fsChanged=this.fsChanged.bind(this,s),document.addEventListener(s+"fullscreenchange",this.fsChanged),e.trigger("change:canvasOffset")},stop:function(e,t){t&&t.set&&t.set("active",!1),this.disable(),e&&e.trigger("change:canvasOffset")}}},"./src/commands/view/MoveComponent.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),s=n("./src/utils/mixins.js"),a=n("./src/commands/view/SelectComponent.js"),l=n("./src/commands/view/SelectPosition.js"),c=o.a.$;t.default=Object(i.extend)({},l.default,a.default,{init:function(e){a.default.init.apply(this,arguments),Object(i.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=e,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.enable.apply(this,t),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var i=this.$wrapper;i.css("cursor","move"),i.on("mousedown",this.initSorter),i.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(e){var t=c(e.target).data("model").get("draggable");t&&(this.cacheEl=null,this.startSelectPosition(e.target,this.frameEl.contentDocument),this.sorter.draggable=t,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),Object(s.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(e){var t,n=e.get("draggable");n&&(this.cacheEl=null,t=e.view.el,this.startSelectPosition(t,this.frameEl.contentDocument),this.sorter.draggable=n,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(s.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModels:function(e){this.cacheEl=null;var t=e[e.length-1],n=(this.em.get("currentFrame")||{}).model,i=t.getEl(n),r=i.ownerDocument;this.startSelectPosition(i,r,{onStart:this.onStart}),this.sorter.draggable=t.get("draggable"),this.sorter.toMove=e,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(s.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){Object(s.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),Object(s.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(){},rollback:function(e,t){27!=(e.which||e.keyCode)&&!t||(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=c(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=c(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.stop.apply(this,t),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},"./src/commands/view/OpenAssets.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e,t,n){var i,r,o=this,s=2<arguments.length&&void 0!==n?n:{},a=e.Modal,l=e.AssetManager,c=l.getConfig(),u=l.getContainer(),h=s.modalTitle||e.t("assetManager.modalTitle")||"",d=s.types,f=s.accept;return l.setTarget(s.target),l.onClick(s.onClick),l.onDblClick(s.onDblClick),l.onSelect(s.onSelect),this.rendered&&!d||(i=l.getAll().filter(function(e){return 1}),d&&d.length&&(i=i.filter(function(e){return-1!==d.indexOf(e.get("type"))})),l.render(i),this.rendered=1),!f||(r=u.querySelector("input#".concat(c.stylePrefix,"uploadFile")))&&r.setAttribute("accept",f),a.open({title:h,content:u}).getModel().once("change:open",function(){return e.stopCommand(o.id)}),this},stop:function(e){return e.Modal.close(),this}}},"./src/commands/view/OpenBlocks.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){var t,n,i,r=e.BlockManager,o=e.Panels;this.blocks||(r.render(),t="views-container",n=document.createElement("div"),i=o.getPanel(t)||o.addPanel({id:t}),n.appendChild(r.getContainer()),i.set("appendContent",n).trigger("change:appendContent"),this.blocks=n),this.blocks.style.display="block"},stop:function(){var e=this.blocks;e&&(e.style.display="none")}}},"./src/commands/view/OpenLayers.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);n("./src/navigator/index.js"),r.a.$;t.default={run:function(e){var t,n,i,r=e.LayerManager,o=e.Panels;this.layers||(t="views-container",n=document.createElement("div"),i=o.getPanel(t)||o.addPanel({id:t}),n.appendChild(r.render()),i.set("appendContent",n).trigger("change:appendContent"),this.layers=n),this.layers.style.display="block"},stop:function(){var e=this.layers;e&&(e.style.display="none")}}},"./src/commands/view/OpenStyleManager.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),a=n.n(i).a.$;t.default={run:function(e,t){var n,i,r,o,s;this.sender=t,this.$cn||(n=e.getConfig(),i=e.Panels,this.$cn=a("<div></div>"),this.$cn2=a("<div></div>"),this.$cn.append(this.$cn2),(r=e.DeviceManager)&&n.showDevices&&i.addPanel({id:"devices-c"}).set("appendContent",r.render()).trigger("change:appendContent"),(o=e.SelectorManager)&&this.$cn2.append(o.render([])),this.$cn2.append(e.StyleManager.render()),s=e.StyleManager.getConfig().stylePrefix,this.$header=a('<div class="'.concat(s,'header">').concat(e.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),i.getPanel("views-container")?this.panel=i.getPanel("views-container"):this.panel=i.addPanel({id:"views-container"}),this.panel.set("appendContent",this.$cn).trigger("change:appendContent"),this.target=e.editor,this.listenTo(this.target,"component:toggled",this.toggleSm)),this.toggleSm()},toggleSm:function(){var e,t,n=this.target,i=this.sender;i&&i.get&&!i.get("active")||(e=n.get("SelectorManager").getConfig().componentFirst,1===(t=n.getSelectedAll().length)||1<t&&e?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},"./src/commands/view/OpenTraitManager.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),l=n.n(i).a.$;t.default={run:function(e,t){this.sender=t;var n,i,r,o=e.getModel(),s=e.Config.stylePrefix,a=e.TraitManager;this.$cn||(n=a.getTraitsViewer(),i=a.getConfig(),this.$cn=l("<div></div>"),this.$cn2=l("<div></div>"),this.$cn.append(this.$cn2),this.$header=l("<div>").append('<div class="'.concat(i.stylePrefix,'header">').concat(o.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(s,'traits-label">').concat(o.t("traitManager.label"),"</div>")),this.$cn2.append(n.render().el),((r=e.Panels).getPanel("views-container")?r.getPanel("views-container"):r.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=e.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)),this.toggleTm()},toggleTm:function(){var e=this.sender;e&&e.get&&!e.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},"./src/commands/view/PasteComponent.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js");t.default={run:function(o){var s=o.getModel().get("clipboard"),e=o.getSelected();s&&e&&(o.getSelectedAll().forEach(function(e){var t,n,i,r;e&&(n=(t=e.collection).indexOf(e)+1,i=s.filter(function(e){return e.get("copyable")}),r=Object(a.contains)(s,e)&&e.get("copyable")?t.add(e.clone(),{at:n}):t.add(i.map(function(e){return e.clone()}),{at:n}),(r=Object(a.isArray)(r)?r:[r]).forEach(function(e){return o.trigger("component:paste",e)}))}),e.emitUpdate())}}},"./src/commands/view/Preview.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),c="sw-visibility";t.default={getPanels:function(e){return this.panels||(this.panels=e.Panels.getPanels()),this.panels},tglPointers:function(e,t){var n=e.Canvas.getBody().querySelectorAll(".".concat(this.ppfx,"no-pointer"));Object(i.each)(n,function(e){return e.style.pointerEvents=t?"":"all"})},run:function(e,t){var n=this;this.sender=t,this.shouldRunSwVisibility||(this.shouldRunSwVisibility=e.Commands.isActive(c)),this.shouldRunSwVisibility&&e.stopCommand(c),e.getModel().stopDefault();var i,r=this.getPanels(e),o=e.Canvas.getElement(),s=e.getEl(),a=e.Config.stylePrefix;this.helper||((i=document.createElement("span")).className="".concat(a,"off-prv fa fa-eye-slash"),s.appendChild(i),i.onclick=function(){return n.stopCommand()},this.helper=i),this.helper.style.display="inline-block",this.tglPointers(e),r.forEach(function(e){return e.set("visible",!1)});var l=o.style;l.width="100%",l.height="100%",l.top="0",l.left="0",l.padding="0",l.margin="0",e.refresh()},stop:function(e){var t=this.sender,n=void 0===t?{}:t;n.set&&n.set("active",0);var i=this.getPanels(e);this.shouldRunSwVisibility&&(e.runCommand(c),this.shouldRunSwVisibility=!1),e.getModel().runDefault(),i.forEach(function(e){return e.set("visible",!0)}),e.Canvas.getElement().setAttribute("style",""),this.helper&&(this.helper.style.display="none"),e.refresh(),this.tglPointers(e,1)}}},"./src/commands/view/Resize.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e,t,n){var i=n||{},r=i.el||"",o=e.Canvas,s=this.canvasResizer,a=i.options||{},l=o.getCanvasView();return a.appendTo=o.getResizerEl(),a.prefix=e.getConfig().stylePrefix,a.posFetcher=l.getElementPos.bind(l),a.mousePosFetcher=o.getMouseRelativePos,s&&!i.forceNew||(this.canvasResizer=e.Utils.Resizer.init(a),s=this.canvasResizer),s.setOptions(a),s.blur(),s.focus(r),s},stop:function(){var e=this.canvasResizer;e&&e.blur()}}},"./src/commands/view/SelectComponent.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/backbone/backbone.js"),l=n.n(s),d=n("./node_modules/underscore/underscore.js"),v=n("./src/utils/mixins.js"),c=n("./src/dom_components/view/ToolbarView.js"),u=n("./src/dom_components/model/Toolbar.js");function h(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b,y=l.a.$;t.default={init:function(){Object(d.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),b=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(e){var r=this,t=this.em,o=e?"on":"off",s={on:v.on,off:v.off};s[o](window,"resize",this.onFrameUpdated),t[o]("component:toggled",this.onSelect,this),t[o]("change:componentHovered",this.onHovered,this),t[o]("component:resize component:styleUpdate component:input",this.updateGlobalPos,this),t[o]("change:canvasOffset",this.updateAttached,this),t[o]("frame:updated",this.onFrameUpdated,this),t.get("Canvas").getFrames().forEach(function(e){var t,n,i=e.view;i&&(t=i.getWindow(),n=i.getBody(),s[o](n,"mouseover",r.onHover),s[o](n,"mouseleave",r.onOut),s[o](n,"click touchend",r.onClick),s[o](t,"scroll",r.onFrameScroll))})},onHover:function(e){e.stopPropagation();var t=e.target,n=Object(v.getViewEl)(t),i=n&&n._getFrame(),r=y(t),o=r.data("model");if(!o)for(var s=r.parent();!o&&0<s.length;)o=s.data("model"),s=s.parent();if(o&&!o.get("hoverable")){for(var a=o&&o.parent();a&&!a.get("hoverable");)a=a.parent();o=a}this.currentDoc=t.ownerDocument,this.em.setHovered(o),i&&this.em.set("currentFrame",i)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(e,i){var r=this,o={};i&&i.views.forEach(function(e){var t=e.el,n=r.getElementPos(t);o={el:t,pos:n,component:i,view:Object(v.getViewEl)(t)},r.updateToolsLocal(o),t.ownerDocument===r.currentDoc&&(r.elHovered=o)})},onSelect:Object(d.debounce)(function(){var e=this.em,t=e.getSelected(),n=e.get("currentFrame")||{},i=t&&t.getView(n.model),r=i&&i.el,o={};r&&(o={el:r,pos:this.getElementPos(r),component:t,view:Object(v.getViewEl)(r)}),this.elSelected=o,this.updateToolsGlobal(),this.updateToolsLocal(o)}),updateGlobalPos:function(){var e=this.getElSelected();e.el&&(e.pos=this.getElementPos(e.el),this.updateToolsGlobal())},updateLocalPos:function(){var e=this.getElHovered();e.el&&(e.pos=this.getElementPos(e.el),this.updateToolsLocal())},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){var i=this;this.currentDoc=null,this.em.setHovered(0),this.canvas.getFrames().forEach(function(e){var t=e.view,n=t&&t.getToolsEl();n&&i.toggleToolsEl(0,0,{el:n})})},toggleToolsEl:function(e,t,n){var i=(2<arguments.length&&void 0!==n?n:{}).el||this.canvas.getToolsEl(t);return i&&(i.style.opacity=e?1:0),i||{}},showElementOffset:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};b&&this.editor.runCommand("show-offset",{el:e,elPos:t,view:i.view,force:1,top:0,left:0})},hideElementOffset:function(e){this.editor.stopCommand("show-offset",{view:e})},showFixedElementOffset:function(e,t){this.editor.runCommand("show-offset",{el:e,elPos:t,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(e){this.canvas.getHighlighter(e).style.opacity=0},onClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.em;if(t.get("_cmpDrag"))return t.set("_cmpDrag");var n=y(e.target),i=n.data("model");if(!i)for(var r=n.parent();!i&&0<r.length;)i=r.data("model"),r=r.parent();if(i)if(i.get("selectable"))this.select(i,e);else{for(var o=i.parent();o&&!o.get("selectable");)o=o.parent();this.select(o,e)}},select:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};if(e){var i=n.ctrlKey||n.metaKey,r=n.shiftKey,o=this.editor,s=this.em,a=o.getConfig("multipleSelection");if(i&&a)o.selectToggle(e);else if(r&&a){s.clearSelection(o.Canvas.getWindow());var l,c,u=e.collection,h=u.indexOf(e);o.getSelectedAll();if(o.getSelectedAll().forEach(function(e){var t=e.collection,n=t.indexOf(e);t===u&&(n<h?l=Object(d.isUndefined)(l)?n:Math.max(l,n):h<n&&(c=Object(d.isUndefined)(c)?n:Math.min(c,n)))}),!Object(d.isUndefined)(l))for(;l!==h;)o.selectAdd(u.at(l)),l++;if(!Object(d.isUndefined)(c))for(;c!==h;)o.selectAdd(u.at(c)),c--;o.selectAdd(e)}else o.select(e,{scroll:{}});this.initResize(e)}},updateBadge:function(e,t,n){var i,r,o,s,a,l,c,u,h,d,f,p,g=2<arguments.length&&void 0!==n?n:{},m=y(e).data("model");m&&m.get("badgable")&&(i=this.getBadge(g),g.posOnly||(r=this.canvas.getConfig(),o=m.getIcon(),s=r.pStylePrefix||"",a="".concat(s,"badge"),l=r.customBadgeLabel,c="".concat(o?'<div class="'.concat(a,'__icon">').concat(o,"</div>"):"",'\n        <div class="').concat(a,'__name">').concat(m.getName(),"</div>"),i.innerHTML=l?l(m):c),(u=i.style).display="block",d=0-(h=i?i.offsetHeight:0),f=g.topOff-h<0?-g.topOff:d,p=g.leftOff<0?-g.leftOff:0,u.top=f+"px",u.left=p+"px")},showHighlighter:function(e){this.canvas.getHighlighter(e).style.opacity=""},initResize:function(e){function g(i,e,t){var n=t.docs;n&&n.forEach(function(e){var t=e.body,n=t.className||"";t.className=("add"==i?"".concat(n," ").concat(r):n.replace(r,"")).trim()})}var _,x=this.em,C=this.canvas,n=x?x.get("Editor"):"",t=(x?x.get("Config"):"").stylePrefix||"",r="".concat(t,"resizing"),m=!Object(d.isElement)(e)&&Object(v.isTaggableNode)(e)?e:x.getSelected(),i=m.get("resizable"),o=Object(d.isElement)(e)?e:m.getEl(),s={};n&&i?(s={onStart:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=n.el,r=n.config,o=n.resizer,s=r.keyHeight,a=r.keyWidth,l=r.currentUnit,c=r.keepAutoHeight,u=r.keepAutoWidth;g("add",0,n),_=x.get("StyleManager").getModelToStyle(m),C.toggleFramesEvents();var h=getComputedStyle(i),d=_.getStyle(),f=d[a];r.autoWidth=u&&"auto"===f,isNaN(parseFloat(f))&&(f=h[a]);var p=d[s];r.autoHeight=c&&"auto"===p,isNaN(parseFloat(p))&&(p=h[s]),o.startDim.w=parseFloat(f),o.startDim.h=parseFloat(p),b=0,l&&(r.unitHeight=Object(v.getUnitFromValue)(p),r.unitWidth=Object(v.getUnitFromValue)(f))},onMove:function(){n.trigger("component:resize")},onEnd:function(e,t){g("remove",0,t),n.trigger("component:resize"),C.toggleFramesEvents(1),b=1},updateTarget:function(e,t,n){var i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,b,y,w=2<arguments.length&&void 0!==n?n:{};_&&(i=w.store,r=w.selectedHandler,s=(o=w.config).keyHeight,a=o.keyWidth,l=o.autoHeight,c=o.autoWidth,u=o.unitWidth,h=o.unitHeight,d=0<=["tc","bc"].indexOf(r),f=0<=["cl","cr"].indexOf(r),p={},g=i?"":1,d||(m=C.getBody().offsetWidth,v=t.w<m?t.w:m,p[a]=c?"auto":"".concat(v).concat(u)),f||(p[s]=l?"auto":"".concat(t.h).concat(h)),_.addStyle(k({},p,{en:g}),{avoidStore:!i}),y="".concat(b="update:component:style",":").concat(s," ").concat(b,":").concat(a),x&&x.trigger(y,null,null,{noEmit:1}))}},"object"==a()(i)&&(s=k({},s,{},i)),this.resizer=n.runCommand("resize",{el:o,options:s,force:1})):(n.stopCommand("resize"),this.resizer=null)},updateToolbar:function(e){var t,n,i=this.config.em,r=e==i?i.getSelected():e,o=this.canvas.getToolbarEl(),s=o.style;r?(t=r.get("toolbar"),i.get("Config").showToolbar&&t&&t.length?(s.opacity="",s.display="",this.toolbar||(o.innerHTML="",this.toolbar=new u.default(t),n=new c.default({collection:this.toolbar,editor:this.editor,em:i}),o.appendChild(n.render().el)),this.toolbar.reset(t),s.top="-100px",s.left=0):s.display="none"):s.opacity=0},updateToolbarPos:function(e){var t=this.canvas.getToolbarEl().style;t.top="".concat(e.top).concat("px"),t.left="".concat(e.left).concat("px"),t.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.canvas.getBadgeEl(t.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateToolsLocal(),this.updateGlobalPos()},isCompSelected:function(e){return e&&"selected"===e.get("status")},updateToolsLocal:function(e){var t,n,i,r,o,s,a,l=e||this.getElHovered(),c=l.el,u=l.pos,h=l.view,d=l.component;c?(t=d.get("hoverable"),i=(n=this.lastHovered!==c)?{}:{posOnly:1},n&&t&&(this.lastHovered=c,this.showHighlighter(h),this.showElementOffset(c,u,{view:h})),this.isCompSelected(d)&&(this.hideHighlighter(h),this.hideElementOffset(h)),r=this.toggleToolsEl(1,h).style,s=(o=this.canvas.canvasRectOffset(c,u)).top,a=o.left,this.updateBadge(c,u,k({},i,{view:h,topOff:s,leftOff:a})),r.top=s+"px",r.left=a+"px",r.width=u.width+"px",r.height=u.height+"px"):this.lastHovered=0},updateToolsGlobal:function(){var e=this.getElSelected(),t=e.el,n=e.pos,i=e.component;if(!t)return this.toggleToolsEl(),void(this.lastSelected=0);var r=this.canvas;this.lastSelected!==t&&(this.lastSelected=t,this.updateToolbar(i));var o=this.toggleToolsEl(1).style,s=r.getTargetToElementFixed(t,r.getToolbarEl(),{pos:n}),a=s.canvasOffsetTop,l=s.canvasOffsetLeft;o.top=a+"px",o.left=l+"px",o.width=n.width+"px",o.height=n.height+"px",this.updateToolbarPos({top:s.top,left:s.left})},updateAttached:Object(d.debounce)(function(){this.updateToolsGlobal()}),getElementPos:function(e){return this.canvas.getCanvasView().getElementPos(e)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(e){e&&e.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(e){this.editor=e&&e.get("Editor"),this.enable()},stop:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=this.em,o=this.editor;this.stopSelectComponent(),i.preserveSelected||r.setSelected(null),this.onOut(),this.toggleToolsEl(),o&&o.stopCommand("resize"),this.editor=0}}},"./src/commands/view/SelectPosition.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i).a.$;t.default={startSelectPosition:function(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:{};this.isPointed=!1;var o=this.editorModel.get("Utils"),s=e.ownerDocument.body;o&&!this.sorter&&(this.sorter=new o.Sorter({container:s,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:t,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return i.em.getZoomDecimal()}})),r.onStart&&(this.sorter.onStart=r.onStart),e&&this.sorter.startSort(e,{container:s})},getOffsetDim:function(){var e=this.offset(this.canvas.getFrameEl()),t=this.offset(this.canvas.getElement());return{top:e.top-t.top,left:e.left-t.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0!==this.cDim.length&&!this.posIsLastEl&&this.cDim[this.posIndex]?r(this.cDim[this.posIndex][5]).parent():r(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(e,t,n){var i=e||0,r=t||"before",o=n.length,s=0!==o&&"after"==r&&i==o;return 0!==o&&(!s&&!n[i][4]||n[i-1]&&!n[i-1][4]||s&&!n[i-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},"./src/commands/view/ShowOffset.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),Z=n.n(i),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),J=n("./node_modules/underscore/underscore.js"),ee=n("./src/utils/mixins.js");function te(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var ne=o.a.$;t.default={getOffsetMethod:function(e){return"get"+(e||"")+"OffsetViewerEl"},run:function(e,t,n){var i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,b,y,w,_,x,C,k,S,O,T,j,E,P,D,A,M,I,L,N,F,z,H,R,$,V,W,B,U,q,Y=n||{},G=Y.state||"",K=e.getConfig(),X=this.em.getZoomDecimal(),Q=Y.el||"";!K.showOffsets||Object(ee.isTextNode)(Q)||!K.showOffsetsSelected&&"Fixed"==G?e.stopCommand(this.id,n):(i=e.Canvas,r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(n,!0).forEach(function(e){Z()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},Y.elPos||i.getElementPos(Q)),Object(J.isUndefined)(Y.top)||(r.top=Y.top),Object(J.isUndefined)(Y.left)||(r.left=Y.left),o=window.getComputedStyle(Q),s=this.ppfx,a=G+"State",(l=i[this.getOffsetMethod(G)](n.view)).style.opacity="",v=this["marginT"+G],b=this["marginB"+G],y=this["marginL"+G],w=this["marginR"+G],_=this["padT"+G],x=this["padB"+G],C=this["padL"+G],k=this["padR"+G],l.childNodes.length&&(this[a]="1",v=l.querySelector("[data-offset-m-t]"),b=l.querySelector("[data-offset-m-b]"),y=l.querySelector("[data-offset-m-l]"),w=l.querySelector("[data-offset-m-r]"),_=l.querySelector("[data-offset-p-t]"),x=l.querySelector("[data-offset-p-b]"),C=l.querySelector("[data-offset-p-l]"),k=l.querySelector("[data-offset-p-r]")),this[a]||(u=(c=G.toLowerCase())+"margin-v",h=c+"padding-v",d=ne('<div class="'.concat(s,'marginName">')).get(0),f=ne('<div class="'.concat(s,'paddingName">')).get(0),p=s+h+"-el",g="".concat(s+u+"-el"," ").concat(s+u),m="".concat(p," ").concat(s+h),v=ne('<div class="'.concat(g,'-top"></div>')).get(0),b=ne('<div class="'.concat(g,'-bottom"></div>')).get(0),y=ne('<div class="'.concat(g,'-left"></div>')).get(0),w=ne('<div class="'.concat(g,'-right"></div>')).get(0),_=ne('<div class="'.concat(m,'-top"></div>')).get(0),x=ne('<div class="'.concat(m,'-bottom"></div>')).get(0),C=ne('<div class="'.concat(m,'-left"></div>')).get(0),k=ne('<div class="'.concat(m,'-right"></div>')).get(0),this["marginT"+G]=v,this["marginB"+G]=b,this["marginL"+G]=y,this["marginR"+G]=w,this["padT"+G]=_,this["padB"+G]=x,this["padL"+G]=C,this["padR"+G]=k,d.appendChild(v),d.appendChild(b),d.appendChild(y),d.appendChild(w),f.appendChild(_),f.appendChild(x),f.appendChild(C),f.appendChild(k),l.appendChild(d),l.appendChild(f),this[a]="1"),S="px",O=parseFloat(o.marginLeft.replace(S,""))*X,T=parseFloat(o.marginRight.replace(S,""))*X,j=parseFloat(o.marginTop.replace(S,""))*X,E=parseFloat(o.marginBottom.replace(S,""))*X,P=v.style,D=b.style,A=y.style,M=w.style,I=_.style,L=x.style,N=C.style,F=k.style,z=parseFloat(r.left),H=parseFloat(o.width)*X+S,P.height=j+S,P.width=H,P.top=r.top-j+S,P.left=z+S,D.height=E+S,D.width=H,D.top=r.top+r.height+S,D.left=z+S,R=r.height+j+E+S,$=r.top-j+S,A.height=R,A.width=O+S,A.top=$,A.left=z-O+S,M.height=R,M.width=T+S,M.top=$,M.left=z+r.width+S,V=parseFloat(o.paddingTop)*X,I.height=V+S,W=parseFloat(o.paddingBottom)*X,L.height=W+S,B=r.height-W-V+S,U=r.top+V+S,N.height=B,N.width=parseFloat(o.paddingLeft)*X+S,N.top=U,q=parseFloat(o.paddingRight)*X,F.height=B,F.width=q+S,F.top=U)},stop:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=(i||{}).state||"",o=this.getOffsetMethod(r);e.Canvas[o](i.view).style.opacity=0}}},"./src/commands/view/SwitchVisibility.js":function(e,t,n){"use strict";n.r(t),t.default={run:function(e){this.toggleVis(e)},stop:function(e){this.toggleVis(e,0)},toggleVis:function(e,t){var n,i=this,r=1<arguments.length&&void 0!==t?t:1;e.Commands.isActive("preview")||(n=r?"add":"remove",e.Canvas.getFrames().forEach(function(e){e.view.getBody().classList[n]("".concat(i.ppfx,"dashed"))}))}}},"./src/css_composer/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"css-",staticRules:"",rules:[]}},"./src/css_composer/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js"),s=n("./src/css_composer/config/config.js"),c=n("./src/css_composer/model/CssRule.js"),a=n("./src/css_composer/model/CssRules.js"),u=n("./src/css_composer/view/CssRulesView.js"),d=n("./src/selector_manager/model/Selectors.js"),f=n("./src/selector_manager/model/Selector.js");function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var h,l,r,w={};return{Selectors:d.default,name:"CssComposer",getConfig:function(){return w},storageKey:function(){var e=[],t=w.stm&&w.stm.getConfig()||{};return t.storeCss&&e.push("css"),t.storeStyles&&e.push("styles"),e},init:function(e){for(var t in w=e||{},s.default)t in w||(w[t]=s.default[t]);var n=w.pStylePrefix;n&&(w.stylePrefix=n+w.stylePrefix);var i=w.em&&w.em.config.style||"";return w.rules=i||w.rules,h=w.em,l=new a.default([],w),r=new u.default({collection:l,config:w}),this},onLoad:function(){l.add(w.rules)},postLoad:function(e){var t=this,n="add remove",i=this.getAll(),r=e.get("UndoManager");r&&r.add(i),e.stopListening(i,n,this.handleChange),e.listenTo(i,n,this.handleChange),i.each(function(e){return t.handleChange(e,{avoidStore:1})})},handleChange:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i="change:style",r=h.get("UndoManager");r&&r.add(e);var o=h.handleUpdates.bind(h);h.stopListening(e,i,o),h.listenTo(e,i,o),n.avoidStore||o("","",n)},load:function(e){var t=e||"";!t&&w.stm&&(t=w.em.getCacheLoad());var n=t.styles||"";if(t.styles)try{n=JSON.parse(t.styles)}catch(e){}else t.css&&(n=w.em.get("Parser").parseCss(t.css));return Object(o.isArray)(n)?n.length&&l.reset(n):n&&l.reset(n),n},store:function(e){if(w.stm){var t={},n=this.storageKey();return 0<=n.indexOf("css")&&(t.css=w.em.getCss()),0<=n.indexOf("styles")&&(t.styles=JSON.stringify(l)),e||w.stm.store(t),t}},add:function(e,t,n,i){var r=t||"",o=n||"",s=_({},3<arguments.length&&void 0!==i?i:{}),a=this.get(e,r,o,s);return a&&a.config&&!a.config.singleAtRule||(s.state=r,s.mediaText=o,s.selectors="",(a=new c.default(s,w)).get("selectors").add(e),l.add(a)),a},get:function(t,n,i,r){var o=null;return l.each(function(e){o||e.compare(t,n,i,r)&&(o=e)}),o},getAll:function(){return l},clear:function(){return this.getAll().reset(),this},addCollection:function(e,t){for(var n=1<arguments.length&&void 0!==t?t:{},i=[],r=e instanceof Array?e:[e],o=0,s=r.length;o<s;o++){var a=r[o]||{};if(a.selectors){var l=w.em&&w.em.get("SelectorManager");l||console.warn("Selector Manager not found");for(var c=a.selectors,u=c instanceof Array?c:[c],h=[],d=0,f=u.length;d<f;d++){var p=l.add(u[d]);h.push(p)}var g,m=this.get(h,a.state,a.mediaText,a),v=this.add(h,a.state,a.mediaText,a),b=!m||!n.avoidUpdateStyle,y=a.style||{};b&&(g=n.extend?_({},v.get("style"),{},y):y,v.set("style",g)),i.push(v)}}return i},setRule:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=i.atRuleType,o=i.atRuleParams,s=h.get("Parser").parserCss.checkNode({selectors:e,style:t})[0],a=s.state,l=s.selectorsAdd,c=h.get("SelectorManager").add(s.selectors),u=this.add(c,a,o,{selectorsAdd:l,atRule:r});return u.setStyle(t,i),u},getRule:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=h.get("SelectorManager"),r=h.get("Parser").parserCss.checkNode({selectors:e})[0],o=i.get(r.selectors),s=r.state,a=r.selectorsAdd,l=n.atRuleType,c=n.atRuleParams;return o&&this.get(o,s,c,{selectorsAdd:a,atRule:l})},setIdRule:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==n?n:{},o=r.state||"",s=r.mediaText||h.getCurrentMedia(),a=h.get("SelectorManager").add({name:e,type:f.default.TYPE_ID}),l=this.add(a,o,s);return l.setStyle(i,r),l},getIdRule:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=n.state||"",r=n.mediaText||h.getCurrentMedia(),o=h.get("SelectorManager").get(e,f.default.TYPE_ID);return o&&this.get(o,i,r)},setClassRule:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==n?n:{},o=r.state||"",s=r.mediaText||h.getCurrentMedia(),a=h.get("SelectorManager").add({name:e,type:f.default.TYPE_CLASS}),l=this.add(a,o,s);return l.setStyle(i,r),l},getClassRule:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=n.state||"",r=n.mediaText||h.getCurrentMedia(),o=h.get("SelectorManager").get(e,f.default.TYPE_CLASS);return o&&this.get(o,i,r)},render:function(){return r.render().el}}}},"./src/css_composer/model/CssRule.js":function(e,t,n){"use strict";n.r(t);var p=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),r=n("./src/domain_abstract/model/Styleable.js"),a=n("./src/selector_manager/model/Selectors.js"),u=window.CSS;t.default=o.a.Model.extend(r.default).extend({defaults:{selectors:{},selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:0,important:0},initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.config=e||{};var i,r,o=n.em,s=this.config.selectors||[];(this.em=o)&&(i=o.get("SelectorManager"),r=[],s.forEach(function(e){r.push(i.add(e))}),s=r),this.set("selectors",new a.default(s))},getAtRule:function(){var e=this.get("atRuleType"),t=this.get("mediaText"),n=e?"@".concat(e):t?"@media":"";return n+(t&&n?" ".concat(t):"")},selectorsToString:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=[],i=this.em,r=this.get("state"),o=this.get("wrapper"),s=this.get("selectorsAdd"),a={escape:function(e){return u&&u.escape?u.escape(e):e}},l=o&&i&&i.getConfig("wrapperIsBody")?"body":this.get("selectors").getFullString(0,a),c=r&&!t.skipState?":".concat(r):"";return l&&n.push("".concat(l).concat(c)),s&&!t.skipAdd&&n.push(s),n.join(", ")},getDeclaration:function(e){var t=0<arguments.length&&void 0!==e?e:{},n="",i=this.selectorsToString(),r=this.styleToString(t),o=this.get("singleAtRule");return(i||o)&&r&&(n=o?r:"".concat(i,"{").concat(r,"}")),n},toCSS:function(e){var t=0<arguments.length&&void 0!==e?e:{},n="",i=this.getAtRule(),r=this.getDeclaration(t);return r&&(n=r),i&&n&&(n="".concat(i,"{").concat(n,"}")),n},toJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=o.a.Model.prototype.toJSON.apply(this,t);return this.em.getConfig("avoidDefaults")&&(i=this.defaults,Object(p.forEach)(i,function(e,t){r[t]===e&&delete r[t]}),Object(p.isEmpty)(r.selectors)&&delete r.selectors,Object(p.isEmpty)(r.style)&&delete r.style),r},compare:function(e,t,n,i){var r=3<arguments.length&&void 0!==i?i:{},o=t||"",s=n||"",a=r.selectorsAdd||"",l=r.atRuleType||"";e instanceof Array||e.models||(e=[e]);var c=Object(p.map)(e.models||e,function(e){return e.get("name")}),u=Object(p.map)(this.get("selectors").models,function(e){return e.get("name")});if(c.length!==u.length)return!1;for(var h=0;h<c.length;h++){for(var d=0,f=0;f<u.length;f++)c[h]===u[f]&&(d=1);if(0===d)return!1}return this.get("state")===o&&this.get("mediaText")===s&&this.get("selectorsAdd")===a&&this.get("atRuleType")===l}})},"./src/css_composer/model/CssRules.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/css_composer/model/CssRule.js");t.default=r.a.Collection.extend({model:o.default,initialize:function(e,t){var n=this;t&&t.em&&(this.editor=t.em),setTimeout(function(){return n.on("remove",n.onRemove)})},onRemove:function(e){var t=this.editor;t.stopListening(e),t.get("UndoManager").remove(e)},add:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return"string"==typeof e&&(e=this.editor.get("Parser").parseCss(e)),n.em=this.editor,r.a.Collection.prototype.add.apply(this,[e,n])}})},"./src/css_composer/view/CssGroupRuleView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/css_composer/view/CssRuleView.js");t.default=i.default.extend({_createElement:function(){return document.createTextNode("")},render:function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this}})},"./src/css_composer/view/CssRuleView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.View.extend({tagName:"style",initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config=t.config||{};var n=this.model;this.listenTo(n,"change:style change:state change:mediaText",this.render),this.listenTo(n,"destroy remove",this.remove),this.listenTo(n.get("selectors"),"change",this.render)},render:function(){var e=this.model.get("important");return this.el.innerHTML=this.model.toCSS({important:e}),this}})},"./src/css_composer/view/CssRulesView.js":function(e,t,n){"use strict";n.r(t);function g(e,t){return"".concat(e).concat(t?"-".concat(parseFloat(t)):"")}var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),m=n("./src/css_composer/view/CssRuleView.js"),v=n("./src/css_composer/view/CssGroupRuleView.js"),a=r.a.$;t.default=r.a.View.extend({initialize:function(e){var t=e.config||{};this.atRules={},this.config=t,this.em=t.em,this.pfx=t.stylePrefix||"",this.className=this.pfx+"rules";var n=this.collection;this.listenTo(n,"add",this.addTo),this.listenTo(n,"reset",this.render)},addTo:function(e){this.addToCollection(e)},addToCollection:function(e,t){if(this.renderStarted){var n,i,r,o,s,a=t||null,l={model:e,config:this.config};"keyframes"===e.get("atRuleType")?(r=e.getAtRule(),(s=this.atRules[r])||(o=document.createElement("style"),s=document.createTextNode(""),o.appendChild(document.createTextNode("".concat(r,"{"))),o.appendChild(s),o.appendChild(document.createTextNode("}")),this.atRules[r]=s,n=o),i=new v.default(l),s.appendData(i.render().el.textContent)):n=(i=new m.default(l)).render().el;var c=this.className,u=e.get("mediaText"),h=g(c),d=h;if(u&&(d=g(c,this.getMediaWidth(u))),n){var f,p=a||this.el;try{f=p.querySelector("#".concat(d))}catch(e){}(f=f||p.querySelector("#".concat(h))).appendChild(n)}return n}},getMediaWidth:function(e){return e&&e.replace("(".concat(this.em.getConfig("mediaCondition"),": "),"").replace(")","")},render:function(){var t=this;this.renderStarted=1,this.atRules={};var e=this.em,n=this.$el,i=this.className,r=this.collection,o=document.createDocumentFragment();n.empty();var s=e.get("DeviceManager").getAll().pluck("priority");return s.every(function(e){return e})&&s.unshift(0),s.forEach(function(e){return a('<div id="'.concat(g(i,e),'"></div>')).appendTo(o)}),r.each(function(e){return t.addToCollection(e,o)}),n.append(o),n.attr("class",i),this}})},"./src/device_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={devices:[]}},"./src/device_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./src/device_manager/config/config.js"),l=n("./src/device_manager/model/Devices.js"),c=n("./src/device_manager/view/DevicesView.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){var o,i,r={};return{name:"DeviceManager",init:function(e){var t=this;for(var n in r=e||{},a.default)n in r||(r[n]=a.default[n]);return o=new l.default,(r.devices||[]).forEach(function(e){return t.add(e.id||e.name,e.width,e)}),i=new c.default({collection:o,config:r}),this},add:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},i,{id:e,name:i.name||e,width:t});return o.add(r)},get:function(e){return o.get(e)},getAll:function(){return o},render:function(){return i.render().el}}}},"./src/device_manager/model/Device.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({idAttribute:"name",defaults:{name:"",width:null,height:"",widthMedia:null,priority:null},initialize:function(){var t=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),this.get("priority")||this.set("priority",parseFloat(this.get("widthMedia"))||0);["width","height","widthMedia"].forEach(function(e){return t.checkUnit(e)})},checkUnit:function(e){var t=this.get(e)||"";(parseFloat(t)||0).toString()===t.toString()&&this.set(e,"".concat(t,"px"))}})},"./src/device_manager/model/Devices.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/device_manager/model/Device.js");t.default=r.a.Collection.extend({model:o.default,comparator:function(e,t){var n=Number.MAX_VALUE;return(t.get("priority")||n)-(e.get("priority")||n)},getSorted:function(){return this.sort()}})},"./src/device_manager/view/DevicesView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r);t.default=o.a.View.extend({template:Object(i.template)('\n    <div class="<%= ppfx %>device-label"><%= deviceLabel %></div>\n    <div class="<%= ppfx %>field <%= ppfx %>select">\n      <span id="<%= ppfx %>input-holder">\n        <select class="<%= ppfx %>devices"></select>\n      </span>\n      <div class="<%= ppfx %>sel-arrow">\n        <div class="<%= ppfx %>d-s-arrow"></div>\n      </div>\n    </div>\n    <button style="display:none" class="<%= ppfx %>add-trasp">+</button>'),events:{change:"updateDevice"},initialize:function(e){this.config=e.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()},startAdd:function(){},updateDevice:function(){var e,t,n=this.em;n&&(t=(e=this.devicesEl)?e.val():"",n.set("device",t))},updateSelect:function(){var e,t,n=this.em,i=this.devicesEl;n&&n.getDeviceModel&&i&&(t=(e=n.getDeviceModel())?e.get("name"):"",i.val(t))},getOptions:function(){var e=this.collection,o=this.em,s="";return e.each(function(e){var t=e.attributes,n=t.name,i=t.id,r=o&&o.t&&o.t("deviceManager.devices.".concat(i))||n;s+='<option value="'.concat(n,'">').concat(r,"</option>")}),s},render:function(){var e=this.em,t=this.ppfx,n=this.$el,i=this.el;return n.html(this.template({ppfx:t,deviceLabel:e&&e.t&&e.t("deviceManager.device")})),this.devicesEl=n.find(".".concat(t,"devices")),this.devicesEl.append(this.getOptions()),i.className="".concat(t,"devices-c"),this}})},"./src/dom_components/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"comp-",wrapperId:"wrapper",wrapperName:"Body",wrapper:{removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]},components:[],draggableComponents:1,storeWrapper:0,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}},"./src/dom_components/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/typeof.js"),C=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/backbone/backbone.js"),h=n.n(s),k=n("./node_modules/underscore/underscore.js"),d=n("./src/dom_components/config/config.js"),f=n("./src/dom_components/model/Component.js"),p=n("./src/dom_components/model/Components.js"),g=n("./src/dom_components/view/ComponentView.js"),m=n("./src/dom_components/view/ComponentsView.js"),v=n("./src/dom_components/model/ComponentTableCell.js"),b=n("./src/dom_components/view/ComponentTableCellView.js"),y=n("./src/dom_components/model/ComponentTableRow.js"),w=n("./src/dom_components/view/ComponentTableRowView.js"),_=n("./src/dom_components/model/ComponentTable.js"),S=n("./src/dom_components/view/ComponentTableView.js"),O=n("./src/dom_components/model/ComponentTableHead.js"),T=n("./src/dom_components/view/ComponentTableHeadView.js"),j=n("./src/dom_components/model/ComponentTableBody.js"),E=n("./src/dom_components/view/ComponentTableBodyView.js"),P=n("./src/dom_components/model/ComponentTableFoot.js"),D=n("./src/dom_components/view/ComponentTableFootView.js"),A=n("./src/dom_components/model/ComponentMap.js"),M=n("./src/dom_components/view/ComponentMapView.js"),I=n("./src/dom_components/model/ComponentLink.js"),L=n("./src/dom_components/view/ComponentLinkView.js"),N=n("./src/dom_components/model/ComponentLabel.js"),F=n("./src/dom_components/view/ComponentLabelView.js"),z=n("./src/dom_components/model/ComponentVideo.js"),H=n("./src/dom_components/view/ComponentVideoView.js"),R=n("./src/dom_components/model/ComponentImage.js"),$=n("./src/dom_components/view/ComponentImageView.js"),V=n("./src/dom_components/model/ComponentScript.js"),W=n("./src/dom_components/view/ComponentScriptView.js"),B=n("./src/dom_components/model/ComponentSvg.js"),U=n("./src/dom_components/model/ComponentSvgIn.js"),q=n("./src/dom_components/view/ComponentSvgView.js"),Y=n("./src/dom_components/model/ComponentComment.js"),G=n("./src/dom_components/view/ComponentCommentView.js"),K=n("./src/dom_components/model/ComponentTextNode.js"),X=n("./src/dom_components/view/ComponentTextNodeView.js"),Q=n("./src/dom_components/model/ComponentText.js"),Z=n("./src/dom_components/view/ComponentTextView.js"),J=n("./src/dom_components/model/ComponentWrapper.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var u,a,l,c={},e={},x=[{id:"cell",model:v.default,view:b.default},{id:"row",model:y.default,view:w.default},{id:"table",model:_.default,view:S.default},{id:"thead",model:O.default,view:T.default},{id:"tbody",model:j.default,view:E.default},{id:"tfoot",model:P.default,view:D.default},{id:"map",model:A.default,view:M.default},{id:"link",model:I.default,view:L.default},{id:"label",model:N.default,view:F.default},{id:"video",model:z.default,view:H.default},{id:"image",model:R.default,view:$.default},{id:"script",model:V.default,view:W.default},{id:"svg-in",model:U.default,view:q.default},{id:"svg",model:B.default,view:q.default},{id:"comment",model:Y.default,view:G.default},{id:"textnode",model:K.default,view:X.default},{id:"text",model:Q.default,view:Z.default},{id:"wrapper",model:J.default,view:g.default},{id:"default",model:f.default,view:g.default}];return{Component:f.default,Components:p.default,ComponentsView:m.default,componentTypes:x,componentsById:e,name:"DomComponents",getConfig:function(){return c},storageKey:function(){var e=[],t=c.stm&&c.stm.getConfig()||{};return t.storeHtml&&e.push("html"),t.storeComponents&&e.push("components"),e},init:function(e){var i=this;for(var t in u=(c=e||{}).em,(this.em=u)&&(c.components=u.config.components||c.components),d.default)t in c||(c[t]=d.default[t]);var n,r=c.pStylePrefix;r&&(c.stylePrefix=r+c.stylePrefix),u&&(c.modal=u.get("Modal")||"",c.am=u.get("AssetManager")||"",u.get("Parser").compTypes=x,u.on("change:componentHovered",this.componentHovered,this),n=u.get("selected"),u.listenTo(n,"add",function(e,t,n){return i.selectAdd(e,n)}),u.listenTo(n,"remove",function(e,t,n){return i.selectRemove(e,n)}));var o=c.components,s=ee({},c.wrapper);return s["custom-name"]=c.wrapperName,s.wrapper=1,s.type="wrapper",o&&o.constructor===Object&&o.wrapper&&(s=ee({},o),o=o.components||[],s.components=[],u&&(u.config.components=o,c.components=o)),(a=new f.default(s,{em:u,config:c,componentTypes:x,domc:this})).set({attributes:{id:"wrapper"}}),l=new g.default({model:a,config:c,componentTypes:x}),this},onLoad:function(){this.setComponents(c.components)},postLoad:function(){this.handleChanges(this.getWrapper(),null,{avoidStore:1})},handleChanges:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=e.components(),o=u.get("UndoManager"),s=u.handleUpdates.bind(u),a=this.handleChanges.bind(this),l=this.handleChangesColl.bind(this),c=this.handleRemoves.bind(this);o&&o.add(e),o&&r&&o.add(r);[[e,"change:style change:content change:attributes change:src",s],[e,"change:components",l],[r,"add",a],[r,"remove",c],[e.get("classes"),"add remove",s]].forEach(function(e){u.stopListening(e[0],e[1],e[2]),u.listenTo(e[0],e[1],e[2])}),i.avoidStore||s("","",i),r.each(function(e){return n.handleChanges(e,t,i)})},handleChangesColl:function(e,t){var n,i,r=u.get("UndoManager");r&&t instanceof h.a.Collection&&(n=this.handleChanges.bind(this),i=this.handleRemoves.bind(this),r.add(t),[[t,"add",n],[t,"remove",i]].forEach(function(e){u.stopListening(e[0],e[1],e[2]),u.listenTo(e[0],e[1],e[2])}))},handleRemoves:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};i.avoidStore||u.handleUpdates(e,t,i)},load:function(e){var t=0<arguments.length&&void 0!==e?e:"",n=this.em,i="";!t&&c.stm&&(t=c.em.getCacheLoad());var r=t.components,o=t.html;if(r)if(Object(k.isObject)(r)||Object(k.isArray)(r))i=r;else try{i=JSON.parse(r)}catch(e){n&&n.logError(e)}else o&&(i=o);var s=i&&i.constructor===Object;return(i&&i.length||s)&&(this.clear(),s?this.getWrapper().set(i):this.getComponents().add(i)),i},store:function(e){if(c.stm){var t,n={},i=this.storageKey();return 0<=i.indexOf("html")&&(n.html=c.em.getHtml()),0<=i.indexOf("components")&&(this.em,t=c.storeWrapper?this.getWrapper():this.getComponents(),n.components=JSON.stringify(t)),e||c.stm.store(n),n}},getComponent:function(){return a},getWrapper:function(){return this.getComponent()},getComponents:function(){return this.getWrapper().get("components")},addComponent:function(e){return this.getComponents().add(e)},render:function(){return l.render().el},clear:function(){return this.getComponents().map(function(e){return e}).forEach(function(e){return e.remove()}),this},setComponents:function(e){this.clear().addComponent(e)},addType:function(e,t){function n(e,r,o){return e.reduce(function(e,t){var n=r[t],i=o.prototype[t];return n&&i&&(e[t]=function(){i.bind(this).apply(void 0,arguments),n.bind(this).apply(void 0,arguments)}),e},{})}var i=this.em,r=t.model,o=void 0===r?{}:r,s=t.view,a=void 0===s?{}:s,l=t.isComponent,c=t.extend,u=t.extendView,h=t.extendFn,d=void 0===h?[]:h,f=t.extendFnView,p=void 0===f?[]:f,g=this.getType(e),m=this.getType(c),v=this.getType(u),b=m||(g||this.getType("default")),y=b.model,w=v?v.view:b.view;"object"===C()(o)&&(t.model=y.extend(ee({},o,{},n(d,o,y),{defaults:ee({},y.prototype.defaults,{},Object(k.result)(o,"defaults")||{})}),{isComponent:!g||m||l?l||function(){return 0}:y.isComponent})),"object"===C()(a)&&(t.view=w.extend(ee({},a,{},n(p,a,w)))),g?(g.model=t.model,g.view=t.view):(t.id=e,x.unshift(t));var _="component:type:".concat(g?"update":"add");return i&&i.trigger(_,g||t),this},getType:function(e){for(var t=x,n=0;n<t.length;n++){if(t[n].id==e)return t[n]}},removeType:function(e){var t=x,n=this.getType(e);if(n){var i=t.indexOf(n);return t.splice(i,1),n}},getTypes:function(){return x},selectAdd:function(t,e){var n=this,i=1<arguments.length&&void 0!==e?e:{};t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(e){return n.em.trigger(e,t,i)}))},selectRemove:function(t,e){var n=this,i=1<arguments.length&&void 0!==e?e:{};t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(e){return n.em.trigger(e,t,i)}))},componentHovered:function(){var e=c.em,t=e.get("componentHovered"),n=e.previous("componentHovered");n&&"hovered"==n.get("status")&&n.set({status:"",state:""}),t&&Object(k.isEmpty)(t.get("status"))&&t.set("status","hovered")},allById:function(){return e}}}},"./src/dom_components/model/Component.js":function(e,t,n){"use strict";n.r(t),n.d(t,"eventDrag",function(){return y});var i=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),d=n("./node_modules/underscore/underscore.js"),f=n("./src/utils/mixins.js"),p=n("./src/domain_abstract/model/Styleable.js"),s=n("./node_modules/backbone/backbone.js"),l=n.n(s),c=n("./src/dom_components/model/Components.js"),u=n("./src/selector_manager/model/Selector.js"),h=n("./src/selector_manager/model/Selectors.js"),g=n("./src/trait_manager/model/Traits.js");function m(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function b(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}var y="component:drag",w=l.a.Model.extend(p.default).extend({defaults:{tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",classes:"",script:"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},init:function(){},updated:function(){},removed:function(){},initialize:function(e,t){var n,i,r=this,o=0<arguments.length&&void 0!==e?e:{},s=1<arguments.length&&void 0!==t?t:{},a=s.em,l=this.parent(),c=l&&l.attributes;c&&c.propagate&&(n={},(i=c.propagate).forEach(function(e){return n[e]=l.get(e)}),n.propagate=i,n=v({},n,{},o),this.set(n));var u=this.get("propagate");u&&this.set("propagate",Object(d.isArray)(u)?u:[u]),s&&s.config&&0<=s.config.voidElements.indexOf(this.get("tagName"))&&this.set("void",!0),s.em=a,this.opt=s,this.em=a,this.frame=s.frame,this.config=s.config||{},this.set("attributes",v({},this.defaults.attributes||{},{},this.get("attributes")||{})),this.ccid=w.createId(this),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(i){var e="add remove ".concat("components"!==i?"change":"");r.listenTo(r.get(i),e.trim(),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emitUpdate.apply(r,[i].concat(t))})}),s.temporary||(this.init(),a&&a.trigger("component:create",this))},is:function(e){return!(this.get("type")!=e)},props:function(){return this.attributes},index:function(){var e=this.collection;return e&&e.indexOf(this)},setDragMode:function(e){return this.set("dmode",e)},find:function(e){var n=[],i=this.view.$el.find(e);return i.each(function(e){var t=i.eq(e).data("model");t&&n.push(t)}),n},findType:function(n){var i=[];return function t(e){return e.forEach(function(e){e.is(n)&&i.push(e),t(e.components())})}(this.components()),i},closest:function(e){var t=this.view.$el.closest(e);return t.length&&t.data("model")},closestType:function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},tagUpdated:function(){var e=this.collection,t=e.indexOf(this);e.remove(this),e.add(this,{at:t})},replaceWith:function(e){var t=this.collection,n=t.indexOf(this);return t.remove(this),t.add(e,{at:n})},attrUpdated:function(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:{},o=this.get("attributes"),s=o.class;s&&this.setClass(s),delete o.class;var a=o.style;a&&this.setStyle(a),delete o.style;var l=v({},this.previous("attributes")),c=Object(f.shallowDiff)(l,this.get("attributes"));Object(d.keys)(c).forEach(function(e){return i.trigger("change:attributes:".concat(e),i,c[e],r)})},setAttributes:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.set("attributes",v({},e),n),this},addAttributes:function(e){var t=v({},this.getAttributes(),{},e);return this.setAttributes(t),this},getStyle:function(){var e=this.em;if(e&&e.getConfig("avoidInlineStyle")){var t=e.get("state"),n=e.get("CssComposer").getIdRule(this.getId(),{state:t});if(this.rule=n)return n.getStyle()}return p.default.getStyle.call(this)},setStyle:function(e,t){var n,i,r,o,s,a=this,l=0<arguments.length&&void 0!==e?e:{},c=1<arguments.length&&void 0!==t?t:{},u=this.em,h=this.opt;return u&&u.getConfig("avoidInlineStyle")&&!h.temporary?(n=this.get("style")||{},l=v({},l=Object(d.isString)(l)?this.parseStyle(l):l,{},n),i=u.get("state"),r=u.get("CssComposer"),o=this.getStyle(),this.rule=r.setIdRule(this.getId(),l,v({},c,{state:i})),s=Object(f.shallowDiff)(o,l),this.set("style",{},{silent:1}),Object(d.keys)(s).forEach(function(e){return a.trigger("change:style:".concat(e))})):l=p.default.setStyle.apply(this,arguments),l},getAttributes:function(){var e,t,n=this.em,i=[],r=v({},this.get("attributes")),o=n&&n.get("SelectorManager"),s=this.getId();return this.get("classes").forEach(function(e){return i.push(Object(d.isString)(e)?e:e.get("name"))}),i.length&&(r.class=i.join(" ")),Object(d.has)(r,"id")||((t=n)&&t.getConfig("avoidInlineStyle")?e=o&&o.get(s,o.Selector.TYPE_ID):Object(d.isEmpty)(this.getStyle())||(e=1),e&&(r.id=this.getId())),r},addClass:function(e){var t=this.em.get("SelectorManager").addClass(e);return this.get("classes").add(t)},setClass:function(e){return this.get("classes").reset(),this.addClass(e)},removeClass:function(e){var n=[];e=Object(d.isArray)(e)?e:[e];var i=this.get("classes"),r=u.default.TYPE_CLASS;return e.forEach(function(e){e.split(" ").forEach(function(e){var t=i.where({name:e,type:r})[0];t&&n.push(i.remove(t))})}),n},getClasses:function(){var e=this.getAttributes().class;return e?e.split(" "):[]},initClasses:function(){var e=[this,"change:classes",this.initClasses],t=this.get("classes")||[],n=Object(d.isString)(t)?t.split(" "):t;this.stopListening.apply(this,e);var i=this.normalizeClasses(n),r=new h.default([]);return this.set("classes",r),r.add(i),this.listenTo.apply(this,e),this},initComponents:function(){var e=[this,"change:components",this.initComponents];this.stopListening.apply(this,e);var t=new c.default(null,this.opt),n=(t.parent=this).get("components"),i=!this.opt.avoidChildren;return this.set("components",t),i&&t.add(Object(d.isFunction)(n)?n(this):n),this.listenTo.apply(this,e),this},initTraits:function(e){var t=this.em,n=[this,"change:traits",this.initTraits];this.stopListening.apply(this,n),this.loadTraits();var i=v({},this.get("attributes")),r=this.get("traits");return r.each(function(e){var t,n;e.get("changeProp")||(t=e.get("name"),n=e.getInitValue(),t&&n&&(i[t]=n))}),r.length&&this.set("attributes",i),this.listenTo.apply(this,n),e&&t&&t.trigger("component:toggled"),this},append:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.components().add(e,n);return Object(d.isArray)(i)?i:[i]},components:function(e){var t=this.get("components");return Object(d.isUndefined)(e)?t:(t.reset(),e&&this.append(e))},empty:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.components().reset(null,t),this},parent:function(){var e=this.collection;return e&&e.parent},scriptUpdated:function(){this.set("scriptUpdated",1)},initToolbar:function(){var e,t=this.em,n=t&&t.getConfig("stylePrefix")||"";this.get("toolbar")||(e=[],this.collection&&e.push({attributes:{class:"fa fa-arrow-up"},command:function(e){return e.runCommand("core:component-exit",{force:1})}}),this.get("draggable")&&e.push({attributes:{class:"fa fa-arrows ".concat(n,"no-touch-actions"),draggable:!0},command:"tlb-move"}),this.get("copyable")&&e.push({attributes:{class:"fa fa-clone"},command:"tlb-clone"}),this.get("removable")&&e.push({attributes:{class:"fa fa-trash-o"},command:"tlb-delete"}),this.set("toolbar",e))},loadTraits:function(e,t){var n,i=1<arguments.length&&void 0!==t?t:{};return e=e||this.get("traits"),(e=Object(d.isFunction)(e)?e(this):e)instanceof g.default||((n=new g.default([],this.opt)).setTarget(this),e.length&&(e.forEach(function(e){return e.attributes&&delete e.attributes.value}),n.add(e)),this.set("traits",n,i)),this},getTrait:function(t){return this.get("traits").filter(function(e){return e.get("id")===t||e.get("name")===t})[0]},updateTrait:function(e,t){var n=this.em,i=this.getTrait(e);return i&&i.set(t),n&&n.trigger("component:toggled"),this},getTraitIndex:function(e){var t=this.getTrait(e);return t?this.get("traits").indexOf(t):t},removeTrait:function(e){var t=this,n=this.em,i=(Object(d.isArray)(e)?e:[e]).map(function(e){return t.getTrait(e)}),r=this.get("traits").remove(i);return n&&n.trigger("component:toggled"),r},addTrait:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.em,r=this.get("traits").add(e,n);return i&&i.trigger("component:toggled"),r},normalizeClasses:function(e){var i=[],t=this.em;if(t){var r=t.get("SelectorManager");if(r)return e.forEach(function(e){var t="",t="string"==typeof e?e:e.name,n=r.add(t);i.push(n)}),i}},clone:function(){var e=this.em,t=this.getStyle(),n=v({},this.attributes),i=v({},this.opt);n.attributes=v({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],this.get("components").each(function(e,t){n.components[t]=e.clone()}),this.get("traits").each(function(e,t){n.traits[t]=e.clone()}),this.get("classes").each(function(e,t){n.classes[t]=e.get("name")}),n.status="",n.view="",i.collection=null,e&&e.getConfig("avoidInlineStyle")&&!Object(d.isEmpty)(t)&&(n.style=t);var r=new this.constructor(n,i),o="component:clone";return e&&e.trigger(o,r),this.trigger(o,r),r},getName:function(){var e=this.em,t=this.attributes,n=t.type,i=t.tagName,r=this.get("name"),o="div"==i,s=n||(o?"box":i),a=!n&&i&&!o&&i,l="domComponents.names.",c=r&&e&&e.t("".concat(l).concat(r)),u=a&&e&&e.t("".concat(l).concat(a)),h=e&&(e.t("".concat(l).concat(n))||e.t("".concat(l).concat(i)));return this.get("custom-name")||c||r||u||Object(f.capitalize)(a)||h||Object(f.capitalize)(s)},getIcon:function(){var e=this.get("icon");return e?e+" ":""},toHTML:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=[],i=t.tag||this.get("tagName"),r=this.get("void"),o=t.attributes,s=this.getAttrToHTML();for(var a in delete t.tag,o&&(Object(d.isFunction)(o)?s=o(this,s)||{}:Object(d.isObject)(o)&&(s=o)),s){var l=s[a],c=Object(d.isString)(l)?l.replace(/"/g,"&quot;"):l;Object(d.isUndefined)(c)||(Object(d.isBoolean)(c)?c&&n.push(a):n.push("".concat(a,'="').concat(c,'"')))}var u=n.length?" ".concat(n.join(" ")):"",h="<".concat(i).concat(u).concat(r?"/":"",">").concat(this.get("content"));return this.get("components").each(function(e){return h+=e.toHTML(t)}),r||(h+="</".concat(i,">")),h},getAttrToHTML:function(){var e=this.getAttributes();return delete e.style,e},toJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=l.a.Model.prototype.toJSON.apply(this,t);return r.attributes=this.getAttributes(),delete r.attributes.class,delete r.toolbar,delete r.traits,this.em.getConfig("avoidDefaults")&&(i=Object(d.result)(this,"defaults"),Object(d.forEach)(i,function(e,t){-1===["type","content"].indexOf(t)&&r[t]===e&&delete r[t]}),Object(d.isEmpty)(r.type)&&delete r.type,Object(d.forEach)(["attributes","style"],function(e){Object(d.isEmpty)(i[e])&&Object(d.isEmpty)(r[e])&&delete r[e]}),Object(d.forEach)(["classes","components"],function(e){Object(d.isEmpty)(i[e])&&!r[e].length&&delete r[e]})),r},getId:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid},setId:function(e,t){var n=v({},this.get("attributes"));return n.id=e,this.set("attributes",n,t),this},getEl:function(e){var t=this.getView(e);return t&&t.el},getView:function(t){var e=this.view,n=this.views;return t&&(e=n.filter(function(e){return e._getFrame()===t.view})[0]),e},getCurrentView:function(){var e=(this.em.get("currentFrame")||{}).model;return this.getView(e)},getScriptString:function(e){var i=this,t=e||this.get("script");if(!t)return t;"function"==typeof t&&(t=t.toString().trim().replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"").trim());var n=this.em.getConfig(),r=b(n.tagVarStart||"{[ "),o=b(n.tagVarEnd||" ]}"),s=new RegExp("".concat(r,"([\\w\\d-]*)").concat(o),"g");return t=t.replace(s,function(e,t){i.scriptUpdated();var n=i.attributes[t]||"";return Object(d.isArray)(n)||"object"==a()(n)?JSON.stringify(n):n})},emitUpdate:function(e){for(var t=this.em,n="component:update"+(e?":".concat(e):""),i=arguments.length,r=new Array(1<i?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];e&&this.updated.apply(this,[e,e&&this.get(e),e&&this.previous(e)].concat(r)),this.trigger.apply(this,[n].concat(r)),t&&t.trigger.apply(t,[n,this].concat(r))},onAll:function(t){return Object(d.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},remove:function(){var e=this.collection;return e&&e.remove(this)},resetId:function(e){var t=this.em,n=this.getId();if(n){var i=w.createId(this);this.setId(i);var r=t&&t.get("CssComposer").getIdRule(n),o=r&&r.get("selectors").at(0);return o&&o.set("name",i),this}},_getStyleRule:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).id,n=this.em,i=t||this.getId();return n&&n.get("CssComposer").getIdRule(i)},_getStyleSelector:function(e){var t=this._getStyleRule(e);return t&&t.get("selectors").at(0)},_idUpdated:function(e,t,n){if(!(2<arguments.length&&void 0!==n?n:{}).idUpdate){var i=this.ccid,r=(this.get("attributes")||{}).id,o=(this.previous("attributes")||{}).id||i,s=w.getList(this);if(s[r])return this.setId(o,{idUpdate:1});delete s[o],(s[r]=this).ccid=r;var a=this._getStyleSelector({id:o});a&&a.set({name:r,label:r})}}},{isComponent:function(e){return{tagName:e.tagName?e.tagName.toLowerCase():""}},ensureInList:function(e){var t,n=w.getList(e),i=e.getId(),r=n[i];r?r!==e&&(t=w.getIncrementId(i,n),e.setId(t),n[t]=e):n[i]=e,e.components().forEach(function(e){return w.ensureInList(e)})},createId:function(e){var t,n=w.getList(e),i=e.get("attributes").id;return i?(t=w.getIncrementId(i,n),e.setId(t)):t=w.getNewId(n),n[t]=e,t},getNewId:function(e){for(var t=Object.keys(e).length.toString().length+2,n=(Math.random()+1.1).toString(36).slice(-t),i="i".concat(n);e[i];)i=w.getNewId(e);return i},getIncrementId:function(e,t){for(var n=1,i=e;t[i];)n++,i="".concat(e,"-").concat(n);return i},getList:function(e){var t=e.opt&&e.opt.domc;return t?t.componentsById:{}},checkId:function(e,t,n){var s=1<arguments.length&&void 0!==t?t:[],a=2<arguments.length&&void 0!==n?n:{};(Object(d.isArray)(e)?e:[e]).forEach(function(e){var i,t=e.attributes,n=void 0===t?{}:t,r=e.components,o=n.id;o&&a[o]&&(i=w.getIncrementId(o,a),n.id=i,Object(d.isArray)(s)&&s.forEach(function(e){var n=e.selectors;n.forEach(function(e,t){e==="#".concat(o)&&(n[t]="#".concat(i))})})),r&&w.checkId(r,s,a)})}});t.default=w},"./src/dom_components/model/ComponentComment.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentTextNode.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults),toHTML:function(){return"\x3c!--".concat(this.get("content"),"--\x3e")}},{isComponent:function(e){if(8==e.nodeType)return{tagName:"NULL",type:"comment",content:e.textContent}}})},"./src/dom_components/model/ComponentImage.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js"),l=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var a='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"';t.default=l.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},l.default.prototype.defaults,{type:"image",tagName:"img",void:1,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(a,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(a,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""}),initialize:function(e,t){l.default.prototype.initialize.apply(this,arguments);var n=this.get("attributes");n.src&&this.set("src",n.src)},initToolbar:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.default.prototype.initToolbar.apply(this,t);var i=this.em;if(i){var r="image-editor";if(i.get("Commands").has(r)){for(var o=!1,s=this.get("toolbar"),a=0;a<s.length;a++)if("image-editor"===s[a].command){o=!0;break}o||(s.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",s))}}},getAttrToHTML:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=l.default.prototype.getAttrToHTML.apply(this,t),r=this.getSrcResult();return r&&(i.src=r),i},getSrcResult:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.get(t.fallback?"fallback":"src")||"",i=n;return n&&"<svg"===n.substr(0,4)&&(i="data:image/svg+xml;base64,".concat(window.btoa(n))),i},isDefaultSrc:function(){return this.get("src")===Object(o.result)(this,"defaults").src},parseUri:function(e){var t=document.createElement("a");t.href=e;for(var n={},i=t.search.substring(1).split("&"),r=0;r<i.length;r++){var o=i[r].split("="),s=decodeURIComponent(o[0]);s&&(n[s]=decodeURIComponent(o[1]))}return{hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,search:t.search,hash:t.hash,port:t.port,query:n}}},{isComponent:function(e){var t="";return"IMG"==e.tagName&&(t={type:"image"}),t}})},"./src/dom_components/model/ComponentLabel.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentText.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{tagName:"label",traits:["id","title","for"]})},{isComponent:function(e){if("LABEL"==e.tagName)return{type:"label"}}})},"./src/dom_components/model/ComponentLink.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentText.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"link",tagName:"a",traits:["title","href","target"]}),getAttrToHTML:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=o.default.prototype.getAttrToHTML.apply(this,t);return delete i.onmousedown,i}},{isComponent:function(e){var t;if("A"==e.tagName){t={type:"link",editable:0};var n=e.childNodes,i=n.length;i||delete t.editable;for(var r=0;r<i;r++){var o=n[r];if(3==o.nodeType&&""!=o.textContent.trim()){delete t.editable;break}}}return t}})},"./src/dom_components/model/ComponentMap.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentImage.js"),s=n("./src/dom_components/model/Component.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:s.default.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(e,t){this.get("src")?this.parseFromSrc():this.updateSrc(),o.default.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var e=(e=this.get("address"))?"&q="+e:"",t=(t=this.get("zoom"))?"&z="+t:"",n=(n=this.get("mapType"))?"&t="+n:"",i=this.get("mapUrl")+"?"+e+t+n;return i+="&output=embed"},parseFromSrc:function(){var e=this.parseUri(this.get("src")).query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)}},{isComponent:function(e){var t="";return"IFRAME"==e.tagName&&/maps\.google\.com/.test(e.src)&&(t={type:"map",src:e.src}),t}})},"./src/dom_components/model/ComponentScript.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"script",droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(e){if("SCRIPT"==e.tagName){var t={type:"script"};return e.src&&(t.src=e.src,t.onload=e.onload),t}}})},"./src/dom_components/model/ComponentSvg.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{resizable:{ratioDefault:1},highlightable:0}),getName:function(){var e=this.get("tagName"),t=this.get("custom-name"),e=e.charAt(0).toUpperCase()+e.slice(1);return t||e}},{isComponent:function(e){if(SVGElement&&e instanceof SVGElement)return{tagName:e.tagName,type:"svg"}}})},"./src/dom_components/model/ComponentSvgIn.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentSvg.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(e){if(o.default.isComponent(e)&&"svg"!==e.tagName.toLowerCase())return{tagName:e.tagName,type:"svg-in"}}})},"./src/dom_components/model/ComponentTable.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"table",tagName:"table",droppable:["tbody","thead","tfoot"]}),initialize:function(e,t){o.default.prototype.initialize.apply(this,arguments);var n=this.get("components");n.length||n.add({type:"tbody"})}},{isComponent:function(e){var t="";return"TABLE"==e.tagName&&(t={type:"table"}),t}})},"./src/dom_components/model/ComponentTableBody.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),l=n("./src/dom_components/model/Component.js");function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=l.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},l.default.prototype.defaults,{type:"tbody",tagName:"tbody",draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(e,t){l.default.prototype.initialize.apply(this,arguments);var n=this.get("components"),i=this.get("columns"),r=this.get("rows");if(!n.length){for(var o=[];r--;){for(var s=[],a=i;a--;)s.push({type:"cell",classes:["cell"]});o.push({type:"row",classes:["row"],components:s})}n.add(o)}}},{isComponent:function(e){var t="";return"TBODY"==e.tagName&&(t={type:"tbody"}),t}})},"./src/dom_components/model/ComponentTableCell.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(e){var t="",n=e.tagName;return"TD"!=n&&"TH"!=n||(t={type:"cell",tagName:n.toLowerCase()}),t}})},"./src/dom_components/model/ComponentTableFoot.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentTableBody.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"tfoot",tagName:"tfoot"})},{isComponent:function(e){var t="";return"TFOOT"==e.tagName&&(t={type:"tfoot"}),t}})},"./src/dom_components/model/ComponentTableHead.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentTableBody.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"thead",tagName:"thead"})},{isComponent:function(e){var t="";return"THEAD"==e.tagName&&(t={type:"thead"}),t}})},"./src/dom_components/model/ComponentTableRow.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(e){return"TR"==e.tagName&&!0}})},"./src/dom_components/model/ComponentText.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"text",droppable:!1,editable:!0}),toHTML:function(){return this.trigger("sync:content",{silent:1}),o.default.prototype.toHTML.apply(this,arguments)}})},"./src/dom_components/model/ComponentTextNode.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/Component.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{droppable:!1,layerable:!1,editable:!0}),toHTML:function(){return this.get("content").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{isComponent:function(e){var t="";return 3===e.nodeType&&(t={type:"textnode",content:e.textContent}),t}})},"./src/dom_components/model/ComponentVideo.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/dom_components/model/ComponentImage.js"),s=n("./src/dom_components/model/Component.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var l="ytnc";t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{type:"video",tagName:"video",videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"},toolbar:s.default.prototype.defaults.toolbar}),initialize:function(e,t){var n=[];switch(this.get("provider")){case"yt":case l:n=this.getYoutubeTraits();break;case"vi":n=this.getVimeoTraits();break;default:n=this.getSourceTraits()}this.get("src")&&this.parseFromSrc(),this.set("traits",n),o.default.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc)},initToolbar:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.default.prototype.initToolbar.apply(this,t)},parseFromSrc:function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),n=t.query;switch(e){case"yt":case l:case"vi":var i=t.pathname.split("/").pop();this.set("videoId",i),n.autoplay&&this.set("autoplay",1),n.loop&&this.set("loop",1),0===parseInt(n.controls)&&this.set("controls",0),n.color&&this.set("color",n.color),"0"===n.rel&&this.set("rel",0),"1"===n.modestbranding&&this.set("modestbranding",1)}},updateSrc:function(){switch(this.get("provider")){case"yt":this.set("src",this.getYoutubeSrc());break;case l:this.set("src",this.getYoutubeNoCookieSrc());break;case"vi":this.set("src",this.getVimeoSrc())}},getAttrToHTML:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=o.default.prototype.getAttrToHTML.apply(this,t);switch(this.get("provider")){case"yt":case l:case"vi":break;default:this.get("loop")&&(i.loop="loop"),this.get("autoplay")&&(i.autoplay="autoplay"),this.get("controls")&&(i.controls="controls")}return i},updateTraits:function(){var e=this.get("provider"),t=this.getSourceTraits();switch(e){case"yt":case l:this.set("tagName","iframe"),t=this.getYoutubeTraits();break;case"vi":this.set("tagName","iframe"),t=this.getVimeoTraits();break;default:this.set("tagName","video")}this.loadTraits(t),this.em.trigger("component:toggled")},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:"yt",name:"Youtube"},{value:l,name:"Youtube (no cookie)"},{value:"vi",name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var e=this.get("videoId"),t=this.get("ytUrl");return t+=e+"?",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":""},getYoutubeNoCookieSrc:function(){return this.getYoutubeSrc().replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):""}},{isComponent:function(e){var t="",n=/youtube\.com\/embed/.test(e.src),i=/youtube-nocookie\.com\/embed/.test(e.src),r=/player\.vimeo\.com\/video/.test(e.src),o=n||i||r;return("VIDEO"==e.tagName||"IFRAME"==e.tagName&&o)&&(t={type:"video"},e.src&&(t.src=e.src),o&&(n?t.provider="yt":i?t.provider=l:r&&(t.provider="vi"))),t}})},"./src/dom_components/model/ComponentWrapper.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/model/Component.js");t.default=i.default.extend({},{isComponent:function(){return!1}})},"./src/dom_components/model/Components.js":function(e,t,a){"use strict";a.r(t);var l,n=a("./node_modules/@babel/runtime/helpers/typeof.js"),h=a.n(n),i=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=a.n(i),o=a("./node_modules/backbone/backbone.js"),s=a.n(o),d=a("./node_modules/underscore/underscore.js");function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.Collection.extend({initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.opt=n,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren),this.config=n.config,this.em=n.em,this.domc=n.domc},resetChildren:function(e,t){var n=this,i=1<arguments.length&&void 0!==t?t:{},r=this,o=i.previousModels;(void 0===o?[]:o).forEach(function(e){return n.removeChildren(e,r,i)}),e.each(function(e){return n.onAdd(e)})},removeChildren:function(e,t,n){var i,r,o,s,a,l,c,u=this,h=2<arguments.length&&void 0!==n?n:{},d=this.domc,f=this.em,p=d?d.allById():{};h.temporary||(i=e.getId(),r=f.get("SelectorManager").getAll(),o=f.get("CssComposer").getAll(),delete p[i],s=o.remove(o.filter(function(e){return e.getSelectors().getFullString()==="#".concat(i)})),r.remove(s.map(function(e){return e.getSelectors().at(0)})),e.opt.temporary||(a=f.get("Commands"),l=e.get("style-signature"),c={target:e},l&&a.run("core:component-style-clear",c),e.removed(),f.trigger("component:remove",e)),e.components().forEach(function(e){return u.removeChildren(e,t,h)}));var g=e.components(),m=f.get("UndoManager");f.stopListening(g),f.stopListening(e),f.stopListening(e.get("classes")),m.remove(e),m.remove(g)},model:function(e,t){var n,i=t.collection.opt,r=i.em,o=r.get("DomComponents").componentTypes;t.em=r,t.config=i.config,t.componentTypes=o,t.domc=i.domc;for(var s=0;s<o.length;s++){if(o[s].id==e.type){n=o[s].model;break}}return n||(n=o[o.length-1].model,r&&e.type&&r.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new n(e,t)},parseString:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.em,r=this.opt.domc,o=i.get("CssComposer"),s=i.get("Parser").parseHtml(e);return(l=l||a("./src/dom_components/model/Component.js").default).checkId(s.html,s.css,r.componentsById),s.css&&o&&!n.temporary&&o.addCollection(s.css,f({},n,{extend:1})),s.html},add:function(n,e){var i=this,r=1<arguments.length&&void 0!==e?e:{};Object(d.isString)(n)?n=this.parseString(n,r):Object(d.isArray)(n)&&n.forEach(function(e,t){Object(d.isString)(e)&&(n[t]=i.parseString(e,r))});var t=Object(d.isArray)(n);return n=(t?n:[n]).filter(function(e){return e}).map(function(e){return i.processDef(e)}),n=t?n:n[0],s.a.Collection.prototype.add.apply(this,[n,r])},processDef:function(e){if(e.cid&&e.ccid)return e;var t,n,i,r,o,s,a=this.em,l=this.config,c=(void 0===l?{}:l).processor,u=e;return!c||(t=c(u=f({},u)))&&(Object(d.each)(u,function(e,t){return delete u[t]}),Object(d.extend)(u,t)),u.$$typeof&&"object"==h()(u.props)&&((u=f({},u)).props=f({},u.props),n=a.get("DomComponents"),i=a.get("Parser").parserHtml,Object(d.each)(u,function(e,t){Object(d.includes)(["props","type"],t)||delete u[t]}),o=(r=u.props).children,delete r.children,delete u.props,s=i.splitPropsFromAttr(r),u.attributes=s.attrs,o&&(u.components=o),u.type?n.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",Object(d.extend)(u,s.props)),u},onAdd:function(e,t,n){var i,r=2<arguments.length&&void 0!==n?n:{},o=this.domc,s=this.em,a=e.getStyle(),l=s&&s.getConfig("avoidInlineStyle");o&&o.Component.ensureInList(e),!Object(d.isEmpty)(a)&&!l&&s&&s.get&&s.getConfig("forceClass")&&!r.temporary&&(i=e.cid,s.get("CssComposer").setClassRule(i,a),e.setStyle({}),e.addClass(i))}})},"./src/dom_components/model/Toolbar.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/dom_components/model/ToolbarButton.js");t.default=r.a.Collection.extend({model:o.default})},"./src/dom_components/model/ToolbarButton.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({defaults:{command:"",attributes:{}}})},"./src/dom_components/view/ComponentCommentView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentTextNodeView.js");t.default=i.default.extend({_createElement:function(){return document.createComment(this.model.get("content"))}})},"./src/dom_components/view/ComponentImageView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({tagName:"img",events:{dblclick:"onActive",click:"initResize",error:"onError",dragstart:"noDrag"},initialize:function(e){var t=this.model;i.default.prototype.initialize.apply(this,arguments),this.listenTo(t,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image");var n=this.config;n.modal&&(this.modal=n.modal),n.am&&(this.am=n.am),this.fetchFile()},fetchFile:function(){var i,e;this.modelOpt.temporary||(e=(i=this.model).get("file"))&&(this.em.get("AssetManager").FileUploader().uploadFile({dataTransfer:{files:[e]}},function(e){var t=e&&e.data&&e.data[0],n=t&&(Object(r.isString)(t)?t:t.src);n&&i.set({src:n})}),i.set("file",""))},updateSrc:function(){var e=this.model,t=this.classEmpty,n=this.$el,i=e.getSrcResult(),r=i&&!e.isDefaultSrc();e.addAttributes({src:i}),n[r?"removeClass":"addClass"](t)},onActive:function(e){e&&e.stopPropagation();var t=this.opts.config.em,n=t?t.get("Editor"):"";n&&this.model.get("editable")&&n.runCommand("open-assets",{target:this.model,types:["image"],accept:"image/*",onSelect:function(){n.Modal.close(),n.AssetManager.setTarget(null)}})},onError:function(){var e=this.model.getSrcResult({fallback:1});e&&(this.el.src=e)},noDrag:function(e){return e.preventDefault(),!1},render:function(){this.renderAttributes(),this.updateSrc();var e=this.$el,t=this.model,n=e.attr("class")||"";return t.get("src")||e.attr("class","".concat(n," ").concat(this.classEmpty).trim()),this.postRender(),this}})},"./src/dom_components/view/ComponentLabelView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentLinkView.js");t.default=i.default.extend({tagName:"span"})},"./src/dom_components/view/ComponentLinkView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentTextView.js");t.default=i.default.extend({render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.prototype.render.apply(this,t),this.el.addEventListener("click",this.prevDef,!0),this}})},"./src/dom_components/view/ComponentMapView.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/backbone/backbone.js");var i=n("./src/dom_components/view/ComponentImageView.js");t.default=i.default.extend({tagName:"div",events:{},initialize:function(e){i.default.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"},updateSrc:function(){this.getIframe().src=this.model.get("src")},getIframe:function(){var e;return this.iframe||((e=document.createElement("iframe")).src=this.model.get("src"),e.frameBorder=0,e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e),this.iframe},render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.prototype.render.apply(this,t),this.updateClasses(),this.el.appendChild(this.getIframe()),this}})},"./src/dom_components/view/ComponentScriptView.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/backbone/backbone.js");var i=n("./src/dom_components/view/ComponentImageView.js");t.default=i.default.extend({tagName:"script",events:{},render:function(){var e,t,n,i=this.model,r=i.get("src"),o=this.em,s=o&&o.get("scriptCount")?o.get("scriptCount"):0,a="";return r?(a="var "+(t="script"+s)+" = document.createElement('script');\n"+t+".onload = function(){\n"+((e=i.get("onload"))?e+"();\n":"")+"typeof "+(n="script"+(s+1))+"Start == 'function' && "+n+"Start();\n};\n"+t+".src = '"+r+"';\nfunction "+t+"Start() { document.body.appendChild("+t+"); };\n"+(s?"":t+"Start();"),o&&o.set("scriptCount",s+1)):a=i.get("content"),this.el.innerHTML=a,this}})},"./src/dom_components/view/ComponentSvgView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({_createElement:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}})},"./src/dom_components/view/ComponentTableBodyView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({})},"./src/dom_components/view/ComponentTableCellView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({})},"./src/dom_components/view/ComponentTableFootView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({})},"./src/dom_components/view/ComponentTableHeadView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({})},"./src/dom_components/view/ComponentTableRowView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({})},"./src/dom_components/view/ComponentTableView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/dom_components/view/ComponentView.js");t.default=i.default.extend({events:{}})},"./src/dom_components/view/ComponentTextNodeView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.View.extend({initialize:function(){var e=this.$el,t=this.model;e.data("model",t),t.view=this},_createElement:function(){return document.createTextNode(this.model.get("content"))}})},"./src/dom_components/view/ComponentTextView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),s=n("./src/utils/mixins.js"),o=n("./src/dom_components/view/ComponentView.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var c=o.default.prototype;t.default=o.default.extend({events:{dblclick:"onActive",input:"onInput"},initialize:function(e){c.initialize.apply(this,arguments),this.disableEditing=this.disableEditing.bind(this);var t=this.model,n=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=n&&n.get("RichTextEditor")},updateContentText:function(e,t,n){(2<arguments.length&&void 0!==n?n:{}).fromDisable||this.disableEditing()},onActive:function(e){if(!this.rteEnabled&&this.model.get("editable")){e&&e.stopPropagation&&e.stopPropagation();var t=this.rte,n=this.em;if(t)try{this.activeRte=t.enable(this,this.activeRte)}catch(e){n.logError(e)}this.toggleEvents(1)}},onDisable:function(){this.disableEditing()},disableEditing:function(){var e=this.model,t=this.rte,n=this.activeRte,i=this.em,r=e.get("editable");if(t&&r){try{t.disable(this,n)}catch(e){i.logError(e)}this.syncContent()}this.toggleEvents()},getContent:function(){var e=(this.rte||{}).activeRte;return e&&"function"==typeof e.getContent?e.getContent():this.getChildrenContainer().innerHTML},syncContent:function(e){var t,n,i,r=0<arguments.length&&void 0!==e?e:{},o=this.model,s=this.rte;(this.rteEnabled||r.force)&&(t=this.getContent(),n=o.components(),i=l({fromDisable:1},r),n.length&&n.reset(null,r),o.set("content","",i),s.customRte?o.set("content",t,i):(r.silent||o.trigger("change:content",o,"",i),n.add(t,r),n.each(function e(t){var n=!!t.get("textable"),i=!["text","default",""].some(function(e){return t.is(e)})||n;t.set(l({_innertext:!i,editable:i&&t.get("editable"),selectable:i,hoverable:i,removable:n,draggable:n,highlightable:0,copyable:n},!n&&{toolbar:""}),r),t.get("components").each(e)}),n.trigger("resetNavigator")))},getModelsFromEl:function(e){for(var t=[],n=(e||this.el).childNodes,i=0;i<n.length;i++){var r=n[i],o=r.__cashData&&r.__cashData.model;o&&(o.components=this.getModelsFromEl(r),o.get("content")&&(o.attributes.content=r.textContent),t.push(o))}return t},onInput:function(){var e=this.em,t=["".concat("component",":update"),"".concat("component",":input")].join(" ");e&&e.trigger(t,this.model)},disablePropagation:function(e){e.stopPropagation()},toggleEvents:function(e){var t=this.em,n={on:s.on,off:s.off},i=e?"on":"off";t.setEditing(e),this.rteEnabled=!!e;var r=[this.el.ownerDocument,document];if(n.off(r,"mousedown",this.disableEditing),n[i](r,"mousedown",this.disableEditing),t[i]("toolbar:run:before",this.disableEditing),this.$el.off("mousedown",this.disablePropagation),this.$el[i]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var o=this.el;o;)o.draggable=!e,(o=o.parentNode)&&"BODY"==o.tagName&&(o=0)}})},"./src/dom_components/view/ComponentVideoView.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/dom_components/view/ComponentImageView.js"),i=n("./src/dom_components/view/ComponentView.js");t.default=r.default.extend({tagName:"div",events:{},initialize:function(e){i.default.prototype.initialize.apply(this,arguments);var t=this.model,n=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(e){return"change:".concat(e)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,n,this.updateVideo)},updateProvider:function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},updateSrc:function(){var e=this.model,t=this.videoEl;if(t){var n=e.get("provider"),i=e.get("src");switch(n){case"yt":i=e.getYoutubeSrc();break;case"ytnc":i=e.getYoutubeNoCookieSrc();break;case"vi":i=e.getVimeoSrc()}t.src=i}},updateVideo:function(){var e=this.model.get("provider"),t=this.videoEl,n=this.model;switch(e){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:t.loop=n.get("loop"),t.autoplay=n.get("autoplay"),t.controls=n.get("controls"),t.poster=n.get("poster")}},renderByProvider:function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t},renderSource:function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},renderYoutube:function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e},renderYoutubeNoCookie:function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e},renderVimeo:function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e},initVideoEl:function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.prototype.render.apply(this,t),this.updateClasses();var i=this.model.get("provider");return this.el.appendChild(this.renderByProvider(i)),this.updateVideo(),this}})},"./src/dom_components/view/ComponentView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),d=n("./node_modules/underscore/underscore.js"),a=n("./src/dom_components/model/Components.js"),l=n("./src/dom_components/view/ComponentsView.js"),c=n("./src/selector_manager/model/Selectors.js"),u=n("./src/utils/dom.js"),h=n("./src/utils/mixins.js");function f(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.View.extend({className:function(){return this.getClasses()},tagName:function(){return this.model.get("tagName")},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,i=t.config||{},r=i.em,o=n.opt||{},s=this.$el,a=this.el,l=i.draggableComponents;this.opts=t,this.modelOpt=o,this.config=i,this.em=r||"",this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.attr=n.get("attributes"),this.classe=this.attr.class||[],this.listenTo(n,"change:style",this.updateStyle),this.listenTo(n,"change:attributes change:_innertext",this.renderAttributes),this.listenTo(n,"change:highlightable",this.updateHighlight),this.listenTo(n,"change:status",this.updateStatus),this.listenTo(n,"change:script",this.reset),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change",this.handleChange),this.listenTo(n,"active",this.onActive),this.listenTo(n,"disable",this.onDisable),s.data("model",n),Object(h.setViewEl)(a,this),(n.view=this)._getFrame()&&n.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=p({},this.events,{},l&&{dragstart:"handleDragStart"}),this.delegateEvents(),o.temporary||this.init(this._clbObj())},_clbObj:function(){var e=this.em,t=this.model,n=this.el;return{editor:e&&e.getEditor(),model:t,el:n}},init:function(){},removed:function(){},onActive:function(){},onDisable:function(){},remove:function(){var e=this;s.a.View.prototype.remove.apply(e,arguments);var t=e.model,n=(e._getFrame()||{}).model;t.components().forEach(function(e){var t=e.getView(n);t&&t.remove()});var i=t.views;return i.splice(i.indexOf(e),1),e.removed(e._clbObj()),e.$el.data({model:"",collection:"",view:""}),delete e.model,delete e.$el,delete e.el.__gjsv,delete e.childrenView,delete e.scriptContainer,delete e.opts,e},handleDragStart:function(e){e.preventDefault(),e.stopPropagation(),this.em.get("Commands").run("tlb-move",{target:this.model,event:e})},initClasses:function(){var e=this.model,t="change:classes",n=e.get("classes");n instanceof c.default&&(this.stopListening(e,t,this.initClasses),this.listenTo(e,t,this.initClasses),this.listenTo(n,"add remove change",this.updateClasses),n.length&&this.importClasses())},initComponents:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,i=this.$el,r=this.childrenView,o=n.get("components"),s=[n,"change:components",this.initComponents];o instanceof a.default&&(i.data("collection",o),r&&r.remove(),this.stopListening.apply(this,s),t.avoidRender||this.renderChildren(),this.listenTo.apply(this,s))},handleChange:function(){var e=this.model,t=Object(d.keys)(e.changed);if(1!==t.length||"status"!==t[0])for(var n in e.emitUpdate(),e.changed)e.emitUpdate(n)},importClasses:function(){var t=this.config.em.get("SelectorManager");t&&this.model.get("classes").each(function(e){t.add(e.get("name"))})},updateStatus:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(this.em,this.el),i=this.model.get("status"),r=(this.pfx,this.ppfx),o="".concat(r,"selected"),s="".concat(o,"-parent"),a="".concat(r,"freezed"),l="".concat(r,"hovered"),c=[o,s,a,l];this.$el.removeClass(c.join(" "));var u=n.getAttribute("class")||"",h="";switch(i){case"selected":h="".concat(u," ").concat(o);break;case"selected-parent":h="".concat(u," ").concat(s);break;case"freezed":h="".concat(u," ").concat(a);break;case"freezed-selected":h="".concat(u," ").concat(a," ").concat(o);break;case"hovered":h=t.avoidHover?"":"".concat(u," ").concat(l)}(h=h.trim())&&n.setAttribute("class",h)},updateHighlight:function(){var e=this.model.get("highlightable");this.setAttribute("data-highlightable",e?1:"")},updateStyle:function(){var e,t=this.model,n=this.em,i=this.el;n&&n.getConfig("avoidInlineStyle")?(t.get("_innertext")?i.removeAttribute("id"):i.id=t.getId(),e=t.getStyle(),Object(d.isEmpty)(e)||t.setStyle(e)):this.setAttribute("style",t.styleToString())},updateClasses:function(){var e=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus()},setAttribute:function(e,t){var n=this.$el;t?n.attr(e,t):n.removeAttr(e)},getClasses:function(){return this.model.getClasses().join(" ")},updateAttributes:function(){var t=[],e=this.model,n=this.$el,i=this.el,r=this.config,o=e.attributes,s=o.highlightable,a=o.textable,l=o.type,c=o._innertext,u=p({"data-gjs-type":l||"default"},r.draggableComponents&&!c?{draggable:!0}:{},{},s?{"data-highlightable":1}:{},{},a?{contenteditable:"false","data-gjs-textable":"true"}:{});Object(d.each)(i.attributes,function(e){return t.push(e.nodeName)}),t.forEach(function(e){return n.removeAttr(e)});var h=p({},u,{},e.getAttributes());Object(d.keys)(h).forEach(function(e){return!1===h[e]&&delete h[e]}),n.attr(h),this.updateStyle()},updateContent:function(){this.getChildrenContainer().innerHTML=this.model.get("content")},prevDef:function(e){e.preventDefault()},updateScript:function(){var e=this.model,t=this.em;e.get("script")&&t&&t.get("Canvas").getCanvasView().updateScript(this)},getChildrenContainer:function(){var e=this.el;return"function"==typeof this.getChildrenSelector?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},getOffsetRect:function(){var i={},r=this.el,o=0,s=0;return function e(t){var n=t.offsetParent;n?(o+=n.offsetTop,s+=n.offsetLeft,e(n)):(i.top=r.offsetTop+o,i.left=r.offsetLeft+s,i.bottom=i.top+r.offsetHeight,i.right=i.left+r.offsetWidth)}(r),i},isInViewport:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).rect,n=this.el.ownerDocument,i=n.body,r=n.defaultView.frameElement,o=t||this.getOffsetRect(),s=o.top,a=o.left,l=this._getFrame().getOffsetRect();return s>=l.scrollTop&&a>=l.scrollLeft&&s<=l.scrollBottom&&a<=r.offsetWidth+i.scrollLeft},scrollIntoView:function(e){var t,n=0<arguments.length&&void 0!==e?e:{},i=this.getOffsetRect();this.isInViewport({rect:i})&&!n.force||(t=this.el,"smooth"!==n.behavior?t.ownerDocument.defaultView.scrollTo(0,i.top):t.scrollIntoView(p({behavior:"smooth",block:"nearest"},n)))},reset:function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),Object(u.replaceWith)(e,this.el),this.render()},_setData:function(){var e=this.model,t=e.components();this.$el.data({model:e,collection:t,view:this})},_getFrame:function(){return this.config.frameView},renderChildren:function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new l.default({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var n=Array.prototype.slice.call(t.el.childNodes),i=0,r=n.length;i<r;i++)e.appendChild(n.shift())},renderAttributes:function(){this.updateAttributes(),this.updateClasses()},render:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),Object(h.setViewEl)(this.el,this),this.postRender()),this},postRender:function(){var e=this.em,t=this.model;this.modelOpt.temporary||(this.onRender(this._clbObj()),e&&e.trigger("component:mount",t))},onRender:function(){}})},"./src/dom_components/view/ComponentsView.js":function(e,t,b){"use strict";b.r(t);var n=b("./node_modules/backbone/backbone.js"),i=b.n(n),y=b("./node_modules/underscore/underscore.js");t.default=i.a.View.extend({initialize:function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},removeChildren:function(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:{};e.views.forEach(function(e){var t,n;e&&(t=e.childrenView,n=e.scriptContainer,t&&t.stopListening(),n&&n.remove(),e.remove.apply(e))}),e.components().forEach(function(e){return i.removeChildren(e,t,r)})},addTo:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=this.config.em,o=this.collection.indexOf(e);this.addToCollection(e,null,o),r&&!i.temporary&&function e(t){r.trigger("component:add",t),t.components().forEach(e)}(e)},addToCollection:function(e,t,n){this.compView||(this.compView=b("./src/dom_components/view/ComponentView.js").default);for(var i=this.config,r=this.opts,o=this.em,s=t||null,a=i.frameView,l=void 0===a?{}:a,c=l.model&&e.getView(l.model),u=r.componentTypes||o&&o.get("DomComponents").getTypes(),h=e.get("type"),d=this.compView,f=0;f<u.length;f++)if(u[f].id==h){d=u[f].view;break}var p,g,m,v=(c||new d({model:e,config:i,componentTypes:u})).render().el;return s?s.appendChild(v):(g=(p=this.parentEl).childNodes,Object(y.isUndefined)(n)?p.appendChild(v):((m=g.length==n)&&n--,m||!g.length?p.appendChild(v):p.insertBefore(v,g[n]))),v},resetChildren:function(e,t){var n=this,i=(1<arguments.length&&void 0!==t?t:{}).previousModels,r=void 0===i?[]:i;this.parentEl.innerHTML="",r.forEach(function(e){return n.removeChildren(e,n.collection)}),e.each(function(e){return n.addToCollection(e)})},render:function(e){var t=this,n=this.el,i=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(e){return t.addToCollection(e,i)}),n.innerHTML="",n.appendChild(i),this}})},"./src/dom_components/view/ToolbarButtonView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),r=n("./node_modules/backbone/backbone.js"),o=n.n(r);function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.a.View.extend({events:function(){return this.model.get("events")||{mousedown:"handleClick"}},attributes:function(){return this.model.get("attributes")},initialize:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).config,n=void 0===t?{}:t;this.em=n.em,this.editor=n.editor},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.editor,n=this.em,i=t.Canvas.getFrameEl().getBoundingClientRect(),r=i.left,o=i.top,s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e,{clientX:e.clientX-r,clientY:e.clientY-o});n.trigger("toolbar:run:before"),this.execCommand(s)},execCommand:function(e){var t={event:e},n=this.model.get("command"),i=this.editor;"function"==typeof n&&n(i,null,t),"string"==typeof n&&i.runCommand(n,t)},render:function(){var e=this.editor,t=this.$el,n=this.model,i=n.get("id"),r=n.get("label"),o=e.getConfig("stylePrefix");return t.addClass("".concat(o,"toolbar-item")),i&&t.addClass("".concat(o,"toolbar-item__").concat(i)),r&&t.append(r),this}})},"./src/dom_components/view/ToolbarView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/domain_abstract/view/DomainViews.js"),r=n("./src/dom_components/view/ToolbarButtonView.js");t.default=i.default.extend({itemView:r.default,initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config={editor:t.editor||"",em:t.em},this.listenTo(this.collection,"reset",this.render)}})},"./src/domain_abstract/model/Styleable.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),c=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js"),o=n("./src/parser/model/ParserHtml.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=Object(o.default)().parseStyle;t.default={parseStyle:h,extendStyle:function(e){return u({},this.getStyle(),{},e)},getStyle:function(){return u({},this.get("style")||{})},setStyle:function(e,t){var n=this,i=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};Object(c.isString)(i)&&(i=h(i));var o=this.getStyle(),s=u({},i);this.set("style",s,r);var a=Object(l.shallowDiff)(o,s);return Object(c.keys)(a).forEach(function(e){var t=n.em;n.trigger("change:style:".concat(e)),t&&(t.trigger("styleable:change",n,e),t.trigger("styleable:change:".concat(e),n,e))}),s},addStyle:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length&&void 0!==n?n:{};"string"==typeof e?e={prop:i}:r=i||{},e=this.extendStyle(e),this.setStyle(e,r)},removeStyle:function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},styleToString:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=[],i=this.getStyle();for(var r in i){var o=t.important,s=Object(c.isArray)(o)?0<=o.indexOf(r):o,a="".concat(i[r]).concat(s?" !important":""),l="__"==r.substr(0,2);a&&!l&&n.push("".concat(r,":").concat(a,";"))}return n.join("")},getSelectors:function(){return this.get("selectors")||this.get("classes")},getSelectorsString:function(){return this.selectorsToString?this.selectorsToString():this.getSelectors().getFullString()}}},"./src/domain_abstract/model/TypeableCollection.js":function(e,t,n){"use strict";n.r(t);var c=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),r=n.n(i),u=r.a.Model,h=r.a.View;t.default={types:[],initialize:function(){var l=this;this.model=function(){var e,t,n,i,r,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};o&&o.type?(e=l.getBaseType(),n=(t=l.getType(o.type))?t.model:e.model,i=t?t.view:e.view):(n=(t=(r=l.recognizeType(o)).type).model,i=t.view,o=r.attributes);var a=new n(o,s);return a.typeView=i,a};var e=this.init&&this.init.bind(this);e&&e()},recognizeType:function(e){for(var t=this.getTypes(),n=0;n<t.length;n++){var i=t[n],r=i.isType(e);if(r="boolean"==typeof r&&r?{type:i.id}:r)return{type:i,attributes:r}}return{type:this.getBaseType(),attributes:e}},getBaseType:function(){var e=this.getTypes();return e[e.length-1]},getTypes:function(){return this.types},getType:function(e){for(var t=this.getTypes(),n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}},addType:function(t,e){var n=this.getType(t),i=this.getBaseType(),r=n?n.model:i.model,o=n?n.view:i.view,s=e.model,a=e.view,l=e.isType,s=s instanceof u||Object(c.isFunction)(s)?s:r.extend(s||{}),a=a instanceof h||Object(c.isFunction)(a)?a:o.extend(a||{});n?(n.model=s,n.view=a,n.isType=l||n.isType):(e.id=t,e.model=s,e.view=a,e.isType=l||function(e){if(e&&e.type==t)return!0},this.getTypes().unshift(e))}}},"./src/domain_abstract/ui/Input.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=r.a.$;t.default=r.a.View.extend({events:{change:"handleChange"},template:function(){return'<span class="'.concat(this.holderClass(),'"></span>')},inputClass:function(){return"".concat(this.ppfx,"field")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.ppfx||"";this.opts=t,this.ppfx=n,this.em=t.target||{},this.listenTo(this.model,"change:value",this.handleModelChange)},elementUpdated:function(){this.model.trigger("el:change")},setValue:function(e){var t=this.model,n=e||t.get("defaults"),i=this.getInputEl();i&&(i.value=n)},handleModelChange:function(e,t,n){this.setValue(t,n)},handleChange:function(e){e.stopPropagation();var t=this.getInputEl().value;this.model.set({value:t},{fromInput:1}),this.elementUpdated()},getInputEl:function(){var e,t;return this.inputEl||(t=(e=this.model).get("placeholder")||e.get("defaults")||"",this.inputEl=o('<input type="text" placeholder="'.concat(t,'">'))),this.inputEl.get(0)},render:function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this}})},"./src/domain_abstract/ui/InputColor.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(i),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),l=n("./node_modules/underscore/underscore.js"),s=n("./src/utils/ColorPicker.js"),a=n("./src/domain_abstract/ui/Input.js");function d(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var f=o.a.$;Object(s.default)(f),t.default=a.default.extend({template:function(){var e=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(e,'field-colorp">\n        <div class="').concat(e,'field-colorp-c" data-colorp-c>\n          <div class="').concat(e,'checker-bg"></div>\n        </div>\n      </div>\n    ')},inputClass:function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},setValue:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.model.get("defaults"),r=Object(l.isUndefined)(e)?Object(l.isUndefined)(i)?"":i:e,o=this.getInputEl(),s=this.getColorEl(),a="none"!=r?r:"";o.value=r,s.get(0).style.backgroundColor=a,(n.fromTarget||n.fromInput&&!n.avoidStore)&&(s.spectrum("set",a),this.noneColor="none"==r)},getColorEl:function(){var e,n,t,i,r,o,s,a,l,c,u;return this.colorEl||(e=this.em,t=(n=this).ppfx,i=this.model,r=f('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),o=r.get(0).style,s=e&&e.config?e.config.el:"",a=e&&e.getConfig&&e.getConfig("colorPicker")||{},l=function(e){return(1==e.getAlpha()?e.toHexString():e.toRgbString()).replace(/ /g,"")},c=0,this.$el.find("[data-colorp-c]").append(r),r.spectrum(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({containerClassName:"".concat(t,"one-bg ").concat(t,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"â¨¯",palette:[]},a,{move:function(e){var t=l(e);o.backgroundColor=t,i.setValueFromInput(t,0)},change:function(e){c=1;var t=l(e);o.backgroundColor=t,i.setValueFromInput(0,0),i.setValueFromInput(t),n.noneColor=0},show:function(e){c=0,u=l(e)},hide:function(){!c&&u&&(n.noneColor&&(u=""),o.backgroundColor=u,r.spectrum("set",u),i.setValueFromInput(u,0))}})),e&&e.on&&e.on("component:selected",function(){c=1,r.spectrum("hide")}),this.colorEl=r),this.colorEl},render:function(){return a.default.prototype.render.call(this),this.getColorEl(),this}})},"./src/domain_abstract/ui/InputNumber.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),p=n("./node_modules/underscore/underscore.js"),o=n("./src/utils/mixins.js"),s=n("./src/domain_abstract/ui/Input.js");r.a.$;t.default=s.default.extend({events:{"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement"},template:function(){var e=this.ppfx;return'\n      <span class="'.concat(e,'input-holder"></span>\n      <span class="').concat(e,'field-units"></span>\n      <div class="').concat(e,'field-arrows" data-arrows>\n        <div class="').concat(e,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(e,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},inputClass:function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},initialize:function(e){s.default.prototype.initialize.apply(this,arguments),Object(p.bindAll)(this,"moveIncrement","upIncrement"),this.doc=document,this.listenTo(this.model,"change:unit",this.handleModelChange)},setValue:function(e,t){var n=t||{},i=this.validateInputValue(e,{deepCheck:1}),r={value:i.value};(i.unit||i.force)&&(r.unit=i.unit),this.model.set(r,n),n.silent&&this.handleModelChange()},handleChange:function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},handleUnitChange:function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},elementUpdated:function(){this.model.trigger("el:change")},handleModelChange:function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},getUnitEl:function(){var n,e,i,t;return this.unitEl||(e=(n=this.model).get("units")||[]).length&&(i=[],e.forEach(function(e){var t=e==n.get("unit")?"selected":"";i.push("<option ".concat(t,">").concat(e,"</option>"))}),(t=document.createElement("div")).innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(i.join(""),"</select>"),this.unitEl=t.firstChild),this.unitEl},upArrowClick:function(){var e=this.model,t=e.get("step"),n=parseInt(e.get("value"),10),n=this.normalizeValue(n+t),i=this.validateInputValue(n);e.set("value",i.value),this.elementUpdated()},downArrowClick:function(){var e=this.model,t=e.get("step"),n=parseInt(e.get("value"),10),i=this.normalizeValue(n-t),r=this.validateInputValue(i);e.set("value",r.value),this.elementUpdated()},downIncrement:function(e){e.preventDefault(),this.moved=0;var t=this.model.get("value"),t=this.normalizeValue(t);this.current={y:e.pageY,val:t},Object(o.on)(this.doc,"mousemove",this.moveIncrement),Object(o.on)(this.doc,"mouseup",this.upIncrement)},moveIncrement:function(e){this.moved=1;var t=this.model,n=t.get("step"),i=this.current,r=this.normalizeValue(i.val+(i.y-e.pageY)*n);return this.prValue=this.validateInputValue(r).value,t.set("value",this.prValue,{avoidStore:1}),!1},upIncrement:function(){var e,t=this.model,n=t.get("step");Object(o.off)(this.doc,"mouseup",this.upIncrement),Object(o.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved&&(e=this.prValue-n,t.set("value",e,{avoidStore:1}).set("value",e+n),this.elementUpdated())},normalizeValue:function(e,t){var n,i=1<arguments.length&&void 0!==t?t:0,r=this.model.get("step"),o=0;return isNaN(e)?i:(e=parseFloat(e),Math.floor(e)!==e&&(o=(n=r.toString().split(".")[1])?n.length:0),o?parseFloat(e.toFixed(o)):e)},validateInputValue:function(e,t){var n,i,r,o,s=0,a=t||{},l=this.model,c=Object(p.isUndefined)(e)?"":e,u=l.get("units")||[],h=l.get("unit")||u.length&&u[0]||"",d=l.get("max"),f=l.get("min");return a.deepCheck&&(n=l.get("fixedValues")||[],c&&(i=new RegExp("^"+n.join("|"),"g"),n.length&&i.test(c)?(c=c.match(i)[0],h="",s=1):(r=c+"",c+="",c=parseFloat(c.replace(",",".")),c=isNaN(c)?"":c,o=r.replace(c,""),0<=Object(p.indexOf)(u,o)&&(h=o)))),Object(p.isUndefined)(d)||""===d||(c=d<c?d:c),Object(p.isUndefined)(f)||""===f||(c=c<f?f:c),{force:s,value:c,unit:h}},render:function(){s.default.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this}})},"./src/domain_abstract/view/DomainViews.js":function(e,t,n){"use strict";n.r(t);var d=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.View.extend({itemView:"",itemsView:"",itemType:"type",autoAdd:0,initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length?t:void 0;this.config=i||n.config||{},this.autoAdd&&this.listenTo(this.collection,"add",this.addTo),this.items=[],this.init()},init:function(){},addTo:function(e){this.add(e)},itemViewNotFound:function(e){var t=this.config,n=this.ns,i=t.em,r="".concat(n?"[".concat(n,"]: "):"","'").concat(e,"' type not found");i&&i.logWarning(r)},add:function(e,t){var n,i=this.config,r=this.reuseView,o=this.items,s=this.itemsView,a=void 0===s?{}:s,l=t||null,c=this.itemView,u=e.get(this.itemType);a[u]?c=a[u]:!u||a[u]||Object(d.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],u)||this.itemViewNotFound(u),n=e.view&&r?e.view:new c({model:e,config:i},i),o&&o.push(n);var h=n.render().el;l?l.appendChild(h):this.$el.append(h)},render:function(){var t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(e){this.add(e,t)},this),this.$el.append(t),this.onRender(),this},onRender:function(){},remove:function(){this.clearItems(),r.a.View.prototype.remove.apply(this,arguments)},clearItems:function(){this.items}})},"./src/editor/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"gjs-",components:"",style:"",fromElement:0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"\n    * {\n      box-sizing: border-box;\n    }\n    html, body, [data-gjs-type=wrapper] {\n      min-height: 100%;\n    }\n    body {\n      margin: 0;\n      height: 100%;\n      background-color: #fff\n    }\n    [data-gjs-type=wrapper] {\n      overflow: auto;\n      overflow-x: hidden;\n    }\n\n    * ::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.1)\n    }\n\n    * ::-webkit-scrollbar-thumb {\n      background: rgba(255, 255, 255, 0.2)\n    }\n\n    * ::-webkit-scrollbar {\n      width: 10px\n    }\n  ",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:1,allowScripts:0,showDevices:1,devicePreviewMode:0,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:0,jsInHtml:!0,nativeDnD:1,multipleSelection:1,exportWrapper:0,wrapperIsBody:1,avoidInlineStyle:1,avoidDefaults:1,clearStyles:0,dragMode:0,cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"768px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},styleManager:{sectors:[{name:"General",open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:"Flex",open:!1,buildProps:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:"Decorations",open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]}]},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:0,multiFrames:0}},"./src/editor/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),s=n("./node_modules/cash-dom/dist/cash.esm.js"),a=n("./src/editor/config/config.js"),l=n("./src/editor/model/Editor.js"),c=n("./src/editor/view/EditorView.js");function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=u({},a.default,{},e);i.pStylePrefix=i.stylePrefix;var r=new l.default(i),o=new c.default({model:r,config:i});return{$:s.default,editor:r,init:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};return r.init(this,u({},i,{},n)),["I18n","Utils","Config","Commands","Keymaps","Modal","Panels","Canvas","Parser","CodeManager","UndoManager","RichTextEditor","DomComponents",["Components","DomComponents"],"LayerManager",["Layers","LayerManager"],"CssComposer",["Css","CssComposer"],"StorageManager",["Storage","StorageManager"],"AssetManager",["Assets","AssetManager"],"BlockManager",["Blocks","BlockManager"],"TraitManager",["Traits","TraitManager"],"SelectorManager",["Selectors","SelectorManager"],"StyleManager",["Styles","StyleManager"],"DeviceManager",["Devices","DeviceManager"]].forEach(function(e){Array.isArray(e)?t[e[0]]=r.get(e[1]):t[e]=r.get(e)}),r.on("loaded",function(){t.UndoManager.clear(),r.get("modules").forEach(function(e){e.postRender&&e.postRender(o)})}),this},getConfig:function(e){return r.getConfig(e)},getHtml:function(e){return r.getHtml(e)},getCss:function(e){return r.getCss(e)},getJs:function(){return r.getJs()},getComponents:function(){return r.get("DomComponents").getComponents()},getWrapper:function(){return r.get("DomComponents").getWrapper()},setComponents:function(e){return r.setComponents(e),this},addComponents:function(e,t){return this.getWrapper().append(e,t)},getStyle:function(){return r.get("CssComposer").getAll()},setStyle:function(e){return r.setStyle(e),this},getSelected:function(){return r.getSelected()},getSelectedAll:function(){return r.getSelectedAll()},getSelectedToStyle:function(){var e=r.getSelected();if(e)return this.StyleManager.getModelToStyle(e)},select:function(e,t){return r.setSelected(e,t),this},selectAdd:function(e){return r.addSelected(e),this},selectRemove:function(e){return r.removeSelected(e),this},selectToggle:function(e){return r.toggleSelected(e),this},setDevice:function(e){return r.set("device",e),this},getDevice:function(){return r.get("device")},runCommand:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return r.get("Commands").run(e,n)},stopCommand:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return r.get("Commands").stop(e,n)},store:function(e){return r.store(e)},load:function(e){return r.load(e)},getContainer:function(){return i.el},getDirtyCount:function(){return r.getDirtyCount()},refresh:function(){r.refreshCanvas()},setCustomRte:function(e){this.RichTextEditor.customRte=e},setCustomParserCss:function(e){return this.Parser.getConfig().parserCss=e,this},setDragMode:function(e){return r.setDragMode(e),this},log:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return r.log(e,n),this},t:function(){return r.t.apply(r,arguments)},on:function(e,t){return r.on(e,t),this},once:function(e,t){return r.once(e,t),this},off:function(e,t){return r.off(e,t),this},trigger:function(e){return r.trigger.apply(r,arguments),this},destroy:function(){return r.destroyAll()},getEl:function(){return o.el},getModel:function(){return r},render:function(){return o.render(),o.el}}}},"./src/editor/model/Editor.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),l=n("./node_modules/underscore/underscore.js"),d=n("./node_modules/cash-dom/dist/cash.esm.js"),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),a=n("./src/utils/extender.js"),c=n("./src/utils/mixins.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}s.a.$=d.default;var f,p,g=[n("./src/utils/index.js"),n("./src/i18n/index.js"),n("./src/keymaps/index.js"),n("./src/undo_manager/index.js"),n("./src/storage_manager/index.js"),n("./src/device_manager/index.js"),n("./src/parser/index.js"),n("./src/selector_manager/index.js"),n("./src/style_manager/index.js"),n("./src/modal_dialog/index.js"),n("./src/code_manager/index.js"),n("./src/panels/index.js"),n("./src/rich_text_editor/index.js"),n("./src/asset_manager/index.js"),n("./src/css_composer/index.js"),n("./src/trait_manager/index.js"),n("./src/dom_components/index.js"),n("./src/navigator/index.js"),n("./src/canvas/index.js"),n("./src/commands/index.js"),n("./src/block_manager/index.js")],m=s.a.Collection;Object(a.default)({Backbone:s.a,$:s.a.$});var v={debug:console.log,info:console.info,warning:console.warn,error:console.error};t.default=s.a.Model.extend({defaults:function(){return{editing:0,selected:new m,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},initialize:function(e){var o=this,t=0<arguments.length&&void 0!==e?e:{};this.config=t,this.set("Config",t),this.set("modules",[]),this.set("toLoad",[]),this.set("storables",[]),this.set("selected",new m),this.set("dmode",t.dragMode);var n=t.el,i=t.log,r=!0===i?Object(l.keys)(v):Object(l.isArray)(i)?i:[];Object(l.bindAll)(this,"initBaseColorPicker"),n&&t.fromElement&&(this.config.components=n.innerHTML),this.attrsOrig=n?Object(l.toArray)(n.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{}):"",g.forEach(function(e){return o.loadModule(e)}),this.on("change:componentHovered",this.componentHovered,this),this.on("change:changesCount",this.updateChanges,this),r.forEach(function(e){return o.listenLog(e)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(e){var i=e.from,r=e.to;o.listenTo(o,i,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.trigger.apply(o,[r].concat(t)),o.logWarning("The event '".concat(i,"' is deprecated, replace it with '").concat(r,"'"))})})},getContainer:function(){return this.config.el},listenLog:function(e){this.listenTo(this,"log:".concat(e),v[e])},getConfig:function(e){var t=this.config;return Object(l.isUndefined)(e)?t:t[e]},loadOnStart:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:null,i=this.get("StorageManager");this.get("toLoad").forEach(function(e){e.onLoad()});function r(){t.get("modules").forEach(function(e){return e.postLoad&&e.postLoad(t)}),n&&n()}i&&i.canAutoload()?this.load(r):r()},updateChanges:function(){var e=this,t=this.get("StorageManager"),n=this.get("changesCount");p&&clearTimeout(p),p=setTimeout(function(){return e.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=n?function(e){return 1}:null),t.isAutosave()&&n>=t.getStepsBeforeSave()&&this.store()},loadModule:function(e){var t,n=this.config,i=new(e.default||e),r=i.name.charAt(0).toLowerCase()+i.name.slice(1),o=Object(l.isUndefined)(n[r])?n[i.name]:n[r],s=o||{},a=this.get("StorageManager");return s.pStylePrefix=n.pStylePrefix||"",Object(l.isUndefined)(o)||o||(s._disable=1),i.storageKey&&i.store&&i.load&&a&&(s.stm=a,t="domComponents"==r?"unshift":"push",this.get("storables")[t](i)),s.em=this,i.init(h({},s)),i.private||this.set(i.name,i),i.onLoad&&this.get("toLoad").push(i),this.get("modules").push(i),this},init:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.destroyed&&(this.initialize(n),this.destroyed=0),this.set("Editor",e)},getEditor:function(){return this.get("Editor")},handleUpdates:function(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:{};r.temporary||(f&&clearInterval(f),f=setTimeout(function(){r.avoidStore||i.set("changesCount",i.get("changesCount")+1,r)},0))},componentHovered:function(e,t,n){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,n),t&&this.trigger("component:hovered",t,n)},getSelected:function(){return this.get("selected").last()},getSelectedAll:function(){return this.get("selected").models},setSelected:function(e,t){var n=this,i=1<arguments.length&&void 0!==t?t:{},r=Object(l.isArray)(e),o=r?e:[e],s=this.get("selected");r&&this.removeSelected(s.filter(function(e){return!Object(l.contains)(o,e)})),o.forEach(function(e){var t=Object(c.getModel)(e,d.default);t&&!t.get("selectable")||(r||n.removeSelected(s.filter(function(e){return e!==t})),n.addSelected(t,i),0)})},addSelected:function(e,t){var n=this,i=1<arguments.length&&void 0!==t?t:{},r=Object(c.getModel)(e,d.default);(Object(l.isArray)(r)?r:[r]).forEach(function(e){var t;e&&!e.get("selectable")||(t=n.get("selected"),i.forceChange&&t.remove(e,i),t.push(e,i))})},removeSelected:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.get("selected").remove(Object(c.getModel)(e,d.default),n)},toggleSelected:function(e,t){var n=this,i=1<arguments.length&&void 0!==t?t:{},r=Object(c.getModel)(e,d.default);(Object(l.isArray)(r)?r:[r]).forEach(function(e){n.get("selected").contains(e)?n.removeSelected(e,i):n.addSelected(e,i)})},setHovered:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=Object(c.getModel)(e,d.default);i&&!i.get("hoverable")||(n.forceChange&&this.set("componentHovered",""),this.set("componentHovered",i,n))},getHovered:function(){return this.get("componentHovered")},setComponents:function(e){return this.get("DomComponents").setComponents(e)},getComponents:function(){var e=this.get("DomComponents"),t=this.get("CodeManager");if(e&&t){var n=e.getComponents();return t.getCode(n,"json")}},setStyle:function(e){for(var t=this.get("CssComposer").getAll(),n=0,i=t.length;n<i;n++)t.pop();return t.add(e),this},getStyle:function(){return this.get("CssComposer").getAll()},setState:function(e){return this.set("state",e),this},getState:function(){return this.get("state")},getHtml:function(){var e=this.config,t=e.exportWrapper,n=e.wrapperIsBody,i=e.jsInHtml?this.getJs():"",r=this.get("DomComponents").getComponent(),o=this.get("CodeManager").getCode(r,"html",{exportWrapper:t,wrapperIsBody:n});return o+=i?"<script>".concat(i,"<\/script>"):""},getCss:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.config,i=n.wrapperIsBody,r=t.avoidProtected,o=Object(l.isUndefined)(t.keepUnusedStyles)?n.keepUnusedStyles:t.keepUnusedStyles,s=this.get("CssComposer"),a=this.get("DomComponents").getComponent();return(r?"":n.protectedCss)+this.get("CodeManager").getCode(a,"css",{cssc:s,wrapperIsBody:i,keepUnusedStyles:o})},getJs:function(){var e=this.get("DomComponents").getWrapper();return this.get("CodeManager").getCode(e,"js").trim()},store:function(t){var n=this,e=this.get("StorageManager"),i={};if(e)return this.get("storables").forEach(function(e){var t=e.store(1);for(var n in t)i[n]=t[n]}),e.store(i,function(e){t&&t(e),n.set("changesCount",0),n.trigger("storage:store",i)}),i},load:function(e){var n=this,i=0<arguments.length&&void 0!==e?e:null;this.getCacheLoad(1,function(t){n.get("storables").forEach(function(e){return e.load(t)}),i&&i(t)})},getCacheLoad:function(e,t){var n=this;if(this.cacheLoad&&!e)return this.cacheLoad;var i=this.get("StorageManager"),r=[];if(!i)return{};this.get("storables").forEach(function(e){var t=e.storageKey,t=Object(l.isFunction)(t)?t():t;(Object(l.isArray)(t)?t:[t]).forEach(function(e){return r.push(e)})}),i.load(r,function(e){n.cacheLoad=e,t&&t(e),setTimeout(function(){return n.trigger("storage:load",e)})})},getDeviceModel:function(){var e=this.get("device");return this.get("DeviceManager").get(e)},runDefault:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.get("Commands").get(this.config.defaultCommand);n&&!this.defaultRunning&&(n.stop(this,this,t),n.run(this,this,t),this.defaultRunning=1)},stopDefault:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.get("Commands").get(this.config.defaultCommand);n&&(n.stop(this,this,t),this.defaultRunning=0)},refreshCanvas:function(){this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset())},clearSelection:function(e){(e||window).getSelection().removeAllRanges()},getCurrentMedia:function(){var e=this.config,t=this.getDeviceModel(),n=e.mediaCondition,i=e.devicePreviewMode,r=t&&t.get("widthMedia");return t&&r&&!i?"(".concat(n,": ").concat(r,")"):""},getWrapper:function(){return this.get("DomComponents").getWrapper()},setCurrentFrame:function(e){return this.set("currentFrame",e)},getCurrentFrame:function(){return this.get("currentFrame")},getCurrentFrameModel:function(){return(this.getCurrentFrame()||{}).model},getDirtyCount:function(){return this.get("changesCount")},getZoomDecimal:function(){return this.get("Canvas").getZoomDecimal()},getZoomMultiplier:function(){return this.get("Canvas").getZoomMultiplier()},setDragMode:function(e){return this.set("dmode",e)},t:function(){var e;return(e=this.get("I18n")).t.apply(e,arguments)},inAbsoluteMode:function(){return"absolute"===this.get("dmode")},destroyAll:function(){var e=this.config,t=this.getEditor(),n=(e.grapesjs||{}).editors,i=void 0===n?[]:n,r=this.attributes,o=r.DomComponents,s=r.CssComposer,a=r.UndoManager,l=r.Panels,c=r.Canvas,u=r.Keymaps,h=r.RichTextEditor;this.stopDefault(),o.clear(),s.clear(),a.clear().removeAll(),l.getPanels().reset(),c.getCanvasView().remove(),u.removeAll(),h.destroy(),this.view.remove(),this.stopListening(),this.clear({silent:!0}),this.destroyed=1,i.splice(i.indexOf(t),1),Object(d.default)(e.el).empty().attr(this.attrsOrig)},setEditing:function(e){return this.set("editing",e),this},isEditing:function(){return!!this.get("editing")},log:function(e,t){var n,i=1<arguments.length&&void 0!==t?t:{},r=i.ns,o=i.level,s=void 0===o?"debug":o;this.trigger("log",e,i),s&&this.trigger("log:".concat(s),e,i),r&&(n="log-".concat(r),this.trigger(n,e,i),s&&this.trigger("".concat(n,":").concat(s),e,i))},logInfo:function(e,t){this.log(e,h({},t,{level:"info"}))},logWarning:function(e,t){this.log(e,h({},t,{level:"warning"}))},logError:function(e,t){this.log(e,h({},t,{level:"error"}))},initBaseColorPicker:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.getConfig(),r=i.colorPicker,o=void 0===r?{}:r,s=i.el,a=i.stylePrefix;return Object(d.default)(e).spectrum(h({containerClassName:"".concat(a,"one-bg ").concat(a,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"â¨¯"},n,{},o))},data:function(e,t,n){var i="_gjs-data";if(e[i]||(e[i]={}),Object(l.isUndefined)(n))return e[i][t];e[i][t]=n}})},"./src/editor/view/EditorView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/utils/mixins.js"),s=r.a.$;t.default=r.a.View.extend({initialize:function(){var e=this,t=this.model;(t.view=this).conf=t.config,this.pn=t.get("Panels"),this.cv=t.get("Canvas"),t.on("loaded",function(){e.pn.active(),e.pn.disableButtons(),setTimeout(function(){t.runDefault(),t.trigger("load",t.get("Editor"))})})},render:function(){this.model;var e=this.$el,t=this.conf,n=t.stylePrefix,i=s(t.el||"body ".concat(t.container));return Object(o.appendStyles)(t.cssIcons,{unique:1,prepand:1}),e.empty(),t.width&&i.css("width",t.width),t.height&&i.css("height",t.height),e.append(this.cv.render()),e.append(this.pn.render()),e.attr("class","".concat(n,"editor ").concat(n,"one-bg ").concat(n,"two-color")),i.addClass("".concat(n,"editor-cont")).empty().append(e),this}})},"./src/i18n/config.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/i18n/locale/en.js");t.default={locale:"en",localeFallback:"en",detectLocale:1,debug:0,messages:{en:i.default}}},"./src/i18n/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/@babel/runtime/helpers/typeof.js"),s=n.n(o),l=n("./node_modules/underscore/underscore.js"),a=n("./src/i18n/config.js");function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function h(e){return!Array.isArray(e)&&null!==e&&"object"===s()(e)}t.default=function(){return{name:"I18n",config:a.default,init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.config=u({},a.default,{},t,{messages:u({},a.default.messages,{},t.messages||{})}),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=t.em,this},getConfig:function(){return this.config},setLocale:function(e){var t=this.em,n=this.config,i={value:e,valuePrev:n.locale};return t&&t.trigger("i18n:locale",i),n.locale=e,this},getLocale:function(){return this.config.locale},getMessages:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.config.messages;return e&&!i[e]&&this._debug("'".concat(e,"' i18n lang not found"),n),e?i[e]:i},setMessages:function(e){var t=this.em;return this.config.messages=e,t&&t.trigger("i18n:update",e),this},addMessages:function(e){var t=this.em,n=this.config.messages;return t&&t.trigger("i18n:add",e),this.setMessages(function e(t){for(var n=u({},arguments.length<=0?void 0:t),i=1;i<arguments.length;i++){var r=u({},i<0||arguments.length<=i?void 0:arguments[i]);for(var o in r){var s=n[o],a=r[o];h(s)&&h(a)?n[o]=e(s,a):n[o]=a}}return n}(n,e)),this},t:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.config,r=n.params||{},o=n.l||this.getLocale(),s=n.lFlb||i.localeFallback,a=this._getMsg(e,o,n);return(a=a||this._getMsg(e,s,n))||this._debug("'".concat(e,"' i18n key not found in '").concat(o,"' lang"),n),a=a&&Object(l.isString)(a)?this._addParams(a,r):a},_localLang:function(){var e=window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},_addParams:function(e,n){var t=new RegExp("{([\\w\\d-]*)}","g");return e.replace(t,function(e,t){return n[t]||""}).trim()},_getMsg:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=this.getMessages(t,i);if(r){var o=r[e];return!o&&0<e.indexOf(".")&&(o=e.split(".").reduce(function(e,t){if(!Object(l.isUndefined)(e))return e[t]},r)),o}},_debug:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.em,r=this.config;(n.debug||r.debug)&&i&&i.logWarning(e)}}}},"./src/i18n/locale/en.js":function(e,t,n){"use strict";n.r(t);var i={placeholder:"eg. Text here"};t.default={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:i,alt:i,title:i,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}}}},"./src/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),r=n("./node_modules/cash-dom/dist/cash.esm.js"),a=n("./src/editor/index.js"),l=n("./node_modules/underscore/underscore.js"),o=n("./src/utils/polyfills.js"),c=n("./src/plugin_manager/index.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}Object(o.default)();var h=new c.default,d=[],f={autorender:1,plugins:[],pluginsOpts:{}};t.default={$:r.default,editors:d,plugins:h,version:"0.16.12",init:function(e){var r=0<arguments.length&&void 0!==e?e:{},t=r.container;if(!t)throw new Error("'container' is required");(r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},f,{},r,{grapesjs:this})).el=Object(l.isElement)(t)?t:document.querySelector(t);var o=new a.default(r).init();return r.plugins.forEach(function(e){var t,n=h.get(e),i=r.pluginsOpts[e]||{};n||(n=(t=window[e])&&t.default?t.default:t),n?n(o,i):Object(l.isFunction)(e)?e(o,i):console.warn("Plugin ".concat(e," not found"))}),o.getModel().loadOnStart(),r.autorender&&o.render(),d.push(o),o}}},"./src/keymaps/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/typeof.js"),d=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),f=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/keymaster/keymaster.js"),p=n.n(s);function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){var t,i,h={},n={defaults:{"core:undo":{keys:"â+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"â+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"â+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"â+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete"}}};return{keymaster:p.a,name:"Keymaps",getConfig:function(){return i},init:function(e){return i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n,{},0<arguments.length&&void 0!==e?e:{}),t=i.em,this.em=t,this},onLoad:function(){var e=i.defaults;for(var t in e){var n=e[t];this.add(t,n.keys,n.handler)}},add:function(r,e,o,t){var s=3<arguments.length&&void 0!==t?t:{},a=this.em,l=a.get("Commands"),c=a.getEditor(),u=a.get("Canvas"),n={id:r,keys:e,handler:o};return h[r]&&this.remove(r),h[r]=n,p()(e,function(e,t){var n,i={event:e,h:t};o=Object(f.isString)(o)?l.get(o):o,s.prevent&&u.getCanvasView().preventDefault(e),(a.isEditing()||c.Canvas.isInputFocused())&&!s.force||("object"==d()(o)?o.run(c,0,i):o(c,0,i),n=[r,t.shortcut,e],a.trigger.apply(a,["keymap:emit"].concat(n)),a.trigger.apply(a,["keymap:emit:".concat(r)].concat(n)))}),a.trigger("keymap:add",n),n},get:function(e){return h[e]},getAll:function(){return h},remove:function(e){var t=this.em,n=this.get(e);if(n)return delete h[e],p.a.unbind(n.keys),t&&t.trigger("keymap:remove",n),n},removeAll:function(){var t=this;return Object.keys(h).forEach(function(e){return t.remove(e)}),this}}}},"./src/modal_dialog/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"mdl-",title:"",content:"",backdrop:!0}},"./src/modal_dialog/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),l=n("./src/modal_dialog/config/config.js"),c=n("./src/modal_dialog/model/Modal.js"),u=n("./src/modal_dialog/view/ModalView.js");function h(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){var i,o,s={};return{name:"Modal",getConfig:function(){return s},init:function(e){var t=0<arguments.length&&void 0!==e?e:{},r=(s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},l.default,{},t)).em;this.em=r;var n=s.pStylePrefix;return n&&(s.stylePrefix=n+s.stylePrefix),(i=new c.default(s)).on("change:open",function(e,t){return n=t,void((i=r)&&i.trigger("modal:".concat(n?"open":"close")));var n,i}),o=new u.default({model:i,config:s}),this},postRender:function(e){var t=e.model.getConfig().el||e.el;this.render().appendTo(t)},open:function(e){var t=0<arguments.length&&void 0!==e?e:{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),o.show(),this},close:function(){return o.hide(),this},onceClose:function(e){return this.em.once("modal:close",e),this},onceOpen:function(e){return this.em.once("modal:open",e),this},isOpen:function(){return!!i.get("open")},setTitle:function(e){return i.set("title",e),this},getTitle:function(){return i.get("title")},setContent:function(e){return i.set("content"," "),i.set("content",e),this},getContent:function(){return i.get("content")},getContentEl:function(){return o.getContent().get(0)},getModel:function(){return i},render:function(){return o.render().$el}}}},"./src/modal_dialog/model/Modal.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({defaults:{title:"",content:"",open:!1}})},"./src/modal_dialog/view/ModalView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.View.extend({template:function(e){var t=e.pfx,n=e.ppfx,i=e.content,r=e.title;return'<div class="'.concat(t,"dialog ").concat(n,"one-bg ").concat(n,'two-color">\n      <div class="').concat(t,'header">\n        <div class="').concat(t,'title">').concat(r,'</div>\n        <div class="').concat(t,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(t,'content">\n        <div id="').concat(t,'c">').concat(i,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(t,'collector" style="display: none"></div>')},events:{click:"onClick","click [data-close-modal]":"hide"},initialize:function(e){var t=this.model,n=e.config||{},i=n.stylePrefix||"";this.config=n,this.pfx=i,this.ppfx=n.pStylePrefix||"",this.listenTo(t,"change:open",this.updateOpen),this.listenTo(t,"change:title",this.updateTitle),this.listenTo(t,"change:content",this.updateContent)},onClick:function(e){this.config.backdrop&&e.target===this.el&&this.hide()},getCollector:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},getContent:function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},getTitle:function(){return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),this.$title.get(0)},updateContent:function(){var e=this.getContent(),t=e.children(),n=this.getCollector(),i=this.model.get("content");t.length&&n.append(t),e.empty().append(i)},updateTitle:function(){var e=this.getTitle();e&&(e.innerHTML=this.model.get("title"))},updateOpen:function(){this.el.style.display=this.model.get("open")?"":"none"},hide:function(){this.model.set("open",0)},show:function(){this.model.set("open",1)},render:function(){var e=this.$el,t=this.pfx,n=(this.ppfx,this.model.toJSON());return n.pfx=this.pfx,n.ppfx=this.ppfx,e.html(this.template(n)),e.attr("class","".concat(t,"container")),this.updateOpen(),this}})},"./src/navigator/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"",appendTo:"",sortable:1,hidable:1,hideTextnode:1,root:"",showWrapper:1,showHover:1,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:1}},"./src/navigator/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/navigator/config/config.js"),s=n("./src/navigator/view/ItemView.js"),a=n("./node_modules/underscore/underscore.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){var l,t,c={};return{name:"LayerManager",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return(c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default,{},t)).stylePrefix=t.pStylePrefix,l=c.em,this},getConfig:function(){return c},onLoad:function(){t=new s.default({level:0,config:c,opened:c.opened||{},model:l.get("DomComponents").getWrapper()}),l&&l.on("component:selected",this.componentChanged),this.componentChanged()},postRender:function(){var e=c.appendTo,t=c.root;t&&this.setRoot(t),e&&(Object(a.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},setRoot:function(e){return t.setRoot(e),this},getRoot:function(){return t.model},getAll:function(){return t},componentChanged:function(e,t){if(!(1<arguments.length&&void 0!==t?t:{}).fromLayers){var n,i=l.get("opened"),r=l.getSelected(),o=c.scrollLayers,s=r&&r.collection?r.collection.parent:null;for(var a in i)i[a].set("open",0);for(;s;)s.set("open",1),s=(i[s.cid]=s).collection?s.collection.parent:null;r&&o&&((n=r.viewLayer&&r.viewLayer.el)&&n.scrollIntoView(o))}},render:function(){return t.render().el}}}},"./src/navigator/view/ItemView.js":function(e,t,u){"use strict";u.r(t);var h,d=u("./node_modules/underscore/underscore.js"),n=u("./src/utils/mixins.js"),i=u("./node_modules/backbone/backbone.js"),r=u.n(i),o=u("./src/dom_components/view/ComponentView.js"),s=u("./src/dom_components/model/Component.js"),a="contentEditable",l=r.a.$;t.default=r.a.View.extend({events:{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","click [data-toggle-open]":"toggleOpening","dblclick [data-name]":"handleEdit","focusout [data-name]":"handleEditEnd"},template:function(e){var t=this.pfx,n=this.ppfx,i=this.config,r=this.clsNoEdit,o=i.hidable,s=this.countChildren(e),a=s?"":this.clsNoChild,l="".concat(this.clsTitle," ").concat(a),c="".concat(this.clsTitleC," ").concat(n,"one-bg"),u="".concat(this.clsCaret," fa fa-chevron-right"),h="".concat(this.inputNameCls," ").concat(r," ").concat(n,"no-app"),d=this.level+1,f="".concat(30+10*d,"px"),p=e.getName(),g=e.getIcon(),m="".concat(t,"layer");return"\n      ".concat(o?'<i class="'.concat(t,"layer-vis fa fa-eye ").concat(this.isVisible()?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",'\n      <div class="').concat(c,'">\n        <div class="').concat(l,'" style="padding-left: ').concat(f,'" data-toggle-select>\n          <div class="').concat(t,'layer-title-inn">\n            <i class="').concat(u,'" data-toggle-open></i>\n            ').concat(g?'<span class="'.concat(m,'__icon">').concat(g,"</span>"):"",'\n            <span class="').concat(h,'" data-name>').concat(p,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat(s||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div class="').concat(this.clsChildren,'"></div>')},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.opt=t,this.level=t.level,this.config=t.config,this.em=t.config.em,this.ppfx=this.em.get("Config").stylePrefix,this.sorter=t.sorter||"",this.pfx=this.config.stylePrefix,this.parentView=t.parentView;var n=this.pfx,i=this.ppfx,r=this.model,o=r.get("components"),s=r.get("type")||"default";r.set("open",!1),this.listenTo(o,"remove add reset",this.checkChildren),this.listenTo(r,"change:status",this.updateStatus),this.listenTo(r,"change:open",this.updateOpening),this.listenTo(r,"change:layerable",this.updateLayerable),this.listenTo(r,"change:style:display",this.updateVisibility),this.className="".concat(n,"layer ").concat(n,"layer__t-").concat(s," no-select ").concat(i,"two-color"),this.inputNameCls="".concat(i,"layer-name"),this.clsTitleC="".concat(n,"layer-title-c"),this.clsTitle="".concat(n,"layer-title"),this.clsCaret="".concat(n,"layer-caret"),this.clsCount="".concat(n,"layer-count"),this.clsMove="".concat(n,"layer-move"),this.clsChildren="".concat(n,"layer-children"),this.clsNoChild="".concat(n,"layer-no-chld"),this.clsEdit="".concat(this.inputNameCls,"--edit"),this.clsNoEdit="".concat(this.inputNameCls,"--no-edit"),this.$el.data("model",r),this.$el.data("collection",o),r.viewLayer=this},getVisibilityEl:function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},updateVisibility:function(){var e=this.pfx,t=this.model,n="".concat(e,"layer-hidden"),i="none"==t.getStyle().display?"addClass":"removeClass";this.$el[i](n),this.getVisibilityEl()[i]("fa-eye-slash")},toggleVisibility:function(e){e&&e.stopPropagation();var t=this.model,n="__prev-display",i=t.get(n),r=t.getStyle(),o=r.display;"none"==o?(delete r.display,i&&(r.display=i,t.unset(n))):(o&&t.set(n,o),r.display="none"),t.setStyle(r)},handleEdit:function(e){e&&e.stopPropagation();var t=this.em,n=this.$el,i=this.clsNoEdit,r=this.clsEdit,o=this.getInputName();o[a]=!0,o.focus(),t&&t.setEditing(1),n.find(".".concat(this.inputNameCls)).removeClass(i).addClass(r)},handleEditEnd:function(e){e&&e.stopPropagation();var t=this.em,n=this.$el,i=this.clsNoEdit,r=this.clsEdit,o=this.getInputName(),s=o.textContent;o.scrollLeft=0,o[a]=!1,this.model.set({"custom-name":s}),t&&t.setEditing(0),n.find(".".concat(this.inputNameCls)).addClass(i).removeClass(r)},getInputName:function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},updateOpening:function(){var e=this.opt.opened||{},t=this.model,n="fa-chevron-down";t.get("open")?(this.$el.addClass("open"),this.getCaret().addClass(n),e[t.cid]=t):(this.$el.removeClass("open"),this.getCaret().removeClass(n),delete e[t.cid])},toggleOpening:function(e){e.stopPropagation(),this.model.get("components").length&&this.model.set("open",!this.model.get("open"))},handleSelect:function(e){e.stopPropagation();var t,n,i=this.em,r=this.config;i&&(t=this.model,i.setSelected(t,{fromLayers:1}),(n=r.scrollCanvas)&&t.views.forEach(function(e){return e.scrollIntoView(n)}))},handleHover:function(e){e.stopPropagation();var t=this.em,n=this.config,i=this.model;t&&n.showHover&&t.setHovered(i,{fromLayers:1})},startSort:function(e){e.stopPropagation();var t=this.em,n=this.sorter;e.button&&0!==e.button||n&&(n.onStart=function(e){return t.trigger("".concat(s.eventDrag,":start"),e)},n.onMoveClb=function(e){return t.trigger(s.eventDrag,e)},n.startSort(e.target))},freeze:function(){this.$el.addClass(this.pfx+"opac50"),this.model.set("open",0)},unfreeze:function(){this.$el.removeClass(this.pfx+"opac50")},updateStatus:function(){o.default.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover}])},isVisible:function(){var e=this.model.get("style").display;if(!e||"none"!=e)return 1},checkChildren:function(){var e=this.model,t=this.clsNoChild,n=this.countChildren(e),i=this.$el.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),r=this.cnt;r||(r=this.$el.children("[data-count]").get(0),this.cnt=r),i[n?"removeClass":"addClass"](t),r&&(r.innerHTML=n||""),n||e.set("open",0)},countChildren:function(e){var i=0;return e.get("components").each(function(e){var t=this.opt.isCountable,n=this.config.hideTextnode;t&&!t(e,n)||i++},this),i},getCaret:function(){return this.caret&&this.caret.length||(this.pfx,this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},setRoot:function(e){e=Object(d.isString)(e)?this.em.getWrapper().find(e)[0]:e;var t=Object(n.getModel)(e,l);t&&(this.stopListening(),this.model=t,this.initialize(this.opt),this.render())},updateLayerable:function(){(this.parentView||this).render()},render:function(){var e=this.model,t=this.config,n=this.pfx,i=this.ppfx,r=this.opt.isCountable,o=r&&!r(e,t.hideTextnode),s=this.isVisible(),a=this.$el.empty(),l=this.level+1;Object(d.isUndefined)(h)&&(h=u("./src/navigator/view/ItemsView.js").default);var c=new h({collection:e.get("components"),config:this.config,sorter:this.sorter,opened:this.opt.opened,parentView:this,parent:e,level:l}).render().$el;return this.config.showWrapper||1!==l?(a.html(this.template(e)),a.find(".".concat(this.clsChildren)).append(c)):a.append(c),e.get("draggable")&&this.config.sortable||a.children(".".concat(this.clsMove)).remove(),s||(this.className+=" ".concat(n,"hide")),o&&(this.className+=" ".concat(i,"hidden")),a.attr("class",this.className),this.updateOpening(),this.updateStatus(),this.updateVisibility(),this}})},"./src/navigator/view/ItemsView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),l=n("./src/navigator/view/ItemView.js"),c=n("./src/dom_components/model/Component.js");t.default=r.a.View.extend({initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(this.opt=t).config||{};this.level=t.level,this.config=n,this.preview=t.preview,this.ppfx=n.pStylePrefix||"",this.pfx=n.stylePrefix||"",this.parent=t.parent,this.parentView=t.parentView;var i=this.pfx,r=this.ppfx,o=this.parent,s=this.collection;this.listenTo(s,"add",this.addTo),this.listenTo(s,"reset resetNavigator",this.render),this.listenTo(s,"remove",this.removeChildren),this.className="".concat(i,"layers");var a,l=n.em;n.sortable&&!this.opt.sorter&&(a=l.get("Utils"),this.opt.sorter=new a.Sorter({container:n.sortContainer||this.el,containerSel:".".concat(this.className),itemSel:".".concat(i,"layer"),ignoreViewChildren:1,onEndMove:function(e,t,n){var i=t.getSourceModel();l.setSelected(i,{forceChange:1}),l.trigger("".concat(c.eventDrag,":end"),n)},avoidSelectOnEnd:1,nested:1,ppfx:r,pfx:i})),this.sorter=this.opt.sorter||"",this.$el.data("collection",s),o&&this.$el.data("model",o)},removeChildren:function(e){var t=e.viewLayer;t&&(t.remove(),e.viewLayer=0)},addTo:function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},addToCollection:function(e,t,n){var i,r=this.level,o=this.parentView,s=t||null,a=new l.default({level:r,model:e,parentView:o,config:this.config,sorter:this.sorter,isCountable:this.isCountable,opened:this.opt.opened}).render().el;return s?s.appendChild(a):void 0!==n?(i="before",this.$el.children().length==n&&(n--,i="after"),n<0?this.$el.append(a):this.$el.children().eq(n)[i](a)):this.$el.append(a),a},isCountable:function(e,t){var n=e.get("type"),i=e.get("tagName");return!(("textnode"==n||"br"==i)&&t||!e.get("layerable"))},render:function(){var t=this,n=document.createDocumentFragment(),e=this.el;return e.innerHTML="",this.collection.each(function(e){return t.addToCollection(e,n)}),e.appendChild(n),e.className=this.className,this}})},"./src/panels/config/config.js":function(e,t,n){"use strict";n.r(t);var i="sw-visibility",r="export-template",o="open-layers",s="open-blocks",a="fullscreen",l="preview";t.default={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:i,className:"fa fa-square-o",command:i,context:i,attributes:{title:"View components"}},{id:l,className:"fa fa-eye",command:l,context:l,attributes:{title:"Preview"}},{id:a,className:"fa fa-arrows-alt",command:a,context:a,attributes:{title:"Fullscreen"}},{id:r,className:"fa fa-code",command:r,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:"open-sm",className:"fa fa-paint-brush",command:"open-sm",active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:"open-tm",className:"fa fa-cog",command:"open-tm",togglable:0,attributes:{title:"Settings"}},{id:o,className:"fa fa-bars",command:o,togglable:0,attributes:{title:"Open Layer Manager"}},{id:s,className:"fa fa-th-large",command:s,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300}},"./src/panels/index.js":function(e,t,n){"use strict";n.r(t);var s=n("./src/panels/config/config.js"),a=n("./src/panels/model/Panel.js"),l=n("./src/panels/model/Panels.js"),c=(n("./src/panels/view/PanelView.js"),n("./src/panels/view/PanelsView.js"));t.default=function(){var i,r,o={};return{name:"Panels",init:function(e){for(var t in o=e||{},s.default)t in o||(o[t]=s.default[t]);var n=o.pStylePrefix;return n&&(o.stylePrefix=n+o.stylePrefix),i=new l.default(o.defaults),r=new c.default({collection:i,config:o}),this},getPanels:function(){return i},getPanelsEl:function(){return r.el},addPanel:function(e){return i.add(e)},removePanel:function(e){return i.remove(e)},getPanel:function(e){var t=i.where({id:e});return t.length?t[0]:null},addButton:function(e,t){var n=this.getPanel(e);return n?n.get("buttons").add(t):null},removeButton:function(e,t){var n=this.getPanel(e);return n&&n.get("buttons").remove(t)},getButton:function(e,t){var n=this.getPanel(e);if(n){var i=n.get("buttons").where({id:t});return i.length?i[0]:null}return null},render:function(){return r.render().el},active:function(){this.getPanels().each(function(e){e.get("buttons").each(function(e){e.get("active")&&e.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(e){e.get("buttons").each(function(e){e.get("disable")&&e.trigger("change:disable")})})},Panel:a.default}}},"./src/panels/model/Button.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({defaults:{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1},initialize:function(){var e;this.get("buttons").length&&(e=n("./src/panels/model/Buttons.js").default,this.set("buttons",new e(this.get("buttons"))))}})},"./src/panels/model/Buttons.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/panels/model/Button.js");t.default=r.a.Collection.extend({model:o.default,deactivateAllExceptOne:function(n,i){this.forEach(function(e,t){e!==n&&(e.set("active",!1),i&&e.get("buttons").length&&e.get("buttons").deactivateAllExceptOne(n,i))})},deactivateAll:function(e,t){var n=e||"";this.forEach(function(e){e.get("context")==n&&e!==t&&(e.set("active",!1,{silent:1}),e.trigger("updateActive",{fromCollection:1}))})},disableAllButtons:function(e){var n=e||"";this.forEach(function(e,t){e.get("context")==n&&e.set("disable",!0)})},disableAllButtonsExceptOne:function(n,i){this.forEach(function(e,t){e!==n&&(e.set("disable",!0),i&&e.get("buttons").length&&e.get("buttons").disableAllButtonsExceptOne(n,i))})}})},"./src/panels/model/Panel.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/panels/model/Buttons.js");t.default=r.a.Model.extend({defaults:{id:"",content:"",visible:!0,buttons:[],attributes:{}},initialize:function(){this.btn=this.get("buttons")||[],this.buttons=new o.default(this.btn),this.set("buttons",this.buttons)}})},"./src/panels/model/Panels.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/panels/model/Panel.js");t.default=r.a.Collection.extend({model:o.default})},"./src/panels/view/ButtonView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),h=n("./node_modules/underscore/underscore.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}s.a.$;t.default=s.a.View.extend({tagName:function(){return this.model.get("tagName")},events:{click:"clicked"},initialize:function(e){var t=this.model.get("className");this.config=e.config||{},this.em=this.config.em||{};var n=this.config.stylePrefix||"",i=this.config.pStylePrefix||"";this.pfx=n,this.ppfx=this.config.pStylePrefix||"",this.id=n+this.model.get("id"),this.activeCls="".concat(n,"active ").concat(i,"four-color"),this.disableCls="".concat(i,"disabled"),this.btnsVisCls="".concat(n,"visible"),this.className=n+"btn"+(t?" "+t:""),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"change:active updateActive",this.updateActive),this.listenTo(this.model,"checkActive",this.checkActive),this.listenTo(this.model,"change:bntsVis",this.updateBtnsVis),this.listenTo(this.model,"change:attributes",this.updateAttributes),this.listenTo(this.model,"change:className",this.updateClassName),this.listenTo(this.model,"change:disable",this.updateDisable),this.em&&this.em.get&&(this.commands=this.em.get("Commands"))},updateClassName:function(){var e=this.model,t=this.pfx,n=e.get("className"),i=e.get("attributes").class,r="".concat(i||""," ").concat(t,"btn ").concat(n||"");this.$el.attr("class",r.trim())},updateAttributes:function(){var e=this.em,t=this.model,n=this.$el,i=t.get("attributes")||{},r=e&&e.t&&e.t("panels.buttons.titles.".concat(t.id));n.attr(i),r&&n.attr({title:r}),this.updateClassName()},updateBtnsVis:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},updateActive:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,i=this.commands,r=this.$el,o=this.activeCls,s=t.fromCollection,a=n.get("context"),l=n.get("options"),c=n.get("command"),u={};i&&Object(h.isString)(c)?u=i.get(c)||{}:Object(h.isFunction)(c)?u=i.create({run:c}):null!==c&&Object(h.isObject)(c)&&(u=i.create(c)),n.get("active")?(s||n.collection.deactivateAll(a,n),n.set("active",!0,{silent:!0}).trigger("checkActive"),i.runCommand(u,d({},l,{sender:n})),u.noStop&&n.set("active",!1)):(r.removeClass(o),i.stopCommand(u,d({},l,{sender:n,force:1})))},updateDisable:function(){var e=this.disableCls,t=this.model.get("disable");this.$el[t?"addClass":"removeClass"](e)},checkActive:function(){var e=this.model,t=this.$el,n=this.activeCls;e.get("active")?t.addClass(n):t.removeClass(n)},clicked:function(){this.model.get("bntsVis")||this.model.get("disable")||this.toggleActive()},toggleActive:function(){var e=this.model,t=e.attributes,n=t.active,i=t.togglable;n&&!i||(e.set("active",!n),this.em.get("Commands").get("select-comp"),n?e.get("runDefaultCommand")&&this.em.runDefault():e.get("stopDefaultCommand")&&this.em.stopDefault())},render:function(){var e=this.model.get("label"),t=this.$el;return t.empty(),this.updateAttributes(),e&&t.append(e),this.checkActive(),this.updateDisable(),this}})},"./src/panels/view/ButtonsView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/panels/view/ButtonView.js"),s=n("./node_modules/underscore/underscore.js");t.default=r.a.View.extend({initialize:function(e){this.opt=e||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"},addTo:function(e){this.addToCollection(e)},addToCollection:function(e,t){var n=t||null,i=new o.default({model:e,config:this.config,parentM:this.parentM}).render().el;return n?n.appendChild(i):this.$el.append(i),i},render:function(){var t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(e){this.addToCollection(e,t)},this),this.$el.append(t),this.$el.attr("class",Object(s.result)(this,"className")),this}})},"./src/panels/view/PanelView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(i),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),s=n("./src/panels/view/ButtonsView.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.a.View.extend({initialize:function(e){var t=e.config||{},n=this.model;this.config=t,this.pfx=t.stylePrefix||"",this.ppfx=t.pStylePrefix||"",this.buttons=n.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+n.get("id"),this.listenTo(n,"change:appendContent",this.appendContent),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change:visible",this.toggleVisible),n.view=this},appendContent:function(){this.$el.append(this.model.get("appendContent"))},updateContent:function(){this.$el.html(this.model.get("content"))},toggleVisible:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},attributes:function(){return this.model.get("attributes")},initResize:function(){var e,t,n,i,r,o,h,s=this.config.em,a=s?s.get("Editor"):"",l=this.model.get("resizable");a&&l&&(2==(t=(e=!(o=0)===l?[1,1,1,1]:l).length)?(n=e[0],r=e[0],i=e[1],o=e[1]):4==t&&(n=e[0],i=e[1],r=e[2],o=e[3]),(h=a.Utils.Resizer.init(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){c()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({tc:n,cr:i,bc:r,cl:o,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:a.getConfig().stylePrefix,onEnd:function(){s&&s.trigger("change:canvasOffset")},posFetcher:function(e,t){var n=t.target,i=e.style,r=h.getConfig(),o=r.keyWidth,s=r.keyHeight,a=e.getBoundingClientRect(),l="container"==n,c=i[o],u=i[s];return{left:0,top:0,width:c&&!l?parseFloat(c):a.width,height:u&&!l?parseFloat(u):a.height}}},l))).blur=function(){},h.focus(this.el))},render:function(){var e,t=this.$el,n=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");return t.addClass(i),this.buttons.length&&(e=new s.default({collection:this.buttons,config:this.config}),t.append(e.render().el)),t.append(this.model.get("content")),this}})},"./src/panels/view/PanelsView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),l=n("./src/panels/view/PanelView.js");t.default=r.a.View.extend({initialize:function(e){this.opt=e||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.render),this.listenTo(t,"remove",this.onRemove),this.className=this.pfx+"panels"},onRemove:function(e){var t=e.view;t&&t.remove()},addTo:function(e){this.addToCollection(e)},addToCollection:function(e,t){var n=t||null,i=this.config,r=e.get("el"),o=new l.default({el:r,model:e,config:i}),s=o.render().el,a=e.get("appendTo");return r||(a?document.querySelector(a).appendChild(s):n?n.appendChild(s):this.$el.append(s)),o.initResize(),s},render:function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(e){return t.addToCollection(e,n)}),e.append(n),e.attr("class",this.className),this}})},"./src/parser/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null}},"./src/parser/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),s=n("./src/parser/config/config.js"),a=n("./src/parser/model/ParserCss.js"),l=n("./src/parser/model/ParserHtml.js");function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){var i,r,n={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",getConfig:function(){return n},init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return(n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s.default,{},t)).Parser=this,i=new l.default(n),r=new a.default(n),this.em=n.em,this.parserCss=r,this.parserHtml=i,this},parseHtml:function(e){var t=this.em,n=this.compTypes;return i.compTypes=t?t.get("DomComponents").getTypes():n,i.parse(e,r)},parseCss:function(e){return r.parse(e)}}}},"./src/parser/model/BrowserParserCss.js":function(e,t,n){"use strict";n.r(t),n.d(t,"parseSelector",function(){return E}),n.d(t,"parseStyle",function(){return P}),n.d(t,"parseCondition",function(){return D}),n.d(t,"createNode",function(){return A}),n.d(t,"parseNode",function(){return r});var i=n("./node_modules/underscore/underscore.js"),O={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},T=Object(i.keys)(O),j=["5","6","11","15"],f=["font-face","page","counter-style","viewport"],E=function(e){for(var t=[],n=[],i=(0<arguments.length&&void 0!==e?e:"").split(","),r=0,o=i.length;r<o;r++){var s,a=i[r].trim();/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)?(s=a.split(".").filter(Boolean),n.push(s)):t.push(a)}return{result:n,add:t}},P=function(e){for(var t=e.style,n={},i=0,r=t.length;i<r;i++){var o=t[i],s=t.getPropertyValue(o),a=t.getPropertyPriority(o);n[o]="".concat(s).concat(a?" !".concat(a):"")}return n},D=function(e){return(e.conditionText||e.media&&e.media.mediaText||e.name||e.selectorText||"").trim()},A=function(e,t,n){var i=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==n?n:{},o={},s=e.length,a=e[s-1],l=a?a.split(/:(.+)/):[],c=l[1],u=r.atRule,h=r.selectorsAdd,d=r.mediaText;return 0<=f.indexOf(u)&&(o.singleAtRule=1),u&&(o.atRuleType=u),h&&(o.selectorsAdd=h),d&&(o.mediaText=d),c&&(e[s-1]=l[0],o.state=c,l.splice(l.length-1,1)),o.selectors=e,o.style=i,o},r=function e(t){for(var n=[],i=t.cssRules||[],r=0,o=i.length;r<o;r++){var s=i[r],a=s.type.toString(),l=0,c="",u="",h=s.selectorText||s.keyText,d=0<=j.indexOf(a);if(d)l=1,c=O[a],u=D(s);else if(0<=T.indexOf(a)){for(var f=e(s),u=D(s),p=0,g=f.length;p<g;p++){var m=f[p];u&&(m.mediaText=u),m.atRuleType=O[a]}n=n.concat(f)}if(h||d){for(var v,b,y=P(s),w=E(h),_=w.add,x=void 0,C=0,k=(h=w.result).length;C<k;C++){var S=A(h[C],y,{atRule:O[a]});n.push(S),x=S}_.length&&(v=_.join(", "),x?x.selectorsAdd=v:(b={selectors:[],selectorsAdd:v,style:y},l&&(b.singleAtRule=l),c&&(b.atRuleType=c),u&&(b.mediaText=u),n.push(b)))}}return n};t.default=function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t);var n=t.sheet;return document.head.removeChild(t),r(n)}},"./src/parser/model/ParserCss.js":function(e,t,n){"use strict";n.r(t);var l=n("./node_modules/underscore/underscore.js"),c=n("./src/parser/model/BrowserParserCss.js");t.default=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{parse:function(e){var t=this,n=[],i=a.parserCss,r=a.em,o=void 0===r?{}:r,s=o&&o.get&&o.get("Editor");return(i?i(e,s):Object(c.default)(e)).forEach(function(e){return n=n.concat(t.checkNode(e))}),n},checkNode:function(e){var t,n,i,r,o,s=e.selectors,a=e.style;return Object(l.isString)(s)&&(t=[],i=(n=Object(c.parseSelector)(s)).result,r=n.add.join(", "),o={atRule:e.atRule,mediaText:e.params},i.length?i.forEach(function(e){t.push(Object(c.createNode)(e,a,o))}):t.push(Object(c.createNode)([],a,o)),r&&(t[t.length-1].selectorsAdd=r),e=t),e}}}},"./src/parser/model/ParserHtml.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/typeof.js"),I=n.n(i),u=n("./node_modules/underscore/underscore.js");t.default=function(D){var A=D,M="data-gjs-";return{compTypes:"",modelAttrStart:M,splitPropsFromAttr:function(e){var a=this,t=0<arguments.length&&void 0!==e?e:{},l={},c={};return Object(u.each)(t,function(e,t){if(0===t.indexOf(a.modelAttrStart)){var n=t.replace(M,""),i=e.length,r=e&&Object(u.isString)(e),o=r&&e.substr(0,1),s=r&&e.substr(i-1);e="false"!==(e="true"===e||e)&&e;try{e="{"==o&&"}"==s||"["==o&&"]"==s?JSON.parse(e):e}catch(e){}l[n]=e}else c[t]=e}),{props:l,attrs:c}},parseStyle:function(e){for(var t={},n=e.split(";"),i=0,r=n.length;i<r;i++){var o,s=n[i].trim();s&&(t[(o=s.split(":"))[0].trim()]=o.slice(1).join(":").trim())}return t},parseClass:function(e){for(var t=[],n=e.split(" "),i=0,r=n.length;i<r;i++){var o=n[i].trim();o&&t.push(o)}return t},parseNode:function(e){for(var t=[],n=e.childNodes,i=0,r=n.length;i<r;i++){var o=n[i],s=o.attributes||[],a=s.length,l=t[t.length-1],c=o.childNodes.length,u=this.compTypes,h={};if(u){var d="",f=o.getAttribute&&o.getAttribute("".concat(M,"type"));if(f)h={type:f};else{for(var p=0;p<u.length;p++){var g=u[p];if(d=g.model.isComponent(o)){"object"!==I()(d)&&(d={type:g.id});break}}h=d}}h.tagName||(h.tagName=o.tagName?o.tagName.toLowerCase():""),a&&(h.attributes={});for(var m,v=0;v<a;v++){var b=s[v].nodeName,y=s[v].nodeValue;if("style"==b)h.style=this.parseStyle(y);else if("class"==b)h.classes=this.parseClass(y);else{if("contenteditable"==b)continue;if(0===b.indexOf(M)){var w=b.replace(M,""),_=y.length,x=y&&y.substr(0,1),C=y&&y.substr(_-1);y="false"!==(y="true"===y||y)&&y;try{y="{"==x&&"}"==C||"["==x&&"]"==C?JSON.parse(y):y}catch(e){}h[w]=y}else h.attributes[b]=y}}if(c&&!h.components&&(m=o.childNodes[0],1===c&&3===m.nodeType?(h.type||(h.type="text"),h.content=m.nodeValue):h.components=this.parseNode(o)),"textnode"==h.type){if(l&&"textnode"==l.type){l.content+=h.content;continue}if(!D.keepEmptyTextNodes){var k=o.nodeValue;if(" "!=k&&!k.trim())continue}}var S=h.components;if(!h.type&&S){for(var O=1,T=0,j=0;j<S.length;j++){var E=S[j],P=E.type;if(["text","textnode"].indexOf(P)<0&&A.textTags.indexOf(E.tagName)<0){O=0;break}"textnode"==P&&(T=1)}O&&T&&(h.type="text")}!h.tagName&&"textnode"!=h.type||t.push(h)}return t},parse:function(e,t){var n=A.em&&A.em.get("Config")||{},i={html:"",css:""},r=document.createElement("div");r.innerHTML=e;var o=r.querySelectorAll("script"),s=o.length;if(!n.allowScripts)for(;s--;)o[s].parentNode.removeChild(o[s]);if(t){for(var a="",l=r.querySelectorAll("style"),c=l.length;c--;)a=l[c].innerHTML+a,l[c].parentNode.removeChild(l[c]);a&&(i.css=t.parse(a))}var u=this.parseNode(r);return 1==u.length&&(u=u[0]),i.html=u,i}}}},"./src/plugin_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={plugins:[]}},"./src/plugin_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/plugin_manager/config/config.js");t.default=function(e){var t=e||{};for(var n in r.default)n in t||(t[n]=r.default[n]);var i={};return{add:function(e,t){return i[e]?i[e]:i[e]=t},get:function(e){return i[e]},getAll:function(){return i}}}},"./src/rich_text_editor/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link"]}},"./src/rich_text_editor/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),h=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(r),d=n("./src/rich_text_editor/model/RichTextEditor.js"),f=n("./src/utils/mixins.js"),p=n("./src/rich_text_editor/config/config.js");function g(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){function o(){var e=a.style;e.top="-1000px",e.left="-1000px",e.display="none"}var a,l,c,u={};return{customRte:null,name:"RichTextEditor",getConfig:function(){return u},init:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},p.default,{},t)).pStylePrefix;return n&&(u.stylePrefix=n+u.stylePrefix),this.pfx=u.stylePrefix,u.actions,(a=document.createElement("div")).className="".concat(n,"rte-toolbar ").concat(n,"one-bg"),c=this.initRte(document.createElement("div")),Object(f.on)(a,"mousedown",function(e){return e.stopPropagation()}),this},destroy:function(){var e=this.customRte;c&&c.destroy(),e&&e.destroy&&e.destroy(),c=a=0,this.actionbar=0,this.actions=0},postRender:function(e){var t=e.model.get("Canvas");a.style.pointerEvents="all",o(),t.getToolsEl().appendChild(a)},initRte:function(e){var t=this.pfx,n=a,i=this.actionbar,r=this.actions||h()(u.actions),o={actionbar:"".concat(t,"actionbar"),button:"".concat(t,"action"),active:"".concat(t,"active"),inactive:"".concat(t,"inactive"),disabled:"".concat(t,"disabled")},s=new d.default({el:e,classes:o,actions:r,actionbar:i,actionbarContainer:n});return c&&c.setEl(e),s.actionbar&&(this.actionbar=s.actionbar),s.actions&&(this.actions=s.actions),s},add:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};n.name=e,c.addAction(n,{sync:1})},get:function(t){var n;return c.getActions().forEach(function(e){e.name==t&&(n=e)}),n},getAll:function(){return c.getActions()},remove:function(e){var t,n,i=this.getAll(),r=this.get(e);return r&&(t=r.btn,n=i.indexOf(r),t.parentNode.removeChild(t),i.splice(n,1)),r},getToolbarEl:function(){return a},updatePosition:function(){var e=u.em.get("Canvas"),t=a.style,n=e.getTargetToElementFixed(l,a,{event:"rteToolbarPosUpdate"});t.top=n.top+"px",t.left="0px"},enable:function(e,t){l=e.el;var n,i=u.em.get("Canvas"),r=u.em,o=e.getChildrenContainer(),s=this.customRte;return i.getElementPos(l),a.style.display="",t=s?s.enable(o,t):this.initRte(o).enable(),r&&(setTimeout(this.updatePosition.bind(this),0),n="change:canvasOffset canvasScroll frame:scroll component:update",r.off(n,this.updatePosition,this),r.on(n,this.updatePosition,this),r.trigger("rte:enable",e,t)),t},disable:function(e,t){var n=u.em,i=this.customRte,r=e.getChildrenContainer();i?i.disable(r,t):t&&t.disable(),o(),n&&n.trigger("rte:disable",e,t)}}}},"./src/rich_text_editor/model/RichTextEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return b});var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(o),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(s),u=n("./src/utils/mixins.js");function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function d(e){var t=e.selection().anchorNode,n=t&&t.parentNode,i=t&&t.nextSibling;return n&&"A"==n.nodeName||i&&"A"==i.nodeName}var f="_rte",p=1,g=0,m=-1,v={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(e){return e.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(e){return e.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(e){return e.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<strike>S</strike>",attributes:{title:"Strike-through"},result:function(e){return e.exec("strikeThrough")}},link:{icon:'<span style="transform:rotate(45deg)">&supdsub;</span>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(e){return e&&e.selection()&&d(e)?p:g},result:function(e){d(e)?e.exec("unlink"):e.insertHTML('<a class="link" href="">'.concat(e.selection(),"</a>"))}}},b=function(){function l(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c()(this,l);var n=e.el;if(n[f])return n[f];(n[f]=this).setEl(n),this.updateActiveActions=this.updateActiveActions.bind(this);var i=e.actions||[];i.forEach(function(e,t){"string"==typeof e?e=v[e]:v[e.name]&&(e=h({},v[e.name],{},e)),i[t]=e});var r=i.length?i:Object.keys(v).map(function(e){return v[e]});e.classes=h({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},{},e.classes);var o,s=e.classes,a=e.actionbar;return this.actionbar=a,this.settings=e,this.classes=s,this.actions=r,a||(o=e.actionbarContainer,(a=document.createElement("div")).className=s.actionbar,o.appendChild(a),this.actionbar=a,r.forEach(function(e){return t.addAction(e)})),e.styleWithCSS&&this.exec("styleWithCSS"),this.syncActions(),this}return a()(l,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(e){this.el=e,this.doc=e.ownerDocument}},{key:"updateActiveActions",value:function(){var u=this;this.getActions().forEach(function(e){var t=e.btn,n=e.update,i=h({},u.classes),r=i.active,o=i.inactive,s=i.disabled,a=e.state,l=e.name,c=u.doc;if(t.className=t.className.replace(r,"").trim(),t.className=t.className.replace(o,"").trim(),t.className=t.className.replace(s,"").trim(),a)switch(a(u,c)){case p:t.className+=" ".concat(r);break;case g:t.className+=" ".concat(o);break;case m:t.className+=" ".concat(s)}else c.queryCommandSupported(l)&&c.queryCommandState(l)&&(t.className+=" ".concat(r));n&&n(u,e)})}},{key:"enable",value:function(){return this.enabled||(this.actionbarEl().style.display="",this.el.contentEditable=!0,Object(u.on)(this.el,"mouseup keyup",this.updateActiveActions),this.syncActions(),this.updateActiveActions(),this.el.focus(),this.enabled=1),this}},{key:"disable",value:function(){return this.actionbarEl().style.display="none",this.el.contentEditable=!1,Object(u.off)(this.el,"mouseup keyup",this.updateActiveActions),this.enabled=0,this}},{key:"syncActions",value:function(){var n=this;this.getActions().forEach(function(t){var e;n.settings.actionbar&&(!t.state||t.state&&0<=t.state(n,n.doc))&&(e=t.event||"click",t.btn["on".concat(e)]=function(e){t.result(n,t),n.updateActiveActions()})})}},{key:"addAction",value:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).sync,i=document.createElement("span"),r=e.icon,o=e.attributes||{};for(var s in i.className=this.classes.button,e.btn=i,o)i.setAttribute(s,o[s]);"string"==typeof r?i.innerHTML=r:i.appendChild(r),this.actionbarEl().appendChild(i),n&&(this.actions.push(e),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;this.doc.execCommand(e,!1,n)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(e){var t,n,i=this.doc,r=i.getSelection();r&&r.rangeCount&&(t=i.createElement("div"),(n=r.getRangeAt(0)).deleteContents(),t.innerHTML=e,Array.prototype.slice.call(t.childNodes).forEach(function(e){n.insertNode(e),0}),r.removeAllRanges(),r.addRange(n),this.el.focus())}}]),l}()},"./src/selector_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:0}},"./src/selector_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),a=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js"),c=n("./src/selector_manager/config/config.js"),u=n("./src/selector_manager/model/Selector.js"),h=n("./src/selector_manager/model/Selectors.js"),d=n("./src/selector_manager/view/ClassTagsView.js");function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(e){return Object(a.isString)(e)&&"#"==e[0]}function g(e){return Object(a.isString)(e)&&"."==e[0]}t.default=function(e){var o,s=e||{};return{Selector:u.default,Selectors:h.default,name:"SelectorManager",getConfig:function(){return s},init:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=(s=f({},c.default,{},t)).em,i=s.pStylePrefix;return this.em=n,i&&(s.stylePrefix=i+s.stylePrefix),this.selectorTags=new d.default({collection:new h.default([],{em:n,config:s}),config:s}),(o=new h.default(s.selectors)).on("add",function(e){return n.trigger("selector:add",e)}),o.on("remove",function(e){return n.trigger("selector:remove",e)}),o.on("change",function(e){return n.trigger("selector:update",e,e.previousAttributes(),e.changedAttributes())}),n.on("change:state",function(e,t){return n.trigger("selector:state",t)}),this},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(a.isElement)(e)?e:document.querySelector(e)).appendChild(this.render([]))},select:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=Array.isArray(e)?e:[e],r=this.em.get("StyleManager").setTarget(i,n).filter(function(e){return e}).map(function(e){return Object(l.isComponent)(e)||Object(l.isRule)(e)&&!e.get("selectorsAdd")?e:e.getSelectorsString()});return this.selectorTags.componentChanged({targets:r}),this},setState:function(e){return this.em.setState(e),this},getState:function(){return this.em.setState()},addSelector:function(e,t){var n=f({},1<arguments.length&&void 0!==t?t:{});Object(a.isObject)(e)?n=e:n.name=e,p(n.name)?(n.name=n.name.substr(1),n.type=u.default.TYPE_ID):g(n.name)&&(n.name=n.name.substr(1)),n.label&&!n.name&&(n.name=this.escapeName(n.label));var i=n.name,r=i?this.get(i,n.type):o.where(n)[0];return r||o.add(n,{config:s})},getSelector:function(e,t){var n=1<arguments.length&&void 0!==t?t:u.default.TYPE_CLASS;return p(e)?(e=e.substr(1),n=u.default.TYPE_ID):g(e)&&(e=e.substr(1)),o.where({name:e,type:n})[0]},add:function(e,t){var n=this,i=1<arguments.length&&void 0!==t?t:{};return Object(a.isArray)(e)?e.map(function(e){return n.addSelector(e,i)}):this.addSelector(e,i)},addClass:function(e){var t=this,n=[];return Object(a.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(e){return n.push(t.addSelector(e))}),n},get:function(e,t){var n=this;if(Object(a.isArray)(e)){var i=[];return e.map(function(e){return n.getSelector(e)}).filter(function(e){return e}).forEach(function(e){return i.indexOf(e)<0&&i.push(e)}),i}return this.getSelector(e,t)},getAll:function(){return o},escapeName:function(e){var t=s.escapeName;return t?t(e):u.default.escapeName(e)},render:function(e){return e&&(this.selectorTags=new d.default({collection:new h.default(e),config:s})),this.selectorTags.render().el}}}},"./src/selector_manager/model/Selector.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),c=n.n(i).a.Model.extend({idAttribute:"name",defaults:{name:"",label:"",type:1,active:!0,private:!1,protected:!1},initialize:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).config,i=void 0===n?{}:n,r=this.get("name"),o=this.get("label");r?o||this.set("label",r):this.set("name",o);var s=this.get("name"),a=i.escapeName,l=a?a(s):c.escapeName(s);this.set("name",l)},getFullName:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).escape,n=this.get("name"),i="";switch(this.get("type")){case 1:i=".";break;case 2:i="#"}return i+(t?t(n):n)}},{TYPE_CLASS:1,TYPE_ID:2,escapeName:function(e){return"".concat(e).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")}});t.default=c},"./src/selector_manager/model/Selectors.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),s=n("./src/selector_manager/model/Selector.js");t.default=o.a.Collection.extend({model:s.default,modelId:function(e){return"".concat(e.name,"_").concat(e.type||s.default.TYPE_CLASS)},getStyleable:function(){return Object(i.filter)(this.models,function(e){return e.get("active")&&!e.get("private")})},getValid:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).noDisabled;return Object(i.filter)(this.models,function(e){return!e.get("private")}).filter(function(e){return t?e.get("active"):1})},getFullString:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=[];return(e||this).forEach(function(e){return i.push(e.getFullName(n))}),i.join("").trim()}})},"./src/selector_manager/view/ClassTagView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),s="contentEditable";t.default=r.a.View.extend({template:function(){var e=this.pfx,t=this.model,n=this.config,i=t.get("label")||"";return'\n      <span id="'.concat(e,'checkbox" class="').concat(e,'tag-status" data-tag-status></span>\n      <span id="').concat(e,'tag-label" data-tag-name>').concat(i,'</span>\n      <span id="').concat(e,'close" class="').concat(e,'tag-close" data-tag-remove>\n        ').concat(n.iconTagRemove,"\n      </span>\n    ")},events:{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"},initialize:function(e){var t=e.config||{};this.config=t,this.coll=e.coll||null,this.pfx=t.stylePrefix||"",this.ppfx=t.pStylePrefix||"",this.em=t.em,this.listenTo(this.model,"change:active",this.updateStatus)},getInputEl:function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},startEditTag:function(){var e=this.em,t=this.getInputEl();t[s]=!0,t.focus(),e&&e.setEditing(1)},endEditTag:function(){var e,t=this.model,n=this.getInputEl(),i=n.textContent,r=this.em,o=r&&r.get("SelectorManager");n[s]=!1,r&&r.setEditing(0),o&&(e=o.escapeName(i),o.get(e)?n.innerText=t.get("label"):t.set({name:e,label:i}))},changeStatus:function(){var e=this.model;e.set("active",!e.get("active"))},removeTag:function(){var e=this.em,t=this.model;(e&&e.getSelectedAll()).forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},updateStatus:function(){var e=this.model,t=this.$el,n=this.config,i=n.iconTagOn,r=n.iconTagOff,o=t.find("[data-tag-status]");e.get("active")?(o.html(i),t.removeClass("opac50")):(o.html(r),t.addClass("opac50"))},render:function(){var e=this.pfx,t=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(e,"tag ").concat(t,"three-bg")),this.updateStatus(),this}})},"./src/selector_manager/view/ClassTagsView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(i),u=n("./node_modules/underscore/underscore.js"),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),a=n("./src/selector_manager/view/ClassTagView.js");t.default=o.a.View.extend({template:function(e){var t=e.labelInfo,n=e.labelStates,i=e.labelHead,r=e.iconSync,o=e.iconAdd,s=e.pfx,a=e.ppfx;return'\n    <div id="'.concat(s,'up" class="').concat(s,'header">\n      <div id="').concat(s,'label" class="').concat(s,'header-label">').concat(i,'</div>\n      <div id="').concat(s,'status-c" class="').concat(s,'header-status">\n        <span id="').concat(s,'input-c" data-states-c>\n          <div class="').concat(a,"field ").concat(a,'select">\n            <span id="').concat(a,'input-holder">\n              <select id="').concat(s,'states" data-states>\n                <option value="">').concat(n,'</option>\n              </select>\n            </span>\n            <div class="').concat(a,'sel-arrow">\n              <div class="').concat(a,'d-s-arrow"></div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div id="').concat(s,'tags-field" class="').concat(a,'field">\n      <div id="').concat(s,'tags-c" data-selectors></div>\n      <input id="').concat(s,'new" data-input/>\n      <span id="').concat(s,'add-tag" class="').concat(s,"tags-btn ").concat(s,'tags-btn__add" data-add>\n        ').concat(o,'\n      </span>\n      <span class="').concat(s,"tags-btn ").concat(s,'tags-btn__sync" style="display: none" data-sync-style>\n        ').concat(r,'\n      </span>\n    </div>\n    <div class="').concat(s,'sels-info">\n      <div class="').concat(s,'label-sel">').concat(t,':</div>\n      <div class="').concat(s,'sels" data-selected></div>\n      <div style="clear:both"></div>\n    </div>')},events:{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.config=t.config||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.pfx+"tags",this.stateInputId=this.pfx+"states",this.stateInputC=this.pfx+"input-c",this.states=this.config.states||[];var n=this.config.em,i=this.getStyleEmitter(),r=this.collection;this.target=this.config.em,this.em=n;this.listenTo(n,"component:toggled component:update:classes",this.componentChanged),this.listenTo(i,"styleManager:update",this.componentChanged),this.listenTo(n,"component:update:classes change:state",this.__handleStateChange),this.listenTo(n,"styleable:change change:device",this.checkSync),this.listenTo(r,"add",this.addNew),this.listenTo(r,"reset",this.renderClasses),this.listenTo(r,"remove",this.tagRemoved),this.delegateEvents()},syncStyle:function(){var n,e=this.em,t=this.getTarget(),i=e.get("CssComposer"),r=this.getCommonSelectors({opts:{noDisabled:1}}),o=e.get("state"),s=e.getCurrentMedia(),a=[],l=i.get(r,o,s)||i.add(r,o,s);this.getTargets().forEach(function(e){var t=i.getIdRule(e.getId(),{state:o,mediaText:s});n=t.getStyle(),t.setStyle({}),a.push(t)}),n&&l.addStyle(n),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:r,mediaText:s,rule:l,ruleComponents:a,state:o})},getStyleEmitter:function(){var e=this.em,t=e&&e.get("StyleManager");return t&&t.getEmitter()||{}},tagRemoved:function(){this.updateStateVis()},getStateOptions:function(){var e=this.states,t=this.em,n=[];return e.forEach(function(e){return n.push('<option value="'.concat(e.name,'">').concat(t.t("selectorManager.states.".concat(e.name))||e.label||e.name,"</option>"))}),n.join("")},addNew:function(e){this.addToClasses(e)},startNewTag:function(){this.$addBtn.css({display:"none"}),this.$input.show().focus()},endNewTag:function(){this.$addBtn.css({display:""}),this.$input.hide().val("")},onInputKeyUp:function(e){13===e.keyCode?this.addNewTag(this.$input.val()):27===e.keyCode&&this.endNewTag()},checkStates:function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},componentChanged:Object(u.debounce)(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).targets;this.updateSelection(e)}),updateSelection:function(e){var t=e||this.getTargets(),n=[];return(t=Object(u.isArray)(t)?t:[t])&&t.length&&(n=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(t),n},getCommonSelectors:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.targets,i=t.opts,r=void 0===i?{}:i,o=(n||this.getTargets()).map(function(e){return e.getSelectors&&e.getSelectors().getValid(r)}).filter(function(e){return e});return this._commonSelectors.apply(this,s()(o))},_commonSelectors:function(){for(var n=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.length?1===t.length?t[0]:2===t.length?t[0].filter(function(e){return 0<=t[1].indexOf(e)}):t.slice(1).reduce(function(e,t){return n._commonSelectors(e,t)},t[0]):[]},checkSync:Object(u.debounce)(function(){var e,t,n=this.$btnSyncEl,i=this.config,r=this.collection,o=this.getTarget();o&&i.componentFirst&&r.length&&(e=o.getStyle(),t=!Object(u.isEmpty)(e)),n&&n[t?"show":"hide"]()}),getTarget:function(){return this.target.getSelected()},getTargets:function(){return this.target.getSelectedAll()},updateStateVis:function(e){var t=this.em,n=t&&t.getConfig("avoidInlineStyle"),i=this.collection.length||n?"":"none";this.getStatesC().css("display",i),this.updateSelector(e)},__handleStateChange:function(){this.updateSelector(this.getTargets())},updateSelector:function(e){var t=this,n=this.el.querySelector("[data-selected]"),i=[],r=e||this.getTargets();(r=Object(u.isArray)(r)?r:[r]).forEach(function(e){return i.push(t.__getName(e))}),n&&(n.innerHTML=i.join(", ")),this.checkStates()},__getName:function(e){var t=this.pfx,n=this.config,i=this.em,r=n.selectedName,o=n.componentFirst;if(Object(u.isString)(e))s='<span class="'.concat(t,'sel-gen">').concat(e,"</span>");else{if(!e||!e.get)return;var s,a=e.getSelectors().getStyleable(),l=i.get("state"),c=e.getId?'<span class="'.concat(t,'sel-cmp">').concat(e.getName(),'</span><span class="').concat(t,'sel-id">#').concat(e.getId(),"</span>"):"";s=(s=this.collection.getFullString(a))?'<span class="'.concat(t,'sel-rule">').concat(s,"</span>"):e.get("selectorsAdd")||c,s=o&&c?c:s,s+=l?'<span class="'.concat(t,'sel-state">:').concat(l,"</span>"):"",s=r?r({result:s,state:l,target:e}):s}return s&&'<span class="'.concat(t,'sel">').concat(s,"</span>")},stateChanged:function(e){var t=this.em,n=e.target.value;t.set("state",n)},addNewTag:function(e){var t,n=this,i=this.em;e.trim()&&(i&&(t=i.get("SelectorManager").add({label:e}),this.getTargets().forEach(function(e){e.getSelectors().add(t),n.collection.add(t),n.updateStateVis()})),this.endNewTag())},addToClasses:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,i=this.getClasses(),r=new a.default({model:e,config:this.config,coll:this.collection}).render().el;return n?n.appendChild(r):i.append(r),r},renderClasses:function(){var t=this,n=document.createDocumentFragment(),e=this.getClasses();e.empty(),this.collection.each(function(e){return t.addToClasses(e,n)}),e.append(n)},getClasses:function(){return this.$el.find("[data-selectors]")},getStates:function(){var e;return this.$states||(e=this.$el.find("[data-states]"),this.$states=e[0]&&e),this.$states},getStatesC:function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},render:function(){var e=this.em,t=this.pfx,n=this.ppfx,i=this.config,r=this.$el,o=this.el,s=i.render,a={iconSync:i.iconSync,iconAdd:i.iconAdd,labelHead:e.t("selectorManager.label"),labelStates:e.t("selectorManager.emptyState"),labelInfo:e.t("selectorManager.selected"),ppfx:n,pfx:t,el:o};r.html(this.template(a));var l=s&&s(a);l&&l!==o&&r.empty().append(l),this.$input=r.find("[data-input]"),this.$addBtn=r.find("[data-add]"),this.$classes=r.find("#"+t+"tags-c"),this.$btnSyncEl=r.find("[data-sync-style]"),this.$input.hide();var c=this.getStates();return c&&c.append(this.getStateOptions()),this.renderClasses(),r.attr("class","".concat(this.className," ").concat(n,"one-bg ").concat(n,"two-color")),this}})},"./src/storage_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={id:"gjs-",autosave:1,autoload:1,type:"local",stepsBeforeSave:1,storeComponents:1,storeStyles:1,storeHtml:1,storeCss:1,checkLocal:1,params:{},headers:{},urlStore:"",urlLoad:"",beforeSend:function(){},onComplete:function(){},contentTypeJson:!0,credentials:"include",fetchOptions:""}},"./src/storage_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(i),u=n("./src/storage_manager/config/config.js"),h=n("./src/storage_manager/model/LocalStorage.js"),d=n("./src/storage_manager/model/RemoteStorage.js");function f(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=function(){var n,l={},i={},r={},o="storage:start",s="storage:end",a="storage:error";return{name:"StorageManager",init:function(e){var t=0<arguments.length&&void 0!==e?e:{};return l=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){c()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},u.default,{},t),n=l.em,l._disable&&(l.type=0),r.remote=new d.default(l),r.local=new h.default(l),l.currentStorage=l.type,this.loadDefaultProviders().setCurrent(l.type),this},getConfig:function(){return l},isAutosave:function(){return!!l.autosave},setAutosave:function(e){return l.autosave=!!e,this},getStepsBeforeSave:function(){return l.stepsBeforeSave},setStepsBeforeSave:function(e){return l.stepsBeforeSave=e,this},add:function(e,t){return i[e]=t,this},get:function(e){return i[e]||null},getStorages:function(){return i},getCurrent:function(){return l.currentStorage},setCurrent:function(e){return l.currentStorage=e,this},store:function(e,t){var n=this,i=this.get(this.getCurrent()),r={};for(var o in this.onStart("store",e),e)r[l.id+o]=e[o];return i?i.store(r,function(e){t&&t(e),n.onEnd("store",e)},function(e){n.onError("store",e)}):null},load:function(e,r){var o=this,t=this.get(this.getCurrent()),n=[],s={};"string"==typeof e&&(e=[e]),this.onStart("load",e);for(var i=0,a=e.length;i<a;i++)n.push(l.id+e[i]);t?t.load(n,function(e){var t=new RegExp("^"+l.id);for(var n in e){var i=n.replace(t,"");s[i]=e[n]}r&&r(s),o.onEnd("load",s)},function(e){r&&r(s),o.onError("load",e)}):r&&r(s)},loadDefaultProviders:function(){for(var e in r)this.add(e,r[e]);return this},getCurrentStorage:function(){return this.get(this.getCurrent())},onStart:function(e,t){n&&(n.trigger(o),e&&n.trigger("".concat(o,":").concat(e),t))},onEnd:function(e,t){n&&(n.trigger(s),e&&n.trigger("".concat(s,":").concat(e),t))},onError:function(e,t){n&&(n.trigger(a,t),e&&n.trigger("".concat(a,":").concat(e),t),this.onEnd(e,t))},canAutoload:function(){return this.getCurrentStorage()&&this.getConfig().autoload}}}},"./src/storage_manager/model/LocalStorage.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i);t.default=r.a.Model.extend({defaults:{checkLocal:!0},store:function(e,t){for(var n in this.checkStorageEnvironment(),e)localStorage.setItem(n,e[n]);"function"==typeof t&&t()},load:function(e,t){this.checkStorageEnvironment();for(var n={},i=0,r=e.length;i<r;i++){var o=localStorage.getItem(e[i]);o&&(n[e[i]]=o)}return"function"==typeof t&&t(n),n},remove:function(e){this.checkStorageEnvironment();for(var t=0,n=e.length;t<n;t++)localStorage.removeItem(e[t])},checkStorageEnvironment:function(){this.get("checkLocal")&&!localStorage&&console.warn("Your browser doesn't support localStorage")}})},"./src/storage_manager/model/RemoteStorage.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),w=n.n(i),r=n("./node_modules/backbone/backbone.js"),o=n.n(r),s=n("./src/utils/fetch.js"),_=n("./node_modules/underscore/underscore.js");function x(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.a.Model.extend({fetch:s.default,defaults:{urlStore:"",urlLoad:"",params:{},beforeSend:function(){},onComplete:function(){},contentTypeJson:!1,credentials:"include",fetchOptions:""},onStart:function(){this.get("em");var e=this.get("beforeSend");e&&e()},onError:function(e,t){var n;t?t(e):(n=this.get("em"),console.error(e),n&&n.trigger("storage:error",e))},onResponse:function(e,t){var n=this.get("em"),i=this.get("onComplete"),r=this.get("contentTypeJson")&&(e&&"string"==typeof e)?JSON.parse(e):e;i&&i(r),t&&t(r),n&&n.trigger("storage:response",r)},store:function(e,t,n){var i={};for(var r in e)i[r]=e[r];this.request(this.get("urlStore"),{body:i},t,n)},load:function(e,t,n){this.request(this.get("urlLoad"),{method:"get"},t,n)},request:function(e,t,n,i){var r,o,s=this,a=1<arguments.length&&void 0!==t?t:{},l=2<arguments.length&&void 0!==n?n:null,c=3<arguments.length&&void 0!==i?i:null,u=this.get("contentTypeJson"),h=this.get("headers")||{},d=this.get("params"),f="X-Requested-With",p="Content-Type",g=a.body||{};for(var m in d)g[m]=d[m];if(Object(_.isUndefined)(h[f])&&(h[f]="XMLHttpRequest"),Object(_.isUndefined)(h[p])&&u&&(h[p]="application/json; charset=utf-8"),u)o=JSON.stringify(g);else for(var v in o=new FormData,g)o.append(v,g[v]);"post"===(r={method:a.method||"post",credentials:this.get("credentials"),headers:h}).method&&(r.body=o);var b=this.get("fetchOptions")||{},y=Object(_.isFunction)(b)?b(r):r;this.onStart(),this.fetch(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach(function(e){w()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},r,{},y||{})).then(function(e){return 1==(e.status/200|0)?e.text():e.text().then(function(e){return Promise.reject(e)})}).then(function(e){return s.onResponse(e,l)}).catch(function(e){return s.onError(e,c)})}})},"./src/style_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"sm-",sectors:[],appendTo:"",hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:0,avoidComputed:["width","height"]}},"./src/style_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),s=n("./node_modules/underscore/underscore.js"),a=n("./src/style_manager/config/config.js"),l=n("./src/style_manager/model/Sectors.js"),c=n("./src/style_manager/model/Properties.js"),u=n("./src/style_manager/view/SectorsView.js");function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var n,o,i,y={};return{name:"StyleManager",getConfig:function(){return y},init:function(e){var t=(y=h({},a.default,{},e)).pStylePrefix;return this.em=y.em,t&&(y.stylePrefix=t+y.stylePrefix),n=new c.default,o=new l.default([],y),i=new u.default({collection:o,target:y.em,config:y}),this},onLoad:function(){o.add(y.sectors,{silent:!0})},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(s.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},addSector:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=this.getSector(e);return r||(t.id=e,r=o.add(t,i)),r},getSector:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=o.where({id:e})[0];return!i&&n.warn&&this._logNoSector(e),i},removeSector:function(e){return this.getSectors().remove(this.getSector(e,{warn:1}))},getSectors:function(){return o},addProperty:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=this.getSector(e,{warn:1}),o=null;return r&&(o=r.get("properties").add(t,i)),o},getProperty:function(e,t){var n=this.getSector(e,{warn:1}),i=null;return n&&(i=1==(i=n.get("properties").where({property:t})).length?i[0]:i),i},removeProperty:function(e,t){var n=this.getProperties(e);return n&&n.remove(this.getProperty(e,t))},getProperties:function(e){var t=null,n=this.getSector(e,{warn:1});return n&&(t=n.get("properties")),t},getModelToStyle:function(e,t){var n,i,r,o,s,a,l,c,u,h,d,f,p=1<arguments.length&&void 0!==t?t:{},g=y.em,m=p.skipAdd,v=e.get("classes"),b=e.getId();return g&&(n=g.getConfig(),i=g.get("UndoManager"),r=g.get("CssComposer"),s=(o=g.get("SelectorManager"))?o.getConfig():{},a=n.devicePreviewMode?"":g.get("state"),c=(l=v.getStyleable()).length,u=!s.componentFirst||p.useClasses,h={state:a},i.stop(),c&&u?(d=g.getCurrentMedia(),(f=r.get(l,a,d))||m||(f=r.add(l,a,d))):n.avoidInlineStyle&&((f=r.getIdRule(b,h))||m||(f=r.setIdRule(b,{},h)),e.is("wrapper")&&f.set("wrapper",1)),f&&(e=f),i.start()),e},addType:function(e,t){n.addType(e,t)},getType:function(e){return n.getType(e)},getTypes:function(){return n.getTypes()},createType:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=n.model,r=void 0===i?{}:i,o=n.view,s=void 0===o?{}:o,a=this.getType(e);if(a)return new a.view(h({model:new a.model(r),config:y},s))},setTarget:function(e,t){return i.setTarget(e,t)},getEmitter:function(){return i.propTarget},render:function(){return i.render().el},_logNoSector:function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))}}}},"./src/style_manager/model/Layer.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),s=n("./src/style_manager/model/Properties.js");t.default=r.a.Model.extend({defaults:{index:"",value:"",values:{},active:!1,preview:!1,properties:[]},initialize:function(){var e=this.get("properties"),t=this.get("value");this.set("properties",e instanceof s.default?e:new s.default(e));var n=this.get("properties");if(n.forEach(this.onPropAdd,this),this.listenTo(n,"add",this.onPropAdd),!t){var i="",r=this.get("values");for(var o in r)i+=" "+r[o];this.set("value",i.trim())}},onPropAdd:function(e){var t=this.collection;e.parent=t&&t.property},getPropertyAt:function(e){return this.get("properties").at(e)},getPropertyValue:function(t){var n="";return this.get("properties").each(function(e){e.get("property")==t&&(n=e.getFullValue())}),n},getFullValue:function(){var t=[];return this.get("properties").each(function(e){return t.push(e.getFullValue())}),t.join(" ").trim()}})},"./src/style_manager/model/Layers.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),l=n("./src/style_manager/model/Layer.js");function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=a.a.Collection.extend({model:l.default,initialize:function(){this.idx=1,this.on("add",this.onAdd),this.on("reset",this.onReset)},onAdd:function(e,t,n){n.noIncrement||e.set("index",this.idx++),n.active&&this.active(this.indexOf(e))},onReset:function(){this.idx=1},getSeparator:function(){var e=this.property;return e?e.get("layerSeparator"):", "},getLayersFromValue:function(n){var t=this,i=[];return n.replace(/\(([\w\s,.]*)\)/g,function(e){var t=e.replace(/,\s*/g,",");n=n.replace(e,t)}),(n?n.split(this.getSeparator()):[]).forEach(function(e){i.push({properties:t.properties.parseValue(e)})}),i},getLayersFromStyle:function(t){var o=[],e=this.properties;return e.each(function(r){var e=t[r.get("property")];(e?e.split(", "):[]).forEach(function(e,t){e=r.parseValue(e.trim()).value;var n=o[t],i=u({},r.attributes,{},{value:e});n?n.properties.push(i):o[t]={properties:[i]}})}),o.forEach(function(n){var i=n.properties.map(function(e){return e.property});e.each(function(e){var t=e.get("property");i.indexOf(t)<0&&n.properties.push(u({},e.attributes))})}),o},active:function(e){this.each(function(e){return e.set("active",0)});var t=this.at(e);t&&t.set("active",1)},getFullValue:function(){var t=[];return this.each(function(e){return t.push(e.getFullValue())}),t.join(this.getSeparator())},getPropertyValues:function(n,i){var r=[];return this.each(function(e){var t=e.getPropertyValue(n);t?r.push(t):Object(o.isUndefined)(i)||r.push(i)}),r.join(", ")}})},"./src/style_manager/model/Properties.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(i),r=n("./node_modules/backbone/backbone.js"),s=n.n(r),a=n("./src/domain_abstract/model/TypeableCollection.js"),l=n("./src/style_manager/model/Property.js"),c=n("./src/style_manager/model/PropertyStack.js"),u=n("./src/style_manager/view/PropertyStackView.js"),h=n("./src/style_manager/model/PropertyComposite.js"),d=n("./src/style_manager/view/PropertyCompositeView.js"),f=n("./src/style_manager/view/PropertyFileView.js"),p=n("./src/style_manager/view/PropertyColorView.js"),g=n("./src/style_manager/model/PropertySelect.js"),m=n("./src/style_manager/view/PropertySelectView.js"),v=n("./src/style_manager/model/PropertyRadio.js"),b=n("./src/style_manager/view/PropertyRadioView.js"),y=n("./src/style_manager/model/PropertySlider.js"),w=n("./src/style_manager/view/PropertySliderView.js"),_=n("./src/style_manager/model/PropertyInteger.js"),x=n("./src/style_manager/view/PropertyIntegerView.js"),C=n("./src/style_manager/view/PropertyView.js");function k(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=s.a.Collection.extend(a.default).extend({types:[{id:"stack",model:c.default,view:u.default,isType:function(e){if(e&&"stack"==e.type)return e}},{id:"composite",model:h.default,view:d.default,isType:function(e){if(e&&"composite"==e.type)return e}},{id:"file",model:l.default,view:f.default,isType:function(e){if(e&&"file"==e.type)return e}},{id:"color",model:l.default,view:p.default,isType:function(e){if(e&&"color"==e.type)return e}},{id:"select",model:g.default,view:m.default,isType:function(e){if(e&&"select"==e.type)return e}},{id:"radio",model:v.default,view:b.default,isType:function(e){if(e&&"radio"==e.type)return e}},{id:"slider",model:y.default,view:w.default,isType:function(e){if(e&&"slider"==e.type)return e}},{id:"integer",model:_.default,view:x.default,isType:function(e){if(e&&"integer"==e.type)return e}},{id:"base",model:l.default,view:C.default,isType:function(e){return e.type="base",e}}],deepClone:function(){var e=this.clone();return e.reset(e.map(function(e){var t=e.clone();return t.typeView=e.typeView,t})),e},parseValue:function(e){var i=this,r=[];return e.split(" ").forEach(function(e,t){var n=i.at(t);n&&r.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n.attributes,{},{value:e}))}),r},getFullValue:function(){var t="";return this.each(function(e){return t+="".concat(e.getFullValue()," ")}),t.trim()}})},"./src/style_manager/model/Property.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),h=n("./node_modules/underscore/underscore.js"),a=n("./src/utils/mixins.js");function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var u=s.a.Model.extend({defaults:{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:0,important:0,toRequire:0,requires:null,requiresParent:null},initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{},r=this.get("id")||"",o=this.get("name")||"";this.get("property")||this.set("property",(o||r).replace(/ /g,"-"));var s=this.get("property");this.get("id")||this.set("id",s),o||this.set("name",Object(a.capitalize)(s).replace(/-/g," ")),u.callInit(this,n,i)},init:function(){},clearValue:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.set({value:void 0,status:""},t),this},setValue:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:1,r=2<arguments.length&&void 0!==n?n:{},o=this.parseValue(e),s=!i;s||this.set({value:""},{avoidStore:s,silent:!0}),this.set(o,c({avoidStore:s},r))},setValueFromInput:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};this.setValue(e,t,c({},i,{fromInput:1}))},parseValue:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i={value:e},r="!important";if(Object(h.isString)(e)&&-1!==e.indexOf(r)&&(i.value=e.replace(r,"").trim(),i.important=1),!this.get("functionName")&&!n.complete)return i;var o,s=[],a="".concat(i.value),l=a.indexOf("(")+1,c=a.lastIndexOf(")"),u=a.substring(0,l-1);return u&&(i.functionName=u),s.push(l),0<=c&&s.push(c),i.value=String.prototype.substring.apply(a,s),n.numeric&&(o=parseFloat(i.value),i.unit=i.value.replace(o,""),i.value=o),i},splitValues:function(e,t){var n=1<arguments.length&&void 0!==t?t:",",i=[],r="",o=0;return(e||"").split("").forEach(function(e){"("==e?(o++,r+="("):")"==e&&0<o?(o--,r+=")"):e===n&&0==o?(i.push(r),r=""):r+=e}),""!==r&&i.push(r),i.map(function(e){return e.trim()})},getDefaultValue:function(){return this.get("defaults")},getFullValue:function(e){var t=this.get("functionName"),n=this.getDefaultValue(),i=Object(h.isUndefined)(e)?this.get("value"):e,r=!Object(h.isUndefined)(i)&&""!==i;return i&&n&&i===n?n:(t&&r&&(i="".concat(t,"(").concat(i,")")),r&&this.get("important")&&(i="".concat(i," !important")),i||"")}},{callParentInit:function(e,t,n,i){var r=3<arguments.length&&void 0!==i?i:{};e.prototype.initialize.apply(t,[n,c({},r,{skipInit:1})])},callInit:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};i.skipInit||e.init(t,i)}});t.default=u},"./src/style_manager/model/PropertyComposite.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=s.n(n),a=s("./src/style_manager/model/Property.js");function r(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=a.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},a.default.prototype.defaults,{detached:0,properties:[],separator:" "}),initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};a.default.callParentInit(a.default,this,n,i);var r=this.get("properties")||[],o=s("./src/style_manager/model/Properties.js").default;this.set("properties",new o(r)),this.listenTo(this,"change:value",this.updateValues),a.default.callInit(this,n,i)},clearValue:function(e){return this.get("properties").each(function(e){return e.clearValue()}),a.default.prototype.clearValue.apply(this,arguments)},updateValues:function(){var i=this.getFullValue().split(this.getSplitSeparator());this.get("properties").each(function(e,t){var n=i.length;i[t]||i[t%n+(1!=n&&n%2?1:0)]})},getSplitSeparator:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},getDefaultValue:function(e){var n=this.get("defaults");return n&&!e?n:(n="",this.get("properties").each(function(e,t){return n+="".concat(e.getDefaultValue()," ")}),n.trim())},getFullValue:function(){return this.get("detached")?"":this.get("properties").getFullValue()},getPropertyAt:function(e){return this.get("properties").at(e)}})},"./src/style_manager/model/PropertyFactory.js":function(e,t,n){"use strict";n.r(t),t.default=function(){return{build:function(e){var t=[];"string"==typeof e&&(e=[e]);for(var n=0,i=e.length;n<i;n++){var r={},o=e[n];switch(r.property=o){case"border-radius-c":r.property="border-radius"}switch(o){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":r.fixedValues=["initial","inherit","auto"];break;case"font-size":r.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":r.fixedValues=["normal","initial","inherit"]}switch(o){case"float":case"position":case"text-align":r.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":r.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":r.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":r.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":r.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":r.type="stack";break;case"background-image":r.type="file"}switch(o){case"float":case"background-color":case"text-shadow":r.defaults="none";break;case"display":r.defaults="block";break;case"flex-direction":r.defaults="row";break;case"flex-wrap":r.defaults="nowrap";break;case"justify-content":r.defaults="flex-start";break;case"align-items":case"align-content":r.defaults="stretch";break;case"align-self":r.defaults="auto";break;case"position":r.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":r.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":r.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":r.defaults=1;break;case"box-shadow-blur":r.defaults="5px";break;case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":r.defaults="auto";break;case"font-family":r.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":r.defaults="medium";break;case"font-weight":r.defaults="400";break;case"letter-spacing":case"line-height":r.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":r.defaults="black";break;case"text-align":r.defaults="left";break;case"border-style":r.defaults="solid";break;case"box-shadow-type":r.defaults="";break;case"background-repeat":r.defaults="repeat";break;case"background-position":r.defaults="left top";break;case"background-attachment":r.defaults="scroll";break;case"transition-property":r.defaults="width";break;case"transition-duration":r.defaults="2";break;case"transition-timing-function":r.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":r.defaults="visible"}switch(o){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":r.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":r.requiresParent={display:["flex"]}}switch(o){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":r.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":r.units=["px","%","vw"];break;case"flex-basis":r.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":r.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":r.units=["px","em","rem","%"];break;case"border-width":r.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":r.units=["px"];break;case"transition-duration":r.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":r.units=["deg"]}switch(o){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":r.min=0}switch(o){case"text-shadow":case"box-shadow":case"background":r.preview=!0}switch(o){case"background":r.detached=!0}switch(o){case"transform-rotate-x":r.functionName="rotateX";break;case"transform-rotate-y":r.functionName="rotateY";break;case"transform-rotate-z":r.functionName="rotateZ";break;case"transform-scale-x":r.functionName="scaleX";break;case"transform-scale-y":r.functionName="scaleY";break;case"transform-scale-z":r.functionName="scaleZ";break;case"background-image":r.functionName="url"}switch(o){case"float":r.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":r.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":r.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":r.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":r.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":r.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var s=", sans-serif",a=["Arial, Helvetica"+s,"Arial Black, Gadget"+s,"Brush Script MT"+s,"Comic Sans MS, cursive"+s,"Courier New, Courier, monospace","Georgia, serif","Helvetica, serif","Impact, Charcoal"+s,"Lucida Sans Unicode, Lucida Grande"+s,"Tahoma, Geneva"+s,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+s,"Verdana, Geneva"+s];r.list=[];for(var l=0,c=a.length;l<c;l++){var u={};u.value=a[l],u.name=a[l].split(",")[0],r.list.push(u)}break;case"font-weight":r.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":r.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":r.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":r.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":r.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":r.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":r.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":r.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":r.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":r.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":r.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":r.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(o){case"margin":r.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":r.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":r.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":r.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":r.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":r.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":r.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":r.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":r.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}t.push(r)}return t}}}},"./src/style_manager/model/PropertyInteger.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/model/Property.js"),a=n("./src/domain_abstract/ui/InputNumber.js");function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=s.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s.default.prototype.defaults,{units:[],unit:"",step:1,min:"",max:""}),initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};s.default.callParentInit(s.default,this,n,i);var r=this.get("unit"),o=this.get("units");this.input=new a.default({model:this}),o.length&&!r&&this.set("unit",o[0]),s.default.callInit(this,n,i)},clearValue:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.set({value:void 0,unit:void 0},t),this},parseValue:function(e){var t=s.default.prototype.parseValue.apply(this,arguments),n=this.input.validateInputValue(t.value,{deepCheck:1}),i=n.value,r=n.unit;return t.value=i,t.unit=r,t},getFullValue:function(){var e=this.get("value"),t=this.get("unit"),e=Object(o.isUndefined)(e)?"":e,t=!Object(o.isUndefined)(t)&&e?t:"";return e="".concat(e).concat(t),s.default.prototype.getFullValue.apply(this,[e])}})},"./src/style_manager/model/PropertyRadio.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),r=n.n(i),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(o),a=n("./src/style_manager/model/Property.js");function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=a.default.extend({defaults:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},a.default.prototype.defaults,{options:[],full:1})},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.onOptionChange)},onOptionChange:function(){this.set("list",this.get("options"))},getOptions:function(){var e=this.attributes,t=e.options,n=e.list;return t&&t.length?t:n},setOptions:function(e){var t=0<arguments.length&&void 0!==e?e:[];return this.set("options",t),this},addOption:function(e){var t;return e&&(t=this.getOptions(),this.setOptions([].concat(r()(t),[e]))),this}})},"./src/style_manager/model/PropertySelect.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/style_manager/model/PropertyRadio.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults(),{full:0})}})},"./src/style_manager/model/PropertySlider.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/style_manager/model/PropertyInteger.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.defaults,{showInput:1})})},"./src/style_manager/model/PropertyStack.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),a=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/model/PropertyComposite.js"),l=n("./src/style_manager/model/Layers.js");function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=s.default.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},s.default.prototype.defaults,{layers:[],layerSeparator:", ",prepend:0,preview:0}),initialize:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};s.default.callParentInit(s.default,this,n,i);var r=this.get("layers"),o=new l.default(r);o.property=this,o.properties=this.get("properties"),this.set("layers",o),s.default.callInit(this,n,i)},getLayers:function(){return this.get("layers")},getCurrentLayer:function(){return this.getLayers().filter(function(e){return e.get("active")})[0]},getFullValue:function(){return this.get("detached")?"":this.get("layers").getFullValue()},getValueFromStyle:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.getLayers().getLayersFromStyle(t);return new l.default(n).getFullValue()},clearValue:function(){return this.getLayers().reset(),s.default.prototype.clearValue.apply(this,arguments)},getValueFromTarget:function(e){var t=this.attributes,n=t.detached,i=t.property,r=t.properties,o=e.getStyle(),s={};return r.forEach(function(e){var t=e.get("property"),n=o[t];n&&(s[t]=n)}),n?Object(a.keys)(s).length?s:"":o[i]},getLayersFromTarget:function(){}})},"./src/style_manager/model/Sector.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),p=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/model/Properties.js"),o=n("./src/style_manager/model/PropertyFactory.js");t.default=r.a.Model.extend({defaults:{id:"",name:"",open:!0,buildProps:"",extendBuilded:1,properties:[]},initialize:function(e){var t=e||{},n=this.buildProperties(t.buildProps),i=this.get("name")||"",r=[];this.get("id")||this.set("id",i.replace(/ /g,"_").toLowerCase()),r=n?this.extendProperties(n):this.get("properties");var o=new s.default(r);(o.sector=this).set("properties",o)},extendProperties:function(e,t,n){for(var i=e.length,r=t||this.get("properties"),o=this.get("extendBuilded"),s=[],a=0,l=r.length;a<l;a++){for(var c=r[a],u=0,h=0;h<i;h++){var d,f=e[h];c.property!=f.property&&c.id!=f.property||((d=c.properties)&&d.length&&(c.properties=this.extendProperties(f.properties||[],d,1)),e[h]=o?Object(p.extend)(f,c):c,s[h]=e[h],u=1)}u||(e.push(c),s.push(c))}return n?s.filter(function(e){return e}):e},buildProperties:function(e){var t=e||[];if(t.length)return this.propFactory||(this.propFactory=new o.default),this.propFactory.build(t)}})},"./src/style_manager/model/Sectors.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/style_manager/model/Sector.js");t.default=r.a.Collection.extend({model:o.default})},"./src/style_manager/view/LayerView.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),s=n.n(i),l=n("./src/style_manager/view/PropertiesView.js");t.default=s.a.View.extend({events:{click:"active","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"},template:function(e){var t=this.pfx,n=this.ppfx,i=this.em,r="".concat(i&&i.t("styleManager.layer")," ").concat(e.get("index"));return'\n      <div id="'.concat(t,'move" class="').concat(n,'no-touch-actions" data-move-layer>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div id="').concat(t,'label">').concat(r,'</div>\n      <div id="').concat(t,'preview-box">\n      \t<div id="').concat(t,'preview" data-preview></div>\n      </div>\n      <div id="').concat(t,'close-layer" class="').concat(t,'btn-close" data-close-layer>\n        &Cross;\n      </div>\n      <div id="').concat(t,'inputs" data-properties></div>\n      <div style="clear:both"></div>\n    ')},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model;this.stackModel=t.stackModel,this.config=t.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.sorter=t.sorter||null,this.propsConfig=t.propsConfig||{},this.customPreview=t.onPreview,this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change:active",this.updateVisibility),this.listenTo(n.get("properties"),"change",this.updatePreview),n.view=this,n.set({droppable:0,draggable:1}),this.$el.data("model",n)},initSorter:function(){this.sorter&&this.sorter.startSort(this.el)},removeItem:function(e){e&&e.stopPropagation(),this.remove()},remove:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,i=this.props,r=n.collection,o=this.stackModel;s.a.View.prototype.remove.apply(this,arguments),r&&r.contains(n)&&r.remove(n),o&&o.set&&(o.set({stackIndex:null},{silent:!0}),t.fromTarget||o.trigger("updateValue")),i&&i.remove()},onPreview:function(e){var t=this.stackModel,s=t&&t.get("detached"),a=e.split(" "),l=[],c={};return this.model.get("properties").each(function(e,t){var n,i,r=e.get("property"),o=s?e.getFullValue():a[t]||"";o&&"integer"==e.get("type")&&(i=parseInt(o,10),n=o.replace(i,""),o=(i=(i=3<(i=isNaN(i)?0:i)?3:i)<-3?-3:i)+n),l.push(o),c[r]=o}),s?c:l.join(" ")},updatePreview:function(){var e,n,t=this.stackModel,i=this.customPreview,r=this.getPreviewEl(),o=this.model.getFullValue(),s=i?i(o):this.onPreview(o);s&&t&&r&&(e=r.style,Object(a.isString)(s)?e[t.get("property")]=s:(n=[],Object(a.each)(s,function(e,t){return n.push("".concat(t,":").concat(e))}),r.setAttribute("style",n.join(";"))))},getPropertiesWrapper:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},getPreviewEl:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},active:function(){var e=this.model,t=e.collection;t.active(t.indexOf(e))},updateVisibility:function(){var e=this.pfx,t=this.getPropertiesWrapper(),n=this.model.get("active");t.style.display=n?"":"none",this.$el[n?"addClass":"removeClass"]("".concat(e,"active"))},render:function(){var e=this.propsConfig,t=this.model,n=this.el,i=this.pfx,r=t.get("preview"),o=new l.default({collection:t.get("properties"),config:this.config,target:e.target,customValue:e.customValue,propTarget:e.propTarget,onChange:e.onChange}),s=o.render().el;return n.innerHTML=this.template(t),n.className="".concat(i,"layer").concat(r?"":" ".concat(i,"no-preview")),this.props=o,this.getPropertiesWrapper().appendChild(s),this.updateVisibility(),this.updatePreview(),this}})},"./src/style_manager/view/LayersView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),h=n("./src/style_manager/view/LayerView.js");t.default=r.a.View.extend({initialize:function(e){this.config=e.config||{},this.stackModel=e.stackModel,this.preview=e.preview,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.propsConfig=e.propsConfig;var t=this.pfx,n=this.ppfx,i=this.collection;this.className="".concat(t,"layers ").concat(n,"field"),this.listenTo(i,"add",this.addTo),this.listenTo(i,"deselectAll",this.deselectAll),this.listenTo(i,"reset",this.reset),this.items=[];var r=this.config.em||"",o=r?r.get("Utils"):"";this.sorter=o?new o.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(t,"layers"),itemSel:".".concat(t,"layer"),pfx:this.config.pStylePrefix}):"",(i.view=this).$el.data("model",i),this.$el.data("collection",i)},addTo:function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},addToCollection:function(e,t,n){var i=t||null,r=this.stackModel,o=this.config,s=this.sorter,a=this.propsConfig;void 0!==this.preview&&e.set("preview",this.preview);var l,c=new h.default({model:e,config:o,sorter:s,stackModel:r,propsConfig:a}),u=c.render().el;return this.items.push(c),i?i.appendChild(u):void 0!==n?(l="before",this.$el.children().length==n&&(n--,l="after"),n<0?this.$el.append(u):this.$el.children().eq(n)[l](u)):this.$el.append(u),u},deselectAll:function(){this.$el.find("."+this.pfx+"layer").removeClass(this.pfx+"active")},reset:function(e,t){this.clearItems(t),this.render()},render:function(){var t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(e){this.addToCollection(e,t)},this),this.$el.append(t),this.$el.attr("class",this.className),this.sorter&&(this.sorter.plh=null),this},remove:function(){this.clearItems(),r.a.View.prototype.remove.apply(this,arguments)},clearItems:function(t){this.items.forEach(function(e){return e.remove(t)}),this.items=[]}})},"./src/style_manager/view/PropertiesView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),a=n("./src/utils/dom.js");t.default=r.a.View.extend({initialize:function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix||"",this.target=e.target||{},this.propTarget=e.propTarget||{},this.onChange=e.onChange,this.onInputRender=e.onInputRender||{},this.customValue=e.customValue||{},this.properties=[];var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.render)},addTo:function(e,t,n){this.add(e,null,n)},add:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=t||this.el,o=new e.typeView({model:e,name:e.get("name"),id:this.pfx+e.get("property"),target:this.target,propTarget:this.propTarget,onChange:this.onChange,onInputRender:this.onInputRender,config:this.config});"composite"!=e.get("type")&&(o.customValue=this.customValue),o.render();var s=o.el;this.properties.push(o),o.updateVisibility(),Object(a.appendAtIndex)(r,s,i.at)},render:function(){var t=this,e=this.$el;this.clearItems();var n=document.createDocumentFragment();return this.collection.each(function(e){return t.add(e,n)}),e.empty(),e.append(n),e.attr("class","".concat(this.pfx,"properties")),this},remove:function(){r.a.View.prototype.remove.apply(this,arguments),this.clearItems()},clearItems:function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]}})},"./src/style_manager/view/PropertyColorView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/style_manager/view/PropertyIntegerView.js"),s=n("./src/domain_abstract/ui/InputColor.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({setValue:function(e,t){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n=1<arguments.length&&void 0!==t?t:{},{silent:1});this.inputInst.setValue(e,n)},onRender:function(){var e,t;this.input||(e=this.ppfx,t=new s.default({target:this.target,model:this.model,ppfx:e}).render(),this.el.querySelector(".".concat(e,"fields")).appendChild(t.el),this.$input=t.inputEl,this.$color=t.colorEl,this.input=this.$input.get(0),this.inputInst=t)}})},"./src/style_manager/view/PropertyCompositeView.js":function(e,t,i){"use strict";i.r(t);var n=i("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=i.n(n),o=i("./node_modules/backbone/backbone.js"),s=i.n(o),a=i("./src/style_manager/view/PropertyView.js");function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var c=s.a.$;t.default=a.default.extend({templateInput:function(){var e=this.pfx;return'\n      <div class="'.concat(e,"field ").concat(e,'composite">\n        <span id="').concat(e,'input-holder"></span>\n      </div>\n    ')},inputValueChanged:function(){if(!this.model.get("detached")){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.inputValueChanged.apply(this,t)}},clear:function(e){var t=this.properties;t&&t.forEach(function(e){return e.clear()}),a.default.prototype.clear.apply(this,arguments)},onRender:function(){var e,n=this.model,t=n.get("properties")||[];this.properties=[],t.length&&(this.$input||(this.$input=c('<input type="hidden" value="0">'),this.input=this.$input.get(0)),this.props||(this.props=n.get("properties")),this.$props||(this.props.each(function(e,t){e&&"composite"==e.get("type")&&(this.props.remove(e),console.warn("Nested composite types not yet allowed.")),e.parent=n},this),e=new(i("./src/style_manager/view/PropertiesView.js").default)(this.getPropsConfig()),this.$props=e.render().$el,this.properties=e.properties,this.$el.find("#".concat(this.pfx,"input-holder")).append(this.$props)))},getPropsConfig:function(){var n=this,i=this.model,e={config:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.config,{highlightComputed:0}),collection:this.props,target:this.target,propTarget:this.propTarget,onChange:function(e,t,n){i.set("value",i.getFullValue(),n)},customValue:function(e,t){return n.valueOnIndex(t,e)}};return i.get("detached")&&delete e.onChange,e},valueOnIndex:function(e,t){var n=this.getTargetValue({ignoreDefault:1});return n?n.split(this.model.getSplitSeparator())[e]:t&&t.getTargetValue({ignoreCustomValue:1,ignoreDefault:1})},clearCached:function(){a.default.prototype.clearCached.apply(this,arguments),this.$input=null,this.props=null,this.$props=null}})},"./src/style_manager/view/PropertyFileView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),i=n("./node_modules/backbone/backbone.js"),o=n.n(i),s=n("./src/style_manager/view/PropertyView.js"),a=o.a.$;t.default=s.default.extend({templateInput:function(){var e=this.pfx,t=this.em;return'\n    <div class="'.concat(e,"field ").concat(e,"file\">\n      <div id='").concat(e,"input-holder'>\n        <div class=\"").concat(e,'btn-c">\n          <button class="').concat(e,'btn" id="').concat(e,'images" type="button">\n            ').concat(t.t("styleManager.fileButton"),'\n          </button>\n        </div>\n        <div style="clear:both;"></div>\n      </div>\n      <div id="').concat(e,'preview-box">\n        <div id="').concat(e,'preview-file"></div>\n        <div id="').concat(e,'close">&Cross;</div>\n      </div>\n    </div>\n    ')},init:function(){var e=this.em;this.modal=e.get("Modal"),this.am=e.get("AssetManager"),this.events["click #"+this.pfx+"close"]="removeFile",this.events["click #"+this.pfx+"images"]="openAssetManager",this.delegateEvents()},onRender:function(){var e;this.$input||(e=this.model.getDefaultValue(),this.$input=a('<input placeholder="'.concat(e,'">'))),this.$preview||(this.$preview=this.$el.find("#"+this.pfx+"preview-file")),this.$previewBox||(this.$previewBox=this.$el.find("#"+this.pfx+"preview-box")),this.setValue(this.componentValue,0)},clearCached:function(){s.default.prototype.clearCached.apply(this,arguments),this.$preview=null,this.$previewBox=null},setValue:function(e,t){s.default.prototype.setValue.apply(this,arguments),this.setPreviewView(e&&e!=this.model.getDefaultValue()),this.setPreview(e)},setPreviewView:function(e){var t=this.$previewBox;t&&t[e?"addClass":"removeClass"]("".concat(this.pfx,"show")),t&&t.css({display:e?"block":"none"})},spreadUrl:function(e){this.model.set("value",e),this.setPreviewView(1)},setPreview:function(e){var t=this.$preview;e=e&&e.indexOf("url(")<0?"url(".concat(e,")"):e,t&&t.css("background-image",e)},cleanValue:function(){this.setPreviewView(0),this.model.set({value:""},{silent:!0})},removeFile:function(){this.model.set("value",this.model.getDefaultValue());for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.default.prototype.cleanValue.apply(this,t),this.setPreviewView(0)},openAssetManager:function(){var n=this,e=this.em,i=this.modal,t=e?e.get("Editor"):"";t&&t.runCommand("open-assets",{types:["image"],accept:"image/*",target:this.getTargetModel(),onClick:function(){},onDblClick:function(){},onSelect:function(e){i.close();var t=Object(r.isString)(e)?e:e.get("src");n.spreadUrl(t)}})}})},"./src/style_manager/view/PropertyIntegerView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/style_manager/view/PropertyView.js"),s=r.a.$;t.default=o.default.extend({templateInput:function(){return""},init:function(){var e=this.model;this.listenTo(e,"change:unit",this.modelValueChanged),this.listenTo(e,"el:change",this.elementUpdated),this.listenTo(e,"change:units",this.render)},setValue:function(e){var t=this.model.parseValue(e);e="".concat(t.value).concat(t.unit),this.inputInst.setValue(e,{silent:1})},onRender:function(){var e,t=this.ppfx;this.input||((e=this.model.input).ppfx=t,e.render(),this.el.querySelector(".".concat(t,"fields")).appendChild(e.el),this.$input=e.inputEl,this.unit=e.unitEl,this.$unit=s(this.unit),this.input=this.$input.get(0),this.inputInst=e)},clearCached:function(){o.default.prototype.clearCached.apply(this,arguments),this.unit=null,this.$unit=null}})},"./src/style_manager/view/PropertyRadioView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/style_manager/view/PropertyView.js");t.default=i.default.extend({templateInput:function(){this.pfx;var e=this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'field-radio">\n      </div>\n    ')},onRender:function(){var o,e,s=this.pfx,a=this.ppfx,l="".concat(a,"radio-item-label"),t=this.model,c=t.get("property"),n=t.get("list")||t.get("options")||[],u=t.cid,h="".concat(s,"radio ").concat(s,"radio-").concat(c);this.input||n&&n.length&&(o="",n.forEach(function(e){var t=e.className?"".concat(e.className," ").concat(s,"icon ").concat(l):"",n="".concat(c,"-").concat(e.value,"-").concat(u),i=e.name||e.value,r=e.title?'title="'.concat(e.title,'"'):"";o+='\n            <div class="'.concat(a,'radio-item">\n              <input type="radio" class="').concat(h,'" id="').concat(n,'" name="').concat(c,"-").concat(u,'" value="').concat(e.value,'"/>\n              <label class="').concat(t||l,'" ').concat(r,' for="').concat(n,'">').concat(t?"":i,"</label>\n            </div>\n          ")}),(e=this.el.querySelector(".".concat(a,"field"))).innerHTML='<div class="'.concat(a,'radio-items">').concat(o,"</div>"),this.input=e.firstChild)},getInputValue:function(){var e=this.getCheckedEl();return e?e.value:""},getCheckedEl:function(){var e=this.getInputEl();return e?e.querySelector("input:checked"):""},setValue:function(e){var t,n=this.model,i=e||n.get("value")||n.getDefaultValue(),r=this.getInputEl(),o=r?r.querySelector('[value="'.concat(i,'"]')):"";o?o.checked=!0:(t=this.getCheckedEl())&&(t.checked=!1)}})},"./src/style_manager/view/PropertySelectView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./src/style_manager/view/PropertyView.js");r.a.$;t.default=o.default.extend({templateInput:function(){var e=this.pfx,t=this.ppfx;return'\n      <div class="'.concat(t,"field ").concat(t,'select">\n        <span id="').concat(e,'input-holder"></span>\n        <div class="').concat(t,'sel-arrow">\n          <div class="').concat(t,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.default.prototype.initialize.apply(this,t),this.listenTo(this.model,"change:options",this.updateOptions)},updateOptions:function(){this.input=null,this.onRender()},onRender:function(){var o,e,t=this.pfx,n=this.model.getOptions();this.input||(o="",n.forEach(function(e){var t=e.name||e.value,n=e.style?e.style.replace(/"/g,"&quot;"):"",i=n?'style="'.concat(n,'"'):"",r=e.value.replace(/"/g,"&quot;");o+='<option value="'.concat(r,'" ').concat(i,">").concat(t,"</option>")}),(e=this.el.querySelector("#".concat(t,"input-holder"))).innerHTML="<select>".concat(o,"</select>"),this.input=e.firstChild)}})},"./src/style_manager/view/PropertySliderView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./src/style_manager/view/PropertyIntegerView.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}t.default=o.default.extend({events:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o.default.prototype.events,{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},templateInput:function(e){var t=this.ppfx;return'\n      <div class="'.concat(t,"field ").concat(t,'field-range">\n        <input type="range"\n          min="').concat(e.get("min"),'"\n          max="').concat(e.get("max"),'"\n          step="').concat(e.get("step"),'"/>\n      </div>\n    ')},getSliderEl:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},inputValueChanged:function(){var e=this.model,t=e.get("step");this.getInputEl().value=this.getSliderEl().value;var n=this.getInputValue()-t;e.set("value",n,{avoidStore:1}).set("value",n+t),this.elementUpdated()},inputValueChangedSoft:function(){this.getInputEl().value=this.getSliderEl().value,this.model.set("value",this.getInputValue(),{avoidStore:1}),this.elementUpdated()},setValue:function(e){var t=this.model.parseValue(e);this.getSliderEl().value=parseFloat(t.value),o.default.prototype.setValue.apply(this,arguments)},onRender:function(){o.default.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},clearCached:function(){o.default.prototype.clearCached.apply(this,arguments),this.slider=null}})},"./src/style_manager/view/PropertyStackView.js":function(e,t,i){"use strict";i.r(t);var n=i("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=i.n(n),x=i("./node_modules/underscore/underscore.js"),s=i("./src/style_manager/view/PropertyCompositeView.js"),r=i("./src/style_manager/view/LayersView.js");function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var f=new(i("./src/code_manager/model/CssGenerator.js").default);t.default=s.default.extend({templateInput:function(){var e=this.pfx;this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'stack">\n        <button type="button" id="').concat(e,'add" data-add-layer>+</button>\n        <div data-layers-wrapper></div>\n      </div>\n    ')},init:function(){var e=this.model;this.pfx;e.set("stackIndex",null),this.events["click [data-add-layer]"]="addLayer",this.listenTo(e,"change:stackIndex",this.indexChanged),this.listenTo(e,"updateValue",this.inputValueChanged),this.delegateEvents();var t=this.getPropsConfig();this.layers=new r.default({collection:this.getLayers(),stackModel:e,preview:e.get("preview"),config:this.config,propsConfig:t});var n=i("./src/style_manager/view/PropertiesView.js").default;this.propsView=new n({target:this.target,collection:e.get("properties"),stackModel:e,config:this.config,onChange:t.onChange,propTarget:t.propTarget})},targetUpdated:function(){var e,t=this;if(this.model.get("detached"))e=this._getTargetData(),this.setStatus(e.status),this.checkVisibility();else{for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e=s.default.prototype.targetUpdated.apply(this,i)}setTimeout(function(){return t.refreshLayers(e)})},getLayers:function(){return this.model.get("layers")},indexChanged:function(){var e=this.model;this.getLayers().active(e.get("stackIndex"))},addLayer:function(){var e=this.model,t=this.getLayers(),n=e.get("prepend"),i=e.get("properties").deepClone();i.each(function(e){return e.set("value","")});var r=t.add({properties:i},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({active:1},n&&{at:0}));this.inputValueChanged({up:1}),e.set("stackIndex",t.indexOf(r))},inputValueChanged:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model;t.up&&this.elementUpdated(),n.get("detached")?n.get("properties").each(function(e){return e.trigger("change:value")}):n.set("value",this.getLayerValues())},setValue:function(){},getLayerValues:function(){return this.getLayers().getFullValue()},_getClassRule:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.em,i=t.skipAdd,r=void 0===i?1:i,o=n.getSelected(),s=n.get("StyleManager").getModelToStyle(o,{skipAdd:r,useClasses:1});return s!==o&&s},_getParentTarget:function(t,e){for(var n,i=1<arguments.length&&void 0!==e?e:{},r=this.em,o=this.model.get("property"),s=i.isValid||function(e){return e.getStyle()[o]},a=r.get("CssComposer").getAll().filter(function(e){return e.selectorsToString()===t.getSelectorsString()}).reduce(function(e,t){return e[t.getAtRule()]=t,e},{}),l=f.sortMediaObject(a).map(function(e){return e.value}),c=l.indexOf(t),u=l.splice(0,c),h=u.length-1;-1<h;h--){var d=u[h];if(s(d)){n=d;break}}return n},refreshLayers:function(e){var t,n,i,r,o,s,a,l,c,u=0<arguments.length&&void 0!==e?e:{},h=[],d=this.model,f=this.em,p=this.getLayers(),g=d.get("detached"),m=d.get("property"),v=this.getTarget(),b=this.getComputedValue(),y=f.getSelected(),w={fromTarget:1},h=g?(l=u.targetValue||{},o=function(e){var t=d.get("properties").at(0).get("property");return e&&!Object(x.isUndefined)(e.getStyle()[t])},!Object(x.keys)(l).length&&b&&y&&(s={isValid:o},l=(a=this._getParentTarget(v,s))?a.getStyle():(n=this._getClassRule(),a=!(i=o(n)&&n.getStyle())&&this._getParentTarget(this._getClassRule({skipAdd:0}),s),r=o(a)&&a.getStyle(),i||r||{})),t=l,p.getLayersFromStyle(l)):(!(c=this.getTargetValue({ignoreDefault:1}))&&b&&(c=(a=this._getParentTarget(v))?a.getStyle()[m]:(r=(a=!(i=(n=this._getClassRule())&&n.getStyle()[m])&&this._getParentTarget(this._getClassRule({skipAdd:0})))&&a.getStyle()[m],i||r||b)),t=c=c==d.getDefaultValue()?"":c,p.getLayersFromValue(c)),_=d.getLayersFromTarget(v,{resultValue:t,layersObj:h})||h;p.reset(null,w),p.add(_,w),d.set({stackIndex:null},{silent:!0})},getTargetValue:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.model,i=n.attributes.detached,r=this.getTarget(),o=s.default.prototype.getTargetValue.call(this,t);return Object(x.isUndefined)(o)&&!i?o=n.getValueFromStyle(r.getStyle()):i&&(o=n.getValueFromTarget(r)),o},getPropsConfig:function(){var l=this,c=l.model;return{target:l.target,propTarget:l.propTarget,onChange:function(e,t,n){var i,r,o,s,a=t.model;c.get("detached")?(i=a.get("property"),r=a.getDefaultValue(),o=l.getLayers().getPropertyValues(i,r),t.updateTargetStyle(o,null,n)):"updated"==c.get("status")&&(s=c.getFullValue(),c.set("value",s,n),s||t.updateTargetStyle(s,null,n))}}},onRender:function(){var e=this.el,t=this.layers,n=this.propsView,i=e.querySelector("[data-layers-wrapper]");n.render(),i.appendChild(t.render().el)}})},"./src/style_manager/view/PropertyView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),h=n.n(i),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),v=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js");function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f="data-clear-style";t.default=a.a.View.extend({template:function(e){var t=this.pfx;return'\n      <div class="'.concat(t,'label">\n        ').concat(this.templateLabel(e),'\n      </div>\n      <div class="').concat(this.ppfx,'fields">\n        ').concat(this.templateInput(e),"\n      </div>\n    ")},templateLabel:function(e){var t=this.pfx,n=this.em,i=e.parent,r=e.attributes,o=r.icon,s=void 0===o?"":o,a=r.info,l=void 0===a?"":a,c=r.id,u=r.name,h=n&&n.t("styleManager.properties.".concat(c))||u;return'\n      <span class="'.concat(t,"icon ").concat(s,'" title="').concat(l,'">\n        ').concat(h,"\n      </span>\n      ").concat(i?"":'<b class="'.concat(t,'clear" ').concat(f,">&Cross;</b>"),"\n    ")},templateInput:function(e){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(e.getDefaultValue(),'"/>\n      </div>\n    ')},events:o()({change:"inputValueChanged"},"click [".concat(f,"]"),"clear"),initialize:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};Object(v.bindAll)(this,"targetUpdated"),this.config=n.config||{};var i=this.config.em;this.em=i,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.target=n.target||{},this.propTarget=n.propTarget||{},this.onChange=n.onChange,this.onInputRender=n.onInputRender||{},this.customValue=n.customValue||{};var r=this.model;this.property=r.get("property"),this.input=null;var o=this.pfx;this.inputHolderId="#"+o+"input-holder",this.sector=r.collection&&r.collection.sector,r.view=this,r.get("value")||r.set("value",r.getDefaultValue()),i&&i.on("update:component:style:".concat(this.property),this.targetUpdated);var s=r.get("requires");s&&Object.keys(s).forEach(function(e){i&&i.on("component:styleUpdate:".concat(e),t.targetUpdated)}),this.listenTo(this.propTarget,"update styleManager:update",this.targetUpdated),this.listenTo(r,"destroy remove",this.remove),this.listenTo(r,"change:value",this.modelValueChanged),this.listenTo(r,"targetUpdated",this.targetUpdated),this.listenTo(r,"change:visible",this.updateVisibility),this.listenTo(r,"change:status",this.updateStatus),this.listenTo(r,"change:name change:className change:full",this.render);var a=this.init&&this.init.bind(this);a&&a()},updateStatus:function(){var e=this.model,t=e.get("status"),n=e.parent,i=this.pfx,r=this.ppfx,o=this.config,s="".concat(r,"four-color"),a="".concat(r,"color-warn"),l=this.$el.children(".".concat(i,"label")),c=this.getClearEl(),u=c?c.style:{};switch(l.removeClass("".concat(s," ").concat(a)),u.display="none",t){case"updated":n||l.addClass(s),o.clearProperties&&(u.display="inline");break;case"computed":l.addClass(a)}},clear:function(e){var t=this;e&&e.stopPropagation(),this.model.clearValue(),setTimeout(function(){return t.targetUpdated()})},getClearEl:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(f,"]"))),this.clearEl},getTarget:function(){return this.getTargetModel()},getTargets:function(){return this.propTarget.targets||[this.getTarget()]},getTargetModel:function(){return this.propTarget&&this.propTarget.model},getHelperModel:function(){return this.propTarget&&this.propTarget.helper},inputValueChanged:function(e){e&&e.stopPropagation(),this.model.setValueFromInput(this.getInputValue()),this.elementUpdated()},elementUpdated:function(){this.setStatus("updated")},setStatus:function(e){this.model.set("status",e);var t=this.model.parent;t&&"updated"==e&&t.set("status",e)},emitUpdateTarget:Object(v.debounce)(function(){var e=this.config.em;e&&e.trigger("styleManager:update:target",this.getTarget())}),_getTargetData:function(){var e=this.model,t=this.config,n=this.getTargetValue({ignoreDefault:1}),i=e.getDefaultValue(),r=this.getComputedValue(),o="",s="";return n?(o=n,t.highlightChanged&&(s="updated")):r&&t.showComputed&&r!=i?(o=r,t.highlightComputed&&(s="computed")):(o=i,s=""),{value:o,status:s,targetValue:n,defaultValue:i,computedValue:r}},targetUpdated:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};if(this.emitUpdateTarget(),this.checkVisibility()){var r=this.config.em,o=this.model,s=o.get("property"),a=this._getTargetData(),l=a.status,c=a.value,u=d({status:l,value:c},h()(a,["status","value"]));return this.setStatus(l),o.setValue(c,0,d({fromTarget:1},i)),r&&(r.trigger("styleManager:change",this,s,c,u),r.trigger("styleManager:change:".concat(s),this,c,u),this._emitUpdate(u)),u}},_emitUpdate:function(e){var t,n,i,r=0<arguments.length&&void 0!==e?e:{},o=this.em,s=this.model;o&&(t=s.get("property"),i=(n=d({},this._getEventData(),{},r)).id,o.trigger("style:update",n),o.trigger("style:update:".concat(t),n),t!==i&&o.trigger("style:update:".concat(i),n))},_getEventData:function(){var e=this.model;return{propertyView:this,targets:this.getTargets(),value:e.getFullValue(),property:e,id:e.get("id"),name:e.get("property")}},checkVisibility:function(){var e=1;return this.config.hideNotStylable&&(this.isTargetStylable()&&this.isComponentStylable()?this.show():(this.hide(),e=0),this.sector&&this.sector.trigger("updateVisibility")),e},getTargetValue:function(e){var t,n,i=0<arguments.length&&void 0!==e?e:{},r=this.model,o=this.getTargetModel(),s=this.customValue;return o&&((t=o.getStyle()[r.get("property")])||i.ignoreDefault||(t=r.getDefaultValue()),"function"!=typeof s||i.ignoreCustomValue||(n=s(this,r.collection.indexOf(r),t))&&(t=n)),t},getComputedValue:function(){var e=this.propTarget,t=e.computed||{},n=e.computedDefault||{},i=this.config.avoidComputed||[],r=this.model.get("property"),o=i.indexOf(r)<0,s=t[r],a=n[Object(l.camelCase)(r)];return t&&o&&a!==s&&s||""},getInputValue:function(){var e=this.getInputEl();return e?e.value:""},modelValueChanged:function(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:{},o=this.model.getFullValue();r.fromInput||this.setValue(o),r.fromTarget||this.getTargets().forEach(function(e){return i.__updateTarget(e,r)})},__updateTarget:function(e,t){var n,i=1<arguments.length&&void 0!==t?t:{},r=this.model,o=this.config.em,s=r.get("property"),a=r.getFullValue(),l=this.onChange;e&&this.isTargetStylable(e)&&this.isComponentStylable()&&(i.fromTarget||(l&&!i.fromParent?l(e,this,i):this.updateTargetStyle(a,null,d({},i,{target:e}))),n=o&&o.getSelected(),o&&n&&(i.noEmit||o.trigger("component:update",n),o.trigger("component:styleUpdate",n,s),o.trigger("component:styleUpdate:".concat(s),n)),this._emitUpdate())},updateTargetStyle:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=(1<arguments.length&&void 0!==t?t:"")||this.model.get("property"),o=i.target||this.getTarget(),s=o.getStyle();e?s[r]=e:delete s[r],i.avoidStore?s.__=1:delete s.__,o.setStyle(s,i);var a=this.getHelperModel();a&&a.setStyle(s,i)},isTargetStylable:function(e){var n,t,i,r,o=e||this.getTarget(),s=this.model,a=s.get("id"),l=s.get("property"),c=s.get("toRequire"),u=o.get("unstylable"),h=o.get("stylable-require"),d=s.get("requires"),f=s.get("requiresParent"),p=this.sector?this.sector.collection:null,g=this.em?this.em.getSelected():null,m=o.get("stylable");return Object(v.isArray)(m)&&(m=0<=m.indexOf(l)),Object(v.isArray)(u)&&(m=u.indexOf(l)<0),c&&(m=!e||h&&(0<=h.indexOf(a)||0<=h.indexOf(l))),p&&d&&(n=Object.keys(d),p.each(function(e){e.get("properties").each(function(e){var t;Object(v.includes)(n,e.id)&&(t=d[e.id],m=m&&Object(v.includes)(t,e.get("value")))})})),f&&((i=(t=g&&g.parent())&&t.getEl())?(r=window.getComputedStyle(i),Object(v.each)(f,function(e,t){m=m&&r[t]&&Object(v.includes)(e,r[t])})):m=!1),m},isComponentStylable:function(){var e=this.em,t=e&&e.getSelected();return!t||this.isTargetStylable(t)},setRawValue:function(e){this.setValue(this.model.parseValue(e))},setValue:function(e){var t=this.model,n=Object(v.isUndefined)(e)?t.getDefaultValue():e,i=this.getInputEl();i&&(i.value=n)},getInputEl:function(){return this.input||(this.input=this.el.querySelector("input")),this.input},updateVisibility:function(){this.el.style.display=this.model.get("visible")?"block":"none"},show:function(){this.model.set("visible",1)},hide:function(){this.model.set("visible",0)},cleanValue:function(){this.setValue("")},clearCached:function(){this.clearEl=null,this.input=null,this.$input=null},render:function(){this.clearCached();var e=this.pfx,t=this.model,n=this.el,i=t.get("property"),r=t.get("full"),o=t.get("className")||"",s="".concat(e,"property");n.innerHTML=this.template(t),n.className="".concat(s," ").concat(e).concat(t.get("type")," ").concat(s,"__").concat(i," ").concat(o).trim(),n.className+=r?" ".concat(s,"--full"):"",this.updateStatus();var a=this.onRender&&this.onRender.bind(this);a&&a(),this.setValue(t.get("value"),{fromTarget:1})}})},"./src/style_manager/view/SectorView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),o=n("./node_modules/underscore/underscore.js"),s=n("./src/style_manager/view/PropertiesView.js");t.default=r.a.View.extend({template:Object(o.template)('\n  <div class="<%= pfx %>title" data-sector-title>\n    <i id="<%= pfx %>caret" class="fa"></i>\n    <%= label %>\n  </div>'),events:{"click [data-sector-title]":"toggle"},initialize:function(e){this.config=e.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.target=e.target||{},this.propTarget=e.propTarget||{},this.caretR="fa-caret-right",this.caretD="fa-caret-down";var t=this.model;this.listenTo(t,"change:open",this.updateOpen),this.listenTo(t,"updateVisibility",this.updateVisibility),this.listenTo(t,"destroy remove",this.remove)},updateVisibility:function(){var t;this.model.get("properties").each(function(e){e.get("visible")&&(t=1)}),this.el.style.display=t?"block":"none"},updateOpen:function(){this.model.get("open")?this.show():this.hide()},show:function(){this.$el.addClass(this.pfx+"open"),this.getPropertiesEl().style.display="",this.$caret.removeClass(this.caretR).addClass(this.caretD)},hide:function(){this.$el.removeClass(this.pfx+"open"),this.getPropertiesEl().style.display="none",this.$caret.removeClass(this.caretD).addClass(this.caretR)},getPropertiesEl:function(){return this.$el.find(".".concat(this.pfx,"properties")).get(0)},toggle:function(){var e=this.model.get("open")?0:1;this.model.set("open",e)},render:function(){var e=this.pfx,t=this.model,n=this.em,i=this.$el,r=t.attributes,o=r.id,s=r.name,a=n&&n.t("styleManager.sectors.".concat(o))||s;return i.html(this.template({pfx:e,label:a})),this.$caret=i.find("#".concat(e,"caret")),this.renderProperties(),i.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(o," no-select")),this.updateOpen(),this},renderProperties:function(){var e,t=this.model.get("properties");t&&(e=new s.default({collection:t,target:this.target,propTarget:this.propTarget,config:this.config}),this.$el.append(e.render().el))}})},"./src/style_manager/view/SectorsView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),r=n("./node_modules/backbone/backbone.js"),l=n.n(r),c=n("./node_modules/underscore/underscore.js"),u=n("./src/utils/mixins.js"),h=n("./src/utils/dom.js"),d=n("./src/style_manager/view/SectorView.js");function f(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var p="hc-state";t.default=l.a.View.extend({initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.config||{};this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.target=t.target||{},this.config=n;var i={};Object(c.extend)(i,l.a.Events);var r=document.body,o=document.createElement("el-".concat((new Date).getTime()));r.appendChild(o),i.computedDefault=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},window.getComputedStyle(o)),r.removeChild(o),this.propTarget=i;var s=this.collection;this.listenTo(s,"add",this.addTo),this.listenTo(s,"reset",this.render),this.listenTo(this.target,"component:toggled component:update:classes change:state change:device frame:resized",this.targetUpdated)},addTo:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};this.addToCollection(e,null,i)},toggleStateCls:function(e,t){var n=1<arguments.length?t:void 0;(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){var t=e.getEl();t&&t.classList&&t.classList[n?"add":"remove"](p)})},targetUpdated:function(e){var t,n,i,r,o=this.target,s=this.propTarget,a=o.getSelectedAll(),l=o.getSelected(),c=e&&e.toHTML?e:l;c&&this.toggleStateCls([c]),l&&(t=o.get("Config").devicePreviewMode?"":o.get("state"),n=o.get("SelectorManager").getConfig().componentFirst,i=l.getEl(),s.helper=null,s.targets=null,i&&Object(u.isTaggableNode)(i)&&(r=t?":".concat(t):null,s.computed=window.getComputedStyle(i,r)),l=o.get("StyleManager").getModelToStyle(l),t&&(function(e){var t=0<arguments.length&&void 0!==e?e:{},n=o.get("CssComposer"),i=n.getAll(),r=n.getClassRule(p);r?(i.remove(r),i.add(r)):r=n.setClassRule(p),r.set("important",1),r.setStyle(t),s.helper=r}(l.getStyle()),this.toggleStateCls(a,1)),s.model=l,n&&(s.targets=a),s.trigger("update"))},setTarget:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=this.target,i=Object(c.isArray)(e)?e:[e],o=n.targetIsClass,s=n.stylable,a=[];i.forEach(function(t){var e,n,i=t;Object(c.isString)(t)&&(n=r.get("CssComposer").getAll(),o&&(e=n.filter(function(e){return e.get("selectors").getFullString()===t})[0]),e=(e=e||n.filter(function(e){return e.get("selectorsAdd")===t})[0])||n.add({selectors:[],selectorsAdd:t}),s&&e.set({stylable:s}),i=e),a.push(i)});var l=this.propTarget;return l.targets=a,l.trigger("update"),a},addToCollection:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=this.pfx,o=this.target,s=this.propTarget,a=this.config,l=this.el,c=t||l,u=new d.default({model:e,id:"".concat(r).concat(e.get("id")),name:e.get("name"),properties:e.get("properties"),target:o,propTarget:s,config:a}).render().el;return Object(h.appendAtIndex)(c,u,i.at),u},render:function(){var t=this,n=document.createDocumentFragment(),e=this.$el,i=this.pfx,r=this.ppfx;return e.empty(),this.collection.each(function(e){return t.addToCollection(e,n)}),e.append(n),e.addClass("".concat(i,"sectors ").concat(r,"one-bg ").concat(r,"two-color")),this}})},"./src/trait_manager/config/config.js":function(e,t,n){"use strict";n.r(t),t.default={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]}},"./src/trait_manager/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/underscore/underscore.js"),o=n("./src/trait_manager/config/config.js"),s=n("./src/trait_manager/view/TraitsView.js");t.default=function(){var i,n={};return{TraitsView:s.default,name:"TraitManager",getConfig:function(){return n},init:function(e){n=0<arguments.length&&void 0!==e?e:{},Object(r.defaults)(n,o.default);var t=n.pStylePrefix;return t&&(n.stylePrefix="".concat(t).concat(n.stylePrefix)),i=new s.default({collection:[],editor:n.em,config:n}),this},postRender:function(){var e=this.getConfig().appendTo;e&&(Object(r.isElement)(e)?e:document.querySelector(e)).appendChild(this.render())},getTraitsViewer:function(){return i},addType:function(e,t){var n=i.itemView;i.itemsView[e]=n.extend(t)},getType:function(e){return i.itemsView[e]},render:function(){return i.render().el}}}},"./src/trait_manager/model/Trait.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),s=n.n(o),a=n("./node_modules/underscore/underscore.js");function l(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=s.a.Model.extend({defaults:{type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]},initialize:function(){var e,t=this.get("target"),n=this.get("name"),i=this.get("changeProp");t&&(this.target=t,this.unset("target"),e=i?"change:".concat(n):"change:attributes:".concat(n),this.listenTo(t,e,this.targetUpdated))},props:function(){return this.attributes},targetUpdated:function(){var e=this.getTargetValue();this.set({value:e},{fromTarget:1})},getTargetValue:function(){var e=this.get("name"),t=this.target,n=this.get("changeProp")?t.get(e):t.getAttributes()[e];return Object(a.isUndefined)(n)?"":n},setTargetValue:function(e,t){var n,i,r=1<arguments.length&&void 0!==t?t:{},o=this.target,s=this.get("name");Object(a.isUndefined)(e)||("false"===(n=e)?n=!1:"true"===e&&(n=!0),this.get("changeProp")?o.set(s,n,r):((i=c({},o.get("attributes")))[s]=n,o.set("attributes",i,r)))},setValueFromInput:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:1,r=2<arguments.length&&void 0!==n?n:{},o={value:e};this.set(o,c({},r,{avoidStore:1})),i&&(this.set("value","",r),this.set(o,r))},getInitValue:function(){var e,t,n=this.target,i=this.get("name");return n&&(e=n.get("attributes"),t=this.get("changeProp")?n.get(i):e[i]),t||this.get("value")||this.get("default")}})},"./src/trait_manager/model/TraitFactory.js":function(e,t,n){"use strict";n.r(t),t.default=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{build:function(e){var t=[];"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++){var i={},r=e[n];switch(i.name=r){case"target":i.type="select"}switch(r){case"target":i.options=o.optionsTarget}t.push(i)}return t}}}},"./src/trait_manager/model/Traits.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),u=n.n(i),h=n("./node_modules/underscore/underscore.js"),r=n("./src/trait_manager/model/Trait.js"),d=n("./src/trait_manager/model/TraitFactory.js");t.default=u.a.Collection.extend({model:r.default,initialize:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.em=n.em||"",this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)},handleReset:function(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).previousModels;(void 0===n?[]:n).forEach(function(e){return e.trigger("remove")})},handleAdd:function(e){var t=this.target;t&&(e.target=t)},setTarget:function(e){this.target=e},add:function(e,t){var n=this.em;if(Object(h.isString)(e)||Object(h.isArray)(e)){var i=n&&n.get&&n.get("TraitManager"),r=i&&i.getConfig(),o=Object(d.default)(r);Object(h.isString)(e)&&(e=[e]);for(var s=0,a=e.length;s<a;s++){var l=e[s],c=Object(h.isString)(l)?o.build(l)[0]:l;c.target=this.target,e[s]=c}}return u.a.Collection.prototype.add.apply(this,[e,t])}})},"./src/trait_manager/view/TraitButtonView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/underscore/underscore.js"),r=n("./src/trait_manager/view/TraitView.js");t.default=r.default.extend({events:{"click button":"handleClick"},templateInput:"",handleClick:function(){var e=this.model,t=this.em,n=e.get("command");n&&(Object(i.isString)(n)?t.get("Commands").run(n):n(t.get("Editor"),e))},renderLabel:function(){this.model.get("label")&&r.default.prototype.renderLabel.apply(this,arguments)},getInputEl:function(){var e=this.model,t=this.ppfx,n=e.props(),i=n.labelButton,r=n.text,o=n.full,s=i||r,a="".concat(t,"btn");return'<button type="button" class="'.concat(a,"-prim").concat(o?" ".concat(a,"--full"):"",'">').concat(s,"</button>")}})},"./src/trait_manager/view/TraitCheckboxView.js":function(e,t,n){"use strict";n.r(t);var d=n("./node_modules/underscore/underscore.js"),f=n("./src/trait_manager/view/TraitView.js");t.default=f.default.extend({appendInput:0,templateInput:function(){var e=this.ppfx,t=this.clsField;return'<label class="'.concat(t,'" data-input>\n    <i class="').concat(e,'chk-icon"></i>\n  </label>')},onChange:function(){var e=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(e))},getCheckedValue:function(e){var t=e,n=this.model.attributes,i=n.valueTrue,r=n.valueFalse;return t&&!Object(d.isUndefined)(i)&&(t=i),t||Object(d.isUndefined)(r)||(t=r),t},getInputEl:function(){for(var e=!this.$input,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,o,s,a,l,c,u,h=f.default.prototype.getInputEl.apply(this,n);return e&&(s=this.model,a=this.target,(l=s.attributes).valueTrue,c=l.valueFalse,u=s.get("name"),s.get("changeProp")?o=r=a.get(u):r=!(!(o=a.get("attributes")[u])&&""!==o),Object(d.isUndefined)(c)||o!==c||(r=!1),h.checked=r),h}})},"./src/trait_manager/view/TraitColorView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/trait_manager/view/TraitView.js"),r=n("./src/domain_abstract/ui/InputColor.js");t.default=i.default.extend({templateInput:"",getInputEl:function(){var e,t,n;return this.input||(e=this.model,t=this.getModelValue(),(n=new r.default({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render()).setValue(t,{fromTarget:1}),this.input=n.el),this.input}})},"./src/trait_manager/view/TraitNumberView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/trait_manager/view/TraitView.js"),r=n("./src/domain_abstract/ui/InputNumber.js");t.default=i.default.extend({getValueForTarget:function(){var e=this.model.attributes,t=e.value,n=e.unit;return t?t+n:""},getInputEl:function(){var e,t;return this.input||(e=this.getModelValue(),t=new r.default({contClass:this.ppfx+"field-int",model:this.model,ppfx:this.ppfx}),this.input=t.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,this.model.set("value",e),this.$input.val(e),this.input=t.el),this.input}})},"./src/trait_manager/view/TraitSelectView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/backbone/backbone.js"),r=n.n(i),c=n("./node_modules/underscore/underscore.js"),o=n("./src/trait_manager/view/TraitView.js"),u=r.a.$;t.default=o.default.extend({init:function(){this.listenTo(this.model,"change:options",this.rerender)},templateInput:function(){var e=this.ppfx,t=this.clsField;return'<div class="'.concat(t,'">\n      <div data-input></div>\n      <div class="').concat(e,'sel-arrow">\n        <div class="').concat(e,'d-s-arrow"></div>\n      </div>\n    </div>')},getInputEl:function(){var e,s,a,t,l,n;return this.$input||(e=this.model,s=this.em,a=e.get("name"),t=e.get("options")||[],l="<select>",t.forEach(function(e){var t,n,i,r="";Object(c.isString)(e)?n=t=e:(t=e.name||e.label||e.value,n="".concat(Object(c.isUndefined)(e.value)?e.id:e.value).replace(/"/g,"&quot;"),r+=(i=e.style?e.style.replace(/"/g,"&quot;"):"")?' style="'.concat(i,'"'):"");var o=s.t("traitManager.traits.options.".concat(a,".").concat(n))||t;l+='<option value="'.concat(n,'"').concat(r,">").concat(o,"</option>")}),l+="</select>",this.$input=u(l),n=e.getTargetValue(),Object(c.isUndefined)(n)||this.$input.val(n)),this.$input.get(0)}})},"./src/trait_manager/view/TraitView.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(o),s=n("./node_modules/backbone/backbone.js"),a=n.n(s),u=n("./node_modules/underscore/underscore.js"),l=n("./src/utils/mixins.js");function h(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var d=a.a.$;t.default=a.a.View.extend({events:{},eventCapture:["change"],appendInput:1,attributes:function(){return this.model.get("attributes")},templateLabel:function(){var e=this.ppfx,t=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(t,'">').concat(t,"</div>")},templateInput:function(){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},initialize:function(e){var r=this,t=(0<arguments.length&&void 0!==e?e:{}).config,n=void 0===t?{}:t,o=this.model,i=this.eventCapture,s=o.target,a=o.attributes.type;this.config=n,this.em=n.em,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.target=s;var l=this.ppfx;this.clsField="".concat(l,"field ").concat(l,"field-").concat(a),[["change:value",this.onValueChange],["remove",this.removeView]].forEach(function(e){var t=c()(e,2),n=t[0],i=t[1];o.off(n,i),r.listenTo(o,n,i)}),(o.view=this).listenTo(o,"change:label",this.render),this.listenTo(o,"change:placeholder",this.rerender),i.forEach(function(e){return r.events[e]="onChange"}),this.delegateEvents(),this.init()},getClbOpts:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},removeView:function(){this.remove(),this.removed()},init:function(){},removed:function(){},onRender:function(){},onUpdate:function(){},onEvent:function(){},onChange:function(e){var t=this.getInputElem();t&&!Object(u.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.getClbOpts(),{event:e}))},getValueForTarget:function(){return this.model.get("value")},setInputValue:function(e){var t=this.getInputElem();t&&(t.value=e)},onValueChange:function(e,t,n){var i,r=2<arguments.length&&void 0!==n?n:{};r.fromTarget?(this.setInputValue(e.get("value")),this.postUpdate()):(i=this.getValueForTarget(),e.setTargetValue(i,r))},renderLabel:function(){var e=this.$el,t=this.target,n=this.getLabel(),i=this.templateLabel(t);this.createLabel&&(i=this.createLabel({label:n,component:t,trait:this})||""),e.find("[data-label]").append(i)},getLabel:function(){var e=this.em,t=this.model.attributes,n=t.label,i=t.name;return e.t("traitManager.traits.labels.".concat(i))||Object(l.capitalize)(n||i).replace(/-/g," ")},getComponent:function(){return this.target},getInputEl:function(){var e,t,n,i,r,o,s,a,l,c;return this.$input||(e=this.em,n=(t=this.model).attributes.name,i=t.get("placeholder")||t.get("default")||"",r=t.get("type")||"text",o=t.get("min"),s=t.get("max"),a=this.getModelValue(),l=d('<input type="'.concat(r,'" placeholder="').concat(i,'">')),c=e.t("traitManager.traits.attributes.".concat(n))||{},l.attr(c),Object(u.isUndefined)(a)||(t.set({value:a},{silent:!0}),l.prop("value",a)),o&&l.prop("min",o),s&&l.prop("max",s),this.$input=l),this.$input.get(0)},getInputElem:function(){var e=this.input,t=this.$input;return e||t&&t.get&&t.get(0)||this.getElInput()},getModelValue:function(){var e,t,n=this.model,i=this.target,r=n.get("name");return t=n.get("changeProp")?i.get(r):(e=i.get("attributes"),n.get("value")||e[r]),Object(u.isUndefined)(t)?"":t},getElInput:function(){return this.elInput},renderField:function(){var e=this.$el,t=this.appendInput,n=this.model,i=e.find("[data-input]"),r=i[i.length-1],o=(o=n.el)||(this.createInput?this.createInput(this.getClbOpts()):this.getInputEl());Object(u.isString)(o)?(r.innerHTML=o,this.elInput=r.firstChild):(t?r.appendChild(o):r.insertBefore(o,r.firstChild),this.elInput=o),n.el=this.elInput},hasLabel:function(){var e=this.model.attributes.label;return!this.noLabel&&!1!==e},rerender:function(){this.model.el=null,this.render()},postUpdate:function(){this.onUpdate(this.getClbOpts())},render:function(){var e=this.$el,t=this.pfx,n=this.ppfx,i=this.model.attributes.type,r=this.hasLabel&&this.hasLabel(),o="".concat(t,"trait");this.$input=null;var s='<div class="'.concat(o,'">\n      ').concat(r?'<div class="'.concat(n,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(n,"field-wrp ").concat(n,"field-wrp--").concat(i,'" data-input>\n        ').concat(this.templateInput?Object(u.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return e.empty().append(s),r&&this.renderLabel(),this.renderField(),this.el.className="".concat(o,"__wrp"),this.postUpdate(),this.onRender(this.getClbOpts()),this}})},"./src/trait_manager/view/TraitsView.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/domain_abstract/view/DomainViews.js"),r=n("./src/trait_manager/view/TraitView.js"),o=n("./src/trait_manager/view/TraitSelectView.js"),s=n("./src/trait_manager/view/TraitCheckboxView.js"),a=n("./src/trait_manager/view/TraitNumberView.js"),l=n("./src/trait_manager/view/TraitColorView.js"),c=n("./src/trait_manager/view/TraitButtonView.js");t.default=i.default.extend({ns:"Traits",itemView:r.default,reuseView:1,itemsView:{text:r.default,number:a.default,select:o.default,checkbox:s.default,color:l.default,button:c.default},initialize:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.config||{};this.config=n,this.em=t.editor,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.className=this.pfx+"traits";this.listenTo(this.em,"component:toggled",this.updatedCollection),this.updatedCollection()},updatedCollection:function(){var e=this.ppfx,t=this.em.getSelected();this.el.className="".concat(this.className," ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=t?t.get("traits"):[],this.render()}})},"./src/undo_manager/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone-undo/Backbone.Undo.js"),a=n.n(o);function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.default=function(){var n,i,r,o,s={maximumStackLength:500};return{name:"UndoManager",init:function(e){r=l({},0<arguments.length&&void 0!==e?e:{},{},s),n=r.em,this.em=n,(i=new a.a(l({track:!0,register:[]},r))).changeUndoType("change",{condition:!1}),i.changeUndoType("add",{on:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};if(!i.avoidStore)return{object:t,before:void 0,after:e,options:l({},i)}}}),i.changeUndoType("remove",{on:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};if(!i.avoidStore)return{object:t,before:e,after:void 0,options:l({},i)}}});var t={on:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{};if(o=o||e.previousAttributes(),!i.avoidStore){var r={object:e,before:o,after:e.toJSON()};return o=null,r}},undo:function(e,t){e.set(t)},redo:function(e,t,n){e.set(n)}};return["style","attributes","content","src"].forEach(function(e){return i.addUndoType("change:".concat(e),t)}),i.on("undo redo",function(){return n.trigger("component:toggled change:canvasOffset")}),["undo","redo"].forEach(function(e){return i.on(e,function(){return n.trigger(e)})}),this},getConfig:function(){return r},add:function(e){return i.register(e),this},remove:function(e){return i.unregister(e),this},removeAll:function(){return i.unregisterAll(),this},start:function(){return i.startTracking(),this},stop:function(){return i.stopTracking(),this},undo:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return n.isEditing()||i.undo(t),this},undoAll:function(){return i.undoAll(),this},redo:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return n.isEditing()||i.redo(t),this},redoAll:function(){return i.redoAll(),this},hasUndo:function(){return i.isAvailable("undo")},hasRedo:function(){return i.isAvailable("redo")},getStack:function(){return i.stack},getStackGroup:function(){var n=[],i=[];return this.getStack().forEach(function(e){var t=e.get("magicFusionIndex");i.indexOf(t)<0&&(i.push(t),n.push(e))}),n},getPointer:function(){return this.getStack().pointer},clear:function(){return i.clear(),this},getInstance:function(){return i}}}},"./src/utils/ColorPicker.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/typeof.js"),V=n.n(i);t.default=function(Ne,Fe){var e,ze={beforeShow:n,move:n,change:n,show:n,hide:n,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},He=[],Re=!!/msie/i.exec(window.navigator.userAgent),$e=((e=document.createElement("div").style).cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")),Ve=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),We=function(){var e="";if(Re)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function t(e,t){return!!~(""+e).indexOf(t)}function Be(e,t,n,i){for(var r=[],o=0;o<e.length;o++){var s,a,l,c,u=e[o];u?(a=(s=Ke(u)).toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",a+=Ke.equals(t,u)?" sp-thumb-active":"",l=s.toString(i.preferredFormat||"rgb"),c=$e?"background-color:"+s.toRgbString():"filter:"+s.toFilter(),r.push('<span title="'+l+'" data-color="'+s.toRgbString()+'" class="'+a+'"><span class="sp-thumb-inner" style="'+c+';"></span></span>')):r.push(Ne("<div />").append(Ne('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",i.noColorSelectedText)).html())}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"}function o(e,t){var n,i,r,o,s,a,l,p=(s=t,a=e,(l=Ne.extend({},ze,s)).callbacks={move:qe(l.move,a),change:qe(l.change,a),show:qe(l.show,a),hide:qe(l.hide,a),beforeShow:qe(l.beforeShow,a)},l),g=p.flat,c=p.showSelectionPalette,u=p.localStorageKey,h=p.theme,d=p.callbacks,f=(n=Me,function(){var e=this,t=arguments;r&&clearTimeout(o),!r&&o||(o=setTimeout(function(){o=null,n.apply(e,t)},i))}),m=!(i=10),v=!1,b=0,y=0,w=0,_=0,x=0,C=0,k=0,S=0,O=0,T=0,j=1,E=[],P=[],D={},A=p.selectionPalette.slice(0),M=p.maxSelectionSize,I="sp-dragging",L=null,N=e.ownerDocument,F=(N.body,Ne(e)),z=!1,H=Ne(We,N).addClass(h),R=H.find(".sp-picker-container"),$=H.find(".sp-color"),V=H.find(".sp-dragger"),W=H.find(".sp-hue"),B=H.find(".sp-slider"),U=H.find(".sp-alpha-inner"),q=H.find(".sp-alpha"),Y=H.find(".sp-alpha-handle"),G=H.find(".sp-input"),K=H.find(".sp-palette"),X=H.find(".sp-initial"),Q=H.find(".sp-cancel"),Z=H.find(".sp-clear"),J=H.find(".sp-choose"),ee=H.find(".sp-palette-toggle"),te=F.is("input"),ne=te&&"color"===F.attr("type")&&Ge(),ie=te&&!g,re=ie?Ne(Ve).addClass(h).addClass(p.className).addClass(p.replacerClassName):Ne([]),oe=ie?re:F,se=re.find(".sp-preview-inner"),ae=p.color||te&&F.val(),le=!1,ce=p.preferredFormat,ue=!p.showButtons||p.clickoutFiresChange,he=!ae,de=p.allowEmpty&&!ne;function fe(){if(p.showPaletteOnly&&(p.showPalette=!0),ee.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),p.palette){E=p.palette.slice(0),P=Ne.isArray(E[0])?E:[E],D={};for(var e=0;e<P.length;e++)for(var t=0;t<P[e].length;t++){var n=Ke(P[e][t]).toRgbString();D[n]=!0}}H.toggleClass("sp-flat",g),H.toggleClass("sp-input-disabled",!p.showInput),H.toggleClass("sp-alpha-enabled",p.showAlpha),H.toggleClass("sp-clear-enabled",de),H.toggleClass("sp-buttons-disabled",!p.showButtons),H.toggleClass("sp-palette-buttons-disabled",!p.togglePaletteOnly),H.toggleClass("sp-palette-disabled",!p.showPalette),H.toggleClass("sp-palette-only",p.showPaletteOnly),H.toggleClass("sp-initial-disabled",!p.showInitial),H.addClass(p.className).addClass(p.containerClassName),Me()}function pe(){if(u&&window.localStorage){try{var e=window.localStorage[u].split(",#");1<e.length&&(delete window.localStorage[u],Ne.each(e,function(e,t){ge(t)}))}catch(e){}try{A=window.localStorage[u].split(";")}catch(e){}}}function ge(e){if(c){var t=Ke(e).toRgbString();if(!D[t]&&-1===Ne.inArray(t,A))for(A.push(t);A.length>M;)A.shift();if(u&&window.localStorage)try{window.localStorage[u]=A.join(";")}catch(e){}}}function me(){var n=je(),e=Ne.map(P,function(e,t){return Be(e,n,"sp-palette-row sp-palette-row-"+t,p)});pe(),A&&e.push(Be(function(){var e=[];if(p.showPalette)for(var t=0;t<A.length;t++){var n=Ke(A[t]).toRgbString();D[n]||e.push(A[t])}return e.reverse().slice(0,p.maxSelectionSize)}(),n,"sp-palette-row sp-palette-row-selection",p)),K.html(e.join(""))}function ve(){var e,t;p.showInitial&&(e=le,t=je(),X.html(Be([e,t],t,"sp-palette-row-initial",p)))}function be(){(y<=0||b<=0||_<=0)&&Me(),v=!0,H.addClass(I),L=null,F.trigger("dragstart.spectrum",[je()])}function ye(){v=!1,H.removeClass(I),F.trigger("dragstop.spectrum",[je()])}function we(){var e,t=G.val();null!==t&&""!==t||!de?(e=Ke(t)).isValid()?(Te(e),Ae(!0)):G.addClass("sp-validation-error"):(Te(null),Ae(!0))}function _e(){(m?Se:xe)()}function xe(){var e,t=Ne.Event("beforeShow.spectrum");m?Me():(F.trigger("beforeShow.spectrum",[je()]),!1===d.beforeShow(je())||t.isDefaultPrevented()||(function(){for(var e=0;e<He.length;e++)He[e]&&He[e].hide()}(),m=!0,(e=Ne(N)).bind("keydown.spectrum",Ce),e.bind("click.spectrum",ke),Ne(window).bind("resize.spectrum",f),re.addClass("sp-active"),H.removeClass("sp-hidden"),Me(),Pe(),le=je(),ve(),d.show(le),F.trigger("show.spectrum",[le])))}function Ce(e){27===e.keyCode&&Se()}function ke(e){2!=e.button&&(v||(ue?Ae(!0):Oe(),Se()))}function Se(){m&&!g&&(m=!1,Ne(N).unbind("keydown.spectrum",Ce),Ne(N).unbind("click.spectrum",ke),Ne(window).unbind("resize.spectrum",f),re.removeClass("sp-active"),H.addClass("sp-hidden"),d.hide(je()),F.trigger("hide.spectrum",[je()]))}function Oe(){Te(le,!0)}function Te(e,t){var n,i;Ke.equals(e,je())?Pe():(!e&&de?he=!0:(he=!1,i=(n=Ke(e)).toHsv(),S=i.h%360/360,O=i.s,T=i.v,j=i.a),Pe(),n&&n.isValid()&&!t&&(ce=p.preferredFormat||n.getFormat()))}function je(e){return e=e||{},de&&he?null:Ke.fromRatio({h:S,s:O,v:T,a:Math.round(100*j)/100},{format:e.format||ce})}function Ee(){Pe(),d.move(je()),F.trigger("move.spectrum",[je()])}function Pe(){G.removeClass("sp-validation-error"),De();var e=Ke.fromRatio({h:S,s:1,v:1});$.css("background-color",e.toHexString());var t=ce;j<1&&(0!==j||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n,i,r,o,s,a=je({format:t}),l="";se.removeClass("sp-clear-display"),se.css("background-color","transparent"),!a&&de?se.addClass("sp-clear-display"):(n=a.toHexString(),i=a.toRgbString(),$e||1===a.alpha?se.css("background-color",i):(se.css("background-color","transparent"),se.css("filter",a.toFilter())),p.showAlpha&&((r=a.toRgb()).a=0,s="linear-gradient(left, "+(o=Ke(r).toRgbString())+", "+n+")",Re?U.css("filter",Ke(o).toFilter({gradientType:1},n)):(U.css("background","-webkit-"+s),U.css("background","-moz-"+s),U.css("background","-ms-"+s),U.css("background","linear-gradient(to right, "+o+", "+n+")"))),l=a.toString(t)),p.showInput&&G.val(l),p.showPalette&&me(),ve()}function De(){var e,t,n,i,r=O,o=T;de&&he?(Y.hide(),B.hide(),V.hide()):(Y.show(),B.show(),V.show(),e=r*b,t=y-o*y,e=Math.max(-w,Math.min(b-w,e-w)),t=Math.max(-w,Math.min(y-w,t-w)),V.css({top:t+"px",left:e+"px"}),n=j*x,Y.css({left:n-C/2+"px"}),i=S*_,B.css({top:i-k+"px"}))}function Ae(e){var t=je(),n="",i=!Ke.equals(t,le);t&&(n=t.toString(ce),ge(t)),te&&F.val(n),e&&i&&(d.change(t),F.trigger("change",[t]))}function Me(){var e,t,n,i,r,o,s,a,l,c,u,h,d,f;m&&(b=$.width(),y=$.height(),w=V.height(),W.width(),_=W.height(),k=B.height(),x=q.width(),C=Y.width(),g||(H.css("position","absolute"),p.offset?H.offset(p.offset):H.offset((t=oe,n=(e=H).outerWidth(),i=e.outerHeight(),r=t.outerHeight(),o=e[0].ownerDocument,s=o.documentElement,a=s.clientWidth,l=s.clientHeight,c=Ne(o).scrollLeft(),u=Ne(o).scrollTop(),h=a+c,d=l+u,(f=t.offset()).top+=r,f.left-=Math.min(f.left,f.left+n>h&&n<h?Math.abs(f.left+n-h):0),f.top-=Math.min(f.top,f.top+i>d&&i<d?Math.abs(+(i+r)):0),f))),De(),p.showPalette&&me(),F.trigger("reflow.spectrum"))}function Ie(){Se(),z=!0,F.attr("disabled",!0),oe.addClass("sp-disabled")}!function(){var e;function t(e){return e.data&&e.data.ignore?(Te(Ne(e.target).closest(".sp-thumb-el").data("color")),Ee()):(Te(Ne(e.target).closest(".sp-thumb-el").data("color")),Ee(),Ae(!0),p.hideAfterPaletteSelect&&Se()),!1}Re&&H.find("*:not(input)").attr("unselectable","on"),fe(),ie&&F.after(re).hide(),de||Z.hide(),g?F.after(H).hide():(1!==(e="parent"===p.appendTo?F.parent():Ne(p.appendTo)).length&&(e=Ne("body")),e.append(H)),pe(),oe.bind("click.spectrum touchstart.spectrum",function(e){z||_e(),e.stopPropagation(),Ne(e.target).is("input")||e.preventDefault()}),!F.is(":disabled")&&!0!==p.disabled||Ie(),H.click(Ue),G.change(we),G.bind("paste",function(){setTimeout(we,1)}),G.keydown(function(e){13==e.keyCode&&we()}),Q.text(p.cancelText),Q.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Oe(),Se()}),Z.attr("title",p.clearText),Z.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),he=!0,Ee(),g&&Ae(!0)}),J.text(p.chooseText),J.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Re&&G.is(":focus")&&G.trigger("change"),G.hasClass("sp-validation-error")||(Ae(!0),Se())}),ee.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),ee.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),p.showPaletteOnly=!p.showPaletteOnly,p.showPaletteOnly||g||H.css("left","-="+(R.outerWidth(!0)+5)),fe()}),Ye(q,function(e,t,n){j=e/x,he=!1,n.shiftKey&&(j=Math.round(10*j)/10),Ee()},be,ye),Ye(W,function(e,t){S=parseFloat(t/_),he=!1,p.showAlpha||(j=1),Ee()},be,ye),Ye($,function(e,t,n){var i,r,o;n.shiftKey?L||(i=O*b,r=y-T*y,o=Math.abs(e-i)>Math.abs(t-r),L=o?"x":"y"):L=null;var s=!L||"y"===L;L&&"x"!==L||(O=parseFloat(e/b)),s&&(T=parseFloat((y-t)/y)),he=!1,p.showAlpha||(j=1),Ee()},be,ye),ae?(Te(ae),Pe(),ce=p.preferredFormat||Ke(ae).format,ge(ae)):Pe(),g&&xe();var n=Re?"mousedown.spectrum":"click.spectrum touchstart.spectrum";K.delegate(".sp-thumb-el",n,t),X.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},t)}();var Le={show:xe,hide:Se,toggle:_e,reflow:Me,option:function(e,t){return e===Fe?Ne.extend({},p):t===Fe?p[e]:(p[e]=t,"preferredFormat"===e&&(ce=p.preferredFormat),void fe())},enable:function(){z=!1,F.attr("disabled",!1),oe.removeClass("sp-disabled")},disable:Ie,offset:function(e){p.offset=e,Me()},set:function(e){Te(e),Ae()},get:je,destroy:function(){F.show(),oe.unbind("click.spectrum touchstart.spectrum"),H.remove(),re.remove(),He[Le.id]=null},container:H};return Le.id=He.push(Le)-1,Le}function n(){}function Ue(e){e.stopPropagation()}function qe(e,t){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function Ye(s,a,t,e){a=a||function(){},t=t||function(){},e=e||function(){};var l=document,c=!1,u={},h=0,d=0,f="ontouchstart"in window,n={};function p(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function i(e){if(c){if(Re&&l.documentMode<9&&!e.button)return g();var t=e&&e.touches&&e.touches[0],n=t&&t.pageX||e.pageX,i=t&&t.pageY||e.pageY,r=Math.max(0,Math.min(n-u.left,d)),o=Math.max(0,Math.min(i-u.top,h));f&&p(e),a.apply(s,[r,o,e])}}function g(){c&&(Ne(l).unbind(n),Ne(l.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(s,arguments)},0)),c=!1}n.selectstart=p,n.dragstart=p,n["touchmove mousemove"]=i,n["touchend mouseup"]=g,Ne(s).bind("touchstart mousedown",function(e){(e.which?3==e.which:2==e.button)||c||!1!==t.apply(s,arguments)&&(c=!0,h=Ne(s).height(),d=Ne(s).width(),u=Ne(s).offset(),Ne(l).bind(n),Ne(l.body).addClass("sp-dragging"),i(e),p(e))})}function Ge(){return Ne.fn.spectrum.inputTypeColorSupport()}var s="spectrum.id";Ne.fn.spectrum=function(n,e){if("string"!=typeof n)return this.spectrum("destroy").each(function(){var e=o(this,Ne.extend({},n,Ne(this).data()));Ne(this).data(s,e.id)});var i=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=He[Ne(this).data(s)];if(e){var t=e[n];if(!t)throw new Error("Spectrum: no such method: '"+n+"'");"get"==n?i=e.get():"container"==n?i=e.container:"option"==n?i=e.option.apply(e,r):"destroy"==n?(e.destroy(),Ne(this).removeData(s)):t.apply(e,r)}}),i},Ne.fn.spectrum.load=!0,Ne.fn.spectrum.loadOpts={},Ne.fn.spectrum.draggable=Ye,Ne.fn.spectrum.defaults=ze,Ne.fn.spectrum.inputTypeColorSupport=function e(){var t;return void 0===e._cachedResult&&(t=Ne("<input type='color'/>")[0],e._cachedResult="color"===t.type&&""!==t.value),e._cachedResult},Ne.spectrum={},Ne.spectrum.localization={},Ne.spectrum.palettes={},Ne.fn.spectrum.processNativeColorInputs=function(){var e=Ne("input[type=color]");e.length&&!Ge()&&e.spectrum({preferredFormat:"hex6"})};var a=/^[\s,#]+/,l=/\s+$/,r=0,c=Math,u=c.round,h=c.min,d=c.max,i=c.random,Ke=function e(t,n){if(n=n||{},(t=t||"")instanceof e)return t;if(!(this instanceof e))return new e(t,n);var i=function(e){var t={r:0,g:0,b:0},n=1,i=!1,r=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(l,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=$.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=$.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=$.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=$.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=$.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=$.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=$.hex8.exec(e))return{a:function(e){return L(e)/255}(t[1]),r:L(t[2]),g:L(t[3]),b:L(t[4]),format:n?"name":"hex8"};if(t=$.hex6.exec(e))return{r:L(t[1]),g:L(t[2]),b:L(t[3]),format:n?"name":"hex"};if(t=$.hex3.exec(e))return{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==V()(e)&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=function(e,t,n){return{r:255*M(e,255),g:255*M(t,255),b:255*M(n,255)}}(e.r,e.g,e.b),i=!0,r="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=F(e.s),e.v=F(e.v),t=function(e,t,n){e=6*M(e,360),t=M(t,100),n=M(n,100);var i=c.floor(e),r=e-i,o=n*(1-t),s=n*(1-r*t),a=n*(1-(1-r)*t),l=i%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(e.h,e.s,e.v),i=!0,r="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=F(e.s),e.l=F(e.l),t=function(e,t,n){var i,r,o;function s(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}{var a,l;e=M(e,360),t=M(t,100),n=M(n,100),0===t?i=r=o=n:(i=s(l=2*n-(a=n<.5?n*(1+t):n+t-n*t),a,e+1/3),r=s(l,a,e),o=s(l,a,e-1/3))}return{r:255*i,g:255*r,b:255*o}}(e.h,e.s,e.l),i=!0,r="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=A(n),{ok:i,format:e.format||r,r:h(255,d(t.r,0)),g:h(255,d(t.g,0)),b:h(255,d(t.b,0)),a:n}}(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=u(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=i.ok,this._tc_id=r++};function f(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var i,r=d(e,t,n),o=h(e,t,n),s=(r+o)/2;if(r==o)i=l=0;else{var a=r-o,l=.5<s?a/(2-r-o):a/(r+o);switch(r){case e:i=(t-n)/a+(t<n?6:0);break;case t:i=(n-e)/a+2;break;case n:i=(e-t)/a+4}i/=6}return{h:i,s:l,l:s}}function p(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var i,r=d(e,t,n),o=h(e,t,n),s=r,a=r-o,l=0===r?0:a/r;if(r==o)i=0;else{switch(r){case e:i=(t-n)/a+(t<n?6:0);break;case t:i=(n-e)/a+2;break;case n:i=(e-t)/a+4}i/=6}return{h:i,s:l,v:s}}function g(e,t,n,i){var r=[N(u(e).toString(16)),N(u(t).toString(16)),N(u(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function m(e,t,n,i){var r;return[N((r=i,Math.round(255*parseFloat(r)).toString(16))),N(u(e).toString(16)),N(u(t).toString(16)),N(u(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.s-=t/100,n.s=I(n.s),Ke(n)}function b(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.s+=t/100,n.s=I(n.s),Ke(n)}function y(e){return Ke(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.l+=t/100,n.l=I(n.l),Ke(n)}function _(e,t){t=0===t?0:t||10;var n=Ke(e).toRgb();return n.r=d(0,h(255,n.r-u(-t/100*255))),n.g=d(0,h(255,n.g-u(-t/100*255))),n.b=d(0,h(255,n.b-u(-t/100*255))),Ke(n)}function x(e,t){t=0===t?0:t||10;var n=Ke(e).toHsl();return n.l-=t/100,n.l=I(n.l),Ke(n)}function C(e,t){var n=Ke(e).toHsl(),i=(u(n.h)+t)%360;return n.h=i<0?360+i:i,Ke(n)}function k(e){var t=Ke(e).toHsl();return t.h=(t.h+180)%360,Ke(t)}function S(e){var t=Ke(e).toHsl(),n=t.h;return[Ke(e),Ke({h:(n+120)%360,s:t.s,l:t.l}),Ke({h:(n+240)%360,s:t.s,l:t.l})]}function O(e){var t=Ke(e).toHsl(),n=t.h;return[Ke(e),Ke({h:(n+90)%360,s:t.s,l:t.l}),Ke({h:(n+180)%360,s:t.s,l:t.l}),Ke({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=Ke(e).toHsl(),n=t.h;return[Ke(e),Ke({h:(n+72)%360,s:t.s,l:t.l}),Ke({h:(n+216)%360,s:t.s,l:t.l})]}function j(e,t,n){t=t||6,n=n||30;var i=Ke(e).toHsl(),r=360/n,o=[Ke(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(Ke(i));return o}function E(e,t){t=t||6;for(var n=Ke(e).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/t;t--;)s.push(Ke({h:i,s:r,v:o})),o=(o+a)%1;return s}Ke.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=A(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),i=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),i=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return m(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*M(this._r,255))+"%",g:u(100*M(this._g,255))+"%",b:u(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*M(this._r,255))+"%, "+u(100*M(this._g,255))+"%, "+u(100*M(this._b,255))+"%)":"rgba("+u(100*M(this._r,255))+"%, "+u(100*M(this._g,255))+"%, "+u(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&D[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";return e&&(n=Ke(e).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&0<=this._a;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(j,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},Ke.fromRatio=function(e,t){if("object"==V()(e)){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:F(e[i]));e=n}return Ke(e,t)},Ke.equals=function(e,t){return!(!e||!t)&&Ke(e).toRgbString()==Ke(t).toRgbString()},Ke.random=function(){return Ke.fromRatio({r:i(),g:i(),b:i()})},Ke.mix=function(e,t,n){n=0===n?0:n||50;var i=Ke(e).toRgb(),r=Ke(t).toRgb(),o=n/100,s=2*o-1,a=r.a-i.a,l=s*a==-1?s:(s+a)/(1+s*a),c=1-(l=(l+1)/2),u={r:r.r*l+i.r*c,g:r.g*l+i.g*c,b:r.b*l+i.b*c,a:r.a*o+i.a*(1-o)};return Ke(u)},Ke.readability=function(e,t){var n=Ke(e),i=Ke(t),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:l}},Ke.isReadable=function(e,t){var n=Ke.readability(e,t);return 125<n.brightness&&500<n.color},Ke.mostReadable=function(e,t){for(var n=null,i=0,r=!1,o=0;o<t.length;o++){var s=Ke.readability(e,t[o]),a=125<s.brightness&&500<s.color,l=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&i<l||!a&&!r&&i<l)&&(r=a,i=l,n=Ke(t[o]))}return n};var P=Ke.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=Ke.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(P);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function M(e,t){var n;"string"==typeof(n=e)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var i,r="string"==typeof(i=e)&&-1!=i.indexOf("%");return e=h(t,d(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),c.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function I(e){return h(1,d(0,e))}function L(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}var z,H,R,$=(H="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",R="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+R),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=Ke,Ne(function(){Ne.fn.spectrum.load&&Ne.fn.spectrum.processNativeColorInputs()})}},"./src/utils/Dragger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return h});var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(o),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(a),v=n("./node_modules/underscore/underscore.js"),c=n("./src/utils/mixins.js");function u(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y=function(){return{x:0,y:0}},h=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},Object(v.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(e),this.delta=y(),this}return l()(t,[{key:"setOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.opts=b({},this.opts,{},t)}},{key:"toggleDrag",value:function(e){var t=this.getDocumentEl(),n=this.getContainerEl(),i=this.getWindowEl(),r=e?"on":"off",o={on:c.on,off:c.off};o[r](n,"mousemove dragover",this.drag),o[r](t,"mouseup dragend touchend",this.stop),o[r](t,"keydown",this.keyHandle),o[r](i,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.lastScroll,t=this.delta,n=this.getScrollInfo(),i={x:n.x-e.x,y:n.y-e.y};this.move(t.x+i.x,t.y+i.y),this.lastScrollDiff=i}},{key:"start",value:function(e){var t=this.opts,n=t.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(e),this.guidesStatic=Object(v.result)(t,"guidesStatic")||[],this.guidesTarget=Object(v.result)(t,"guidesTarget")||[],Object(v.isFunction)(n)&&n(e,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=y(),this.globScrollDiff=y(),this.drag(e)}},{key:"drag",value:function(e){var n=this,i=this.opts,t=this.lastScrollDiff,r=this.globScrollDiff,o=i.onDrag,s=this.startPointer,a=this.getPointerPos(e),l={x:r.x+t.x,y:r.y+t.y};this.globScrollDiff=l;var c={x:a.x-s.x+l.x,y:a.y-s.y+l.y};this.lastScrollDiff=y();var u=this.lockedAxis;"x"===(u=e.shiftKey?!u&&this.detectAxisLock(c.x,c.y):null)?c.x=s.x:"y"===u&&(c.y=s.y);function h(t){["x","y"].forEach(function(e){return t[e]=t[e]*Object(v.result)(i,"scale")}),n.delta=t,n.move(t.x,t.y),Object(v.isFunction)(o)&&o(e,n)}var d,f,p,g,m=b({},c);this.currentPointer=a,this.lockedAxis=u,this.lastScroll=this.getScrollInfo(),h(c),this.guidesTarget.length&&(f=(d=this.snapGuides(m)).newDelta,p=d.trgX,g=d.trgY,(p||g)&&h(f)),0===e.which&&this.stop(e)}},{key:"snapGuides",value:function(c){var u=this,i=c,h=this.trgX,d=this.trgY;return this.guidesTarget.forEach(function(l){l.x&&u.trgX||l.y&&u.trgY||(l.active=0,u.guidesStatic.forEach(function(e){var t,n,i,r,o,s,a;l.y&&e.x||l.x&&e.y||(t=l.y&&e.y,i=l[n=t?"y":"x"],r=e[n],o=c[n],s=t?d:h,u.isPointIn(i,r)&&Object(v.isUndefined)(s)&&(a=o-(i-r),u.setGuideLock(l,a)))}))}),h=this.trgX,d=this.trgY,["x","y"].forEach(function(e){var t=e.toUpperCase(),n=u["trg".concat(t)];n&&!u.isPointIn(c[e],n.lock)&&(u.setGuideLock(n,null),n=null),n&&!Object(v.isUndefined)(n.lock)&&(i[e]=n.lock)}),{newDelta:i,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(e,t,n){var i=(2<arguments.length&&void 0!==n?n:{}).offset||this.opts.snapOffset;return t<=e&&e<=t+i||e<=t&&t-i<=e}},{key:"setGuideLock",value:function(e,t){var n=Object(v.isUndefined)(e.x)?"Y":"X",i="trg".concat(n);return null!==t?(e.active=1,e.lock=t,this[i]=e):(delete e.active,delete e.lock,delete this[i]),e}},{key:"stop",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=this.delta,r=n.cancel,o=r?0:i.x,s=r?0:i.y;this.toggleDrag(),this.lockedAxis=null,this.move(o,s,1);var a=this.opts.onEnd;Object(v.isFunction)(a)&&a(e,this,{cancelled:r})}},{key:"keyHandle",value:function(e){Object(c.isEscKey)(e)&&this.stop(e,{cancel:1})}},{key:"move",value:function(e,t,n){var i,r,o,s=this.el,a=this.opts,l=this.startPosition;l&&(i=a.setPosition,r=l.x+e,o=l.y+t,this.position={x:r,y:o,end:n},Object(v.isFunction)(i)&&i(this.position),s&&(s.style.left="".concat(r,"px"),s.style.top="".concat(o,"px")))}},{key:"getContainerEl",value:function(){var e=this.opts.container;return e?[e]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow})}},{key:"getDocumentEl",value:function(e){var t,n=this.opts.doc;return e=e||this.el,this.docs||(t=[document],e&&t.push(e.ownerDocument),n&&t.push(n),this.docs=t),this.docs}},{key:"getPointerPos",value:function(e){var t=this.opts.getPointerPosition,n=Object(c.getPointerEvent)(e);return t?t(e):{x:n.clientX,y:n.clientY}}},{key:"getStartPosition",value:function(){var e=this.el,t=this.opts.getPosition,n=y();return Object(v.isFunction)(t)?n=t():e&&(n={x:parseFloat(e.style.left),y:parseFloat(e.style.top)}),n}},{key:"getScrollInfo",value:function(){var e=this.opts.doc,t=e&&e.body;return{y:t?t.scrollTop:0,x:t?t.scrollLeft:0}}},{key:"detectAxisLock",value:function(e,t){var n=e,i=t,r=Math.abs(n),o=Math.abs(i);return r<=i||i<=-r?"x":o<n||n<-o?"y":void 0}}]),t}()},"./src/utils/Droppable.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(i),r=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(r),l=n("./src/utils/mixins.js"),h=n("./node_modules/underscore/underscore.js"),o=function(){function o(e,t){var n=this;s()(this,o),this.em=e;var i=t||e.get("Canvas").getFrames().map(function(e){return e.get("root").getEl()}),r=Array.isArray(i)?i:[i];return this.el=i,this.counter=0,Object(h.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),r.forEach(function(e){return n.toggleEffects(e,1)}),this}return a()(o,[{key:"toggleEffects",value:function(e,t){var n={on:l.on,off:l.off},i=t?"on":"off";n[i](e,"dragenter",this.handleDragEnter),n[i](e,"dragover",this.handleDragOver),n[i](e,"drop",this.handleDrop),n[i](e,"dragleave",this.handleDragLeave)}},{key:"endDrop",value:function(e,t){var n=this.em,i=this.dragStop;this.counter=0,this.over=0,i&&i(e),n.runDefault({preserveSelected:1}),n.trigger("canvas:dragend",t)}},{key:"handleDragLeave",value:function(e){this.updateCounter(-1,e)}},{key:"updateCounter",value:function(e,t){this.counter+=e,0===this.counter&&this.endDrop(1,t)}},{key:"handleDragEnter",value:function(t){var e,n,i,l,c,u,r,o,s,a,h=this,d=this.em,f=t.dataTransfer;this.updateCounter(1,t),this.over||(this.over=1,e=d.get("Utils"),i=(n=d.get("Canvas")).getBody(),l=d.get("dragContent")||"<br>",d.stopDefault(),s=d.inAbsoluteMode()?(c=d.get("DomComponents").getWrapper(),u=c.append({})[0],r=d.get("Commands").run("core:component-drag",{event:t,guidesInfo:1,center:1,target:u,onEnd:function(e,t,n){var i,r,o,s,a;n.cancelled||(i=c.append(l)[0],o=(r=u.getStyle()).left,s=r.top,a=r.position,i.addStyle({left:o,top:s,position:a}),h.handleDragEnd(i,f)),u.remove()}}),o=function(e){return r.stop(t,{cancel:e})},function(e){return l=e}):((a=new e.Sorter({em:d,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:i,placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(e){return h.handleDragEnd(e,f)},document:n.getFrameEl().contentDocument})).setDropContent(l),a.startSort(),this.sorter=a,o=function(e){e&&(a.moved=0),a.endMove()},function(e){return a.setDropContent(e)}),this.dragStop=o,this.dragContent=s,d.trigger("canvas:dragenter",f,l))}},{key:"handleDragEnd",value:function(e,t){var n;e&&((n=this.em).set("dragResult",e),n.trigger("canvas:drop",t,e))}},{key:"handleDragOver",value:function(e){e.preventDefault(),this.em.trigger("canvas:dragover",e)}},{key:"handleDrop",value:function(e){e.preventDefault();var t=this.dragContent,n=e.dataTransfer,i=this.getContentByData(n).content;e.target.style.border="",i&&t&&t(i),this.endDrop(!i,e)}},{key:"getContentByData",value:function(e){var t,n=this.em,i=e.types,r=e.files||[],o=n.get("dragContent"),s=e.getData("text");if(r.length){s=[];for(var a=0;a<r.length;a++){var l=r[a],c=l.type.split("/")[0];"image"==c&&s.push({type:c,file:l,attributes:{alt:l.name}})}}else{o?s=o:0<=Object(h.indexOf)(i,"text/html")?s=e.getData("text/html").replace(/<\/?meta[^>]*>/g,""):0<=Object(h.indexOf)(i,"text/uri-list")?s={type:"link",attributes:{href:s},content:s}:0<=Object(h.indexOf)(i,"text/json")&&((t=e.getData("text/json"))&&(s=JSON.parse(t)))}var u={content:s};return n.trigger("canvas:dragdata",e,u),u}}]),o}()},"./src/utils/Resizer.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(a),h=n("./node_modules/underscore/underscore.js"),g=n("./src/utils/mixins.js");function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}var u={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:32,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},d=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o()(this,t),this.setOptions(e),Object(h.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return l()(t,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.opts=Object(h.defaults)(t,u),this.setup()}},{key:"setup",value:function(){var r=this.opts,e=r.prefix||"",t=r.appendTo||document.body,n=this.container;for(n||((n=document.createElement("div")).className="".concat(e,"resizer-c"),t.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var o={};for(var i in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(e){return o[e]=r[e]?(t=e,n=r.prefix||"",(i=document.createElement("i")).className=n+"resizer-h "+n+"resizer-h-"+t,i.setAttribute("data-"+n+"handler",t),i):"";var t,n,i}),o){var s=o[i];s&&n.appendChild(s)}this.handlers=o,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer}},{key:"toggleFrames",value:function(t){var e;this.opts.silentFrames&&(e=document.querySelectorAll("iframe"),Object(h.each)(e,function(e){return e.style.pointerEvents=t?"none":""}))}},{key:"isHandler",value:function(e){var t=this.handlers;for(var n in t)if(t[n]===e)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(e,t){var n,i,r,o=1<arguments.length&&void 0!==t?t:{},s=this.posFetcher||"";return s?s(e,o):(i=n||window,{left:(r=e.getBoundingClientRect()).left+i.pageXOffset,top:r.top+i.pageYOffset,width:r.width,height:r.height})}},{key:"focus",value:function(e){e&&e===this.el||(this.el=e,this.updateContainer({forceShow:1}),Object(g.on)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&(Object(g.off)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(e){var t,n,i,r,o;0===e.button&&(e.preventDefault(),e.stopPropagation(),t=this.el,i="data-"+(n=this.opts||{}).prefix+"handler",r=this.getElementPos(t,{target:"el"}),this.handlerAttr=e.target.getAttribute(i),this.clickedHandler=e.target,this.startDim={t:r.top,l:r.left,w:r.width,h:r.height},this.rectDim={t:r.top,l:r.left,w:r.width,h:r.height},this.startPos={x:e.clientX,y:e.clientY},o=this.getDocumentEl(),Object(g.on)(o,"mousemove",this.move),Object(g.on)(o,"keydown",this.handleKeyDown),Object(g.on)(o,"mouseup",this.stop),Object(h.isFunction)(this.onStart)&&this.onStart(e,{docs:o,config:n,el:t,resizer:this}),this.toggleFrames(1),this.move(e))}},{key:"move",value:function(e){var t=this.onMove,n=this.mousePosFetcher,i=n?n(e):{x:e.clientX,y:e.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(0),t&&t(e),0===e.which&&this.stop(e)}},{key:"stop",value:function(e){var t=this.opts,n=this.getDocumentEl();Object(g.off)(n,"mousemove",this.move),Object(g.off)(n,"keydown",this.handleKeyDown),Object(g.off)(n,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),Object(h.isFunction)(this.onEnd)&&this.onEnd(e,{docs:n,config:t})}},{key:"updateRect",value:function(e){var t,n=this.el,i=this.opts,r=this.rectDim,o=this.updateTarget,s=this.getSelectedHandler(),a=i.unitHeight,l=i.unitWidth,c=i.keyWidth,u=i.keyHeight;Object(h.isFunction)(o)?o(n,r,{store:e,selectedHandler:s,resizer:this,config:i}):((t=n.style)[c]=r.w+l,t[u]=r.h+a),this.updateContainer()}},{key:"updateContainer",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=this.opts,i=this.container,r=this.el,o=i.style;!n.avoidContainerUpdate&&r&&t.forceShow&&(o.display="block"),this.onUpdateContainer({el:i,resizer:this,opts:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n,{},t)})}},{key:"getSelectedHandler",value:function(){var e=this.handlers;if(this.selectedHandler)for(var t in e)if(e[t]===this.selectedHandler)return t}},{key:"handleKeyDown",value:function(e){27===e.keyCode&&(this.rectDim=this.startDim,this.stop(e))}},{key:"handleMouseDown",value:function(e){var t=e.target;this.isHandler(t)?(this.selectedHandler=t,this.start(e)):t!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(e){var t,n=this.opts||{},i=n.step,r=this.startDim,o=n.minDim,s=n.maxDim,a=e.delta.x,l=e.delta.y,c=r.w,u=r.h,h={t:0,l:0,w:c,h:u};if(e){var d=e.handlerAttr;~d.indexOf("r")&&(t=Object(g.normalizeFloat)(c+a*i,i),t=Math.max(o,t),s&&(t=Math.min(s,t)),h.w=t),~d.indexOf("b")&&(t=Object(g.normalizeFloat)(u+l*i,i),t=Math.max(o,t),s&&(t=Math.min(s,t)),h.h=t),~d.indexOf("l")&&(t=Object(g.normalizeFloat)(c-a*i,i),t=Math.max(o,t),s&&(t=Math.min(s,t)),h.w=t),~d.indexOf("t")&&(t=Object(g.normalizeFloat)(u-l*i,i),t=Math.max(o,t),s&&(t=Math.min(s,t)),h.h=t);var f,p=n.ratioDefault?!e.keys.shift:e.keys.shift;return d.indexOf("c")<0&&p&&(f=r.w/r.h,h.w/h.h>f?h.h=Math.round(h.w/f):h.w=Math.round(h.h*f)),~d.indexOf("l")&&(h.l=r.w-h.w),~d.indexOf("t")&&(h.t=r.h-h.h),h}}}]),t}();t.default={init:function(e){return new d(e)}}},"./src/utils/Sorter.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/backbone/backbone.js"),O=n.n(o),g=n("./node_modules/underscore/underscore.js"),T=n("./src/utils/mixins.js");function s(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E=O.a.$;t.default=O.a.View.extend({initialize:function(e){this.opt=e||{},Object(g.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var t=e||{};this.elT=0,this.elL=0,this.borderOffset=t.borderOffset||10;var n=t.container;this.el="string"==typeof n?document.querySelector(n):n,this.$el=E(this.el),this.containerSel=t.containerSel||"div",this.itemSel=t.itemSel||"div",this.draggable=t.draggable||!0,this.nested=t.nested||0,this.pfx=t.pfx||"",this.ppfx=t.ppfx||"",this.freezeClass=t.freezeClass||this.pfx+"freezed",this.onStart=t.onStart||"",this.onEndMove=t.onEndMove||"",this.direction=t.direction||"v",this.onMoveClb=t.onMove||"",this.relative=t.relative||0,this.ignoreViewChildren=t.ignoreViewChildren||0,this.ignoreModels=t.ignoreModels||0,this.plh=t.placer||"",this.wmargin=t.wmargin||0,this.offTop=t.offsetTop||0,this.offLeft=t.offsetLeft||0,this.document=t.document||document,this.$document=E(this.document),this.dropContent=null,this.em=t.em||"",this.dragHelper=null,this.canvasRelative=t.canvasRelative||0,this.selectOnEnd=!t.avoidSelectOnEnd,this.scale=t.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return Object(g.result)(this,scale)||1},getContainerEl:function(e){var t;return e&&(this.el=e),this.el||(t=this.opt.container,this.el="string"==typeof t?document.querySelector(t):t,this.$el=E(this.el)),this.el},getDocuments:function(e){var t=this.em,n=e?e.ownerDocument:t&&t.get("Canvas").getBody().ownerDocument,i=[document];return n&&i.push(n),i},updateOffset:function(){var e=this.em.get("canvasOffset")||{};this.offTop=e.top,this.offLeft=e.left},setDropContent:function(e){this.dropModel=null,this.dropContent=e},updateTextViewCursorPosition:function(e){var t,n=this.em.get("Canvas"),i=n.getDocument(),r=null;i.caretRangeFromPoint?(t=Object(T.getPointerEvent)(e),r=i.caretRangeFromPoint(t.clientX,t.clientY)):e.rangeParent&&(r=i.createRange()).setStart(e.rangeParent,e.rangeOffset);var o=n.getWindow().getSelection();n.getFrameEl().focus(),o.removeAllRanges(),r&&o.addRange(r)},setContentEditable:function(e,t){var n;!e||(n=e.getEl()).contentEditable!=t&&(n.contentEditable=t)},toggleSortCursor:function(e){var t=this.em,n=t&&t.get("Canvas");n&&(e?n.startAutoscroll():n.stopAutoscroll())},setDragHelper:function(e,t){for(var n=t||"",i=e.cloneNode(1),r=e.getBoundingClientRect(),o=getComputedStyle(e),s="",a=0;a<o.length;a++){var l=o[a];s+="".concat(l,":").concat(o.getPropertyValue(l),";")}document.body.appendChild(i),i.className+=" ".concat(this.pfx,"bdrag"),i.setAttribute("style",s),(this.dragHelper=i).style.width="".concat(r.width,"px"),i.style.height="".concat(r.height,"px"),n&&this.moveDragHelper(n),this.em&&E(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),E(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(e){var t,n,i,r,o,s,a,l=e.target.ownerDocument;this.dragHelper&&l&&(s=e.pageY,a=e.pageX,o=r=0,t=(l.defaultView||l.parentWindow).frameElement,n=this.dragHelper.style,t&&(r=(i=t.getBoundingClientRect()).top+document.documentElement.scrollTop,o=i.left+document.documentElement.scrollLeft,s=e.clientY,a=e.clientX),n.top=s+r+"px",n.left=a+o+"px")},matches:function(e,t){return T.matches.call(e,t)},closest:function(e,t){if(e){for(var n=e.parentNode;n&&1===n.nodeType;){if(this.matches(n,t))return n;n=n.parentNode}return null}},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},createPlaceholder:function(){var e=this.pfx,t=document.createElement("div"),n=document.createElement("div");return t.className=e+"placeholder",t.style.display="none",t.style["pointer-events"]="none",n.className=e+"placeholder-int",t.appendChild(n),t},startSort:function(e,t){var n,i=1<arguments.length&&void 0!==t?t:{},r=this.em,o=this.itemSel,s=this.containerSel,a=this.getContainerEl(i.container),l=this.getDocuments(e),c=this.onStart,u=this.plh;this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,e&&!this.matches(e,"".concat(o,", ").concat(s))&&(e=this.closest(e,o)),this.eV=e,u||(u=this.createPlaceholder(),a.appendChild(u),this.plh=u),e&&((n=this.getSourceModel(e))&&n.set&&n.set("status","freezed"),this.srcModel=n),Object(T.on)(a,"mousemove dragover",this.onMove),Object(T.on)(l,"mouseup dragend touchend",this.endMove),Object(T.on)(l,"keydown",this.rollback),c&&c({target:n,parent:n&&n.parent(),index:n&&n.index()}),r&&r.clearSelection(),this.toggleSortCursor(1),r&&r.trigger("sorter:drag:start",e,n)},getTargetModel:function(e){var t=e||this.target;return E(t).data("model")},getSourceModel:function(e,t){function n(e){return e&&o&&e.opt&&e.opt.avoidChildren&&i.isTextableActive(e,o)}var i=this,r=1<arguments.length&&void 0!==t?t:{},o=r.target,s=r.avoidChildren,a=void 0===s?1:s,l=this.em,c=this.eV,u=e||c,h=this.dropModel,d=this.dropContent;if(d&&l){if(n(h)&&(h=null),!h){var f=l.get("DomComponents").getComponents(),p={avoidChildren:a,avoidStore:1,avoidUpdateStyle:1},g=f.add(d,j({},p,{temporary:1}));if(h=(h=f.remove(g,p))instanceof Array?h[0]:h,n(this.dropModel=h))return this.getSourceModel(u,{target:o,avoidChildren:0})}return h}return u&&E(u).data("model")},selectTargetModel:function(e){var t;e instanceof O.a.Collection||((t=this.targetModel)&&t!==this.srcModel&&t.set("status",""),e&&e.set&&(e.set("status","selected-parent"),this.targetModel=e))},onMove:function(e){var t=e,n=this.em,i=this.onMoveClb,r=this.plh;this.moved=1;var o=r.style.display;o&&"none"!==o||(r.style.display="block");var s=this.offset(this.el);this.elT=this.wmargin?Math.abs(s.top):s.top,this.elL=this.wmargin?Math.abs(s.left):s.left;var a,l=e.pageY-this.elT+this.el.scrollTop,c=e.pageX-this.elL+this.el.scrollLeft;this.canvasRelative&&n&&(c=(a=n.get("Canvas").getMouseRelativeCanvas(e,{noScroll:1})).x,l=a.y),this.rX=c,this.rY=l,this.eventMove=e;var u,h=this.getSourceModel(),d=this.dimsFromTarget(e.target,c,l),f=this.target,p=f&&this.getTargetModel(f);this.selectTargetModel(p),p||(r.style.display="none"),f&&(this.lastDims=d,u=this.findPosition(d,c,l),this.isTextableActive(h,p)?(this.activeTextModel=p,this.setContentEditable(p,!0),r.style.display="none",this.lastPos=u,this.updateTextViewCursorPosition(t)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==u.index&&this.lastPos.method==u.method||(this.movePlaceholder(this.plh,d,u,this.prevTargetDim),this.$plh||(this.$plh=E(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=u)),Object(g.isFunction)(i)&&i({event:e,target:h,parent:p,index:u.index+("after"==u.method?1:0)}),n&&n.trigger("sorter:drag",{target:f,targetModel:p,sourceModel:h,dims:d,pos:u,x:c,y:l}))},isTextableActive:function(e,t){return e&&e.get&&e.get("textable")&&t&&t.is("text")},disableTextable:function(){var e=this.activeTextModel;e&&e.getView().disableEditing()},isInFlow:function(e,t){if(!e)return!1;t=t||document.body;e.offsetHeight;return!!this.styleInFlow(e,t)},styleInFlow:function(e,t){if(!Object(T.isTextNode)(e)){var n=e.style||{},i=E(e),r=t&&E(t);if(!(n.overflow&&"visible"!==n.overflow||"none"!==i.css("float")||r&&"flex"==r.css("display")&&"column"!==r.css("flex-direction"))){switch(n.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(i.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}},validTarget:function(e,t){var n=this.getTargetModel(e),i=this.getSourceModel(t,{target:n}),r={valid:!0,src:t=i&&i.view&&i.view.el,srcModel:i,trg:e=n&&n.view&&n.view.el,trgModel:n};if(!t||!e)return r.valid=!1,r;var o=(o=i.get("draggable"))instanceof Array?o.join(", "):o;r.dragInfo=o,o=Object(g.isString)(o)?this.matches(e,o):o,r.draggable=o;var s=n.get("droppable");return s=(s=s instanceof O.a.Collection?1:s)instanceof Array?s.join(", "):s,r.dropInfo=s,s=Object(g.isString)(s)?this.matches(t,s):s,s=o&&this.isTextableActive(i,n)?1:s,(r.droppable=s)&&o||(r.valid=!1),r},dimsFromTarget:function(e,t,n){var i,r=this.em,o=[];if(!e)return o;if(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e)return o;if(this.prevTarget&&this.prevTarget!=e&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var s=this.validTarget(e);if(r&&r.trigger("sorter:drag:validation",s),!s.valid&&this.targetP)return this.dimsFromTarget(this.targetP,t,n);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}return this.prevTarget==e&&(o=this.cacheDims),this.target=this.prevTarget,!this.nearBorders(this.prevTargetDim,t,n)&&(this.nested||this.cacheDims.length)||(i=this.targetP)&&this.validTarget(i).valid&&(o=this.cacheDimsP,this.target=i),this.lastPos=null,o},getTargetFromEl:function(e){var t,n=e,i=this.targetPrev,r=this.em,o=this.containerSel,s=this.itemSel;if(this.matches(n,"".concat(s,", ").concat(o))||(n=this.closest(n,s)),this.draggable instanceof Array&&(n=this.closest(n,this.draggable.join(","))),i&&i!=n&&(this.targetPrev=""),!this.targetPrev){t=this.closest(n,o);var a=this.validTarget(n);if(r&&r.trigger("sorter:drag:validation",a),!a.valid&&t)return this.getTargetFromEl(t);this.targetPrev=n}return this.nearElBorders(n)&&(t=this.closest(n,o))&&this.validTarget(t).valid&&(n=t),n},nearElBorders:function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.body,i=this.getCurrentPos(),r=i.x,o=i.y,s=t.top+n.scrollTop,a=t.left+n.scrollLeft,l=t.width,c=t.height;if(o<s+10||s+c-10<o||r<a+10||a+l-10<r)return 1},getCurrentPos:function(){var e=this.eventMove;return{x:e.pageX||0,y:e.pageY||0}},getDim:function(e){var t,n,i,r,o,s,a,l,c=this.em;return a=this.canvasRelative&&c?(n=(t=c.get("Canvas")).getElementPos(e,{noScroll:1}),i=t.getElementOffsets(e),r=n.top-i.marginTop,o=n.left-i.marginLeft,s=n.height+i.marginTop+i.marginBottom,n.width+i.marginLeft+i.marginRight):(l=this.offset(e),r=this.relative?e.offsetTop:l.top-(this.wmargin?-1:1)*this.elT,o=this.relative?e.offsetLeft:l.left-(this.wmargin?-1:1)*this.elL,s=e.offsetHeight,e.offsetWidth),[r,o,s,a]},getChildrenDim:function(s){var a=this,l=[];if(!s)return l;var e,t=this.getTargetModel(s);return t&&t.view&&!this.ignoreViewChildren&&(e=t.getCurrentView?t.getCurrentView():t.view,s=e.getChildrenContainer()),Object(g.each)(s.children,function(e,t){var n,i,r=Object(T.getModel)(e,E),o=r&&r.index?r.index():t;(Object(T.isTextNode)(e)||a.matches(e,a.itemSel))&&(n=a.getDim(e),i="v"==(i=a.direction)||"h"!=i&&a.isInFlow(e,s),n.push(i,e,o),l.push(n))}),l},nearBorders:function(e,t,n){var i=0,r=this.borderOffset,o=t||0,s=n||0,a=e[0],l=e[1],c=e[2],u=e[3];return(s<a+r||a+c-r<s||o<l+r||l+u-r<o)&&(i=1),!!i},findPosition:function(e,t,n){for(var i={index:0,indexEl:0,method:"before"},r=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=e.length;d<f;d++)if(s=(h=e[d])[1]+h[3],u=h[0]+h[2],l=h[1]+h[3]/2,c=h[0]+h[2]/2,!(o&&h[1]>o||a&&a<=c||r&&s<r))if(i.index=d,i.indexEl=h[6],h[4]){if(n<c){i.method="before";break}i.method="after"}else n<u&&(a=u),t<l?(o=l,i.method="before"):(r=l,i.method="after");return i},movePlaceholder:function(e,t,n,i){var r=0,o=0,s=0,a=0,l=n.method,c=t[n.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),c)c[4]?(s=c[3]+"px",a="auto",r="before"==l?+c[0]:+(c[0]+c[2]),o=c[1]):(s="auto",a=+c[2]+"px",r=c[0]+0,o="before"==l?+c[1]:+(c[1]+c[3]),e.classList.remove("horizontal"),e.classList.add("vertical"));else{if(!this.nested)return void(e.style.display="none");i&&(r=i[0]+5,o=i[1]+5,s=parseInt(i[3])-10+"px",a="auto")}e.style.top=r+"px",e.style.left=o+"px",s&&(e.style.width=s),a&&(e.style.height=a)},endMove:function(){var e,t,n=this,i=this.eV,r=[],o=this.getDocuments(),s=this.getContainerEl(),a=this.onEndMove,l=this.target,c=this.lastPos;Object(T.off)(s,"mousemove dragover",this.onMove),Object(T.off)(o,"mouseup dragend touchend",this.endMove),Object(T.off)(o,"keydown",this.rollback),this.plh.style.display="none",i&&(e=this.getSourceModel(),this.selectOnEnd&&e&&e.set&&(e.set("status",""),e.set("status","selected"))),this.moved&&(t=this.toMove,(Object(g.isArray)(t)?t:t?[t]:[i]).forEach(function(e){r.push(n.move(l,e,c))})),this.plh&&(this.plh.style.display="none");var u,h=this.dragHelper;h&&(h.parentNode.removeChild(h),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,Object(g.isFunction)(a)&&(u={target:e,parent:e&&e.parent(),index:e&&e.index()},r.length?r.forEach(function(e){return a(e,n,u)}):a(null,this,j({},u,{cancelled:1})))},move:function(e,t,n){var i=this.em,r=this.activeTextModel,o=this.dropContent,s=Object(T.getElement)(t);i&&i.trigger("component:dragEnd:before",e,s,n);var a,l,c,u,h,d,f,p,g=[],m=n.indexEl,v=this.validTarget(e,s),b=E(e).data("collection"),y=v.srcModel,w=v.droppable,_=v.draggable,x=v.dropInfo,C=v.dragInfo,k=v.trgModel,w=k instanceof O.a.Collection?1:w,S=this.isTextableActive(y,k);return b&&w&&_?(u={at:m="after"===n.method?m+1:m,noIncrement:1},o?(a=o,u.silent=!1,u.avoidUpdateStyle=1):(u.temporary=1,l=b.add({},j({},u)),y.collection&&(a=y.collection.remove(y,{temporary:1}))),S?(h=r.getView(),r.trigger("active"),d=h.activeRte,f=y.getEl(),delete y.opt.temporary,y.getView().render(),f.setAttribute("data-gjs-textable","true"),p=f.outerHTML,d.insertHTML&&d.insertHTML(p)):c=b.add(a,u),o?this.dropContent=null:b.remove(l),this.prevTarget=null):(b||g.push("Target collection not found"),w||g.push("Target is not droppable, accepts [".concat(x,"]")),_||g.push("Component not draggable, acceptable by [".concat(C,"]")),console.warn("Invalid target position: "+g.join(", "))),i&&i.trigger("component:dragEnd",b,a,g),i&&i.trigger("sorter:drag:end",{targetCollection:b,modelToDrop:a,warns:g,validResult:v,dst:e,srcEl:s}),c},rollback:function(e){Object(T.off)(this.getDocuments(),"keydown",this.rollback),27==(e.which||e.keyCode)&&(this.moved=0,this.endMove())}})},"./src/utils/dom.js":function(e,t,n){"use strict";n.r(t),n.d(t,"motionsEv",function(){return i}),n.d(t,"empty",function(){return r}),n.d(t,"replaceWith",function(){return o}),n.d(t,"appendAtIndex",function(){return a}),n.d(t,"append",function(){return l}),n.d(t,"createEl",function(){return c}),n.d(t,"createCustomEvent",function(){return u}),n.d(t,"appendVNodes",function(){return h});var s=n("./node_modules/underscore/underscore.js"),i="transitionend oTransitionEnd transitionend webkitTransitionEnd",r=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},o=function(e,t){e.parentNode.replaceChild(t,e)},a=function(e,t,n){var i=e.childNodes,r=i.length,o=Object(s.isUndefined)(n)?r:n;Object(s.isString)(t)&&(e.insertAdjacentHTML("beforeEnd",t),t=e.lastChild,e.removeChild(t)),r<=o?e.appendChild(t):e.insertBefore(t,i[o])},l=function(e,t){return a(e,t)},c=function(e,t,n){var i=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length?n:void 0,o=document.createElement(e);return i&&Object(s.each)(i,function(e,t){return o.setAttribute(t,e)}),r&&(Object(s.isString)(r)?o.innerHTML=r:o.appendChild(r)),o},u=function(e,t){var n;try{n=new window[t](e.type,e)}catch(e){(n=document.createEvent(t)).initEvent(e.type,!0,!0)}return n.keyCodeVal=e.keyCode,n._parentEvent=e,["keyCode","which"].forEach(function(e){Object.defineProperty(n,e,{get:function(){return this.keyCodeVal}})}),n},h=function(r,e){var t=1<arguments.length&&void 0!==e?e:[];(Array.isArray(t)?t:[t]).forEach(function(e){var t=e.tag||"div",n=e.attributes||{},i=document.createElement(t);Object(s.each)(n,function(e,t){i.setAttribute(t,e)}),r.appendChild(i)})}},"./src/utils/extender.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/underscore/underscore.js");t.default=function(e){var t,i,r,n=e.$;n&&"jQuery"!==n.prototype.constructor.name&&((t=n.fn).hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var e=this.get(0);return e&&e.focus(),this},t.bind=function(e,t){return this.on(e,t)},t.unbind=function(e,t){if(Object(o.isObject)(e)){for(var n in e)e.hasOwnProperty(n)&&this.off(n,e[n]);return this}return this.off(e,t)},t.click=function(e){return e?this.on("click",e):this.trigger("click")},t.change=function(e){return e?this.on("change",e):this.trigger("change")},t.keydown=function(e){return e?this.on("keydown",e):this.trigger("keydown")},t.delegate=function(e,t,n,i){return i=i||n,this.on(t,e,function(e){e.data=n,i(e)})},t.scrollLeft=function(){var e=this.get(0),t=(e=9==e.nodeType?e.defaultView:e)instanceof Window?e:null;return t?t.pageXOffset:e.scrollLeft||0},t.scrollTop=function(){var e=this.get(0),t=(e=9==e.nodeType?e.defaultView:e)instanceof Window?e:null;return t?t.pageYOffset:e.scrollTop||0},i=n.prototype.offset,t.offset=function(e){var t,n;return e&&(t=e.top,n=e.left),void 0!==t&&this.css("top","".concat(t,"px")),void 0!==n&&this.css("left","".concat(n,"px")),i.call(this)},n.map=function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n},r=Array.prototype.indexOf,n.inArray=function(e,t,n){return null==t?-1:r.call(t,e,n)},n.Event=function(e,t){if(!(this instanceof n.Event))return new n.Event(e,t);this.type=e,this.isDefaultPrevented=function(){return!1}})}},"./src/utils/fetch.js":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/promise-polyfill/src/index.js");window.Promise=window.Promise||s.default,t.default="function"==typeof fetch?fetch.bind():function(r,o){return new s.default(function(t,e){var n=new XMLHttpRequest;for(var i in n.open(o.method||"get",r),n.withCredentials="include"==o.credentials,o.headers||{})n.setRequestHeader(i,o.headers[i]);n.onload=function(e){return t({status:n.status,statusText:n.statusText,text:function(){return s.default.resolve(n.responseText)}})},n.onerror=e,n.upload&&o.onProgress&&(n.upload.onprogress=o.onProgress),o.body?n.send(o.body):n.send()})}},"./src/utils/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./src/utils/Dragger.js"),r=n("./src/utils/Sorter.js"),o=n("./src/utils/Resizer.js");t.default=function(){return{name:"Utils",init:function(){return this},Sorter:r.default,Resizer:o.default,Dragger:i.default}}},"./src/utils/mixins.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isCommentNode",function(){return y}),n.d(t,"isTaggableNode",function(){return w}),n.d(t,"on",function(){return u}),n.d(t,"off",function(){return h}),n.d(t,"hasDnd",function(){return m}),n.d(t,"upFirst",function(){return f}),n.d(t,"matches",function(){return o}),n.d(t,"getModel",function(){return _}),n.d(t,"getElRect",function(){return x}),n.d(t,"camelCase",function(){return p}),n.d(t,"isTextNode",function(){return b}),n.d(t,"getKeyCode",function(){return k}),n.d(t,"getKeyChar",function(){return S}),n.d(t,"isEscKey",function(){return O}),n.d(t,"getElement",function(){return v}),n.d(t,"shallowDiff",function(){return a}),n.d(t,"normalizeFloat",function(){return g}),n.d(t,"getPointerEvent",function(){return C}),n.d(t,"getUnitFromValue",function(){return d}),n.d(t,"capitalize",function(){return T}),n.d(t,"getViewEl",function(){return P}),n.d(t,"setViewEl",function(){return D}),n.d(t,"appendStyles",function(){return s}),n.d(t,"isComponent",function(){return j}),n.d(t,"isRule",function(){return E});var i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),l=n.n(i),c=n("./node_modules/underscore/underscore.js"),r=window.Element.prototype,o=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector,s=function e(t,n){var i,r,o,s=1<arguments.length&&void 0!==n?n:{},a=Object(c.isArray)(t)?l()(t):[t];a.length&&(!(i=a.shift())||s.unique&&document.querySelector('link[href="'.concat(i,'"]'))||(r=document.head,(o=document.createElement("link")).href=i,o.rel="stylesheet",s.prepand?r.insertBefore(o,r.firstChild):r.appendChild(o)),e(a))},a=function(e,t){var n,i,r={},o=Object(c.keys)(t);for(var s in e){e.hasOwnProperty(s)&&(n=e[s],i=t[s],0<=o.indexOf(s)?n!==i&&(r[s]=i):r[s]=null)}for(var a in t)t.hasOwnProperty(a)&&Object(c.isUndefined)(e[a])&&(r[a]=t[a]);return r},u=function(e,n,i){n=n.split(/\s+/),e=e instanceof Array?e:[e];for(var t=0;t<n.length;++t)!function(t){e.forEach(function(e){return e.addEventListener(n[t],i)})}(t)},h=function(e,n,i){n=n.split(/\s+/),e=e instanceof Array?e:[e];for(var t=0;t<n.length;++t)!function(t){e.forEach(function(e){return e.removeEventListener(n[t],i)})}(t)},d=function(e){return e.replace(parseFloat(e),"")},f=function(e){return e[0].toUpperCase()+e.toLowerCase().slice(1)},p=function(e){var t=e.split("-").filter(String);return t[0].toLowerCase()+t.slice(1).map(f)},g=function(e,t,n){var i,r=1<arguments.length&&void 0!==t?t:1,o=2<arguments.length&&void 0!==n?n:0,s=0;return isNaN(e)?o:(e=parseFloat(e),Math.floor(e)!==e&&(s=(i=r.toString().split(".")[1])?i.length:0),s?parseFloat(e.toFixed(s)):e)},m=function(e){return"draggable"in document.createElement("i")&&(e?e.get("Config").nativeDnD:1)},v=function(e){return Object(c.isElement)(e)||b(e)?e:e&&e.getEl?e.getEl():void 0},b=function(e){return e&&3===e.nodeType},y=function(e){return e&&8===e.nodeType},w=function(e){return e&&!b(e)&&!y(e)},_=function(e,t){var n=e;return Object(c.isElement)(e)&&(n=t(e).data("model")),n},x=function(e){var t,n,i={top:0,left:0,width:0,height:0};return e?(b(e)&&((n=document.createRange()).selectNode(e),t=n.getBoundingClientRect(),n.detach()),t||(e.getBoundingClientRect?e.getBoundingClientRect():i)):i},C=function(e){return e.touches&&e.touches[0]?e.touches[0]:e},k=function(e){return e.which||e.keyCode},S=function(e){return String.fromCharCode(k(e))},O=function(e){return 27===k(e)},T=function(e){return e&&e.charAt(0).toUpperCase()+e.substring(1)},j=function(e){return e&&e.toHTML},E=function(e){return e&&e.toCSS},P=function(e){return e.__gjsv},D=function(e,t){e.__gjsv=t}},"./src/utils/polyfills.js":function(e,t,n){"use strict";n.r(t),t.default=function(){var t;!function(){for(var e,t=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<n.length;i++){if(e=n[i][1].exec(t))break}return!!e}()||(t=DOMImplementation.prototype.createHTMLDocument,DOMImplementation.prototype.createHTMLDocument=function(e){return e=e||"",t.apply(document.implementation,[e])})}}},r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.js").default;function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(C){C.ui=C.ui||{};C.ui.version="1.12.1";var r,n=0,a=Array.prototype.slice;C.cleanData=(r=C.cleanData,function(e){for(var t,n,i=0;null!=(n=e[i]);i++)try{(t=C._data(n,"events"))&&t.remove&&C(n).triggerHandler("remove")}catch(e){}r(e)}),C.widget=function(e,n,t){var i,r,o,s={},a=e.split(".")[0],l=a+"-"+(e=e.split(".")[1]);return t||(t=n,n=C.Widget),C.isArray(t)&&(t=C.extend.apply(null,[{}].concat(t))),C.expr[":"][l.toLowerCase()]=function(e){return!!C.data(e,l)},C[a]=C[a]||{},i=C[a][e],r=C[a][e]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},C.extend(r,i,{version:t.version,_proto:C.extend({},t),_childConstructors:[]}),(o=new n).options=C.widget.extend({},o.options),C.each(t,function(t,i){function r(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}C.isFunction(i)?s[t]=function(){var e,t=this._super,n=this._superApply;return this._super=r,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}:s[t]=i}),r.prototype=C.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||e},s,{constructor:r,namespace:a,widgetName:e,widgetFullName:l}),i?(C.each(i._childConstructors,function(e,t){var n=t.prototype;C.widget(n.namespace+"."+n.widgetName,r,t._proto)}),delete i._childConstructors):n._childConstructors.push(r),C.widget.bridge(e,r),r},C.widget.extend=function(e){for(var t,n,i=a.call(arguments,1),r=0,o=i.length;r<o;r++)for(t in i[r])n=i[r][t],i[r].hasOwnProperty(t)&&void 0!==n&&(C.isPlainObject(n)?e[t]=C.isPlainObject(e[t])?C.widget.extend({},e[t],n):C.widget.extend({},n):e[t]=n);return e},C.widget.bridge=function(o,t){var s=t.prototype.widgetFullName||o;C.fn[o]=function(n){var e="string"==typeof n,i=a.call(arguments,1),r=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=C.data(this,s);return"instance"===n?(r=t,!1):t?C.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&void 0!==e?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:C.error("no such method '"+n+"' for "+o+" widget instance"):C.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):r=void 0:(i.length&&(n=C.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=C.data(this,s);e?(e.option(n||{}),e._init&&e._init()):C.data(this,s,new t(n,this))})),r}},C.Widget=function(){},C.Widget._childConstructors=[],C.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=C(t||this.defaultElement||this)[0],this.element=C(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=C(),this.hoverable=C(),this.focusable=C(),this.classesElementLookup={},t!==this&&(C.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=C(t.style?t.ownerDocument:t.document||t),this.window=C(this.document[0].defaultView||this.document[0].parentWindow)),this.options=C.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:C.noop,_create:C.noop,_init:C.noop,destroy:function(){var n=this;this._destroy(),C.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:C.noop,widget:function(){return this.element},option:function(e,t){var n,i,r,o=e;if(0===arguments.length)return C.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(i=o[e]=C.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(e=n.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,n,i;for(t in e)i=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&i&&i.length&&(n=C(i.get()),this._removeClass(i,t),n.addClass(this._classes({element:n,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){var o=[],s=this;function e(e,t){for(var n,i=0;i<e.length;i++)n=s.classesElementLookup[e[i]]||C(),n=r.add?C(C.unique(n.get().concat(r.element.get()))):C(n.not(r.element).get()),s.classesElementLookup[e[i]]=n,o.push(e[i]),t&&r.classes[e[i]]&&o.push(r.classes[e[i]])}return r=C.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&e(r.keys.match(/\S+/g)||[],!0),r.extra&&e(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var i=this;C.each(i.classesElementLookup,function(e,t){-1!==C.inArray(n.target,t)&&(i.classesElementLookup[e]=C(t.not(n.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(s,a,e){var l,c=this;"boolean"!=typeof s&&(e=a,a=s,s=!1),e?(a=l=C(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,l=this.widget()),C.each(e,function(e,t){function n(){if(s||!0!==c.options.disabled&&!C(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||C.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.on(r,o,n):a.on(r,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=C(this.bindings.not(e).get()),this.focusable=C(this.focusable.not(e).get()),this.hoverable=C(this.hoverable.not(e).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(C(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(C(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(C(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(C(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,r,o=this.options[e];if(n=n||{},(t=C.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!(C.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},C.each({show:"fadeIn",hide:"fadeOut"},function(o,s){C.Widget.prototype["_"+o]=function(t,e,n){var i;"string"==typeof e&&(e={effect:e});var r=e?!0!==e&&"number"!=typeof e&&e.effect||s:o;"number"==typeof(e=e||{})&&(e={duration:e}),i=!C.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&C.effects&&C.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,n):t.queue(function(e){C(this)[o](),n&&n.call(t[0]),e()})}});var o,x,k,i,s,l,c,u,S;C.widget;function O(e,t,n){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?n/100:1)]}function T(e,t){return parseInt(C.css(e,t),10)||0}x=Math.max,k=Math.abs,i=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,S=C.fn.position,C.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,t,n=C("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return C("body").append(n),e=i.offsetWidth,n.css("overflow","scroll"),e===(t=i.offsetWidth)&&(t=n[0].clientWidth),n.remove(),o=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?C.position.scrollbarWidth():0,height:i?C.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=C(e||window),n=C.isWindow(t[0]),i=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:n,isDocument:i,offset:!n&&!i?C(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},C.fn.position=function(h){if(!h||!h.of)return S.apply(this,arguments);h=C.extend({},h);var d,f,p,g,m,e,t,v=C(h.of),b=C.position.getWithinInfo(h.within),y=C.position.getScrollInfo(b),w=(h.collision||"flip").split(" "),_={},n=9===(t=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:C.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};return v[0].preventDefault&&(h.at="left top"),f=n.width,p=n.height,g=n.offset,m=C.extend({},g),C.each(["my","at"],function(){var e,t,n=(h[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=l.exec(n[0]),t=l.exec(n[1]),_[this]=[e?e[0]:0,t?t[0]:0],h[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===h.at[0]?m.left+=f:"center"===h.at[0]&&(m.left+=f/2),"bottom"===h.at[1]?m.top+=p:"center"===h.at[1]&&(m.top+=p/2),d=O(_.at,f,p),m.left+=d[0],m.top+=d[1],this.each(function(){var n,e,s=C(this),a=s.outerWidth(),l=s.outerHeight(),t=T(this,"marginLeft"),i=T(this,"marginTop"),r=a+t+T(this,"marginRight")+y.width,o=l+i+T(this,"marginBottom")+y.height,c=C.extend({},m),u=O(_.my,s.outerWidth(),s.outerHeight());"right"===h.my[0]?c.left-=a:"center"===h.my[0]&&(c.left-=a/2),"bottom"===h.my[1]?c.top-=l:"center"===h.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],n={marginLeft:t,marginTop:i},C.each(["left","top"],function(e,t){C.ui.position[w[e]]&&C.ui.position[w[e]][t](c,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[d[0]+u[0],d[1]+u[1]],my:h.my,at:h.at,within:b,elem:s})}),h.using&&(e=function(e){var t=g.left-c.left,n=t+f-a,i=g.top-c.top,r=i+p-l,o={target:{element:v,left:g.left,top:g.top,width:f,height:p},element:{element:s,left:c.left,top:c.top,width:a,height:l},horizontal:n<0?"left":0<t?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};f<a&&k(t+n)<f&&(o.horizontal="center"),p<l&&k(i+r)<p&&(o.vertical="middle"),x(k(t),k(n))>x(k(i),k(r))?o.important="horizontal":o.important="vertical",h.using.call(this,e,o)}),s.offset(C.extend(c,{using:e}))})},C.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,a=r-s,l=s+t.collisionWidth-o-r;t.collisionWidth>o?0<a&&l<=0?(n=e.left+a+t.collisionWidth-o-r,e.left+=a-n):e.left=!(0<l&&a<=0)&&l<a?r+o-t.collisionWidth:r:0<a?e.left+=a:0<l?e.left-=l:e.left=x(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,a=r-s,l=s+t.collisionHeight-o-r;t.collisionHeight>o?0<a&&l<=0?(n=e.top+a+t.collisionHeight-o-r,e.top+=a-n):e.top=!(0<l&&a<=0)&&l<a?r+o-t.collisionHeight:r:0<a?e.top+=a:0<l?e.top-=l:e.top=x(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-a,u=l+t.collisionWidth-s-a,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((n=e.left+h+d+f+t.collisionWidth-s-o)<0||n<k(c))&&(e.left+=h+d+f):0<u&&(0<(i=e.left-t.collisionPosition.marginLeft+h+d+f-a)||k(i)<u)&&(e.left+=h+d+f)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-a,u=l+t.collisionHeight-s-a,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];c<0?((i=e.top+h+d+f+t.collisionHeight-s-o)<0||i<k(c))&&(e.top+=h+d+f):0<u&&(0<(n=e.top-t.collisionPosition.marginTop+h+d+f-a)||k(n)<u)&&(e.top+=h+d+f)}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}};C.ui.position,C.extend(C.expr[":"],{data:C.expr.createPseudo?C.expr.createPseudo(function(t){return function(e){return!!C.data(e,t)}}):function(e,t,n){return!!C.data(e,n[3])}}),C.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e,h,d,f,p,t,g,m,v,b,y,w,_,j,E,P,D,A,M,I,L,N,F="ui-effects-",z="ui-effects-style",H="ui-effects-animated",R=C;function $(e,t,n){var i=v[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:e<0?0:i.max<e?i.max:e)}function V(s){var a=g(),l=a._rgba=[];return s=s.toLowerCase(),w(t,function(e,t){var n,i=t.re.exec(s),r=i&&t.parse(i),o=t.space||"rgba";if(r)return n=a[o](r),a[m[o].cache]=n[m[o].cache],l=a._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&h.extend(l,f.transparent),a):f[s]}function W(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function B(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[t=i[n]]&&(r[C.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(r[t]=i[t]);return r}function U(e,t,n,i){return C.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),C.isFunction(t)&&(i=t,n=null,t={}),"number"!=typeof t&&!C.fx.speeds[t]||(i=n,n=t,t={}),C.isFunction(n)&&(i=n,n=null),t&&C.extend(e,t),n=n||t.duration,e.duration=C.fx.off?0:"number"==typeof n?n:n in C.fx.speeds?C.fx.speeds[n]:C.fx.speeds._default,e.complete=i||t.complete,e}function q(e){return!e||"number"==typeof e||C.fx.speeds[e]||("string"==typeof e&&!C.effects.effect[e]||(C.isFunction(e)||"object"==typeof e&&!e.effect))}function Y(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}C.effects={effect:{}},p=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],g=(h=R).Color=function(e,t,n,i){return new h.Color.fn.parse(e,t,n,i)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},v={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},b=g.support={},y=h("<p>")[0],w=h.each,y.style.cssText="background-color:rgba(1,1,1,.5)",b.rgba=-1<y.style.backgroundColor.indexOf("rgba"),w(m,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),g.fn=h.extend(g.prototype,{parse:function(r,e,t,n){if(r===d)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=h(r).css(e),e=d);var o=this,i=h.type(r),s=this._rgba=[];return e!==d&&(r=[r,e,t,n],i="array"),"string"===i?this.parse(V(r)||f._default):"array"===i?(w(m.rgba.props,function(e,t){s[t.idx]=$(r[t.idx],t)}),this):"object"===i?(w(m,r instanceof g?function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}:function(e,n){var i=n.cache;w(n.props,function(e,t){if(!o[i]&&n.to){if("alpha"===e||null==r[e])return;o[i]=n.to(o._rgba)}o[i][t.idx]=$(r[e],t,!0)}),o[i]&&h.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(e){var r=g(e),o=!0,s=this;return w(m,function(e,t){var n,i=r[t.cache];return i&&(n=s[t.cache]||t.to&&t.to(s._rgba)||[],w(t.props,function(e,t){if(null!=i[t.idx])return o=i[t.idx]===n[t.idx]})),o}),o},_space:function(){var n=[],i=this;return w(m,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,s){var t=(c=g(e))._space(),n=m[t],i=0===this.alpha()?g("transparent"):this,a=i[n.cache]||n.to(i._rgba),l=a.slice(),c=c[n.cache];return w(n.props,function(e,t){var n=t.idx,i=a[n],r=c[n],o=v[t.type]||{};null!==r&&(null===i?l[n]=r:(o.mod&&(o.mod/2<r-i?i+=o.mod:o.mod/2<i-r&&(i-=o.mod)),l[n]=$((r-i)*s+i,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=g(e)._rgba;return g(h.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=h.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=h.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+h.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),g.fn.parse.prototype=g.fn,m.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=e[3],o=Math.max(t,n,i),s=Math.min(t,n,i),a=o-s,l=o+s,c=.5*l,u=s===o?0:t===o?60*(n-i)/a+360:n===o?60*(i-t)/a+120:60*(t-n)/a+240,h=0==a?0:c<=.5?a/l:a/(2-l);return[Math.round(u)%360,h,c,null==r?1:r]},m.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*W(s,o,t+1/3)),Math.round(255*W(s,o,t)),Math.round(255*W(s,o,t-1/3)),r]},w(m,function(l,e){var n=e.props,s=e.cache,a=e.to,c=e.from;g.fn[l]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),e===d)return this[s].slice();var t,i=h.type(e),r="array"===i||"object"===i?e:arguments,o=this[s].slice();return w(n,function(e,t){var n=r["object"===i?e:t.idx];null==n&&(n=o[t.idx]),o[t.idx]=$(n,t)}),c?((t=g(c(o)))[s]=o,t):g(o)},w(n,function(s,a){g.fn[s]||(g.fn[s]=function(e){var t,n=h.type(e),i="alpha"===s?this._hsla?"hsla":"rgba":l,r=this[i](),o=r[a.idx];return"undefined"===n?o:("function"===n&&(e=e.call(this,o),n=h.type(e)),null==e&&a.empty?this:("string"===n&&(t=p.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),r[a.idx]=e,this[i](r)))})})}),g.hook=function(e){var t=e.split(" ");w(t,function(e,o){h.cssHooks[o]={set:function(e,t){var n,i,r="";if("transparent"!==t&&("string"!==h.type(t)||(n=V(t)))){if(t=g(n||t),!b.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&i&&i.style;)try{r=h.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},h.fx.step[o]=function(e){e.colorInit||(e.start=g(e.elem,o),e.end=g(e.end),e.colorInit=!0),h.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},g.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),h.cssHooks.borderColor={expand:function(n){var i={};return w(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},f=h.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},P=["add","remove","toggle"],D={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},C.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){C.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(R.style(e.elem,t,e.end),e.setAttr=!0)}}),C.fn.addBack||(C.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),C.effects.animateClass=function(r,e,t,n){var o=C.speed(e,t,n);return this.queue(function(){var n=C(this),e=n.attr("class")||"",t=(t=o.children?n.find("*").addBack():n).map(function(){return{el:C(this),start:B(this)}}),i=function(){C.each(P,function(e,t){r[t]&&n[t+"Class"](r[t])})};i(),t=t.map(function(){return this.end=B(this.el[0]),this.diff=function(e,t){var n,i,r={};for(n in t)i=t[n],e[n]!==i&&(D[n]||!C.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i));return r}(this.start,this.end),this}),n.attr("class",e),t=t.map(function(){var e=this,t=C.Deferred(),n=C.extend({},o,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),C.when.apply(C,t.get()).done(function(){i(),C.each(arguments,function(){var t=this.el;C.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(n[0])})})},C.fn.extend({addClass:(E=C.fn.addClass,function(e,t,n,i){return t?C.effects.animateClass.call(this,{add:e},t,n,i):E.apply(this,arguments)}),removeClass:(j=C.fn.removeClass,function(e,t,n,i){return 1<arguments.length?C.effects.animateClass.call(this,{remove:e},t,n,i):j.apply(this,arguments)}),toggleClass:(_=C.fn.toggleClass,function(e,t,n,i,r){return"boolean"==typeof t||void 0===t?n?C.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,r):_.apply(this,arguments):C.effects.animateClass.call(this,{toggle:e},t,n,i)}),switchClass:function(e,t,n,i,r){return C.effects.animateClass.call(this,{add:t,remove:e},n,i,r)}}),C.expr&&C.expr.filters&&C.expr.filters.animated&&(C.expr.filters.animated=(A=C.expr.filters.animated,function(e){return!!C(e).data(H)||A(e)})),!1!==C.uiBackCompat&&C.extend(C.effects,{save:function(e,t){for(var n=0,i=t.length;n<i;n++)null!==t[n]&&e.data(F+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,r=t.length;i<r;i++)null!==t[i]&&(n=e.data(F+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=C("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return n.wrap(e),n[0]!==r&&!C.contains(n[0],r)||C(r).trigger("focus"),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(C.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),C.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t),e.css(i).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!C.contains(e[0],t)||C(t).trigger("focus")),e}}),C.extend(C.effects,{version:"1.12.1",define:function(e,t,n){return n||(n=t,t="effect"),C.effects.effect[e]=n,C.effects.effect[e].mode=t,n},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();1<t&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(z,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(z)||"",e.removeData(z)},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(e){var t,n=e.css("position"),i=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",t=C("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(F+"placeholder",t)),e.css({position:n,left:i.left,top:i.top}),t},removePlaceholder:function(e){var t=F+"placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(e){C.effects.restoreStyle(e),C.effects.removePlaceholder(e)},setTransition:function(i,e,r,o){return o=o||{},C.each(e,function(e,t){var n=i.cssUnit(t);0<n[0]&&(o[t]=n[0]*r+n[1])}),o}}),C.fn.extend({effect:function(){function e(e){var t=C(this),n=C.effects.mode(t,a)||o;t.data(H,!0),l.push(n),o&&("show"===n||n===o&&"hide"===n)&&t.show(),o&&"none"===n||C.effects.saveStyle(t),C.isFunction(e)&&e()}var i=U.apply(this,arguments),r=C.effects.effect[i.effect],o=r.mode,t=i.queue,n=t||"fx",s=i.complete,a=i.mode,l=[];if(C.fx.off||!r)return a?this[a](i.duration,s):this.each(function(){s&&s.call(this)});function c(e){var t=C(this);function n(){C.isFunction(s)&&s.call(t[0]),C.isFunction(e)&&e()}i.mode=l.shift(),!1===C.uiBackCompat||o?"none"===i.mode?(t[a](),n()):r.call(t[0],i,function(){t.removeData(H),C.effects.cleanUp(t),"hide"===i.mode&&t.hide(),n()}):(t.is(":hidden")?"hide"===a:"show"===a)?(t[a](),n()):r.call(t[0],i,n)}return!1===t?this.each(e).each(c):this.queue(n,e).queue(n,c)},show:(L=C.fn.show,function(e){if(q(e))return L.apply(this,arguments);var t=U.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(I=C.fn.hide,function(e){if(q(e))return I.apply(this,arguments);var t=U.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(M=C.fn.toggle,function(e){if(q(e)||"boolean"==typeof e)return M.apply(this,arguments);var t=U.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(e){var n=this.css(e),i=[];return C.each(["em","px","%","pt"],function(e,t){0<n.indexOf(t)&&(i=[parseFloat(n),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):Y(this.css("clip"),this)},transfer:function(e,t){var n=C(this),i=C(e.to),r="fixed"===i.css("position"),o=C("body"),s=r?o.scrollTop():0,a=r?o.scrollLeft():0,l=i.offset(),c={top:l.top-s,left:l.left-a,height:i.innerHeight(),width:i.innerWidth()},u=n.offset(),h=C("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-s,left:u.left-a,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),C.isFunction(t)&&t()})}}),C.fx.step.clip=function(e){e.clipInit||(e.start=C(e.elem).cssClip(),"string"==typeof e.end&&(e.end=Y(e.end,e.elem)),e.clipInit=!0),C(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})},N={},C.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){N[e]=function(e){return Math.pow(e,t+2)}}),C.extend(N,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),C.each(N,function(e,t){C.easing["easeIn"+e]=t,C.easing["easeOut"+e]=function(e){return 1-t(1-e)},C.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}});C.effects,C.effects.define("blind","hide",function(e,t){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},i=C(this),r=e.direction||"up",o=i.cssClip(),s={clip:C.extend({},o)},a=C.effects.createPlaceholder(i);s.clip[n[r][0]]=s.clip[n[r][1]],"show"===e.mode&&(i.cssClip(s.clip),a&&a.css(C.effects.clipToBox(s)),s.clip=o),a&&a.animate(C.effects.clipToBox(s),e.duration,e.easing),i.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),C.effects.define("bounce",function(e,t){var n,i,r,o=C(this),s=e.mode,a="hide"===s,l="show"===s,c=e.direction||"up",u=e.distance,h=e.times||5,d=2*h+(l||a?1:0),f=e.duration/d,p=e.easing,g="up"===c||"down"===c?"top":"left",m="up"===c||"left"===c,v=0,b=o.queue().length;for(C.effects.createPlaceholder(o),r=o.css(g),u=u||o["top"==g?"outerHeight":"outerWidth"]()/3,l&&((i={opacity:1})[g]=r,o.css("opacity",0).css(g,m?2*-u:2*u).animate(i,f,p)),a&&(u/=Math.pow(2,h-1)),(i={})[g]=r;v<h;v++)(n={})[g]=(m?"-=":"+=")+u,o.animate(n,f,p).animate(i,f,p),u=a?2*u:u/2;a&&((n={opacity:0})[g]=(m?"-=":"+=")+u,o.animate(n,f,p)),o.queue(t),C.effects.unshift(o,b,1+d)}),C.effects.define("clip","hide",function(e,t){var n={},i=C(this),r=e.direction||"vertical",o="both"===r,s=o||"horizontal"===r,a=o||"vertical"===r,l=i.cssClip();n.clip={top:a?(l.bottom-l.top)/2:l.top,right:s?(l.right-l.left)/2:l.right,bottom:a?(l.bottom-l.top)/2:l.bottom,left:s?(l.right-l.left)/2:l.left},C.effects.createPlaceholder(i),"show"===e.mode&&(i.cssClip(n.clip),n.clip=l),i.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),C.effects.define("drop","hide",function(e,t){var n,i=C(this),r="show"===e.mode,o=e.direction||"left",s="up"===o||"down"===o?"top":"left",a="up"===o||"left"===o?"-=":"+=",l="+="==a?"-=":"+=",c={opacity:0};C.effects.createPlaceholder(i),n=e.distance||i["top"==s?"outerHeight":"outerWidth"](!0)/2,c[s]=a+n,r&&(i.css(c),c[s]=l+n,c.opacity=1),i.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),C.effects.define("explode","hide",function(e,t){var n,i,r,o,s,a,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,u=C(this),h="show"===e.mode,d=u.show().css("visibility","hidden").offset(),f=Math.ceil(u.outerWidth()/c),p=Math.ceil(u.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*c&&(u.css({visibility:"visible"}),C(g).remove(),t())}for(n=0;n<l;n++)for(o=d.top+n*p,a=n-(l-1)/2,i=0;i<c;i++)r=d.left+i*f,s=i-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*f,top:-n*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:p,left:r+(h?s*f:0),top:o+(h?a*p:0),opacity:h?0:1}).animate({left:r+(h?0:s*f),top:o+(h?0:a*p),opacity:h?1:0},e.duration||500,e.easing,m)}),C.effects.define("fade","toggle",function(e,t){var n="show"===e.mode;C(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),C.effects.define("fold","hide",function(t,e){var n=C(this),i=t.mode,r="show"===i,o="hide"===i,s=t.size||15,a=/([0-9]+)%/.exec(s),l=!!t.horizFirst?["right","bottom"]:["bottom","right"],c=t.duration/2,u=C.effects.createPlaceholder(n),h=n.cssClip(),d={clip:C.extend({},h)},f={clip:C.extend({},h)},p=[h[l[0]],h[l[1]]],g=n.queue().length;a&&(s=parseInt(a[1],10)/100*p[o?0:1]),d.clip[l[0]]=s,f.clip[l[0]]=s,f.clip[l[1]]=0,r&&(n.cssClip(f.clip),u&&u.css(C.effects.clipToBox(f)),f.clip=h),n.queue(function(e){u&&u.animate(C.effects.clipToBox(d),c,t.easing).animate(C.effects.clipToBox(f),c,t.easing),e()}).animate(d,c,t.easing).animate(f,c,t.easing).queue(e),C.effects.unshift(n,g,4)}),C.effects.define("highlight","show",function(e,t){var n=C(this),i={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(i.opacity=0),C.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(i,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),C.effects.define("size",function(r,t){var e,o,n,i=C(this),s=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=r.mode,u="effect"!==c,h=r.scale||"both",d=r.origin||["middle","center"],f=i.css("position"),p=i.position(),g=C.effects.scaledDimensions(i),m=r.from||g,v=r.to||C.effects.scaledDimensions(i,0);C.effects.createPlaceholder(i),"show"===c&&(n=m,m=v,v=n),o={from:{y:m.height/g.height,x:m.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},"box"!==h&&"both"!==h||(o.from.y!==o.to.y&&(m=C.effects.setTransition(i,a,o.from.y,m),v=C.effects.setTransition(i,a,o.to.y,v)),o.from.x!==o.to.x&&(m=C.effects.setTransition(i,l,o.from.x,m),v=C.effects.setTransition(i,l,o.to.x,v))),"content"!==h&&"both"!==h||o.from.y!==o.to.y&&(m=C.effects.setTransition(i,s,o.from.y,m),v=C.effects.setTransition(i,s,o.to.y,v)),d&&(e=C.effects.getBaseline(d,g),m.top=(g.outerHeight-m.outerHeight)*e.y+p.top,m.left=(g.outerWidth-m.outerWidth)*e.x+p.left,v.top=(g.outerHeight-v.outerHeight)*e.y+p.top,v.left=(g.outerWidth-v.outerWidth)*e.x+p.left),i.css(m),"content"!==h&&"both"!==h||(a=a.concat(["marginTop","marginBottom"]).concat(s),l=l.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var e=C(this),t=C.effects.scaledDimensions(e),n={height:t.height*o.from.y,width:t.width*o.from.x,outerHeight:t.outerHeight*o.from.y,outerWidth:t.outerWidth*o.from.x},i={height:t.height*o.to.y,width:t.width*o.to.x,outerHeight:t.height*o.to.y,outerWidth:t.width*o.to.x};o.from.y!==o.to.y&&(n=C.effects.setTransition(e,a,o.from.y,n),i=C.effects.setTransition(e,a,o.to.y,i)),o.from.x!==o.to.x&&(n=C.effects.setTransition(e,l,o.from.x,n),i=C.effects.setTransition(e,l,o.to.x,i)),u&&C.effects.saveStyle(e),e.css(n),e.animate(i,r.duration,r.easing,function(){u&&C.effects.restoreStyle(e)})})),i.animate(v,{queue:!1,duration:r.duration,easing:r.easing,complete:function(){var e=i.offset();0===v.opacity&&i.css("opacity",m.opacity),u||(i.css("position","static"===f?"relative":f).offset(e),C.effects.saveStyle(i)),t()}})}),C.effects.define("scale",function(e,t){var n=C(this),i=e.mode,r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==i?0:100),o=C.extend(!0,{from:C.effects.scaledDimensions(n),to:C.effects.scaledDimensions(n,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),C.effects.effect.size.call(this,o,t)}),C.effects.define("puff","hide",function(e,t){var n=C.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});C.effects.effect.scale.call(this,n,t)}),C.effects.define("pulsate","show",function(e,t){var n=C(this),i=e.mode,r="show"===i,o=r||"hide"===i,s=2*(e.times||5)+(o?1:0),a=e.duration/s,l=0,c=1,u=n.queue().length;for(!r&&n.is(":visible")||(n.css("opacity",0).show(),l=1);c<s;c++)n.animate({opacity:l},a,e.easing),l=1-l;n.animate({opacity:l},a,e.easing),n.queue(t),C.effects.unshift(n,u,1+s)}),C.effects.define("shake",function(e,t){var n=1,i=C(this),r=e.direction||"left",o=e.distance||20,s=e.times||3,a=2*s+1,l=Math.round(e.duration/a),c="up"===r||"down"===r?"top":"left",u="up"===r||"left"===r,h={},d={},f={},p=i.queue().length;for(C.effects.createPlaceholder(i),h[c]=(u?"-=":"+=")+o,d[c]=(u?"+=":"-=")+2*o,f[c]=(u?"-=":"+=")+2*o,i.animate(h,l,e.easing);n<s;n++)i.animate(d,l,e.easing).animate(f,l,e.easing);i.animate(d,l,e.easing).animate(h,l/2,e.easing).queue(t),C.effects.unshift(i,p,1+a)}),C.effects.define("slide","show",function(e,t){var n,i,r=C(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u=e.distance||r["top"==l?"outerHeight":"outerWidth"](!0),h={};C.effects.createPlaceholder(r),n=r.cssClip(),i=r.position()[l],h[l]=(c?-1:1)*u+i,h.clip=r.cssClip(),h.clip[o[a][1]]=h.clip[o[a][0]],"show"===s&&(r.cssClip(h.clip),r.css(l,h[l]),h.clip=n,h[l]=i),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:t})});!1!==C.uiBackCompat&&C.effects.define("transfer",function(e,t){C(this).transfer(e,t)});C.ui.focusable=function(e,t){var n,i,r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(i=(n=e.parentNode).name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&(0<(r=C("img[usemap='#"+i+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(o=!e.disabled)&&(s=C(e).closest("fieldset")[0])&&(o=!s.disabled):o="a"===a&&e.href||t,o&&C(e).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}(C(e)))},C.extend(C.expr[":"],{focusable:function(e){return C.ui.focusable(e,null!=C.attr(e,"tabindex"))}});C.ui.focusable,C.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):C(this[0].form)},C.ui.formResetMixin={_formResetHandler:function(){var t=C(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");C.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){var e;this.form=this.element.form(),this.form.length&&((e=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice(C.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};"1.7"===C.fn.jquery.substring(0,3)&&(C.each(["Width","Height"],function(e,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:C.fn.innerWidth,innerHeight:C.fn.innerHeight,outerWidth:C.fn.outerWidth,outerHeight:C.fn.outerHeight};function s(e,t,n,i){return C.each(r,function(){t-=parseFloat(C.css(e,"padding"+this))||0,n&&(t-=parseFloat(C.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat(C.css(e,"margin"+this))||0)}),t}C.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){C(this).css(i,s(this,e)+"px")})},C.fn["outer"+n]=function(e,t){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){C(this).css(i,s(this,e,!0,t)+"px")})}}),C.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});var G,K;C.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},C.ui.escapeSelector=(G=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(G,"\\$1")}),C.fn.labels=function(){var e,t,n,i,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),(n=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),t="label[for='"+C.ui.escapeSelector(n)+"']",i=i.add(r.find(t).addBack(t))),this.pushStack(i))},C.fn.scrollParent=function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=C(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:C(this[0].ownerDocument||document)},C.extend(C.expr[":"],{tabbable:function(e){var t=C.attr(e,"tabindex"),n=null!=t;return(!n||0<=t)&&C.ui.focusable(e,n)}}),C.fn.extend({uniqueId:(K=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++K)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&C(this).removeAttr("id")})}}),C.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=C(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():C()}},_createIcons:function(){var e,t,n=this.options.icons;n&&(e=C("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,n.header)._addClass(t,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=C.ui.keyCode,n=this.headers.length,i=this.headers.index(e.target),r=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:r=this.headers[(i+1)%n];break;case t.LEFT:case t.UP:r=this.headers[(i-1+n)%n];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:r=this.headers[0];break;case t.END:r=this.headers[n-1]}r&&(C(e.target).attr("tabIndex",-1),C(r).attr("tabIndex",0),C(r).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===C.ui.keyCode.UP&&e.ctrlKey&&C(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=C()):!1===e.active?this._activate(0):this.active.length&&!C.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=C()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var n,e=this.options,t=e.heightStyle,i=this.element.parent();this.active=this._findActive(e.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=C(this),t=e.uniqueId().attr("id"),n=e.next(),i=n.uniqueId().attr("id");e.attr("aria-controls",i),n.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(n=i.height(),this.element.siblings(":visible").each(function(){var e=C(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.headers.each(function(){n-=C(this).outerHeight(!0)}),this.headers.next().each(function(){C(this).height(Math.max(0,n-C(this).innerHeight()+C(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.headers.next().each(function(){var e=C(this).is(":visible");e||C(this).show(),n=Math.max(n,C(this).css("height","").height()),e||C(this).hide()}).height(n))},_activate:function(e){var t=this._findActive(e)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:C.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):C()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&C.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t,n,i=this.options,r=this.active,o=C(e.currentTarget),s=o[0]===r[0],a=s&&i.collapsible,l=a?C():o.next(),c=r.next(),u={oldHeader:r,oldPanel:c,newHeader:a?C():o,newPanel:l};e.preventDefault(),s&&!i.collapsible||!1===this._trigger("beforeActivate",e,u)||(i.active=!a&&this.headers.index(o),this.active=s?C():o,this._toggle(u),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(t=r.children(".ui-accordion-header-icon"),this._removeClass(t,null,i.icons.activeHeader)._addClass(t,null,i.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),i.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,i.icons.header)._addClass(n,null,i.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=n,this.options.animate?this._animate(t,n,e):(n.hide(),t.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(C(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,n,t){function i(){a._toggleComplete(t)}var r,o,s,a=this,l=0,c=e.css("box-sizing"),u=e.length&&(!n.length||e.index()<n.index()),h=this.options.animate||{},d=u&&h.down||h;return"number"==typeof d&&(s=d),"string"==typeof d&&(o=d),o=o||d.easing||h.easing,s=s||d.duration||h.duration,n.length?e.length?(r=e.show().outerHeight(),n.animate(this.hideProps,{duration:s,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:o,complete:i,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===c&&(l+=t.now):"content"!==a.options.heightStyle&&(t.now=Math.round(r-n.outerHeight()-l),l=0)}})):n.animate(this.hideProps,s,o,i):e.animate(this.showProps,s,o,i)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&t.parent()[0].className,this._trigger("activate",null,e)}}),C.ui.safeActiveElement=function(t){var n;try{n=t.activeElement}catch(e){n=t.body}return(n=n||t.body).nodeName||(n=t.body),n},C.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=C(e.target),n=C(C.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var t,n;this.previousFilter||(t=C(e.target).closest(".ui-menu-item"),n=C(e.currentTarget),t[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n)))},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(e){this._delay(function(){C.contains(this.element[0],C.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=C(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,n,i,r,o=!0;switch(e.keyCode){case C.ui.keyCode.PAGE_UP:this.previousPage(e);break;case C.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case C.ui.keyCode.HOME:this._move("first","first",e);break;case C.ui.keyCode.END:this._move("last","last",e);break;case C.ui.keyCode.UP:this.previous(e);break;case C.ui.keyCode.DOWN:this.next(e);break;case C.ui.keyCode.LEFT:this.collapse(e);break;case C.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case C.ui.keyCode.ENTER:case C.ui.keyCode.SPACE:this._activate(e);break;case C.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",r=!1,i=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),i===n?r=!0:i=n+i,t=this._filterMenuItems(i),(t=r&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(i=String.fromCharCode(e.keyCode),t=this._filterMenuItems(i)),t.length?(this.focus(e,t),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,n,i,r=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=C(this),t=e.prev(),n=C("<span>").data("ui-menu-submenu-caret",!0);r._addClass(n,"ui-menu-icon","ui-icon "+o),t.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(e=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=C(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")}),i=(n=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!C.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){var n;"icons"===e&&(n=this.element.find(".ui-menu-icon"),this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,n,i,r,o,s;this._hasScroll()&&(t=parseFloat(C.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(C.css(this.activeMenu[0],"paddingTop"))||0,i=e.offset().top-this.activeMenu.offset().top-t-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=e.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):o<i+s&&this.activeMenu.scrollTop(r+i-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=C.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var e=n?this.element:C(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!C(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(e){var t,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=C(this)).offset().top-n-i<0}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=C(this)).offset().top-n+i}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||C(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var t=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(C.trim(C(this).children(".ui-menu-item-wrapper").text()))})}});C.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,o="input"===e;this.isMultiLine=t||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[t||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var t=C.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:n=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:n=!0,this._move("nextPage",e);break;case t.UP:n=!0,this._keyEvent("previous",e);break;case t.DOWN:n=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(n=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:i=!0,this._searchTimeout(e)}}},keypress:function(e){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!i){var t=C.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=C("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==C.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,t){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){C(e.target).trigger(e.originalEvent)});i=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:i})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value),(n=t.item.attr("aria-label")||i.value)&&C.trim(n).length&&(this.liveRegion.children().hide(),C("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==C.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=C("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||C.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return(e=e&&(e.jquery||e.nodeType?C(e):this.document.find(e).eq(0)))&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var n,i,r=this;C.isArray(this.options.source)?(n=this.options.source,this.source=function(e,t){t(C.ui.autocomplete.filter(n,e.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,t){r.xhr&&r.xhr.abort(),r.xhr=C.ajax({url:i,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;e&&(!e||t||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return C.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:C.map(e,function(e){return"string"==typeof e?{label:e,value:e}:C.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(C.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;C.each(e,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return C("<li>").append(C("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),C.extend(C.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(C.ui.autocomplete.escapeRegex(t),"i");return C.grep(e,function(e){return n.test(e.label||e.value||e)})}}),C.widget("ui.autocomplete",C.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),C("<div>").text(t).appendTo(this.liveRegion))}});C.ui.autocomplete;var X=/ui-corner-([a-z]){2,6}/g;C.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var s=this,a=[];C.each(this.options.items,function(r,e){var t,o={};if(e)return"controlgroupLabel"===r?((t=s.element.find(e)).each(function(){var e=C(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),s._addClass(t,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(t.get()))):void(C.fn[r]&&(o=s["_"+r+"Options"]?s["_"+r+"Options"]("middle"):{classes:{}},s.element.find(e).each(function(){var e,t=C(this),n=t[r]("instance"),i=C.widget.extend({},o);"button"===r&&t.parent(".ui-spinner").length||((n=n||t[r]()[r]("instance"))&&(i.classes=s._resolveClassesValues(i.classes,n)),t[r](i),e=t[r]("widget"),C.data(e[0],"ui-controlgroup-data",n||t[r]("instance")),a.push(e[0]))})))}),this.childWidgets=C(C.unique(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var e=C(this).data("ui-controlgroup-data");e&&e[t]&&e[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(n,i){var r={};return C.each(n,function(e){var t=i.options.classes[e]||"",t=C.trim(t.replace(X,""));r[e]=(t+" "+n[e]).replace(/\s+/g," ")}),r},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var r,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),r=this.childWidgets,this.options.onlyVisible&&(r=r.filter(":visible")),r.length&&(C.each(["first","last"],function(e,t){var n,i=r[t]().data("ui-controlgroup-data");i&&o["_"+i.widgetName+"Options"]?((n=o["_"+i.widgetName+"Options"](1===r.length?"only":t)).classes=o._resolveClassesValues(n.classes,i),i.element[i.widgetName](n)):o._updateCornerClass(r[t](),t)}),this._callChildMethod("refresh"))}});C.widget("ui.checkboxradio",[C.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t,n=this,i=this._super()||{};return this._readType(),t=this.element.labels(),this.label=C(t[t.length-1]),this.label.length||C.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?C(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(i.disabled=e),i},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||C.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+C.ui.escapeSelector(e)+"']";return e?(this.form.length?C(this.form[0].elements).filter(t):C(t).filter(function(){return 0===C(this).form().length})).not(this.element):C([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=C(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=C("<span>"),this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);var Q;C.ui.checkboxradio;C.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===C.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var n="iconPosition"!==e,i=n?this.options.iconPosition:t,r="top"===i||"bottom"===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=C("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,t),this._attachIcon(i),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==C.uiBackCompat&&(C.widget("ui.button",C.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),C.fn.button=(Q=C.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?Q.apply(this,arguments):(C.ui.checkboxradio||C.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),C.fn.buttonset=function(){return C.ui.controlgroup||C.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var Z;C.ui.button;function J(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},C.extend(this._defaults,this.regional[""]),this.regional.en=C.extend(!0,{},this.regional[""]),this.regional["en-US"]=C.extend(!0,{},this.regional.en),this.dpDiv=ee(C("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function ee(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){C(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",t,te)}function te(){C.datepicker._isDisabledDatepicker(Z.inline?Z.dpDiv.parent()[0]:Z.input[0])||(C(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),C(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).addClass("ui-datepicker-next-hover"))}function ne(e,t){for(var n in C.extend(e,t),t)null==t[n]&&(e[n]=t[n]);return e}C.extend(C.ui,{datepicker:{version:"1.12.1"}}),C.extend(J.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return ne(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var n,i=e.nodeName.toLowerCase(),r="div"===i||"span"===i;e.id||(this.uuid+=1,e.id="dp"+this.uuid),(n=this._newInst(C(e),r)).settings=C.extend({},t||{}),"input"===i?this._connectDatepicker(e,n):r&&this._inlineDatepicker(e,n)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?ee(C("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var n=C(e);t.append=C([]),t.trigger=C([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(t),C.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n,i,r,o=this._get(t,"appendText"),s=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=C("<span class='"+this._appendClass+"'>"+o+"</span>"),e[s?"before":"after"](t.append)),e.off("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(n=this._get(t,"showOn"))&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(t,"buttonText"),r=this._get(t,"buttonImage"),t.trigger=C(this._get(t,"buttonImageOnly")?C("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):C("<button type='button'></button>").addClass(this._triggerClass).html(r?C("<img/>").attr({src:r,alt:i,title:i}):i)),e[s?"before":"after"](t.trigger),t.trigger.on("click",function(){return C.datepicker._datepickerShowing&&C.datepicker._lastInput===e[0]?C.datepicker._hideDatepicker():(C.datepicker._datepickerShowing&&C.datepicker._lastInput!==e[0]&&C.datepicker._hideDatepicker(),C.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var t,n,i,r,o,s;this._get(e,"autoSize")&&!e.inline&&(o=new Date(2009,11,20),(s=this._get(e,"dateFormat")).match(/[DM]/)&&(t=function(e){for(r=i=n=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length))},_inlineDatepicker:function(e,t){var n=C(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv),C.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,r){var o,s,a,l,c,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=C("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),C("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},C.data(this._dialogInput[0],"datepicker",u)),ne(u.settings,i||{}),t=t&&t.constructor===Date?this._formatDate(u,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(s=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+l,a/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),C.blockUI&&C.blockUI(this.dpDiv),C.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var t,n=C(e),i=C.data(e,"datepicker");n.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),C.removeData(e,"datepicker"),"input"===t?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||n.removeClass(this.markerClassName).empty(),Z===i&&(Z=null))},_enableDatepicker:function(t){var e,n,i=C(t),r=C.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=C.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,n,i=C(t),r=C.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=C.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return C.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i,r,o,s,a=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?C.extend({},C.datepicker._defaults):a?"all"===t?C.extend({},a.settings):this._get(a,t):null;i=t||{},"string"==typeof t&&((i={})[t]=n),a&&(this._curInst===a&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(a,"min"),s=this._getMinMaxDate(a,"max"),ne(a.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(a.settings.minDate=this._formatDate(a,o)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(a.settings.maxDate=this._formatDate(a,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(C(e),a),this._autoSize(a),this._setDate(a,r),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t,n,i,r=C.datepicker._getInst(e.target),o=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,C.datepicker._datepickerShowing)switch(e.keyCode){case 9:C.datepicker._hideDatepicker(),o=!1;break;case 13:return(i=C("td."+C.datepicker._dayOverClass+":not(."+C.datepicker._currentClass+")",r.dpDiv))[0]&&C.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,i[0]),(t=C.datepicker._get(r,"onSelect"))?(n=C.datepicker._formatDate(r),t.apply(r.input?r.input[0]:null,[n,r])):C.datepicker._hideDatepicker(),!1;case 27:C.datepicker._hideDatepicker();break;case 33:C.datepicker._adjustDate(e.target,e.ctrlKey?-C.datepicker._get(r,"stepBigMonths"):-C.datepicker._get(r,"stepMonths"),"M");break;case 34:C.datepicker._adjustDate(e.target,e.ctrlKey?+C.datepicker._get(r,"stepBigMonths"):+C.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&C.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&C.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&C.datepicker._adjustDate(e.target,s?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&C.datepicker._adjustDate(e.target,e.ctrlKey?-C.datepicker._get(r,"stepBigMonths"):-C.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&C.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&C.datepicker._adjustDate(e.target,s?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&C.datepicker._adjustDate(e.target,e.ctrlKey?+C.datepicker._get(r,"stepBigMonths"):+C.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&C.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?C.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,n,i=C.datepicker._getInst(e.target);if(C.datepicker._get(i,"constrainInput"))return t=C.datepicker._possibleChars(C.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!t||-1<t.indexOf(n)},_doKeyUp:function(e){var t=C.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{C.datepicker.parseDate(C.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,C.datepicker._getFormatConfig(t))&&(C.datepicker._setDateFromField(t),C.datepicker._updateAlternate(t),C.datepicker._updateDatepicker(t))}catch(e){}return!0},_showDatepicker:function(e){var t,n,i,r,o,s,a;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=C("input",e.parentNode)[0]),C.datepicker._isDisabledDatepicker(e)||C.datepicker._lastInput===e||(a=C.datepicker._getInst(e),C.datepicker._curInst&&C.datepicker._curInst!==a&&(C.datepicker._curInst.dpDiv.stop(!0,!0),a&&C.datepicker._datepickerShowing&&C.datepicker._hideDatepicker(C.datepicker._curInst.input[0])),!1!==(n=(t=C.datepicker._get(a,"beforeShow"))?t.apply(e,[e,a]):{})&&(ne(a.settings,n),a.lastVal=null,C.datepicker._lastInput=e,C.datepicker._setDateFromField(a),C.datepicker._inDialog&&(e.value=""),C.datepicker._pos||(C.datepicker._pos=C.datepicker._findPos(e),C.datepicker._pos[1]+=e.offsetHeight),i=!1,C(e).parents().each(function(){return!(i|="fixed"===C(this).css("position"))}),r={left:C.datepicker._pos[0],top:C.datepicker._pos[1]},C.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),C.datepicker._updateDatepicker(a),r=C.datepicker._checkOffset(a,r,i),a.dpDiv.css({position:C.datepicker._inDialog&&C.blockUI?"static":i?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),a.inline||(o=C.datepicker._get(a,"showAnim"),s=C.datepicker._get(a,"duration"),a.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(C(e))+1),C.datepicker._datepickerShowing=!0,C.effects&&C.effects.effect[o]?a.dpDiv.show(o,C.datepicker._get(a,"showOptions"),s):a.dpDiv[o||"show"](o?s:null),C.datepicker._shouldFocusInput(a)&&a.input.trigger("focus"),C.datepicker._curInst=a)))},_updateDatepicker:function(e){this.maxRows=4,(Z=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,n=this._getNumberOfMonths(e),i=n[1],r=e.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&te.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===C.datepicker._curInst&&C.datepicker._datepickerShowing&&C.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:C(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:C(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-o:0,t.left-=n&&t.left===e.input.offset().left?C(document).scrollLeft():0,t.top-=n&&t.top===e.input.offset().top+s?C(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>a&&i<a?Math.abs(t.left+i-a):0),t.top-=Math.min(t.top,t.top+r>l&&r<l?Math.abs(r+s):0),t},_findPos:function(e){for(var t,n=this._getInst(e),i=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||C.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return[(t=C(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,n,i,r,o=this._curInst;!o||e&&o!==C.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(o,"showAnim"),n=this._get(o,"duration"),i=function(){C.datepicker._tidyDialog(o)},C.effects&&(C.effects.effect[t]||C.effects[t])?o.dpDiv.hide(t,C.datepicker._get(o,"showOptions"),n,i):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?n:null,i),t||i(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),C.blockUI&&(C.unblockUI(),C("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){var t,n;C.datepicker._curInst&&(t=C(e.target),n=C.datepicker._getInst(t[0]),(t[0].id===C.datepicker._mainDivId||0!==t.parents("#"+C.datepicker._mainDivId).length||t.hasClass(C.datepicker.markerClassName)||t.closest("."+C.datepicker._triggerClass).length||!C.datepicker._datepickerShowing||C.datepicker._inDialog&&C.blockUI)&&(!t.hasClass(C.datepicker.markerClassName)||C.datepicker._curInst===n)||C.datepicker._hideDatepicker())},_adjustDate:function(e,t,n){var i=C(e),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,t+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var t,n=C(e),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(e,t,n){var i=C(e),r=this._getInst(i[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(e,t,n,i){var r,o=C(e);C(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=C("a",i).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var t=C(e);this._selectDate(t,"")},_selectDate:function(e,t){var n,i=C(e),r=this._getInst(i[0]);t=null!=t?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var t,n,i,r=this._get(e,"altField");r&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),i=this.formatDate(t,n,this._getFormatConfig(e)),C(r).val(i))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,o,e){if(null==n||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;function s(e){var t=x+1<n.length&&n.charAt(x+1)===e;return t&&x++,t}function t(e){var t=s(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=new RegExp("^\\d{"+("y"===e?n:1)+","+n+"}"),r=o.substring(u).match(i);if(!r)throw"Missing number at position "+u;return u+=r[0].length,parseInt(r[0],10)}function i(e,t,n){var i=-1,r=C.map(s(e)?n:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(C.each(r,function(e,t){var n=t[1];if(o.substr(u,n.length).toLowerCase()===n.toLowerCase())return i=t[0],u+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+u}function r(){if(o.charAt(u)!==n.charAt(x))throw"Unexpected literal at position "+u;u++}for(var a,l,c,u=0,h=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),f=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,p=(e?e.dayNames:null)||this._defaults.dayNames,g=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,m=(e?e.monthNames:null)||this._defaults.monthNames,v=-1,b=-1,y=-1,w=-1,_=!1,x=0;x<n.length;x++)if(_)"'"!==n.charAt(x)||s("'")?r():_=!1;else switch(n.charAt(x)){case"d":y=t("d");break;case"D":i("D",f,p);break;case"o":w=t("o");break;case"m":b=t("m");break;case"M":b=i("M",g,m);break;case"y":v=t("y");break;case"@":v=(c=new Date(t("@"))).getFullYear(),b=c.getMonth()+1,y=c.getDate();break;case"!":v=(c=new Date((t("!")-this._ticksTo1970)/1e4)).getFullYear(),b=c.getMonth()+1,y=c.getDate();break;case"'":s("'")?r():_=!0;break;default:r()}if(u<o.length&&(l=o.substr(u),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;if(-1===v?v=(new Date).getFullYear():v<100&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v<=d?0:-100)),-1<w)for(b=1,y=w;;){if(y<=(a=this._getDaysInMonth(v,b-1)))break;b++,y-=a}if((c=this._daylightSavingAdjust(new Date(v,b-1,y))).getFullYear()!==v||c.getMonth()+1!==b||c.getDate()!==y)throw"Invalid date";return c},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,e,t){if(!e)return"";function r(e){var t=s+1<n.length&&n.charAt(s+1)===e;return t&&s++,t}function i(e,t,n){var i=""+t;if(r(e))for(;i.length<n;)i="0"+i;return i}function o(e,t,n,i){return r(e)?i[t]:n[t]}var s,a=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,l=(t?t.dayNames:null)||this._defaults.dayNames,c=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,u=(t?t.monthNames:null)||this._defaults.monthNames,h="",d=!1;if(e)for(s=0;s<n.length;s++)if(d)"'"!==n.charAt(s)||r("'")?h+=n.charAt(s):d=!1;else switch(n.charAt(s)){case"d":h+=i("d",e.getDate(),2);break;case"D":h+=o("D",e.getDay(),a,l);break;case"o":h+=i("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=i("m",e.getMonth()+1,2);break;case"M":h+=o("M",e.getMonth(),c,u);break;case"y":h+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":r("'")?h+="'":d=!0;break;default:h+=n.charAt(s)}return h},_possibleChars:function(n){function e(e){var t=r+1<n.length&&n.charAt(r+1)===e;return t&&r++,t}for(var t="",i=!1,r=0;r<n.length;r++)if(i)"'"!==n.charAt(r)||e("'")?t+=n.charAt(r):i=!1;else switch(n.charAt(r)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":e("'")?t+="'":i=!0;break;default:t+=n.charAt(r)}return t},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(n,i,s)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(a,e,t){var n,i,r=null==e||""===e?t:"string"==typeof e?function(e){try{return C.datepicker.parseDate(C.datepicker._get(a,"dateFormat"),e,C.datepicker._getFormatConfig(a))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?C.datepicker._getDate(a):null)||new Date,n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(e);s;){switch(s[2]||"d"){case"d":case"D":r+=parseInt(s[1],10);break;case"w":case"W":r+=7*parseInt(s[1],10);break;case"m":case"M":i+=parseInt(s[1],10),r=Math.min(r,C.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(s[1],10),r=Math.min(r,C.datepicker._getDaysInMonth(n,i))}s=o.exec(e)}return new Date(n,i,r)}(e):"number"==typeof e?isNaN(e)?t:(n=e,(i=new Date).setDate(i.getDate()+n),i):new Date(e.getTime());return(r=r&&"Invalid Date"===r.toString()?t:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){C.datepicker._adjustDate(n,-t,"M")},next:function(){C.datepicker._adjustDate(n,+t,"M")},hide:function(){C.datepicker._hideDatepicker()},today:function(){C.datepicker._gotoToday(n)},selectDay:function(){return C.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return C.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return C.datepicker._selectMonthYear(n,this,"Y"),!1}};C(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,b,y,w,_,x,C,k,S,O,T,j,E,P,D,A,M,I,L,N,F,z,H,R=new Date,$=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),V=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),K=1!==q[0]||1!==q[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-Y,ee=e.drawYear;if(J<0&&(J+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),t=Q&&t<Q?Q:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)--J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,n=this._get(e,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J-G,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,J+G,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:$,s=U?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(V?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",x=0;x<q[0];x++){for(C="",this.maxRows=4,k=0;k<q[1];k++){if(S=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),O=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",1<q[1])switch(k){case 0:T+=" ui-datepicker-group-first",O=" ui-corner-"+(V?"right":"left");break;case q[1]-1:T+=" ui-datepicker-group-last",O=" ui-corner-"+(V?"left":"right");break;default:T+=" ui-datepicker-group-middle",O=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+O+"'>"+(/all|left/.test(O)&&0===x?V?o:i:"")+(/all|right/.test(O)&&0===x?V?i:o:"")+this._generateMonthYearHeader(e,J,ee,Q,Z,0<x||0<k,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",j=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;_<7;_++)j+="<th scope='col'"+(5<=(_+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[E=(_+u)%7]+"'>"+f[E]+"</span></th>";for(T+=j+"</tr></thead><tbody>",P=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),D=(this._getFirstDayOfMonth(ee,J)-u+7)%7,A=Math.ceil((D+P)/7),M=K&&this.maxRows>A?this.maxRows:A,this.maxRows=M,I=this._daylightSavingAdjust(new Date(ee,J,1-D)),L=0;L<M;L++){for(T+="<tr>",N=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(I)+"</td>":"",_=0;_<7;_++)F=m?m.apply(e.input?e.input[0]:null,[I]):[!0,""],H=(z=I.getMonth()!==J)&&!b||!F[0]||Q&&I<Q||Z&&Z<I,N+="<td class='"+(5<=(_+u+6)%7?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(I.getTime()===S.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===I.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+F[1]+(I.getTime()===X.getTime()?" "+this._currentClass:"")+(I.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(z&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===$.getTime()?" ui-state-highlight":"")+(I.getTime()===X.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);T+=N+"</tr>"}11<++J&&(J=0,ee++),C+=T+="</tbody></table>"+(K?"</div>"+(0<q[0]&&k===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=C}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,r,o,s,a){var l,c,u,h,d,f,p,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(b||(y+=w+(!o&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(h[0]),g=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&m&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&i<r?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),C.fn.datepicker=function(e){if(!this.length)return this;C.datepicker.initialized||(C(document).on("mousedown",C.datepicker._checkExternalClick),C.datepicker.initialized=!0),0===C("#"+C.datepicker._mainDivId).length&&C("body").append(C.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e)||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?C.datepicker["_"+e+"Datepicker"].apply(C.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?C.datepicker["_"+e+"Datepicker"].apply(C.datepicker,[this].concat(t)):C.datepicker._attachDatepicker(this,e)})},C.datepicker=new J,C.datepicker.initialized=!1,C.datepicker.uuid=(new Date).getTime(),C.datepicker.version="1.12.1";C.datepicker,C.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var ie=!1;C(document).on("mouseup",function(){ie=!1});C.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===C.data(e.target,t.widgetName+".preventClickEvent"))return C.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!ie){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&C(e.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===C.data(e.target,this.widgetName+".preventClickEvent")&&C.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),ie=!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(C.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&C.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,ie=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),C.ui.plugin={add:function(e,t,n){var i,r=C.ui[e].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([t,n[i]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}},C.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&C(e).trigger("blur")};C.widget("ui.draggable",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<C(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=C(this);return C("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=C.ui.safeActiveElement(this.document[0]);C(e.target).closest(t).length||C.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),C.ui.ddmanager&&(C.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===C(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),C.ui.ddmanager&&!t.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),C.ui.ddmanager&&C.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new C.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",C.ui.ddmanager&&C.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return C.ui.ddmanager&&!this.options.dropBehaviour&&(n=C.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||C.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?C(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),C.ui.ddmanager&&C.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),C.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new C.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!C(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=C.isFunction(t.helper),i=n?C(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),C.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options,r=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(t=C(i.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=i.containment:this.containment=[0,0,C(r).width()-this.helperProportions.width-this.margins.left,(C(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[C(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,C(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,C(window).scrollLeft()+C(window).width()-this.helperProportions.width-this.margins.left,C(window).scrollTop()+(C(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(n=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=!n||r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1],o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=!n||o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,n){return n=n||this._uiHash(),C.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),C.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),C.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=C.extend({},e,{item:n.element});n.sortables=[],C(n.options.connectToSortable).each(function(){var e=C(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,i))})},stop:function(t,e,n){var i=C.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,C.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(n,i,r){C.each(r.sortables,function(){var e=!1,t=this;t.positionAbs=r.positionAbs,t.helperProportions=r.helperProportions,t.offset.click=r.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,C.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&C.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,r._parent=i.helper.parent(),t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return i.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=r.offset.click.top,t.offset.click.left=r.offset.click.left,t.offset.parent.left-=r.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=r.offset.parent.top-t.offset.parent.top,r._trigger("toSortable",n),r.dropped=t.element,C.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,t.fromOutside=r),t.currentItem&&(t._mouseDrag(n),i.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(n),i.position=r._generatePosition(n,!0),r._trigger("fromSortable",n),r.dropped=!1,C.each(r.sortables,function(){this.refreshPositions()}))})}}),C.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=C("body"),r=n.options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(e,t,n){var i=n.options;i._cursor&&C("body").css("cursor",i._cursor)}}),C.ui.plugin.add("draggable","opacity",{start:function(e,t,n){var i=C(t.helper),r=n.options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,t,n){var i=n.options;i._opacity&&C(t.helper).css("opacity",i._opacity)}}),C.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],s=n.document[0];o!==s&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-C(s).scrollTop()<i.scrollSensitivity?r=C(s).scrollTop(C(s).scrollTop()-i.scrollSpeed):C(window).height()-(e.pageY-C(s).scrollTop())<i.scrollSensitivity&&(r=C(s).scrollTop(C(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-C(s).scrollLeft()<i.scrollSensitivity?r=C(s).scrollLeft(C(s).scrollLeft()-i.scrollSpeed):C(window).width()-(e.pageX-C(s).scrollLeft())<i.scrollSensitivity&&(r=C(s).scrollLeft(C(s).scrollLeft()+i.scrollSpeed)))),!1!==r&&C.ui.ddmanager&&!i.dropBehaviour&&C.ui.ddmanager.prepareOffsets(n,e)}}),C.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[],C(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=C(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){for(var i,r,o,s,a,l,c,u,h,d=n.options,f=d.snapTolerance,p=t.offset.left,g=p+n.helperProportions.width,m=t.offset.top,v=m+n.helperProportions.height,b=n.snapElements.length-1;0<=b;b--)l=(a=n.snapElements[b].left-n.margins.left)+n.snapElements[b].width,u=(c=n.snapElements[b].top-n.margins.top)+n.snapElements[b].height,g<a-f||l+f<p||v<c-f||u+f<m||!C.contains(n.snapElements[b].item.ownerDocument,n.snapElements[b].item)?(n.snapElements[b].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,C.extend(n._uiHash(),{snapItem:n.snapElements[b].item})),n.snapElements[b].snapping=!1):("inner"!==d.snapMode&&(i=Math.abs(c-v)<=f,r=Math.abs(u-m)<=f,o=Math.abs(a-g)<=f,s=Math.abs(l-p)<=f,i&&(t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left),s&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),h=i||r||o||s,"outer"!==d.snapMode&&(i=Math.abs(c-m)<=f,r=Math.abs(u-v)<=f,o=Math.abs(a-p)<=f,s=Math.abs(l-g)<=f,i&&(t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:a}).left),s&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[b].snapping&&(i||r||o||s||h)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,C.extend(n._uiHash(),{snapItem:n.snapElements[b].item})),n.snapElements[b].snapping=i||r||o||s||h)}}),C.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,r=n.options,o=C.makeArray(C(r.stack)).sort(function(e,t){return(parseInt(C(e).css("zIndex"),10)||0)-(parseInt(C(t).css("zIndex"),10)||0)});o.length&&(i=parseInt(C(o[0]).css("zIndex"),10)||0,C(o).each(function(e){C(this).css("zIndex",i+e)}),this.css("zIndex",i+o.length))}}),C.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){var i=C(t.helper),r=n.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,t,n){var i=n.options;i._zIndex&&C(t.helper).css("zIndex",i._zIndex)}});C.ui.draggable;C.widget("ui.resizable",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if("hidden"===C(e).css("overflow"))return!1;var n,i=t&&"left"===t?"scrollLeft":"scrollTop";return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)},_create:function(){var e,t=this.options,n=this;this._addClass("ui-resizable"),C.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(C("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),t.autoHide&&C(this.element).on("mouseenter",function(){t.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){t.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();function e(e){C(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()}var t;return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,t,n,i,r,o=this.options,s=this;if(this.handles=o.handles||(C(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=C(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},t=0;t<n.length;t++)i="ui-resizable-"+(e=C.trim(n[t])),r=C("<div>"),this._addClass(r,"ui-resizable-handle "+i),r.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var t,n,i,r;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=C(this.handles[t]),this._on(this.handles[t],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=C(this.handles[t],this.element),r=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(i,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var t,n,i=!1;for(t in this.handles)(n=C(this.handles[t])[0])!==e.target&&!C.contains(n,e.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(t+=C(r.containment).scrollLeft()||0,n+=C(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:t,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=C(".ui-resizable-"+this.axis).css("cursor"),C("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,n,i=this.originalMousePosition,r=this.axis,o=e.pageX-i.left||0,s=e.pageY-i.top||0,a=this._change[r];return this._updatePrevProperties(),a&&(t=a.apply(this,[e,o,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),C.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,n,i,r,o,s,a,l=this.options,c=this;return this._helper&&(i=(n=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&this._hasScroll(t[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,o={width:c.helper.width()-r,height:c.helper.height()-i},s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,a=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(C.extend(o,{top:a,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),C("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o=this.options,s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0};(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),s&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(r[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||C("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return C.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return C.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return C.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return C.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){C.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),C.ui.plugin.add("resizable","animate",{stop:function(t){var n=C(this).resizable("instance"),e=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,a={width:n.size.width-s,height:n.size.height-o},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(C.extend(a,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&C(i[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),C.ui.plugin.add("resizable","containment",{start:function(){var n,i,e,t,r,o,s,a=C(this).resizable("instance"),l=a.options,c=a.element,u=l.containment,h=u instanceof C?u.get(0):/parent/.test(u)?c.parent().get(0):u;h&&(a.containerElement=C(h),/document/.test(u)||u===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:C(document),left:0,top:0,width:C(document).width(),height:C(document).height()||document.body.parentNode.scrollHeight}):(n=C(h),i=[],C(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=a._num(n.css("padding"+t))}),a.containerOffset=n.offset(),a.containerPosition=n.position(),a.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},e=a.containerOffset,t=a.containerSize.height,r=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:r,s=a._hasScroll(h)?h.scrollHeight:t,a.parentData={element:h,left:e.left,top:e.top,width:o,height:s}))},resize:function(e){var t,n,i,r,o=C(this).resizable("instance"),s=o.options,a=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},h=o.containerElement,d=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=a),l.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,d=!1),o.position.left=s.helper?a.left:0),l.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,d=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),t=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-a.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-a.top)),t+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-t,c&&(o.size.height=o.size.width/o.aspectRatio,d=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,d=!1)),d||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=C(this).resizable("instance"),t=e.options,n=e.containerOffset,i=e.containerPosition,r=e.containerElement,o=C(e.helper),s=o.offset(),a=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(r.css("position"))&&C(this).css({left:s.left-i.left-n.left,width:a,height:l}),e._helper&&!t.animate&&/static/.test(r.css("position"))&&C(this).css({left:s.left-i.left-n.left,width:a,height:l})}}),C.ui.plugin.add("resizable","alsoResize",{start:function(){var e=C(this).resizable("instance").options;C(e.alsoResize).each(function(){var e=C(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var t=C(this).resizable("instance"),i=t.options,r=t.originalSize,o=t.originalPosition,s={height:t.size.height-r.height||0,width:t.size.width-r.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};C(i.alsoResize).each(function(){var e=C(this),i=C(this).data("ui-resizable-alsoresize"),r={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];C.each(t,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&0<=n&&(r[t]=n||null)}),e.css(r)})},stop:function(){C(this).removeData("ui-resizable-alsoresize")}}),C.ui.plugin.add("resizable","ghost",{start:function(){var e=C(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==C.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=C(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=C(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),C.ui.plugin.add("resizable","grid",{resize:function(){var e,t=C(this).resizable("instance"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,c=a[1]||1,u=Math.round((i.width-r.width)/l)*l,h=Math.round((i.height-r.height)/c)*c,d=r.width+u,f=r.height+h,p=n.maxWidth&&n.maxWidth<d,g=n.maxHeight&&n.maxHeight<f,m=n.minWidth&&n.minWidth>d,v=n.minHeight&&n.minHeight>f;n.grid=a,m&&(d+=l),v&&(f+=c),p&&(d-=l),g&&(f-=c),/^(se|s|e)$/.test(s)?(t.size.width=d,t.size.height=f):/^(ne)$/.test(s)?(t.size.width=d,t.size.height=f,t.position.top=o.top-h):/^(sw)$/.test(s)?(t.size.width=d,t.size.height=f,t.position.left=o.left-u):((f-c<=0||d-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<f-c?(t.size.height=f,t.position.top=o.top-h):(f=c-e.height,t.size.height=f,t.position.top=o.top+r.height-f),0<d-l?(t.size.width=d,t.position.left=o.left-u):(d=l-e.width,t.size.width=d,t.position.left=o.left+r.width-d))}});C.ui.resizable;C.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=C(this).css(e).offset().top;t<0&&C(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&C.fn.draggable&&this._makeDraggable(),this.options.resizable&&C.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?C(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:C.noop,enable:C.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||C.ui.safeBlur(C.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+C(this).css("z-index")}).get(),r=Math.max.apply(null,i);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!t&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=C(C.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;(e=e||this.element.find("[autofocus]")).length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(e){function t(){var e=C.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||C.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=C("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===C.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);var t,n,i;e.keyCode!==C.ui.keyCode.TAB||e.isDefaultPrevented()||(t=this.uiDialog.find(":tabbable"),n=t.filter(":first"),i=t.filter(":last"),e.target!==i[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){i.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault()))},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=C("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){C(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=C("<button type='button'></button>").button({label:C("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=C("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=C("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=C("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var r=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),C.isEmptyObject(e)||C.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(C.each(e,function(e,t){var n,i;t=C.isFunction(t)?{click:t,text:e}:t,t=C.extend({type:"button"},t),n=t.click,i={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,delete t.icons,"boolean"==typeof t.text&&delete t.text,C("<button></button>",t).button(i).appendTo(r.uiButtonSet).on("click",function(){n.apply(r.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var r=this,o=this.options;function s(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){r._addClass(C(this),"ui-dialog-dragging"),r._blockFrames(),r._trigger("dragStart",e,s(t))},drag:function(e,t){r._trigger("drag",e,s(t))},stop:function(e,t){var n=t.offset.left-r.document.scrollLeft(),i=t.offset.top-r.document.scrollTop();o.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:r.window},r._removeClass(C(this),"ui-dialog-dragging"),r._unblockFrames(),r._trigger("dragStop",e,s(t))}})},_makeResizable:function(){var o=this,s=this.options,e=s.resizable,t=this.uiDialog.css("position"),n="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,t){o._addClass(C(this),"ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",e,a(t))},resize:function(e,t){o._trigger("resize",e,a(t))},stop:function(e,t){var n=o.uiDialog.offset(),i=n.left-o.document.scrollLeft(),r=n.top-o.document.scrollTop();s.height=o.uiDialog.height(),s.width=o.uiDialog.width(),s.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=r?"+":"")+r,of:o.window},o._removeClass(C(this),"ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",e,a(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=C(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=C.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};C.each(e,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i,r=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:C("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=r.is(":data(ui-draggable)"))&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((i=r.is(":data(ui-resizable)"))&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=C(this);return C("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!C(e.target).closest(".ui-dialog").length||!!C(e.target).closest(".ui-datepicker").length},_createOverlay:function(){var t;this.options.modal&&(t=!0,this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=C("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var e;this.options.modal&&this.overlay&&((e=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==C.uiBackCompat&&C.widget("ui.dialog",C.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});C.ui.dialog;C.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=C.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){C.ui.ddmanager.droppables[e]=C.ui.ddmanager.droppables[e]||[],C.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=C.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){var n;"accept"===e?this.accept=C.isFunction(t)?t:function(e){return e.is(t)}:"scope"===e&&(n=C.ui.ddmanager.droppables[this.options.scope],this._splice(n),this._addToManager(t)),this._super(e,t)},_activate:function(e){var t=C.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=C.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=C.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=C.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var n=e||C.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=C(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&re(n,C.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var re=C.ui.intersect=function(e,t,n,i){if(!t.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,s=r+e.helperProportions.width,a=o+e.helperProportions.height,l=t.offset.left,c=t.offset.top,u=l+t.proportions().width,h=c+t.proportions().height;switch(n){case"fit":return l<=r&&s<=u&&c<=o&&a<=h;case"intersect":return l<r+e.helperProportions.width/2&&s-e.helperProportions.width/2<u&&c<o+e.helperProportions.height/2&&a-e.helperProportions.height/2<h;case"pointer":return oe(i.pageY,c,t.proportions().height)&&oe(i.pageX,l,t.proportions().width);case"touch":return(c<=o&&o<=h||c<=a&&a<=h||o<c&&h<a)&&(l<=r&&r<=u||l<=s&&s<=u||r<l&&u<s);default:return!1}};function oe(e,t,n){return t<=e&&e<t+n}!(C.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,r=C.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(i=0;i<s.length;i++)if(s[i]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],t),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,t){var n=!1;return C.each((C.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&re(e,this,this.options.tolerance,t)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||C.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,s){o.options.refreshPositions&&C.ui.ddmanager.prepareOffsets(o,s),C.each(C.ui.ddmanager.droppables[o.options.scope]||[],function(){var e,t,n,i,r;this.options.disabled||this.greedyChild||!this.visible||(r=!(i=re(o,this,this.options.tolerance,s))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return C(this).droppable("instance").options.scope===t})).length&&((e=C(n[0]).droppable("instance")).greedyChild="isover"===r)),e&&"isover"===r&&(e.isover=!1,e.isout=!0,e._out.call(e,s)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,s),e&&"isout"===r&&(e.isout=!1,e.isover=!0,e._over.call(e,s)))})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||C.ui.ddmanager.prepareOffsets(e,t)}})!==C.uiBackCompat&&C.widget("ui.droppable",C.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});C.ui.droppable,C.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=C("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(t.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=C("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),C.widget("ui.selectable",C.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=C(i.element[0]).offset(),i.selectees=C(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var e=C(this),t=e.offset(),n={left:t.left-i.elementPos.left,top:t.top-i.elementPos.top};C.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=C("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(n){var i=this,e=this.options;this.opos=[n.pageX,n.pageY],this.elementPos=C(this.element[0]).offset(),this.options.disabled||(this.selectees=C(e.filter,this.element[0]),this._trigger("start",n),C(e.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=C.data(this,"selectable-item");e.startselected=!0,n.metaKey||n.ctrlKey||(i._removeClass(e.$element,"ui-selected"),e.selected=!1,i._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))}),C(n.target).parents().addBack().each(function(){var e,t=C.data(this,"selectable-item");if(t)return e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected"),i._removeClass(t.$element,e?"ui-unselecting":"ui-selected")._addClass(t.$element,e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var e,r=this,o=this.options,s=this.opos[0],a=this.opos[1],l=i.pageX,c=i.pageY;return l<s&&(e=l,l=s,s=e),c<a&&(e=c,c=a,a=e),this.helper.css({left:s,top:a,width:l-s,height:c-a}),this.selectees.each(function(){var e=C.data(this,"selectable-item"),t=!1,n={};e&&e.element!==r.element[0]&&(n.left=e.left+r.elementPos.left,n.right=e.right+r.elementPos.left,n.top=e.top+r.elementPos.top,n.bottom=e.bottom+r.elementPos.top,"touch"===o.tolerance?t=!(n.left>l||n.right<s||n.top>c||n.bottom<a):"fit"===o.tolerance&&(t=n.left>s&&n.right<l&&n.top>a&&n.bottom<c),t?(e.selected&&(r._removeClass(e.$element,"ui-selected"),e.selected=!1),e.unselecting&&(r._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1),e.selecting||(r._addClass(e.$element,"ui-selecting"),e.selecting=!0,r._trigger("selecting",i,{selecting:e.element}))):(e.selecting&&((i.metaKey||i.ctrlKey)&&e.startselected?(r._removeClass(e.$element,"ui-selecting"),e.selecting=!1,r._addClass(e.$element,"ui-selected"),e.selected=!0):(r._removeClass(e.$element,"ui-selecting"),e.selecting=!1,e.startselected&&(r._addClass(e.$element,"ui-unselecting"),e.unselecting=!0),r._trigger("unselecting",i,{unselecting:e.element}))),e.selected&&(i.metaKey||i.ctrlKey||e.startselected||(r._removeClass(e.$element,"ui-selected"),e.selected=!1,r._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,r._trigger("unselecting",i,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,C(".ui-unselecting",this.element[0]).each(function(){var e=C.data(this,"selectable-item");n._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1,e.startselected=!1,n._trigger("unselected",t,{unselected:e.element})}),C(".ui-selecting",this.element[0]).each(function(){var e=C.data(this,"selectable-item");n._removeClass(e.$element,"ui-selecting")._addClass(e.$element,"ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,n._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),C.widget("ui.selectmenu",[C.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=C()},_drawButton:function(){var e,t=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=C("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=C("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t._rendered||t._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=C("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=C("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,t){e.preventDefault(),i._setSelection(),i._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){var n=t.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",e,{item:n}),i.isOpen||i._select(n,e)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(C.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var t=C("<span>");return this._setText(t,e.label),this._addClass(t,"ui-selectmenu-text"),t},_renderMenu:function(i,e){var r=this,o="";C.each(e,function(e,t){var n;t.optgroup!==o&&(n=C("<li>",{text:t.optgroup}),r._addClass(n,"ui-selectmenu-optgroup","ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),n.appendTo(i),o=t.optgroup),r._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var n=C("<li>"),i=C("<div>",{title:t.element.attr("title")});return t.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(i,t.label),n.append(i).appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(C(e.target).closest(".ui-selectmenu-menu, #"+C.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case C.ui.keyCode.TAB:case C.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case C.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case C.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case C.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case C.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case C.ui.keyCode.LEFT:this._move("prev",e);break;case C.ui.keyCode.RIGHT:this._move("next",e);break;case C.ui.keyCode.HOME:case C.ui.keyCode.PAGE_UP:this._move("first",e);break;case C.ui.keyCode.END:case C.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){var n;"icons"===e&&(n=this.button.find("span.ui-icon"),this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return(e=e&&(e.jquery||e.nodeType?C(e):this.document.find(e).eq(0)))&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var n=this,i=[];e.each(function(e,t){i.push(n._parseOption(C(t),e))}),this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),C.widget("ui.slider",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t=this.options,n=this.element.find(".ui-slider-handle"),i=[],r=t.values&&t.values.length||1;for(n.length>r&&(n.slice(r).remove(),n=n.slice(0,r)),e=n.length;e<r;e++)i.push("<span tabindex='0'></span>");this.handles=n.add(C(i.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){C(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:C.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=C("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var t,n,i,r,o,s,a,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(n-l.values(e));(t<i||i===t&&(e===l._lastChangedValue||l.values(e)===c.min))&&(i=t,r=C(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),s=r.offset(),a=!C(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:e.pageX-s.left-r.width()/2,top:e.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r="horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),o=r/t;return 1<o&&(o=1),o<0&&(o=0),"vertical"===this.orientation&&(o=1-o),n=this._valueMax()-this._valueMin(),i=this._valueMin()+o*n,this._trimAlignValue(i)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),o[t]=n),n!==r&&!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,i,r;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!C.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,i=e,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,t){var n,i=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),C.isArray(this.options.values)&&(i=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=i-1;0<=n;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=0<n?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,e,i,r,o=this.options.range,s=this.options,a=this,l=!this._animateOff&&s.animate,c={};this._hasMultipleValues()?this.handles.each(function(e){n=(a.values(e)-a._valueMin())/(a._valueMax()-a._valueMin())*100,c["horizontal"===a.orientation?"left":"bottom"]=n+"%",C(this).stop(1,1)[l?"animate":"css"](c,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===e&&a.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===e&&a.range[l?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===e&&a.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===e&&a.range[l?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(e=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(e-i)/(r-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var t,n,i,r=C(e.target).data("ui-slider-handle-index");switch(e.keyCode){case C.ui.keyCode.HOME:case C.ui.keyCode.END:case C.ui.keyCode.PAGE_UP:case C.ui.keyCode.PAGE_DOWN:case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(C(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(i=this.options.step,t=n=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case C.ui.keyCode.HOME:n=this._valueMin();break;case C.ui.keyCode.END:n=this._valueMax();break;case C.ui.keyCode.PAGE_UP:n=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:if(t===this._valueMax())return;n=this._trimAlignValue(t+i);break;case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(t===this._valueMin())return;n=this._trimAlignValue(t-i)}this._slide(e,r,n)},keyup:function(e){var t=C(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),this._removeClass(C(e.target),null,"ui-state-active"))}}}),C.widget("ui.sortable",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return t<=e&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),C.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),C(e.target).parents().each(function(){if(C.data(this,r.widgetName+"-item")===r)return n=C(this),!1}),C.data(e.target,r.widgetName+"-item")===r&&(n=C(e.target)),!!n&&(!(this.options.handle&&!t&&(C(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},C.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=C("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return C.ui.ddmanager&&(C.ui.ddmanager.current=this),C.ui.ddmanager&&!o.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n,i,r,o=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&C.ui.ddmanager&&!o.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(i=(n=this.items[t]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||C.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&C.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),C.ui.ddmanager&&C.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var n,i,r,o;if(e)return C.ui.ddmanager&&!this.options.dropBehaviour&&C.ui.ddmanager.drop(this,e),this.options.revert?(i=(n=this).placeholder.offset(),o={},(r=this.options.axis)&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,C(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp(new C.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),C.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?C(this.domPosition.prev).after(this.currentItem):C(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},C(e).each(function(){var e=(C(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(C(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||a<i+c&&i+c<l,d="y"===this.options.axis||o<t+u&&t+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!i||!r)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,r,o=[],s=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(n=(i=C(a[t],this.document[0])).length-1;0<=n;n--)(r=C.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push([C.isFunction(r.options.items)?r.options.items.call(r.element):C(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function l(){o.push(this)}for(s.push([C.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):C(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=s.length-1;0<=t;t--)s[t][0].each(l);return C(o)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=C.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,i,r,o,s,a,l,c=this.items,u=[[C.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):C(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(t=h.length-1;0<=t;t--)for(n=(i=C(h[t],this.document[0])).length-1;0<=n;n--)(r=C.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([C.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):C(r.options.items,r.element),r]),this.containers.push(r));for(t=u.length-1;0<=t;t--)for(o=u[t][1],n=0,l=(s=u[t][0]).length;n<l;n++)(a=C(s[n])).data(this.widgetName+"-item",o),c.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(n=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?C(this.options.toleranceElement,n.item):n.item,e||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=C("<"+e+">",n.document[0]);return n._addClass(t,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(t,"ui-sortable-helper"),"tbody"===e?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),C("<tr>",n.document[0]).appendTo(t)):"tr"===e?n._createTrPlaceholder(n.currentItem,t):"img"===e&&t.attr("src",n.currentItem.attr("src")),i||t.css("visibility","hidden"),t},update:function(e,t){i&&!r.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=C(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(e,t){var n=this;e.children().each(function(){C("<td>&#160;</td>",n.document[0]).attr("colspan",C(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){for(var t,n,i,r,o,s,a,l,c,u=null,h=null,d=this.containers.length-1;0<=d;d--)if(!C.contains(this.currentItem[0],this.containers[d].element[0]))if(this._intersectsWith(this.containers[d].containerCache)){if(u&&C.contains(this.containers[d].element[0],u.element[0]))continue;u=this.containers[d],h=d}else this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",e,this._uiHash(this)),this.containers[d].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(n=1e4,i=null,r=(l=u.floating||this._isFloating(this.currentItem))?"left":"top",o=l?"width":"height",c=l?"pageX":"pageY",t=this.items.length-1;0<=t;t--)C.contains(this.containers[h].element[0],this.items[t].item[0])&&this.items[t].item[0]!==this.currentItem[0]&&(s=this.items[t].item.offset()[r],a=!1,e[c]-s>this.items[t][o]/2&&(a=!0),Math.abs(e[c]-s)<n&&(n=Math.abs(e[c]-s),i=this.items[t],this.direction=a?"up":"down"));if(!i&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));i?this._rearrange(e,i,null,!0):this._rearrange(e,null,this.containers[h].element,!0),this._trigger("change",e,this._uiHash()),this.containers[h]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(e){var t=this.options,n=C.isFunction(t.helper)?C(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||C("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!t.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!t.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),C.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&C.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=C(i.containment)[0],t=C(i.containment).offset(),n="hidden"!==C(e).css("overflow"),this.containment=[t.left+(parseInt(C(e).css("borderLeftWidth"),10)||0)+(parseInt(C(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(C(e).css("borderTopWidth"),10)||0)+(parseInt(C(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(C(e).css("borderLeftWidth"),10)||0)-(parseInt(C(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(C(e).css("borderTopWidth"),10)||0)-(parseInt(C(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(e){var t,n,i=this.options,r=e.pageX,o=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(t=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=!this.containment||t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1],n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=!this.containment||n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0])),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,n,i){return function(e){i._trigger(t,e,n._uiHash(n))}}for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===C.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||C([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}});function se(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}C.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super(),r=this.element;return C.each(["min","max","step"],function(e,t){var n=r.attr(t);null!=n&&n.length&&(i[t]=n)}),i},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var t;function n(){this.element[0]===C.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=t,this._delay(function(){this.previous=t}))}t=this.element[0]===C.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,C(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(C(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,C(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var t=this.options,n=C.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,t.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?C.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t=this.options,n=null!==t.min?t.min:0,i=e-n;return e=n+(i=Math.round(i/t.step)*t.step),e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n,i,r;if("culture"===e||"numberFormat"===e)return n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:se(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:se(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:se(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:se(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:se(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());se(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==C.uiBackCompat&&C.widget("ui.spinner",C.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var ae;C.ui.spinner;C.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(ae=/#.*$/,function(e){var t=e.href.replace(ae,""),n=location.href.replace(ae,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return 1<e.hash.length&&t===n}),_create:function(){var t=this,e=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,e.collapsible),this._processTabs(),e.active=this._initialActive(),C.isArray(e.disabled)&&(e.disabled=C.unique(e.disabled.concat(C.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=C(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var n=this.options.active,e=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(e,t){if(C(t).attr("aria-controls")===i)return n=e,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!e&&0),!e&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):C()}},_tabKeydown:function(e){var t=C(C.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(t),i=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:n++;break;case C.ui.keyCode.UP:case C.ui.keyCode.LEFT:i=!1,n--;break;case C.ui.keyCode.END:n=this.anchors.length-1;break;case C.ui.keyCode.HOME:n=0;break;case C.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case C.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===C.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===C.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===C.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){var n=this.tabs.length-1;for(;-1!==C.inArray((n<e&&(e=0),e<0&&(e=n),e),this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=C.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!C.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=C()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=C()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){C(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){C(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return C("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=C(),this.anchors.each(function(e,t){var n,i,r,o=C(t).uniqueId().attr("id"),s=C(t).closest("li"),a=s.attr("aria-controls");l._isLocal(t)?(r=(n=t.hash).substring(1),i=l.element.find(l._sanitizeSelector(n))):(n="#"+(r=s.attr("aria-controls")||C({}).uniqueId()[0].id),(i=l.element.find(n)).length||(i=l._createPanel(r)).insertAfter(l.panels[e-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":r,"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return C("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var t,n,i;for(C.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),i=0;n=this.tabs[i];i++)t=C(n),!0===e||-1!==C.inArray(i,e)?(t.attr("aria-disabled","true"),this._addClass(t,null,"ui-state-disabled")):(t.removeAttr("aria-disabled"),this._removeClass(t,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&C.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,t=this.element.parent();"fill"===e?(n=t.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=C(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=C(this).outerHeight(!0)}),this.panels.each(function(){C(this).height(Math.max(0,n-C(this).innerHeight()+C(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,C(this).height("").height())}).height(n))},_eventHandler:function(e){var t=this.options,n=this.active,i=C(e.currentTarget).closest("li"),r=i[0]===n[0],o=r&&t.collapsible,s=o?C():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):C(),l={oldTab:n,oldPanel:a,newTab:o?C():i,newPanel:s};e.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!o&&this.tabs.index(i),this.active=r?C():i,this.xhr&&this.xhr.abort(),a.length||s.length||C.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),e),this._toggle(e,l))},_toggle:function(e,t){var n=this,i=t.newPanel,r=t.oldPanel;function o(){n.running=!1,n._trigger("activate",e,t)}function s(){n._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,o):(i.show(),o())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){n._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),s()),r.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&r.length?t.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===C(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var t,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),t=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:C.noop}))},_findActive:function(e){return!1===e?C():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+C.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){C.data(this,"ui-tabs-destroy")?C(this).remove():C(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=C(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var e=this.options.disabled;!1!==e&&(e=void 0!==n&&(n=this._getIndex(n),C.isArray(e)?C.map(e,function(e){return e!==n?e:null}):C.map(this.tabs,function(e,t){return t!==n?t:null})),this._setOptionDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==C.inArray(e,t))return;t=C.isArray(t)?C.merge([e],t).sort():[e]}this._setOptionDisabled(t)}},load:function(e,i){e=this._getIndex(e);function r(e,t){"abort"===t&&o.panels.stop(!1,!0),o._removeClass(n,"ui-tabs-loading"),s.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr}var o=this,n=this.tabs.eq(e),t=n.find(".ui-tabs-anchor"),s=this._getPanelForTab(n),a={tab:n,panel:s};this._isLocal(t[0])||(this.xhr=C.ajax(this._ajaxSettings(t,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){s.html(e),o._trigger("load",i,a),r(n,t)},1)}).fail(function(e,t){setTimeout(function(){r(e,t)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,t){return r._trigger("beforeLoad",n,C.extend({jqXHR:e,ajaxSettings:t},i))}}},_getPanelForTab:function(e){var t=C(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),!1!==C.uiBackCompat&&C.widget("ui.tabs",C.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});C.ui.tabs;C.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=C(this).attr("title")||"";return C("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",C.trim(n.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),i=C.inArray(t,n);-1!==i&&n.splice(i,1),e.removeData("ui-tooltip-id"),(n=C.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=C("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=C([])},_setOption:function(e,t){var n=this;this._super(e,t),"content"===e&&C.each(this.tooltips,function(e,t){n._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var i=this;C.each(this.tooltips,function(e,t){var n=C.Event("blur");n.target=n.currentTarget=t.element[0],i.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=C(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=C(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=C([])},open:function(e){var n=this,t=C(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=C(this);t.data("ui-tooltip-open")&&((e=C.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,n){var e,i=this.options.content,r=this,o=n?n.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(n,t,i);(e=i.call(t[0],function(e){r._delay(function(){t.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,t,e))})}))&&this._open(n,t,e)},_open:function(e,t,n){var i,r,o,s,a=C.extend({},this.options.position);function l(e){a.of=e,r.is(":hidden")||r.position(a)}n&&((i=this._find(t))?i.tooltip.find(".ui-tooltip-content").html(n):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),i=this._tooltip(t),r=i.tooltip,this._addDescribedBy(t,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(s=C("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):r.position(C.extend({of:t},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){r.is(":visible")&&(l(a.of),clearInterval(o))},C.fx.interval)),this._trigger("open",e,{tooltip:r})))},_registerCloseHandlers:function(e,n){var t={keyup:function(e){var t;e.keyCode===C.ui.keyCode.ESCAPE&&((t=C.Event(e)).currentTarget=n[0],this.close(t,!0))}};n[0]!==this.element[0]&&(t.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(t.mouseleave="close"),e&&"focusin"!==e.type||(t.focusout="close"),this._on(!0,n,t)},close:function(e){var t,n=this,i=C(e?e.currentTarget:this.element),r=this._find(i);r?(t=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){n._removeTooltip(C(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&C.each(this.parents,function(e,t){C(t.element).attr("title",t.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:t}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(e){var t=C("<div>").attr("role","tooltip"),n=C("<div>").appendTo(t),i=t.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(t,"ui-tooltip","ui-widget ui-widget-content"),t.appendTo(this._appendTo(e)),this.tooltips[i]={element:e,tooltip:t}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var r=this;C.each(this.tooltips,function(e,t){var n=C.Event("blur"),i=t.element;n.target=n.currentTarget=i[0],r.close(n,!0),C("#"+e).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==C.uiBackCompat&&C.widget("ui.tooltip",C.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});C.ui.tooltip});
//# sourceMappingURL=core.min.js.map
