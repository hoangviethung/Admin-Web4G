!function t(e,a,i){function n(o,l){if(!a[o]){if(!e[o]){var c="function"==typeof require&&require;if(!l&&c)return c(o,!0);if(s)return s(o,!0);var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r}var d=a[o]={exports:{}};e[o][0].call(d.exports,(function(t){return n(e[o][1][t]||t)}),d,d.exports,t,e,a,i)}return a[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(t,e,a){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l=function(){function t(e){i(this,t),o(this,"selector",void 0),o(this,"titleList",void 0),o(this,"contentList",void 0),this.selector=document.querySelector(e),this.selector&&(this.titleList=this.selector.querySelectorAll("[toggle-for]"),this.contentList=this.selector.querySelectorAll("[tab-id]"),this.init())}return s(t,[{key:"runTabWhenClicked",value:function(){var t=this;Array.prototype.forEach.call(this.titleList,(function(e,a){e.addEventListener("click",(function(i){i.preventDefault();var n=e.attributes["toggle-for"].value,s=t.selector.querySelector("[tab-id='".concat(n,"']"));e.classList.add("active"),Array.prototype.forEach.call(t.titleList,(function(t,e){e!=a&&t.classList.remove("active")})),Array.prototype.forEach.call(t.contentList,(function(t){t.attributes["tab-id"].value!=n&&(t.style.display="none",t.classList.remove("show"))})),s.style.display="block",setTimeout((function(){s.classList.add("show")}),50)}))}))}},{key:"activeFirstTab",value:function(){this.titleList[0].click()}},{key:"init",value:function(){this.runTabWhenClicked(),this.activeFirstTab()}}]),t}(),c=function(){function t(e){i(this,t),o(this,"selector",void 0),o(this,"titleList",void 0),o(this,"contentList",void 0),this.selector=document.querySelector(e),this.selector&&(this.titleList=this.selector.querySelectorAll("[subtab-toggle-for]"),this.contentList=this.selector.querySelectorAll("[sub-tab-id]"),this.init())}return s(t,[{key:"runTabWhenClicked",value:function(){var t=this;Array.prototype.forEach.call(this.titleList,(function(e,a){e.addEventListener("click",(function(i){i.preventDefault();var n=e.attributes["subtab-toggle-for"].value,s=t.selector.querySelector("[sub-tab-id='".concat(n,"']"));e.classList.add("active"),Array.prototype.forEach.call(t.titleList,(function(t,e){e!=a&&t.classList.remove("active")})),Array.prototype.forEach.call(t.contentList,(function(t){t.attributes["sub-tab-id"].value!=n&&(t.style.display="none",t.classList.remove("show"))})),s.style.display="block",setTimeout((function(){s.classList.add("show")}),50)}))}))}},{key:"activeFirstTab",value:function(){this.titleList[0].click()}},{key:"init",value:function(){this.runTabWhenClicked(),this.activeFirstTab()}}]),t}();function r(){var t,e,a,i;$(".btn-popup[fancybox=fancybox-notification]").on("click",(function(){t=$(this).attr("dataId"),a=$(this).attr("dataFieldName"),i=$(this).attr("dataUrl"),e=$(this).attr("fancyboxId");$("body").append('<div class="modal-POPUP fancybox-content" id="fancybox-notification"><div class="title-modal"><h5>Thông báo</h5><p>Web4gsolutions xin thông báo</p></div><div class="content-modal"><p>Bạn có chắc chắn xóa ?</p></div><div class="list-button"><div class="item"><button class="btn btn-pill btn-danger" data-fancybox-close>Hủy</button></div><div class="item"><button class="btn btn-pill btn-success submit-delete">Chấp nhận</button></div></div></div>'),$.fancybox.open({src:e,type:"inline",opts:{hash:!1,closeExisting:!0,beforeShow:function(){$(".submit-delete").on("click",(function(){var e={};e[a]=t,$.ajax({type:"POST",url:i,data:e,success:function(t){200===t.Code?location.reload():alert("Xóa thất bại")}})}))},afterClose:function(){$(e).remove()}}})})),$('.btn-popup[fancybox="fancybox-forms"]').on("click",(function(){var t={id:$(this).attr("dataiD"),name:$(this).attr("dataFieldName")};i=$(this).attr("dataUrl"),e=$(this).attr("fancyboxId");var a=$(this).parents("td").siblings("td[data-value]").attr("data-value");$.ajax({type:"GET",url:i,beforeSend:function(){$(".block-loading").addClass("active"),$("body").addClass("no-scroll")},error:function(){},success:function(n){$("body").append(n);var s=$(".modal-POPUP form").removeData("validator").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(s),$("#fancybox-forms .old-value input").val(a),$.fancybox.open({src:e,type:"inline",opts:{hash:!1,closeExisting:!0,beforeShow:function(){$(".submit-form").on("click",(function(e){e.preventDefault(),$(".modal-POPUP form").valid();var a=function(t,e){var a=new FormData(t);return a.append(e.name,e.id),a}(document.querySelector(".modal-POPUP form"),t);!0===$(".modal-POPUP form").valid()?$.ajax({type:"POST",url:i,data:a,processData:!1,contentType:!1,success:function(t){200===t.Code?location.reload():alert(t.Message)}}):console.log("Không được request lên url vì valid")}))},afterClose:function(){$("#fancybox-forms").remove()}}})},complete:function(){$(".block-loading").removeClass("active"),$("body").removeClass("no-scroll")}})}))}function d(){var t={container:[".grapes-html"],fromElement:!0,height:"100%",width:"100%",noticeOnUnload:!1,assetManager:!1,storageManager:!1,panels:{defaults:[]},forceClass:!1,draggable:!1,canvas:{styles:[window.location.origin+"/Content/resources/css/core.min.css",window.location.origin+"/Content/resources/css/main.min.css"],scripts:[window.location.origin+"/Content/resources/js/core.min.js",window.location.origin+"/Content/resources/js/main.min.js"]}},e=grapesjs.init(t);function a(){$(".popup__grapesJS").removeClass("show"),$(".main__inner").removeClass("overlay"),$("body").removeClass("no-scroll"),$(".btn-submit-grapesJS").unbind()}function i(){$(".popup__TempInput").removeClass("show"),$(".main__inner").removeClass("overlay"),$("body").removeClass("no-scroll"),$(".btn-submit-TempInput").unbind()}document.querySelectorAll(".ck-editor").forEach((function(t){var n=t.getAttribute("id"),s=CKEDITOR.replace(n,{height:500,allowedContent:!0,filebrowserBrowseUrl:"/Admin/HomeAdmin/CkfinderPopup"});s.ui.addButton("grapesJS",{label:"Chỉnh sửa HTML",command:"grapesJS",toolbar:"insert",icon:"../assets/images/icons/html.svg"}),s.ui.addButton("TempInput",{label:"Chỉnh sửa HTML Input",command:"TempInput",toolbar:"insert",icon:"../assets/images/icons/temp.svg"}),s.addCommand("grapesJS",{exec:function(t){$(".main__inner").addClass("overlay"),$(".popup__grapesJS").addClass("show"),$("body").addClass("no-scroll");var i=t.getData();e.setComponents(i),$(".btn-submit-grapesJS").on("click",(function(i){i.preventDefault();var n=e.getHtml();t.setData(n),a()}))}}),s.addCommand("TempInput",{exec:function(t){$(".main__inner").addClass("overlay"),$(".popup__TempInput").addClass("show"),$("body").addClass("no-scroll"),$(".btn-submit-TempInput").on("click",(function(e){e.preventDefault();var a=new FormData;$(".popup__TempInput .form-group input").each((function(){var t=$(this).attr("name"),e=$(this).val();a.append(t,e)})),$(".popup__TempInput form .form-group textarea").each((function(){var t=$(this).attr("name"),e=$(this).val();a.append(t,e)}));var n=a.get("img1"),s=a.get("img2"),o=a.get("img3"),l=a.get("img4"),c="<div class='__main--detail--news'><div class='img-for-detail-post'> <img src='"+n+"' alt='something'></div><div class='detail-content--post'><p>"+a.get("text1")+"</p></div><div class='img-for-detail-post-2'><div class='row'><div class='col-8'><img src='"+s+"' alt='something'></div><div class='col-4'><img src='"+o+"' alt='something'><img src='"+l+"' alt='something'></div></div></div><div class='detail-content--post'><p>"+a.get("text2")+"</p></div></div>";t.setData(c),i()}))}})})),$(".btn-close-grapesJS").on("click",(function(t){a()})),$(".btn-close-TempInput").on("click",(function(t){i()}))}function u(t,e,a){var i;return function(){var n=this,s=arguments,o=function(){i=null,a||t.apply(n,s)},l=a&&!i;clearTimeout(i),i=setTimeout(o,e),l&&t.apply(n,s)}}document.addEventListener("DOMContentLoaded",(function(){var t,e,a,i,n,s,o,h,p;$("._select-custom").select2({tags:!0,theme:"classic"}),function(){var t=$("#notify-json").val();if(""!=t){var e=JSON.parse(t);200===Number(e.Code)?$.notify({icon:"glyphicon glyphicon-warning-sign",title:"Web4gsolutions xin thông báo: ",message:e.Message,url:"/",target:"_blank"},{element:"body",position:null,type:"success",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'}):$.notify({icon:"glyphicon glyphicon-warning-sign",title:"Web4gsolutions xin thông báo: ",message:e.Message,url:"/",target:"_blank"},{element:"body",position:null,type:"danger",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}}(),jQuery("img.svg").each((function(){var t=jQuery(this),e=t.attr("id"),a=t.attr("class"),i=t.attr("src");jQuery.get(i,(function(i){var n=jQuery(i).find("svg");void 0!==e&&(n=n.attr("id",e)),void 0!==a&&(n=n.attr("class",a+" replaced-svg")),!(n=n.removeAttr("xmlns:a")).attr("viewBox")&&n.attr("height")&&n.attr("width")&&n.attr("viewBox","0 0 "+n.attr("height")+" "+n.attr("width")),t.replaceWith(n)}),"xml")})),t=window.location.pathname,document.cookie.indexOf("SiteId")>=0?document.cookie.split("; ").forEach((function(e){0===e.indexOf("SiteId")&&($('[data-siteid="'+e.split("=")[1]+'"]').addClass("acitve"),$('[data-siteid="'+e.split("=")[1]+'"]').find(".list-link-level--1").slideDown(),$('[data-siteid="'+e.split("=")[1]+'"] a').each((function(){$(this).attr("href").includes(t)&&($(this).parents(".list-link-level--2").slideDown(),$(this).parents(".list-link-level--2").siblings(".name-link-level--1").addClass("active"))})))})):$(".aside-list a").each((function(){$(this).attr("href").includes(t)&&($(this).parents(".aside-item").addClass("active"),$(this).parents(".list-link").slideToggle())})),$(".item-click-dropdown").on("click",(function(){$(this).siblings(".content-dropdown").slideToggle()})),$(".aside-list .aside-item").children(".list-link").addClass("list-link-level--1"),$(".aside-list .aside-item").children(".name").addClass("name-link-level--1"),$(".aside-list .aside-item .list-link-level--1").children(".link").addClass("link-level--1"),$(".aside-list .aside-item .list-link-level--1").find(".list-link").addClass("list-link-level--2"),$(".aside-list .aside-item .link-level--1").children(".name").addClass("name-link-level--2"),$(".aside-list .aside-item .list-link-level--2").children(".link").addClass("link-level--2"),$(".aside-list .aside-item .name-link-level--1").on("click",(function(){var t=$(".aside-list .aside-item .name-link-level--1").not(this);$(this).siblings(".list-link").slideToggle(),$(this).toggleClass("active"),t.siblings(".list-link").slideUp(),t.removeClass("active"),$(".aside-list .aside-item .list-link-level--2").slideUp(),$(".aside-list .aside-item .name-link-level--2").removeClass("active")})),$(".aside-list .aside-item .name-link-level--2").on("click",(function(){var t=$(".aside-list .aside-item .name-link-level--2").not(this);$(this).siblings(".list-link").slideToggle(),$(this).toggleClass("active"),t.siblings(".list-link").slideUp(),t.removeClass("active")})),$(window).width()<1024&&$("body, aside").addClass("active"),$(".block-logo .button-close").on("click",(function(){$(window).width()>1024&&($(this).toggleClass("active"),$("body, aside").toggleClass("active"))})),r(),$('._checkbox-custom input[type="checkbox"]').on("change",(function(){var t=$(this).attr("data-url"),e=$(this).attr("IsActive");"false"===$(this).attr("IsActive")?(e="true",$(this).attr("IsActive","true")):(e="false",$(this).attr("IsActive","false")),$.ajax({type:"POST",url:t,data:{IsActive:e}})})),$(".role-row").each((function(){var t=$(this);t.find("input[type=checkbox]").length>0&&t.addClass("role-checkbox")})),$(".role-checkbox").each((function(){var t=$(this),e=t.find(".check-all"),a=t.find(".view"),i=t.find(".add"),n=t.find(".edit"),s=t.find(".delete"),o=function(){var t={};return t.checkAll=e[0].checked,a.length>0&&(t.view=a[0].checked),i.length>0&&(t.add=i[0].checked),n.length>0&&(t.edit=n[0].checked),s.length>0&&(t.delete=s[0].checked),t},l=!0;a.length>0&&(l=l&&a[0].checked),i.length>0&&(l=l&&i[0].checked),n.length>0&&(l=l&&n[0].checked),s.length>0&&(l=l&&s[0].checked),l&&(e.checked=!0,e.attr("checked","checked")),e.on("change",(function(t){Object.keys(o()).forEach((function(e){t.currentTarget.checked?("view"===e&&(a.attr("checked","checked"),a[0].checked=!0),"add"===e&&(i.attr("checked","checked"),i[0].checked=!0),"edit"===e&&(n.attr("checked","checked"),n[0].checked=!0),"delete"===e&&(s.attr("checked","checked"),s[0].checked=!0)):("view"===e&&(a.removeAttr("checked"),a[0].checked=!1),"add"===e&&(i.removeAttr("checked"),i[0].checked=!1),"edit"===e&&(n.removeAttr("checked"),n[0].checked=!1),"delete"===e&&(s.removeAttr("checked"),s[0].checked=!1))}))})),t.find("input[type=checkbox]").not(".check-all").on("change",(function(t){var a=o(),i=!0;Object.values(a).forEach((function(t,e){0!==e&&(i=i&&t)})),i?(e.attr("checked","checked"),e[0].checked=!0):(e.removeAttr("checked"),e[0].checked=!1)}))})),$(".check-all[data-checkbox-group]").each((function(t){var e=$(this),a=e.attr("data-checkbox-group"),i=$("[data-checkbox-group="+a+"]");e.on("change",(function(t){t.currentTarget.checked?i.each((function(){$(this).attr("checked","checked"),$(this)[0].checked=!0})):i.each((function(){$(this).removeAttr("checked","checked"),$(this)[0].checked=!1}))}))})),$("[data-checkbox-group]").each((function(){var t=$(this);t.on("change",(function(){var e=0,a=t.attr("data-checkbox-group"),i=$("[data-checkbox-group="+a+"]").not(".check-all"),n=i.length;i.each((function(){!0===$(this)[0].checked&&e++})),$(".check-all[data-checkbox-group="+a+"]")[0].checked=e===n}))})),function(){var t=window.location.protocol+"//"+window.location.host+"/";$(".url-default span.input-group-text").html(t);var e=$(".chooseUrlPage option:selected").attr("data-url");e&&e.length>0&&$(".url-default span.input-group-text").html(t+e.slice(1)),$(".chooseUrlPage").on("change",(function(){var e=$(".chooseUrlPage option:selected").attr("data-url");$(".url-default").siblings("input").attr("data-url",e),$(".url-default span.input-group-text").html(t+e.slice(1))}))}(),$(".table-input table thead tr th .submit").on("click",(function(){$(this).parents("thead").siblings("tbody").find("tr").last()})),$("input[type=file]").on("change",(function(t){var e=$(this),a=t.originalEvent.srcElement.files[0].name,i=a.split(".")[a.split(".").length-1];"xls"!=i&&"xlsx"!=i?(e.parents(".file-upload").find(".file-upload-notice").html("Vui lòng chọn file Excel"),e.replaceWith(e.val("").clone(!0))):e.parents(".file-upload").find(".file-upload-notice").html(a)})),$(".btn-upload").on("click",(function(t){t.preventDefault();var e=$(this),a=e.attr("data-url"),i=e.parents(".file-upload").find("input[type=file]")[0].files[0],n=new FormData;n.append("files",i),$.ajax({url:a,type:"POST",data:n,cache:!1,contentType:!1,processData:!1,success:function(t,e,a){}})})),e=$("header").height(),a=$("aside").width(),i=$(".block-list-tab .list-tab").outerHeight(),$(".block-list-tab").css({"padding-top":i+"px"}),$(".list-tab").css({position:"absolute",top:"0px",left:"0px"}),window.addEventListener("scroll",(function(){$(".block-list-tab").offset(),window.scrollY,$(".list-tab").hasClass("fixed")?$(".list-tab").css({top:e+"px",left:a+"px"}):$(".list-tab").css({position:"absolute",top:"0px",left:"0px"})})),$('input[name="lock-language"]').length>0&&(n=$('input[name="lock-language"]').attr("data-lock"),!0===$('input[name="lock-language"]')[0].checked?$("[data-lock-language]").each((function(){if(n===$(this).attr("data-lock-language")){$(this).css({"pointer-events":"none",opacity:"0.5"}),$(this).find("input, textarea , select , checkbox").attr("readonly",!0);for(var t=0;t<$(this).find("input[type!='hidden']").length;t++){var e=$("[data-lock-language]").not(this).find("input[type!='hidden']")[t].value;$(this).find("input[type!='hidden']")[t].value=e}}else $(this).find("input, textarea , select , checkbox").attr("readonly",!0)})):$("[data-lock-language]").each((function(){n===$(this).attr("data-lock-language")?($(this).css({"pointer-events":"visible",opacity:"1"}),$(this).find("textarea , select , checkbox").val(""),$(this).find("input, textarea , select , checkbox").attr("readonly",!1)):$(this).find("input, textarea , select , checkbox").attr("readonly",!1)}))),$('input[name="lock-language"]').on("change",(function(){var t=$(this).attr("data-lock");!0===$(this)[0].checked?$("[data-lock-language]").each((function(){if(t===$(this).attr("data-lock-language")){$(this).css({"pointer-events":"none",opacity:"0.5"}),$(this).find("input, textarea , select , checkbox").attr("readonly",!0);for(var e=0;e<$(this).find("input[type!='hidden']").length;e++){var a=$("[data-lock-language]").not(this).find("input[type!='hidden']")[e].value;$(this).find("input[type!='hidden']")[e].value=a}}else $(this).find("input, textarea , select , checkbox").attr("readonly",!0)})):$("[data-lock-language]").each((function(){t===$(this).attr("data-lock-language")?($(this).css({"pointer-events":"visible",opacity:"1"}),$(this).find("textarea , select , checkbox").val(""),$(this).find("input, textarea , select , checkbox").attr("readonly",!1)):$(this).find("input, textarea , select , checkbox").attr("readonly",!1)}))})),s=$(".SEO input.title"),o=$(".SEO input.desc"),h=u((function(t){var e=$(".SEO input.title").val();$(".SEO .tab-content h3").html("".concat(e))}),2e3),p=u((function(t){var e=$(".SEO input.desc").val();$(".SEO .tab-content p.desc-subtab").html("".concat(e))}),2e3),s.keyup(h),o.keyup(p),$(".ck-editor")&&($("\x3c!-- POPUP GRAPESJS HERE !!!--\x3e<div class='popup__grapesJS'><div class='grapesJS__wrapper mb-3' style='height:500px ; width: 100%'><div class='grapes-html'></div></div><div class='btn btn-danger btn-close-grapesJS mb-3'>hủy bỏ</div><div class='btn btn-success btn-submit-grapesJS mb-3'>xác nhận</div></div>").insertAfter(".main__inner"),$("<div class='popup__TempInput'><form action=''><div class='form-row'><div class='form-group col-md-6'><input class='form-control' type='text' placeholder='Hình ảnh 1' name='img1'></div><div class='form-group col-md-6'><input class='form-control' type='text' placeholder='Hình ảnh 2' name='img2'></div></div><div class='form-row'><div class='form-group col-md-6'><input class='form-control' type='text' placeholder='Hình ảnh 3' name='img3'></div><div class='form-group col-md-6'><input class='form-control' type='text' placeholder='Hình ảnh 4' name='img4'></div></div><div class='form-row'><div class='form-group col-md-12'><textarea class='form-control' rows='3' placeholder='Nhập nội dung' name='text1'></textarea></div><div class='form-group col-md-12'><textarea name='text2' class='form-control' rows='3' placeholder='Nhập nội dung'></textarea></div></div></form><div class='btn btn-danger btn-close-TempInput mb-3 mr-3'>hủy bỏ</div><div class='btn btn-success btn-submit-TempInput mb-3'>xác nhận</div></div>").insertAfter(".main__inner")),d(),$("#table-sortable").sortable({stop:function(t,e){document.querySelectorAll("#table-sortable tr").forEach((function(t,e){$(t).children("td").eq(0).text(e+1)}))}});new l(".block-main .tab-container"),new c(".block-subTab .tab-container")})),window.addEventListener("scroll",(function(){}))},{}]},{},[1]);
//# sourceMappingURL=main.min.js.map
